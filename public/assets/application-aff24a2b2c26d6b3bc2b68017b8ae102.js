function AddToCart(t,e,i){$("#ItemsOrdered").append('<tr id="R'+OrderNum+'"><td>'+OrderNum+"</td><td>"+i+"</td><td>R"+e+'.00</td><td><a href = "#Cart" class="btn btn-primary" onClick="RemoveFromCart(\'R'+OrderNum+"','"+e+"')\">Remove from Cart</a></td></tr>"),OrderNum=Number(OrderNum)+1,OrderedItems.push(""+t),Total=Number(Total)+Number(e),$("#Total").empty(),$("#Total").append("<strong>Total: R"+Total+".00</strong>")}function RemoveFromCart(t,e){$("#"+t).hide("fast"),OrderedItems.splice(t,1),Total=Number(Total)-Number(e),$("#Total").empty(),$("#Total").append("<strong>Total: R"+Total+".00</strong>")}function GetMerch(t){var e="obelix/GetMerch.php?CompID="+t;$("#Merch").empty(),$.getJSON(e,function(t){$.each(t,function(t,e){$("#Merch").append('<div class="panel panel-default"><div class="panel-heading"><h4>'+e.Name+'</h4></div><div class="panel-body"><center><img src="BackEnd/'+e.URL+'" style="width:80%"/></center><br /><strong>Description:</strong><br />'+e.Description+'<br /><br /><strong style="float:Right">R'+e.Price+'.00</strong></div><div class="panel-footer"><a href = "#Cart" class="btn btn-default" onClick="AddToCart(\''+e.ID+"','"+e.Price+"','"+e.Name+"')\">Add to Cart</a></div></div>")})})}function RegisterCompany(){var t=$("#exampleInputEmail1").val(),e=$("#exampleInputPass1").val(),i=$("#exampleInputName1").val();$.post("obelix/NewCompany.php?Email="+t+"&Password="+e+"&CompanyName="+i,"json")}function Login(){var t=$("#exampleInputEmail2").val(),e=$("#exampleInputPass2").val(),i="obelix/GetAuthorisation.php?em="+t+"&Pass="+e;$.getJSON(i,function(t){$.each(t,function(t,e){Auth=String(e.Reply),"Approve"==Auth?window.location.href="BackEnd/index.php?ID="+e.ID:$("#LoginBody").append('<div class="alert alert-dismissable alert-danger"><strong>Incorrect Email or Password</strong></div>')})})}function AddToDatabase(){var t,e=$("#CartEmail").val();if($("#ApproveOrder").is(":checked")||""!=$("#CartEmail").val())for(t=0;t<OrderedItems.length;t++)$.post("../obelix/AddToDatabase.php?ID="+OrderedItems[t]+"&Email="+e,"json"),$.post("../obelix/NewOrder.php?Email="+e+"&Order="+OrderedItems[t],"json");else $("#CartNotify").empty(),$("#CartNotify").append("<center>Please confirm order before submitting</center>")}function RGBColor(t){this.ok=!1,"#"==t.charAt(0)&&(t=t.substr(1,6)),t=t.replace(/ /g,""),t=t.toLowerCase();var e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var i in e)t==i&&(t=e[i]);for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],a=0;a<n.length;a++){var o=n[a].re,r=n[a].process,s=o.exec(t);s&&(channels=r(s),this.r=channels[0],this.g=channels[1],this.b=channels[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var t=this.r.toString(16),e=this.g.toString(16),i=this.b.toString(16);return 1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),1==i.length&&(i="0"+i),"#"+t+e+i},this.getHelpXML=function(){for(var t=new Array,i=0;i<n.length;i++)for(var a=n[i].example,o=0;o<a.length;o++)t[t.length]=a[o];for(var r in e)t[t.length]=r;var s=document.createElement("ul");s.setAttribute("id","rgbcolor-examples");for(var i=0;i<t.length;i++)try{var l=document.createElement("li"),h=new RGBColor(t[i]),c=document.createElement("div");c.style.cssText="margin: 3px; border: 1px solid black; background:"+h.toHex()+"; color:"+h.toHex(),c.appendChild(document.createTextNode("test"));var u=document.createTextNode(" "+t[i]+" -> "+h.toRGB()+" -> "+h.toHex());l.appendChild(c),l.appendChild(u),s.appendChild(l)}catch(d){}return s}}!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function i(t){var e=t.length,i=ae.type(t);return"function"===i||ae.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t}function n(t,e,i){if(ae.isFunction(e))return ae.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return ae.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(de.test(e))return ae.filter(e,t,i);e=ae.filter(e,t)}return ae.grep(t,function(t){return ae.inArray(t,e)>=0!==i})}function a(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function o(t){var e=be[t]={};return ae.each(t.match(Ee)||[],function(t,i){e[i]=!0}),e}function r(){me.addEventListener?(me.removeEventListener("DOMContentLoaded",s,!1),t.removeEventListener("load",s,!1)):(me.detachEvent("onreadystatechange",s),t.detachEvent("onload",s))}function s(){(me.addEventListener||"load"===event.type||"complete"===me.readyState)&&(r(),ae.ready())}function l(t,e,i){if(void 0===i&&1===t.nodeType){var n="data-"+e.replace(Ie,"-$1").toLowerCase();if(i=t.getAttribute(n),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:Oe.test(i)?ae.parseJSON(i):i}catch(a){}ae.data(t,e,i)}else i=void 0}return i}function h(t){var e;for(e in t)if(("data"!==e||!ae.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function c(t,e,i,n){if(ae.acceptData(t)){var a,o,r=ae.expando,s=t.nodeType,l=s?ae.cache:t,h=s?t[r]:t[r]&&r;if(h&&l[h]&&(n||l[h].data)||void 0!==i||"string"!=typeof e)return h||(h=s?t[r]=U.pop()||ae.guid++:r),l[h]||(l[h]=s?{}:{toJSON:ae.noop}),("object"==typeof e||"function"==typeof e)&&(n?l[h]=ae.extend(l[h],e):l[h].data=ae.extend(l[h].data,e)),o=l[h],n||(o.data||(o.data={}),o=o.data),void 0!==i&&(o[ae.camelCase(e)]=i),"string"==typeof e?(a=o[e],null==a&&(a=o[ae.camelCase(e)])):a=o,a}}function u(t,e,i){if(ae.acceptData(t)){var n,a,o=t.nodeType,r=o?ae.cache:t,s=o?t[ae.expando]:ae.expando;if(r[s]){if(e&&(n=i?r[s]:r[s].data)){ae.isArray(e)?e=e.concat(ae.map(e,ae.camelCase)):e in n?e=[e]:(e=ae.camelCase(e),e=e in n?[e]:e.split(" ")),a=e.length;for(;a--;)delete n[e[a]];if(i?!h(n):!ae.isEmptyObject(n))return}(i||(delete r[s].data,h(r[s])))&&(o?ae.cleanData([t],!0):ie.deleteExpando||r!=r.window?delete r[s]:r[s]=null)}}}function d(){return!0}function f(){return!1}function m(){try{return me.activeElement}catch(t){}}function p(t){var e=Me.split("|"),i=t.createDocumentFragment();if(i.createElement)for(;e.length;)i.createElement(e.pop());return i}function g(t,e){var i,n,a=0,o=typeof t.getElementsByTagName!==De?t.getElementsByTagName(e||"*"):typeof t.querySelectorAll!==De?t.querySelectorAll(e||"*"):void 0;if(!o)for(o=[],i=t.childNodes||t;null!=(n=i[a]);a++)!e||ae.nodeName(n,e)?o.push(n):ae.merge(o,g(n,e));return void 0===e||e&&ae.nodeName(t,e)?ae.merge([t],o):o}function v(t){we.test(t.type)&&(t.defaultChecked=t.checked)}function C(t,e){return ae.nodeName(t,"table")&&ae.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function E(t){return t.type=(null!==ae.find.attr(t,"type"))+"/"+t.type,t}function b(t){var e=We.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function T(t,e){for(var i,n=0;null!=(i=t[n]);n++)ae._data(i,"globalEval",!e||ae._data(e[n],"globalEval"))}function y(t,e){if(1===e.nodeType&&ae.hasData(t)){var i,n,a,o=ae._data(t),r=ae._data(e,o),s=o.events;if(s){delete r.handle,r.events={};for(i in s)for(n=0,a=s[i].length;a>n;n++)ae.event.add(e,i,s[i][n])}r.data&&(r.data=ae.extend({},r.data))}}function D(t,e){var i,n,a;if(1===e.nodeType){if(i=e.nodeName.toLowerCase(),!ie.noCloneEvent&&e[ae.expando]){a=ae._data(e);for(n in a.events)ae.removeEvent(e,n,a.handle);e.removeAttribute(ae.expando)}"script"===i&&e.text!==t.text?(E(e).text=t.text,b(e)):"object"===i?(e.parentNode&&(e.outerHTML=t.outerHTML),ie.html5Clone&&t.innerHTML&&!ae.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===i&&we.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===i?e.defaultSelected=e.selected=t.defaultSelected:("input"===i||"textarea"===i)&&(e.defaultValue=t.defaultValue)}}function O(e,i){var n,a=ae(i.createElement(e)).appendTo(i.body),o=t.getDefaultComputedStyle&&(n=t.getDefaultComputedStyle(a[0]))?n.display:ae.css(a[0],"display");return a.detach(),o}function I(t){var e=me,i=Qe[t];return i||(i=O(t,e),"none"!==i&&i||(Ze=(Ze||ae("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=(Ze[0].contentWindow||Ze[0].contentDocument).document,e.write(),e.close(),i=O(t,e),Ze.detach()),Qe[t]=i),i}function R(t,e){return{get:function(){var i=t();if(null!=i)return i?void delete this.get:(this.get=e).apply(this,arguments)}}}function x(t,e){if(e in t)return e;for(var i=e.charAt(0).toUpperCase()+e.slice(1),n=e,a=di.length;a--;)if(e=di[a]+i,e in t)return e;return n}function k(t,e){for(var i,n,a,o=[],r=0,s=t.length;s>r;r++)n=t[r],n.style&&(o[r]=ae._data(n,"olddisplay"),i=n.style.display,e?(o[r]||"none"!==i||(n.style.display=""),""===n.style.display&&ke(n)&&(o[r]=ae._data(n,"olddisplay",I(n.nodeName)))):(a=ke(n),(i&&"none"!==i||!a)&&ae._data(n,"olddisplay",a?i:ae.css(n,"display"))));for(r=0;s>r;r++)n=t[r],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?o[r]||"":"none"));return t}function A(t,e,i){var n=li.exec(e);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):e}function w(t,e,i,n,a){for(var o=i===(n?"border":"content")?4:"width"===e?1:0,r=0;4>o;o+=2)"margin"===i&&(r+=ae.css(t,i+xe[o],!0,a)),n?("content"===i&&(r-=ae.css(t,"padding"+xe[o],!0,a)),"margin"!==i&&(r-=ae.css(t,"border"+xe[o]+"Width",!0,a))):(r+=ae.css(t,"padding"+xe[o],!0,a),"padding"!==i&&(r+=ae.css(t,"border"+xe[o]+"Width",!0,a)));return r}function S(t,e,i){var n=!0,a="width"===e?t.offsetWidth:t.offsetHeight,o=ti(t),r=ie.boxSizing&&"border-box"===ae.css(t,"boxSizing",!1,o);if(0>=a||null==a){if(a=ei(t,e,o),(0>a||null==a)&&(a=t.style[e]),ni.test(a))return a;n=r&&(ie.boxSizingReliable()||a===t.style[e]),a=parseFloat(a)||0}return a+w(t,e,i||(r?"border":"content"),n,o)+"px"}function K(t,e,i,n,a){return new K.prototype.init(t,e,i,n,a)}function _(){return setTimeout(function(){fi=void 0}),fi=ae.now()}function N(t,e){var i,n={height:t},a=0;for(e=e?1:0;4>a;a+=2-e)i=xe[a],n["margin"+i]=n["padding"+i]=t;return e&&(n.opacity=n.width=t),n}function F(t,e,i){for(var n,a=(Ei[e]||[]).concat(Ei["*"]),o=0,r=a.length;r>o;o++)if(n=a[o].call(i,e,t))return n}function M(t,e,i){var n,a,o,r,s,l,h,c,u=this,d={},f=t.style,m=t.nodeType&&ke(t),p=ae._data(t,"fxshow");i.queue||(s=ae._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,ae.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],h=ae.css(t,"display"),c="none"===h?ae._data(t,"olddisplay")||I(t.nodeName):h,"inline"===c&&"none"===ae.css(t,"float")&&(ie.inlineBlockNeedsLayout&&"inline"!==I(t.nodeName)?f.zoom=1:f.display="inline-block")),i.overflow&&(f.overflow="hidden",ie.shrinkWrapBlocks()||u.always(function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]}));for(n in e)if(a=e[n],pi.exec(a)){if(delete e[n],o=o||"toggle"===a,a===(m?"hide":"show")){if("show"!==a||!p||void 0===p[n])continue;m=!0}d[n]=p&&p[n]||ae.style(t,n)}else h=void 0;if(ae.isEmptyObject(d))"inline"===("none"===h?I(t.nodeName):h)&&(f.display=h);else{p?"hidden"in p&&(m=p.hidden):p=ae._data(t,"fxshow",{}),o&&(p.hidden=!m),m?ae(t).show():u.done(function(){ae(t).hide()}),u.done(function(){var e;ae._removeData(t,"fxshow");for(e in d)ae.style(t,e,d[e])});for(n in d)r=F(m?p[n]:0,n,u),n in p||(p[n]=r.start,m&&(r.end=r.start,r.start="width"===n||"height"===n?1:0))}}function L(t,e){var i,n,a,o,r;for(i in t)if(n=ae.camelCase(i),a=e[n],o=t[i],ae.isArray(o)&&(a=o[1],o=t[i]=o[0]),i!==n&&(t[n]=o,delete t[i]),r=ae.cssHooks[n],r&&"expand"in r){o=r.expand(o),delete t[n];for(i in o)i in t||(t[i]=o[i],e[i]=a)}else e[n]=a}function B(t,e,i){var n,a,o=0,r=Ci.length,s=ae.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var e=fi||_(),i=Math.max(0,h.startTime+h.duration-e),n=i/h.duration||0,o=1-n,r=0,l=h.tweens.length;l>r;r++)h.tweens[r].run(o);return s.notifyWith(t,[h,o,i]),1>o&&l?i:(s.resolveWith(t,[h]),!1)},h=s.promise({elem:t,props:ae.extend({},e),opts:ae.extend(!0,{specialEasing:{}},i),originalProperties:e,originalOptions:i,startTime:fi||_(),duration:i.duration,tweens:[],createTween:function(e,i){var n=ae.Tween(t,h.opts,e,i,h.opts.specialEasing[e]||h.opts.easing);return h.tweens.push(n),n},stop:function(e){var i=0,n=e?h.tweens.length:0;if(a)return this;for(a=!0;n>i;i++)h.tweens[i].run(1);return e?s.resolveWith(t,[h,e]):s.rejectWith(t,[h,e]),this}}),c=h.props;for(L(c,h.opts.specialEasing);r>o;o++)if(n=Ci[o].call(h,t,c,h.opts))return n;return ae.map(c,F,h),ae.isFunction(h.opts.start)&&h.opts.start.call(t,h),ae.fx.timer(ae.extend(l,{elem:t,anim:h,queue:h.opts.queue})),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always)}function P(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,a=0,o=e.toLowerCase().match(Ee)||[];if(ae.isFunction(i))for(;n=o[a++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function $(t,e,i,n){function a(s){var l;return o[s]=!0,ae.each(t[s]||[],function(t,s){var h=s(e,i,n);return"string"!=typeof h||r||o[h]?r?!(l=h):void 0:(e.dataTypes.unshift(h),a(h),!1)}),l}var o={},r=t===ji;return a(e.dataTypes[0])||!o["*"]&&a("*")}function z(t,e){var i,n,a=ae.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((a[n]?t:i||(i={}))[n]=e[n]);return i&&ae.extend(!0,t,i),t}function H(t,e,i){for(var n,a,o,r,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===a&&(a=t.mimeType||e.getResponseHeader("Content-Type"));if(a)for(r in s)if(s[r]&&s[r].test(a)){l.unshift(r);break}if(l[0]in i)o=l[0];else{for(r in i){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}n||(n=r)}o=o||n}return o?(o!==l[0]&&l.unshift(o),i[o]):void 0}function j(t,e,i,n){var a,o,r,s,l,h={},c=t.dataTypes.slice();if(c[1])for(r in t.converters)h[r.toLowerCase()]=t.converters[r];for(o=c.shift();o;)if(t.responseFields[o]&&(i[t.responseFields[o]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(r=h[l+" "+o]||h["* "+o],!r)for(a in h)if(s=a.split(" "),s[1]===o&&(r=h[l+" "+s[0]]||h["* "+s[0]])){r===!0?r=h[a]:h[a]!==!0&&(o=s[0],c.unshift(s[1]));break}if(r!==!0)if(r&&t["throws"])e=r(e);else try{e=r(e)}catch(u){return{state:"parsererror",error:r?u:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function V(t,e,i,n){var a;if(ae.isArray(e))ae.each(e,function(e,a){i||Wi.test(t)?n(t,a):V(t+"["+("object"==typeof a?e:"")+"]",a,i,n)});else if(i||"object"!==ae.type(e))n(t,e);else for(a in e)V(t+"["+a+"]",e[a],i,n)}function q(){try{return new t.XMLHttpRequest}catch(e){}}function G(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function W(t){return ae.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var U=[],X=U.slice,Y=U.concat,J=U.push,Z=U.indexOf,Q={},te=Q.toString,ee=Q.hasOwnProperty,ie={},ne="1.11.1",ae=function(t,e){return new ae.fn.init(t,e)},oe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,re=/^-ms-/,se=/-([\da-z])/gi,le=function(t,e){return e.toUpperCase()};ae.fn=ae.prototype={jquery:ne,constructor:ae,selector:"",length:0,toArray:function(){return X.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:X.call(this)},pushStack:function(t){var e=ae.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return ae.each(this,t,e)},map:function(t){return this.pushStack(ae.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(X.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(0>t?e:0);return this.pushStack(i>=0&&e>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:J,sort:U.sort,splice:U.splice},ae.extend=ae.fn.extend=function(){var t,e,i,n,a,o,r=arguments[0]||{},s=1,l=arguments.length,h=!1;for("boolean"==typeof r&&(h=r,r=arguments[s]||{},s++),"object"==typeof r||ae.isFunction(r)||(r={}),s===l&&(r=this,s--);l>s;s++)if(null!=(a=arguments[s]))for(n in a)t=r[n],i=a[n],r!==i&&(h&&i&&(ae.isPlainObject(i)||(e=ae.isArray(i)))?(e?(e=!1,o=t&&ae.isArray(t)?t:[]):o=t&&ae.isPlainObject(t)?t:{},r[n]=ae.extend(h,o,i)):void 0!==i&&(r[n]=i));return r},ae.extend({expando:"jQuery"+(ne+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ae.type(t)},isArray:Array.isArray||function(t){return"array"===ae.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!ae.isArray(t)&&t-parseFloat(t)>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==ae.type(t)||t.nodeType||ae.isWindow(t))return!1;try{if(t.constructor&&!ee.call(t,"constructor")&&!ee.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}if(ie.ownLast)for(e in t)return ee.call(t,e);for(e in t);return void 0===e||ee.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?Q[te.call(t)]||"object":typeof t},globalEval:function(e){e&&ae.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(re,"ms-").replace(se,le)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var a,o=0,r=t.length,s=i(t);if(n){if(s)for(;r>o&&(a=e.apply(t[o],n),a!==!1);o++);else for(o in t)if(a=e.apply(t[o],n),a===!1)break}else if(s)for(;r>o&&(a=e.call(t[o],o,t[o]),a!==!1);o++);else for(o in t)if(a=e.call(t[o],o,t[o]),a===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(oe,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?ae.merge(n,"string"==typeof t?[t]:t):J.call(n,t)),n},inArray:function(t,e,i){var n;if(e){if(Z)return Z.call(e,t,i);for(n=e.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in e&&e[i]===t)return i}return-1},merge:function(t,e){for(var i=+e.length,n=0,a=t.length;i>n;)t[a++]=e[n++];if(i!==i)for(;void 0!==e[n];)t[a++]=e[n++];return t.length=a,t},grep:function(t,e,i){for(var n,a=[],o=0,r=t.length,s=!i;r>o;o++)n=!e(t[o],o),n!==s&&a.push(t[o]);return a},map:function(t,e,n){var a,o=0,r=t.length,s=i(t),l=[];if(s)for(;r>o;o++)a=e(t[o],o,n),null!=a&&l.push(a);else for(o in t)a=e(t[o],o,n),null!=a&&l.push(a);return Y.apply([],l)},guid:1,proxy:function(t,e){var i,n,a;return"string"==typeof e&&(a=t[e],e=t,t=a),ae.isFunction(t)?(i=X.call(arguments,2),n=function(){return t.apply(e||this,i.concat(X.call(arguments)))},n.guid=t.guid=t.guid||ae.guid++,n):void 0},now:function(){return+new Date},support:ie}),ae.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){Q["[object "+e+"]"]=e.toLowerCase()});var he=function(t){function e(t,e,i,n){var a,o,r,s,l,h,u,f,m,p;if((e?e.ownerDocument||e:$)!==K&&S(e),e=e||K,i=i||[],!t||"string"!=typeof t)return i;if(1!==(s=e.nodeType)&&9!==s)return[];if(N&&!n){if(a=Ce.exec(t))if(r=a[1]){if(9===s){if(o=e.getElementById(r),!o||!o.parentNode)return i;if(o.id===r)return i.push(o),i}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(r))&&B(e,o)&&o.id===r)return i.push(o),i}else{if(a[2])return Q.apply(i,e.getElementsByTagName(t)),i;if((r=a[3])&&T.getElementsByClassName&&e.getElementsByClassName)return Q.apply(i,e.getElementsByClassName(r)),i}if(T.qsa&&(!F||!F.test(t))){if(f=u=P,m=e,p=9===s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(h=I(t),(u=e.getAttribute("id"))?f=u.replace(be,"\\$&"):e.setAttribute("id",f),f="[id='"+f+"'] ",l=h.length;l--;)h[l]=f+d(h[l]);m=Ee.test(t)&&c(e.parentNode)||e,p=h.join(",")}if(p)try{return Q.apply(i,m.querySelectorAll(p)),i}catch(g){}finally{u||e.removeAttribute("id")}}}return x(t.replace(le,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>y.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[P]=!0,t}function a(t){var e=K.createElement("div");try{return!!t(e)}catch(i){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var i=t.split("|"),n=t.length;n--;)y.attrHandle[i[n]]=e}function r(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||U)-(~t.sourceIndex||U);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function s(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function l(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function h(t){return n(function(e){return e=+e,n(function(i,n){for(var a,o=t([],i.length,e),r=o.length;r--;)i[a=o[r]]&&(i[a]=!(n[a]=i[a]))})})}function c(t){return t&&typeof t.getElementsByTagName!==W&&t}function u(){}function d(t){for(var e=0,i=t.length,n="";i>e;e++)n+=t[e].value;return n}function f(t,e,i){var n=e.dir,a=i&&"parentNode"===n,o=H++;return e.first?function(e,i,o){for(;e=e[n];)if(1===e.nodeType||a)return t(e,i,o)}:function(e,i,r){var s,l,h=[z,o];if(r){for(;e=e[n];)if((1===e.nodeType||a)&&t(e,i,r))return!0}else for(;e=e[n];)if(1===e.nodeType||a){if(l=e[P]||(e[P]={}),(s=l[n])&&s[0]===z&&s[1]===o)return h[2]=s[2];if(l[n]=h,h[2]=t(e,i,r))return!0}}}function m(t){return t.length>1?function(e,i,n){for(var a=t.length;a--;)if(!t[a](e,i,n))return!1;return!0}:t[0]}function p(t,i,n){for(var a=0,o=i.length;o>a;a++)e(t,i[a],n);return n}function g(t,e,i,n,a){for(var o,r=[],s=0,l=t.length,h=null!=e;l>s;s++)(o=t[s])&&(!i||i(o,n,a))&&(r.push(o),h&&e.push(s));return r}function v(t,e,i,a,o,r){return a&&!a[P]&&(a=v(a)),o&&!o[P]&&(o=v(o,r)),n(function(n,r,s,l){var h,c,u,d=[],f=[],m=r.length,v=n||p(e||"*",s.nodeType?[s]:s,[]),C=!t||!n&&e?v:g(v,d,t,s,l),E=i?o||(n?t:m||a)?[]:r:C;if(i&&i(C,E,s,l),a)for(h=g(E,f),a(h,[],s,l),c=h.length;c--;)(u=h[c])&&(E[f[c]]=!(C[f[c]]=u));if(n){if(o||t){if(o){for(h=[],c=E.length;c--;)(u=E[c])&&h.push(C[c]=u);o(null,E=[],h,l)}for(c=E.length;c--;)(u=E[c])&&(h=o?ee.call(n,u):d[c])>-1&&(n[h]=!(r[h]=u))}}else E=g(E===r?E.splice(m,E.length):E),o?o(null,r,E,l):Q.apply(r,E)})}function C(t){for(var e,i,n,a=t.length,o=y.relative[t[0].type],r=o||y.relative[" "],s=o?1:0,l=f(function(t){return t===e},r,!0),h=f(function(t){return ee.call(e,t)>-1},r,!0),c=[function(t,i,n){return!o&&(n||i!==k)||((e=i).nodeType?l(t,i,n):h(t,i,n))}];a>s;s++)if(i=y.relative[t[s].type])c=[f(m(c),i)];else{if(i=y.filter[t[s].type].apply(null,t[s].matches),i[P]){for(n=++s;a>n&&!y.relative[t[n].type];n++);return v(s>1&&m(c),s>1&&d(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(le,"$1"),i,n>s&&C(t.slice(s,n)),a>n&&C(t=t.slice(n)),a>n&&d(t))}c.push(i)}return m(c)}function E(t,i){var a=i.length>0,o=t.length>0,r=function(n,r,s,l,h){var c,u,d,f=0,m="0",p=n&&[],v=[],C=k,E=n||o&&y.find.TAG("*",h),b=z+=null==C?1:Math.random()||.1,T=E.length;for(h&&(k=r!==K&&r);m!==T&&null!=(c=E[m]);m++){if(o&&c){for(u=0;d=t[u++];)if(d(c,r,s)){l.push(c);break}h&&(z=b)}a&&((c=!d&&c)&&f--,n&&p.push(c))}if(f+=m,a&&m!==f){for(u=0;d=i[u++];)d(p,v,r,s);if(n){if(f>0)for(;m--;)p[m]||v[m]||(v[m]=J.call(l));v=g(v)}Q.apply(l,v),h&&!n&&v.length>0&&f+i.length>1&&e.uniqueSort(l)}return h&&(z=b,k=C),p};return a?n(r):r}var b,T,y,D,O,I,R,x,k,A,w,S,K,_,N,F,M,L,B,P="sizzle"+-new Date,$=t.document,z=0,H=0,j=i(),V=i(),q=i(),G=function(t,e){return t===e&&(w=!0),0},W="undefined",U=1<<31,X={}.hasOwnProperty,Y=[],J=Y.pop,Z=Y.push,Q=Y.push,te=Y.slice,ee=Y.indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(this[e]===t)return e;return-1},ie="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ae="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",oe=ae.replace("w","w#"),re="\\["+ne+"*("+ae+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+oe+"))|)"+ne+"*\\]",se=":("+ae+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",le=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),he=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ue=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),de=new RegExp(se),fe=new RegExp("^"+oe+"$"),me={ID:new RegExp("^#("+ae+")"),CLASS:new RegExp("^\\.("+ae+")"),TAG:new RegExp("^("+ae.replace("w","w*")+")"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+ie+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},pe=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,Ce=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ee=/[+~]/,be=/'|\\/g,Te=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),ye=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{Q.apply(Y=te.call($.childNodes),$.childNodes),Y[$.childNodes.length].nodeType}catch(De){Q={apply:Y.length?function(t,e){Z.apply(t,te.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}T=e.support={},O=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},S=e.setDocument=function(t){var e,i=t?t.ownerDocument||t:$,n=i.defaultView;return i!==K&&9===i.nodeType&&i.documentElement?(K=i,_=i.documentElement,N=!O(i),n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",function(){S()},!1):n.attachEvent&&n.attachEvent("onunload",function(){S()})),T.attributes=a(function(t){return t.className="i",!t.getAttribute("className")}),T.getElementsByTagName=a(function(t){return t.appendChild(i.createComment("")),!t.getElementsByTagName("*").length}),T.getElementsByClassName=ve.test(i.getElementsByClassName)&&a(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),T.getById=a(function(t){return _.appendChild(t).id=P,!i.getElementsByName||!i.getElementsByName(P).length}),T.getById?(y.find.ID=function(t,e){if(typeof e.getElementById!==W&&N){var i=e.getElementById(t);return i&&i.parentNode?[i]:[]}},y.filter.ID=function(t){var e=t.replace(Te,ye);return function(t){return t.getAttribute("id")===e}}):(delete y.find.ID,y.filter.ID=function(t){var e=t.replace(Te,ye);return function(t){var i=typeof t.getAttributeNode!==W&&t.getAttributeNode("id");return i&&i.value===e}}),y.find.TAG=T.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==W?e.getElementsByTagName(t):void 0}:function(t,e){var i,n=[],a=0,o=e.getElementsByTagName(t);if("*"===t){for(;i=o[a++];)1===i.nodeType&&n.push(i);return n}return o},y.find.CLASS=T.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==W&&N?e.getElementsByClassName(t):void 0},M=[],F=[],(T.qsa=ve.test(i.querySelectorAll))&&(a(function(t){t.innerHTML="<select msallowclip=''><option selected=''></option></select>",t.querySelectorAll("[msallowclip^='']").length&&F.push("[*^$]="+ne+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||F.push("\\["+ne+"*(?:value|"+ie+")"),t.querySelectorAll(":checked").length||F.push(":checked")}),a(function(t){var e=i.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&F.push("name"+ne+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||F.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),F.push(",.*:")})),(T.matchesSelector=ve.test(L=_.matches||_.webkitMatchesSelector||_.mozMatchesSelector||_.oMatchesSelector||_.msMatchesSelector))&&a(function(t){T.disconnectedMatch=L.call(t,"div"),L.call(t,"[s!='']:x"),M.push("!=",se)}),F=F.length&&new RegExp(F.join("|")),M=M.length&&new RegExp(M.join("|")),e=ve.test(_.compareDocumentPosition),B=e||ve.test(_.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},G=e?function(t,e){if(t===e)return w=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!T.sortDetached&&e.compareDocumentPosition(t)===n?t===i||t.ownerDocument===$&&B($,t)?-1:e===i||e.ownerDocument===$&&B($,e)?1:A?ee.call(A,t)-ee.call(A,e):0:4&n?-1:1)}:function(t,e){if(t===e)return w=!0,0;var n,a=0,o=t.parentNode,s=e.parentNode,l=[t],h=[e];if(!o||!s)return t===i?-1:e===i?1:o?-1:s?1:A?ee.call(A,t)-ee.call(A,e):0;if(o===s)return r(t,e);for(n=t;n=n.parentNode;)l.unshift(n);for(n=e;n=n.parentNode;)h.unshift(n);for(;l[a]===h[a];)a++;return a?r(l[a],h[a]):l[a]===$?-1:h[a]===$?1:0},i):K},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==K&&S(t),i=i.replace(ue,"='$1']"),!(!T.matchesSelector||!N||M&&M.test(i)||F&&F.test(i)))try{var n=L.call(t,i);if(n||T.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(a){}return e(i,K,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==K&&S(t),B(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==K&&S(t);var i=y.attrHandle[e.toLowerCase()],n=i&&X.call(y.attrHandle,e.toLowerCase())?i(t,e,!N):void 0;
return void 0!==n?n:T.attributes||!N?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,a=0;if(w=!T.detectDuplicates,A=!T.sortStable&&t.slice(0),t.sort(G),w){for(;e=t[a++];)e===t[a]&&(n=i.push(a));for(;n--;)t.splice(i[n],1)}return A=null,t},D=e.getText=function(t){var e,i="",n=0,a=t.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=D(t)}else if(3===a||4===a)return t.nodeValue}else for(;e=t[n++];)i+=D(e);return i},y=e.selectors={cacheLength:50,createPseudo:n,match:me,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Te,ye),t[3]=(t[3]||t[4]||t[5]||"").replace(Te,ye),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return me.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&de.test(i)&&(e=I(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Te,ye).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=j[t+" "];return e||(e=new RegExp("(^|"+ne+")"+t+"("+ne+"|$)"))&&j(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==W&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(a){var o=e.attr(a,t);return null==o?"!="===i:i?(o+="","="===i?o===n:"!="===i?o!==n:"^="===i?n&&0===o.indexOf(n):"*="===i?n&&o.indexOf(n)>-1:"$="===i?n&&o.slice(-n.length)===n:"~="===i?(" "+o+" ").indexOf(n)>-1:"|="===i?o===n||o.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(t,e,i,n,a){var o="nth"!==t.slice(0,3),r="last"!==t.slice(-4),s="of-type"===e;return 1===n&&0===a?function(t){return!!t.parentNode}:function(e,i,l){var h,c,u,d,f,m,p=o!==r?"nextSibling":"previousSibling",g=e.parentNode,v=s&&e.nodeName.toLowerCase(),C=!l&&!s;if(g){if(o){for(;p;){for(u=e;u=u[p];)if(s?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;m=p="only"===t&&!m&&"nextSibling"}return!0}if(m=[r?g.firstChild:g.lastChild],r&&C){for(c=g[P]||(g[P]={}),h=c[t]||[],f=h[0]===z&&h[1],d=h[0]===z&&h[2],u=f&&g.childNodes[f];u=++f&&u&&u[p]||(d=f=0)||m.pop();)if(1===u.nodeType&&++d&&u===e){c[t]=[z,f,d];break}}else if(C&&(h=(e[P]||(e[P]={}))[t])&&h[0]===z)d=h[1];else for(;(u=++f&&u&&u[p]||(d=f=0)||m.pop())&&((s?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++d||(C&&((u[P]||(u[P]={}))[t]=[z,d]),u!==e)););return d-=a,d===n||d%n===0&&d/n>=0}}},PSEUDO:function(t,i){var a,o=y.pseudos[t]||y.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[P]?o(i):o.length>1?(a=[t,t,"",i],y.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,a=o(t,i),r=a.length;r--;)n=ee.call(t,a[r]),t[n]=!(e[n]=a[r])}):function(t){return o(t,0,a)}):o}},pseudos:{not:n(function(t){var e=[],i=[],a=R(t.replace(le,"$1"));return a[P]?n(function(t,e,i,n){for(var o,r=a(t,null,n,[]),s=t.length;s--;)(o=r[s])&&(t[s]=!(e[s]=o))}):function(t,n,o){return e[0]=t,a(e,null,o,i),!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return function(e){return(e.textContent||e.innerText||D(e)).indexOf(t)>-1}}),lang:n(function(t){return fe.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(Te,ye).toLowerCase(),function(e){var i;do if(i=N?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return i=i.toLowerCase(),i===t||0===i.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===_},focus:function(t){return t===K.activeElement&&(!K.hasFocus||K.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!y.pseudos.empty(t)},header:function(t){return ge.test(t.nodeName)},input:function(t){return pe.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:h(function(){return[0]}),last:h(function(t,e){return[e-1]}),eq:h(function(t,e,i){return[0>i?i+e:i]}),even:h(function(t,e){for(var i=0;e>i;i+=2)t.push(i);return t}),odd:h(function(t,e){for(var i=1;e>i;i+=2)t.push(i);return t}),lt:h(function(t,e,i){for(var n=0>i?i+e:i;--n>=0;)t.push(n);return t}),gt:h(function(t,e,i){for(var n=0>i?i+e:i;++n<e;)t.push(n);return t})}},y.pseudos.nth=y.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})y.pseudos[b]=s(b);for(b in{submit:!0,reset:!0})y.pseudos[b]=l(b);return u.prototype=y.filters=y.pseudos,y.setFilters=new u,I=e.tokenize=function(t,i){var n,a,o,r,s,l,h,c=V[t+" "];if(c)return i?0:c.slice(0);for(s=t,l=[],h=y.preFilter;s;){(!n||(a=he.exec(s)))&&(a&&(s=s.slice(a[0].length)||s),l.push(o=[])),n=!1,(a=ce.exec(s))&&(n=a.shift(),o.push({value:n,type:a[0].replace(le," ")}),s=s.slice(n.length));for(r in y.filter)!(a=me[r].exec(s))||h[r]&&!(a=h[r](a))||(n=a.shift(),o.push({value:n,type:r,matches:a}),s=s.slice(n.length));if(!n)break}return i?s.length:s?e.error(t):V(t,l).slice(0)},R=e.compile=function(t,e){var i,n=[],a=[],o=q[t+" "];if(!o){for(e||(e=I(t)),i=e.length;i--;)o=C(e[i]),o[P]?n.push(o):a.push(o);o=q(t,E(a,n)),o.selector=t}return o},x=e.select=function(t,e,i,n){var a,o,r,s,l,h="function"==typeof t&&t,u=!n&&I(t=h.selector||t);if(i=i||[],1===u.length){if(o=u[0]=u[0].slice(0),o.length>2&&"ID"===(r=o[0]).type&&T.getById&&9===e.nodeType&&N&&y.relative[o[1].type]){if(e=(y.find.ID(r.matches[0].replace(Te,ye),e)||[])[0],!e)return i;h&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(a=me.needsContext.test(t)?0:o.length;a--&&(r=o[a],!y.relative[s=r.type]);)if((l=y.find[s])&&(n=l(r.matches[0].replace(Te,ye),Ee.test(o[0].type)&&c(e.parentNode)||e))){if(o.splice(a,1),t=n.length&&d(o),!t)return Q.apply(i,n),i;break}}return(h||R(t,u))(n,e,!N,i,Ee.test(t)&&c(e.parentNode)||e),i},T.sortStable=P.split("").sort(G).join("")===P,T.detectDuplicates=!!w,S(),T.sortDetached=a(function(t){return 1&t.compareDocumentPosition(K.createElement("div"))}),a(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,i){return i?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),T.attributes&&a(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,i){return i||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),a(function(t){return null==t.getAttribute("disabled")})||o(ie,function(t,e,i){var n;return i?void 0:t[e]===!0?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(t);ae.find=he,ae.expr=he.selectors,ae.expr[":"]=ae.expr.pseudos,ae.unique=he.uniqueSort,ae.text=he.getText,ae.isXMLDoc=he.isXML,ae.contains=he.contains;var ce=ae.expr.match.needsContext,ue=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,de=/^.[^:#\[\.,]*$/;ae.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?ae.find.matchesSelector(n,t)?[n]:[]:ae.find.matches(t,ae.grep(e,function(t){return 1===t.nodeType}))},ae.fn.extend({find:function(t){var e,i=[],n=this,a=n.length;if("string"!=typeof t)return this.pushStack(ae(t).filter(function(){for(e=0;a>e;e++)if(ae.contains(n[e],this))return!0}));for(e=0;a>e;e++)ae.find(t,n[e],i);return i=this.pushStack(a>1?ae.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(n(this,t||[],!1))},not:function(t){return this.pushStack(n(this,t||[],!0))},is:function(t){return!!n(this,"string"==typeof t&&ce.test(t)?ae(t):t||[],!1).length}});var fe,me=t.document,pe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ge=ae.fn.init=function(t,e){var i,n;if(!t)return this;if("string"==typeof t){if(i="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:pe.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||fe).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof ae?e[0]:e,ae.merge(this,ae.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:me,!0)),ue.test(i[1])&&ae.isPlainObject(e))for(i in e)ae.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}if(n=me.getElementById(i[2]),n&&n.parentNode){if(n.id!==i[2])return fe.find(t);this.length=1,this[0]=n}return this.context=me,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):ae.isFunction(t)?"undefined"!=typeof fe.ready?fe.ready(t):t(ae):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),ae.makeArray(t,this))};ge.prototype=ae.fn,fe=ae(me);var ve=/^(?:parents|prev(?:Until|All))/,Ce={children:!0,contents:!0,next:!0,prev:!0};ae.extend({dir:function(t,e,i){for(var n=[],a=t[e];a&&9!==a.nodeType&&(void 0===i||1!==a.nodeType||!ae(a).is(i));)1===a.nodeType&&n.push(a),a=a[e];return n},sibling:function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}}),ae.fn.extend({has:function(t){var e,i=ae(t,this),n=i.length;return this.filter(function(){for(e=0;n>e;e++)if(ae.contains(this,i[e]))return!0})},closest:function(t,e){for(var i,n=0,a=this.length,o=[],r=ce.test(t)||"string"!=typeof t?ae(t,e||this.context):0;a>n;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(r?r.index(i)>-1:1===i.nodeType&&ae.find.matchesSelector(i,t))){o.push(i);break}return this.pushStack(o.length>1?ae.unique(o):o)},index:function(t){return t?"string"==typeof t?ae.inArray(this[0],ae(t)):ae.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ae.unique(ae.merge(this.get(),ae(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ae.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return ae.dir(t,"parentNode")},parentsUntil:function(t,e,i){return ae.dir(t,"parentNode",i)},next:function(t){return a(t,"nextSibling")},prev:function(t){return a(t,"previousSibling")},nextAll:function(t){return ae.dir(t,"nextSibling")},prevAll:function(t){return ae.dir(t,"previousSibling")},nextUntil:function(t,e,i){return ae.dir(t,"nextSibling",i)},prevUntil:function(t,e,i){return ae.dir(t,"previousSibling",i)},siblings:function(t){return ae.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return ae.sibling(t.firstChild)},contents:function(t){return ae.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:ae.merge([],t.childNodes)}},function(t,e){ae.fn[t]=function(i,n){var a=ae.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(a=ae.filter(n,a)),this.length>1&&(Ce[t]||(a=ae.unique(a)),ve.test(t)&&(a=a.reverse())),this.pushStack(a)}});var Ee=/\S+/g,be={};ae.Callbacks=function(t){t="string"==typeof t?be[t]||o(t):ae.extend({},t);var e,i,n,a,r,s,l=[],h=!t.once&&[],c=function(o){for(i=t.memory&&o,n=!0,r=s||0,s=0,a=l.length,e=!0;l&&a>r;r++)if(l[r].apply(o[0],o[1])===!1&&t.stopOnFalse){i=!1;break}e=!1,l&&(h?h.length&&c(h.shift()):i?l=[]:u.disable())},u={add:function(){if(l){var n=l.length;!function o(e){ae.each(e,function(e,i){var n=ae.type(i);"function"===n?t.unique&&u.has(i)||l.push(i):i&&i.length&&"string"!==n&&o(i)})}(arguments),e?a=l.length:i&&(s=n,c(i))}return this},remove:function(){return l&&ae.each(arguments,function(t,i){for(var n;(n=ae.inArray(i,l,n))>-1;)l.splice(n,1),e&&(a>=n&&a--,r>=n&&r--)}),this},has:function(t){return t?ae.inArray(t,l)>-1:!(!l||!l.length)},empty:function(){return l=[],a=0,this},disable:function(){return l=h=i=void 0,this},disabled:function(){return!l},lock:function(){return h=void 0,i||u.disable(),this},locked:function(){return!h},fireWith:function(t,i){return!l||n&&!h||(i=i||[],i=[t,i.slice?i.slice():i],e?h.push(i):c(i)),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!n}};return u},ae.extend({Deferred:function(t){var e=[["resolve","done",ae.Callbacks("once memory"),"resolved"],["reject","fail",ae.Callbacks("once memory"),"rejected"],["notify","progress",ae.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var t=arguments;return ae.Deferred(function(i){ae.each(e,function(e,o){var r=ae.isFunction(t[e])&&t[e];a[o[1]](function(){var t=r&&r.apply(this,arguments);t&&ae.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[o[0]+"With"](this===n?i.promise():this,r?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?ae.extend(t,n):n}},a={};return n.pipe=n.then,ae.each(e,function(t,o){var r=o[2],s=o[3];n[o[1]]=r.add,s&&r.add(function(){i=s},e[1^t][2].disable,e[2][2].lock),a[o[0]]=function(){return a[o[0]+"With"](this===a?n:this,arguments),this},a[o[0]+"With"]=r.fireWith}),n.promise(a),t&&t.call(a,a),a},when:function(t){var e,i,n,a=0,o=X.call(arguments),r=o.length,s=1!==r||t&&ae.isFunction(t.promise)?r:0,l=1===s?t:ae.Deferred(),h=function(t,i,n){return function(a){i[t]=this,n[t]=arguments.length>1?X.call(arguments):a,n===e?l.notifyWith(i,n):--s||l.resolveWith(i,n)}};if(r>1)for(e=new Array(r),i=new Array(r),n=new Array(r);r>a;a++)o[a]&&ae.isFunction(o[a].promise)?o[a].promise().done(h(a,n,o)).fail(l.reject).progress(h(a,i,e)):--s;return s||l.resolveWith(n,o),l.promise()}});var Te;ae.fn.ready=function(t){return ae.ready.promise().done(t),this},ae.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ae.readyWait++:ae.ready(!0)},ready:function(t){if(t===!0?!--ae.readyWait:!ae.isReady){if(!me.body)return setTimeout(ae.ready);ae.isReady=!0,t!==!0&&--ae.readyWait>0||(Te.resolveWith(me,[ae]),ae.fn.triggerHandler&&(ae(me).triggerHandler("ready"),ae(me).off("ready")))}}}),ae.ready.promise=function(e){if(!Te)if(Te=ae.Deferred(),"complete"===me.readyState)setTimeout(ae.ready);else if(me.addEventListener)me.addEventListener("DOMContentLoaded",s,!1),t.addEventListener("load",s,!1);else{me.attachEvent("onreadystatechange",s),t.attachEvent("onload",s);var i=!1;try{i=null==t.frameElement&&me.documentElement}catch(n){}i&&i.doScroll&&!function a(){if(!ae.isReady){try{i.doScroll("left")}catch(t){return setTimeout(a,50)}r(),ae.ready()}}()}return Te.promise(e)};var ye,De="undefined";for(ye in ae(ie))break;ie.ownLast="0"!==ye,ie.inlineBlockNeedsLayout=!1,ae(function(){var t,e,i,n;i=me.getElementsByTagName("body")[0],i&&i.style&&(e=me.createElement("div"),n=me.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(e),typeof e.style.zoom!==De&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ie.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(i.style.zoom=1)),i.removeChild(n))}),function(){var t=me.createElement("div");if(null==ie.deleteExpando){ie.deleteExpando=!0;try{delete t.test}catch(e){ie.deleteExpando=!1}}t=null}(),ae.acceptData=function(t){var e=ae.noData[(t.nodeName+" ").toLowerCase()],i=+t.nodeType||1;return 1!==i&&9!==i?!1:!e||e!==!0&&t.getAttribute("classid")===e};var Oe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ie=/([A-Z])/g;ae.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return t=t.nodeType?ae.cache[t[ae.expando]]:t[ae.expando],!!t&&!h(t)},data:function(t,e,i){return c(t,e,i)},removeData:function(t,e){return u(t,e)},_data:function(t,e,i){return c(t,e,i,!0)},_removeData:function(t,e){return u(t,e,!0)}}),ae.fn.extend({data:function(t,e){var i,n,a,o=this[0],r=o&&o.attributes;if(void 0===t){if(this.length&&(a=ae.data(o),1===o.nodeType&&!ae._data(o,"parsedAttrs"))){for(i=r.length;i--;)r[i]&&(n=r[i].name,0===n.indexOf("data-")&&(n=ae.camelCase(n.slice(5)),l(o,n,a[n])));ae._data(o,"parsedAttrs",!0)}return a}return"object"==typeof t?this.each(function(){ae.data(this,t)}):arguments.length>1?this.each(function(){ae.data(this,t,e)}):o?l(o,t,ae.data(o,t)):void 0},removeData:function(t){return this.each(function(){ae.removeData(this,t)})}}),ae.extend({queue:function(t,e,i){var n;return t?(e=(e||"fx")+"queue",n=ae._data(t,e),i&&(!n||ae.isArray(i)?n=ae._data(t,e,ae.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(t,e){e=e||"fx";var i=ae.queue(t,e),n=i.length,a=i.shift(),o=ae._queueHooks(t,e),r=function(){ae.dequeue(t,e)};"inprogress"===a&&(a=i.shift(),n--),a&&("fx"===e&&i.unshift("inprogress"),delete o.stop,a.call(t,r,o)),!n&&o&&o.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return ae._data(t,i)||ae._data(t,i,{empty:ae.Callbacks("once memory").add(function(){ae._removeData(t,e+"queue"),ae._removeData(t,i)})})}}),ae.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?ae.queue(this[0],t):void 0===e?this:this.each(function(){var i=ae.queue(this,t,e);ae._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&ae.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ae.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,a=ae.Deferred(),o=this,r=this.length,s=function(){--n||a.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";r--;)i=ae._data(o[r],t+"queueHooks"),i&&i.empty&&(n++,i.empty.add(s));return s(),a.promise(e)}});var Re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,xe=["Top","Right","Bottom","Left"],ke=function(t,e){return t=e||t,"none"===ae.css(t,"display")||!ae.contains(t.ownerDocument,t)},Ae=ae.access=function(t,e,i,n,a,o,r){var s=0,l=t.length,h=null==i;if("object"===ae.type(i)){a=!0;for(s in i)ae.access(t,e,s,i[s],!0,o,r)}else if(void 0!==n&&(a=!0,ae.isFunction(n)||(r=!0),h&&(r?(e.call(t,n),e=null):(h=e,e=function(t,e,i){return h.call(ae(t),i)})),e))for(;l>s;s++)e(t[s],i,r?n:n.call(t[s],s,e(t[s],i)));return a?t:h?e.call(t):l?e(t[0],i):o},we=/^(?:checkbox|radio)$/i;!function(){var t=me.createElement("input"),e=me.createElement("div"),i=me.createDocumentFragment();if(e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ie.leadingWhitespace=3===e.firstChild.nodeType,ie.tbody=!e.getElementsByTagName("tbody").length,ie.htmlSerialize=!!e.getElementsByTagName("link").length,ie.html5Clone="<:nav></:nav>"!==me.createElement("nav").cloneNode(!0).outerHTML,t.type="checkbox",t.checked=!0,i.appendChild(t),ie.appendChecked=t.checked,e.innerHTML="<textarea>x</textarea>",ie.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,i.appendChild(e),e.innerHTML="<input type='radio' checked='checked' name='t'/>",ie.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,ie.noCloneEvent=!0,e.attachEvent&&(e.attachEvent("onclick",function(){ie.noCloneEvent=!1}),e.cloneNode(!0).click()),null==ie.deleteExpando){ie.deleteExpando=!0;try{delete e.test}catch(n){ie.deleteExpando=!1}}}(),function(){var e,i,n=me.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})i="on"+e,(ie[e+"Bubbles"]=i in t)||(n.setAttribute(i,"t"),ie[e+"Bubbles"]=n.attributes[i].expando===!1);n=null}();var Se=/^(?:input|select|textarea)$/i,Ke=/^key/,_e=/^(?:mouse|pointer|contextmenu)|click/,Ne=/^(?:focusinfocus|focusoutblur)$/,Fe=/^([^.]*)(?:\.(.+)|)$/;ae.event={global:{},add:function(t,e,i,n,a){var o,r,s,l,h,c,u,d,f,m,p,g=ae._data(t);if(g){for(i.handler&&(l=i,i=l.handler,a=l.selector),i.guid||(i.guid=ae.guid++),(r=g.events)||(r=g.events={}),(c=g.handle)||(c=g.handle=function(t){return typeof ae===De||t&&ae.event.triggered===t.type?void 0:ae.event.dispatch.apply(c.elem,arguments)},c.elem=t),e=(e||"").match(Ee)||[""],s=e.length;s--;)o=Fe.exec(e[s])||[],f=p=o[1],m=(o[2]||"").split(".").sort(),f&&(h=ae.event.special[f]||{},f=(a?h.delegateType:h.bindType)||f,h=ae.event.special[f]||{},u=ae.extend({type:f,origType:p,data:n,handler:i,guid:i.guid,selector:a,needsContext:a&&ae.expr.match.needsContext.test(a),namespace:m.join(".")},l),(d=r[f])||(d=r[f]=[],d.delegateCount=0,h.setup&&h.setup.call(t,n,m,c)!==!1||(t.addEventListener?t.addEventListener(f,c,!1):t.attachEvent&&t.attachEvent("on"+f,c))),h.add&&(h.add.call(t,u),u.handler.guid||(u.handler.guid=i.guid)),a?d.splice(d.delegateCount++,0,u):d.push(u),ae.event.global[f]=!0);t=null}},remove:function(t,e,i,n,a){var o,r,s,l,h,c,u,d,f,m,p,g=ae.hasData(t)&&ae._data(t);if(g&&(c=g.events)){for(e=(e||"").match(Ee)||[""],h=e.length;h--;)if(s=Fe.exec(e[h])||[],f=p=s[1],m=(s[2]||"").split(".").sort(),f){for(u=ae.event.special[f]||{},f=(n?u.delegateType:u.bindType)||f,d=c[f]||[],s=s[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=d.length;o--;)r=d[o],!a&&p!==r.origType||i&&i.guid!==r.guid||s&&!s.test(r.namespace)||n&&n!==r.selector&&("**"!==n||!r.selector)||(d.splice(o,1),r.selector&&d.delegateCount--,u.remove&&u.remove.call(t,r));l&&!d.length&&(u.teardown&&u.teardown.call(t,m,g.handle)!==!1||ae.removeEvent(t,f,g.handle),delete c[f])}else for(f in c)ae.event.remove(t,f+e[h],i,n,!0);ae.isEmptyObject(c)&&(delete g.handle,ae._removeData(t,"events"))}},trigger:function(e,i,n,a){var o,r,s,l,h,c,u,d=[n||me],f=ee.call(e,"type")?e.type:e,m=ee.call(e,"namespace")?e.namespace.split("."):[];if(s=c=n=n||me,3!==n.nodeType&&8!==n.nodeType&&!Ne.test(f+ae.event.triggered)&&(f.indexOf(".")>=0&&(m=f.split("."),f=m.shift(),m.sort()),r=f.indexOf(":")<0&&"on"+f,e=e[ae.expando]?e:new ae.Event(f,"object"==typeof e&&e),e.isTrigger=a?2:3,e.namespace=m.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),i=null==i?[e]:ae.makeArray(i,[e]),h=ae.event.special[f]||{},a||!h.trigger||h.trigger.apply(n,i)!==!1)){if(!a&&!h.noBubble&&!ae.isWindow(n)){for(l=h.delegateType||f,Ne.test(l+f)||(s=s.parentNode);s;s=s.parentNode)d.push(s),c=s;c===(n.ownerDocument||me)&&d.push(c.defaultView||c.parentWindow||t)}for(u=0;(s=d[u++])&&!e.isPropagationStopped();)e.type=u>1?l:h.bindType||f,o=(ae._data(s,"events")||{})[e.type]&&ae._data(s,"handle"),o&&o.apply(s,i),o=r&&s[r],o&&o.apply&&ae.acceptData(s)&&(e.result=o.apply(s,i),e.result===!1&&e.preventDefault());if(e.type=f,!a&&!e.isDefaultPrevented()&&(!h._default||h._default.apply(d.pop(),i)===!1)&&ae.acceptData(n)&&r&&n[f]&&!ae.isWindow(n)){c=n[r],c&&(n[r]=null),ae.event.triggered=f;try{n[f]()}catch(p){}ae.event.triggered=void 0,c&&(n[r]=c)}return e.result}},dispatch:function(t){t=ae.event.fix(t);var e,i,n,a,o,r=[],s=X.call(arguments),l=(ae._data(this,"events")||{})[t.type]||[],h=ae.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!h.preDispatch||h.preDispatch.call(this,t)!==!1){for(r=ae.event.handlers.call(this,t,l),e=0;(a=r[e++])&&!t.isPropagationStopped();)for(t.currentTarget=a.elem,o=0;(n=a.handlers[o++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(n.namespace))&&(t.handleObj=n,t.data=n.data,i=((ae.event.special[n.origType]||{}).handle||n.handler).apply(a.elem,s),void 0!==i&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,n,a,o,r=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==t.type)){for(a=[],o=0;s>o;o++)n=e[o],i=n.selector+" ",void 0===a[i]&&(a[i]=n.needsContext?ae(i,this).index(l)>=0:ae.find(i,this,null,[l]).length),a[i]&&a.push(n);a.length&&r.push({elem:l,handlers:a})}return s<e.length&&r.push({elem:this,handlers:e.slice(s)}),r},fix:function(t){if(t[ae.expando])return t;var e,i,n,a=t.type,o=t,r=this.fixHooks[a];for(r||(this.fixHooks[a]=r=_e.test(a)?this.mouseHooks:Ke.test(a)?this.keyHooks:{}),n=r.props?this.props.concat(r.props):this.props,t=new ae.Event(o),e=n.length;e--;)i=n[e],t[i]=o[i];return t.target||(t.target=o.srcElement||me),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,r.filter?r.filter(t,o):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,n,a,o=e.button,r=e.fromElement;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||me,a=n.documentElement,i=n.body,t.pageX=e.clientX+(a&&a.scrollLeft||i&&i.scrollLeft||0)-(a&&a.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(a&&a.scrollTop||i&&i.scrollTop||0)-(a&&a.clientTop||i&&i.clientTop||0)),!t.relatedTarget&&r&&(t.relatedTarget=r===t.target?e.toElement:r),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==m()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===m()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ae.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(t){return ae.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,i,n){var a=ae.extend(new ae.Event,i,{type:t,isSimulated:!0,originalEvent:{}});n?ae.event.trigger(a,null,e):ae.event.dispatch.call(e,a),a.isDefaultPrevented()&&i.preventDefault()}},ae.removeEvent=me.removeEventListener?function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i,!1)}:function(t,e,i){var n="on"+e;t.detachEvent&&(typeof t[n]===De&&(t[n]=null),t.detachEvent(n,i))},ae.Event=function(t,e){return this instanceof ae.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?d:f):this.type=t,e&&ae.extend(this,e),this.timeStamp=t&&t.timeStamp||ae.now(),void(this[ae.expando]=!0)):new ae.Event(t,e)},ae.Event.prototype={isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=d,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=d,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=d,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},ae.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){ae.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,a=t.relatedTarget,o=t.handleObj;return(!a||a!==n&&!ae.contains(n,a))&&(t.type=o.origType,i=o.handler.apply(this,arguments),t.type=e),i}}}),ie.submitBubbles||(ae.event.special.submit={setup:function(){return ae.nodeName(this,"form")?!1:void ae.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,i=ae.nodeName(e,"input")||ae.nodeName(e,"button")?e.form:void 0;i&&!ae._data(i,"submitBubbles")&&(ae.event.add(i,"submit._submit",function(t){t._submit_bubble=!0}),ae._data(i,"submitBubbles",!0))})},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&ae.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return ae.nodeName(this,"form")?!1:void ae.event.remove(this,"._submit")}}),ie.changeBubbles||(ae.event.special.change={setup:function(){return Se.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ae.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),ae.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),ae.event.simulate("change",this,t,!0)})),!1):void ae.event.add(this,"beforeactivate._change",function(t){var e=t.target;Se.test(e.nodeName)&&!ae._data(e,"changeBubbles")&&(ae.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||ae.event.simulate("change",this.parentNode,t,!0)}),ae._data(e,"changeBubbles",!0))})},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ae.event.remove(this,"._change"),!Se.test(this.nodeName)}}),ie.focusinBubbles||ae.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){ae.event.simulate(e,t.target,ae.event.fix(t),!0)};ae.event.special[e]={setup:function(){var n=this.ownerDocument||this,a=ae._data(n,e);a||n.addEventListener(t,i,!0),ae._data(n,e,(a||0)+1)},teardown:function(){var n=this.ownerDocument||this,a=ae._data(n,e)-1;a?ae._data(n,e,a):(n.removeEventListener(t,i,!0),ae._removeData(n,e))}}}),ae.fn.extend({on:function(t,e,i,n,a){var o,r;if("object"==typeof t){"string"!=typeof e&&(i=i||e,e=void 0);for(o in t)this.on(o,e,i,t[o],a);return this}if(null==i&&null==n?(n=e,i=e=void 0):null==n&&("string"==typeof e?(n=i,i=void 0):(n=i,i=e,e=void 0)),n===!1)n=f;else if(!n)return this;return 1===a&&(r=n,n=function(t){return ae().off(t),r.apply(this,arguments)},n.guid=r.guid||(r.guid=ae.guid++)),this.each(function(){ae.event.add(this,t,n,i,e)})},one:function(t,e,i,n){return this.on(t,e,i,n,1)},off:function(t,e,i){var n,a;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,ae(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(a in t)this.off(a,e,t[a]);return this}return(e===!1||"function"==typeof e)&&(i=e,e=void 0),i===!1&&(i=f),this.each(function(){ae.event.remove(this,t,i,e)})},trigger:function(t,e){return this.each(function(){ae.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];return i?ae.event.trigger(t,e,i,!0):void 0}});var Me="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Le=/ jQuery\d+="(?:null|\d+)"/g,Be=new RegExp("<(?:"+Me+")[\\s/>]","i"),Pe=/^\s+/,$e=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ze=/<([\w:]+)/,He=/<tbody/i,je=/<|&#?\w+;/,Ve=/<(?:script|style|link)/i,qe=/checked\s*(?:[^=]|=\s*.checked.)/i,Ge=/^$|\/(?:java|ecma)script/i,We=/^true\/(.*)/,Ue=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Xe={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ie.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Ye=p(me),Je=Ye.appendChild(me.createElement("div"));Xe.optgroup=Xe.option,Xe.tbody=Xe.tfoot=Xe.colgroup=Xe.caption=Xe.thead,Xe.th=Xe.td,ae.extend({clone:function(t,e,i){var n,a,o,r,s,l=ae.contains(t.ownerDocument,t);if(ie.html5Clone||ae.isXMLDoc(t)||!Be.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(Je.innerHTML=t.outerHTML,Je.removeChild(o=Je.firstChild)),!(ie.noCloneEvent&&ie.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ae.isXMLDoc(t)))for(n=g(o),s=g(t),r=0;null!=(a=s[r]);++r)n[r]&&D(a,n[r]);if(e)if(i)for(s=s||g(t),n=n||g(o),r=0;null!=(a=s[r]);r++)y(a,n[r]);else y(t,o);return n=g(o,"script"),n.length>0&&T(n,!l&&g(t,"script")),n=s=a=null,o},buildFragment:function(t,e,i,n){for(var a,o,r,s,l,h,c,u=t.length,d=p(e),f=[],m=0;u>m;m++)if(o=t[m],o||0===o)if("object"===ae.type(o))ae.merge(f,o.nodeType?[o]:o);else if(je.test(o)){for(s=s||d.appendChild(e.createElement("div")),l=(ze.exec(o)||["",""])[1].toLowerCase(),c=Xe[l]||Xe._default,s.innerHTML=c[1]+o.replace($e,"<$1></$2>")+c[2],a=c[0];a--;)s=s.lastChild;if(!ie.leadingWhitespace&&Pe.test(o)&&f.push(e.createTextNode(Pe.exec(o)[0])),!ie.tbody)for(o="table"!==l||He.test(o)?"<table>"!==c[1]||He.test(o)?0:s:s.firstChild,a=o&&o.childNodes.length;a--;)ae.nodeName(h=o.childNodes[a],"tbody")&&!h.childNodes.length&&o.removeChild(h);
for(ae.merge(f,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=d.lastChild}else f.push(e.createTextNode(o));for(s&&d.removeChild(s),ie.appendChecked||ae.grep(g(f,"input"),v),m=0;o=f[m++];)if((!n||-1===ae.inArray(o,n))&&(r=ae.contains(o.ownerDocument,o),s=g(d.appendChild(o),"script"),r&&T(s),i))for(a=0;o=s[a++];)Ge.test(o.type||"")&&i.push(o);return s=null,d},cleanData:function(t,e){for(var i,n,a,o,r=0,s=ae.expando,l=ae.cache,h=ie.deleteExpando,c=ae.event.special;null!=(i=t[r]);r++)if((e||ae.acceptData(i))&&(a=i[s],o=a&&l[a])){if(o.events)for(n in o.events)c[n]?ae.event.remove(i,n):ae.removeEvent(i,n,o.handle);l[a]&&(delete l[a],h?delete i[s]:typeof i.removeAttribute!==De?i.removeAttribute(s):i[s]=null,U.push(a))}}}),ae.fn.extend({text:function(t){return Ae(this,function(t){return void 0===t?ae.text(this):this.empty().append((this[0]&&this[0].ownerDocument||me).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=C(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=C(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var i,n=t?ae.filter(t,this):this,a=0;null!=(i=n[a]);a++)e||1!==i.nodeType||ae.cleanData(g(i)),i.parentNode&&(e&&ae.contains(i.ownerDocument,i)&&T(g(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&ae.cleanData(g(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&ae.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return ae.clone(this,t,e)})},html:function(t){return Ae(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(Le,""):void 0;if(!("string"!=typeof t||Ve.test(t)||!ie.htmlSerialize&&Be.test(t)||!ie.leadingWhitespace&&Pe.test(t)||Xe[(ze.exec(t)||["",""])[1].toLowerCase()])){t=t.replace($e,"<$1></$2>");try{for(;n>i;i++)e=this[i]||{},1===e.nodeType&&(ae.cleanData(g(e,!1)),e.innerHTML=t);e=0}catch(a){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,ae.cleanData(g(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=Y.apply([],t);var i,n,a,o,r,s,l=0,h=this.length,c=this,u=h-1,d=t[0],f=ae.isFunction(d);if(f||h>1&&"string"==typeof d&&!ie.checkClone&&qe.test(d))return this.each(function(i){var n=c.eq(i);f&&(t[0]=d.call(this,i,n.html())),n.domManip(t,e)});if(h&&(s=ae.buildFragment(t,this[0].ownerDocument,!1,this),i=s.firstChild,1===s.childNodes.length&&(s=i),i)){for(o=ae.map(g(s,"script"),E),a=o.length;h>l;l++)n=s,l!==u&&(n=ae.clone(n,!0,!0),a&&ae.merge(o,g(n,"script"))),e.call(this[l],n,l);if(a)for(r=o[o.length-1].ownerDocument,ae.map(o,b),l=0;a>l;l++)n=o[l],Ge.test(n.type||"")&&!ae._data(n,"globalEval")&&ae.contains(r,n)&&(n.src?ae._evalUrl&&ae._evalUrl(n.src):ae.globalEval((n.text||n.textContent||n.innerHTML||"").replace(Ue,"")));s=i=null}return this}}),ae.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ae.fn[t]=function(t){for(var i,n=0,a=[],o=ae(t),r=o.length-1;r>=n;n++)i=n===r?this:this.clone(!0),ae(o[n])[e](i),J.apply(a,i.get());return this.pushStack(a)}});var Ze,Qe={};!function(){var t;ie.shrinkWrapBlocks=function(){if(null!=t)return t;t=!1;var e,i,n;return i=me.getElementsByTagName("body")[0],i&&i.style?(e=me.createElement("div"),n=me.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(e),typeof e.style.zoom!==De&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(me.createElement("div")).style.width="5px",t=3!==e.offsetWidth),i.removeChild(n),t):void 0}}();var ti,ei,ii=/^margin/,ni=new RegExp("^("+Re+")(?!px)[a-z%]+$","i"),ai=/^(top|right|bottom|left)$/;t.getComputedStyle?(ti=function(t){return t.ownerDocument.defaultView.getComputedStyle(t,null)},ei=function(t,e,i){var n,a,o,r,s=t.style;return i=i||ti(t),r=i?i.getPropertyValue(e)||i[e]:void 0,i&&(""!==r||ae.contains(t.ownerDocument,t)||(r=ae.style(t,e)),ni.test(r)&&ii.test(e)&&(n=s.width,a=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=r,r=i.width,s.width=n,s.minWidth=a,s.maxWidth=o)),void 0===r?r:r+""}):me.documentElement.currentStyle&&(ti=function(t){return t.currentStyle},ei=function(t,e,i){var n,a,o,r,s=t.style;return i=i||ti(t),r=i?i[e]:void 0,null==r&&s&&s[e]&&(r=s[e]),ni.test(r)&&!ai.test(e)&&(n=s.left,a=t.runtimeStyle,o=a&&a.left,o&&(a.left=t.currentStyle.left),s.left="fontSize"===e?"1em":r,r=s.pixelLeft+"px",s.left=n,o&&(a.left=o)),void 0===r?r:r+""||"auto"}),function(){function e(){var e,i,n,a;i=me.getElementsByTagName("body")[0],i&&i.style&&(e=me.createElement("div"),n=me.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(e),e.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=r=!1,l=!0,t.getComputedStyle&&(o="1%"!==(t.getComputedStyle(e,null)||{}).top,r="4px"===(t.getComputedStyle(e,null)||{width:"4px"}).width,a=e.appendChild(me.createElement("div")),a.style.cssText=e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",a.style.marginRight=a.style.width="0",e.style.width="1px",l=!parseFloat((t.getComputedStyle(a,null)||{}).marginRight)),e.innerHTML="<table><tr><td></td><td>t</td></tr></table>",a=e.getElementsByTagName("td"),a[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===a[0].offsetHeight,s&&(a[0].style.display="",a[1].style.display="none",s=0===a[0].offsetHeight),i.removeChild(n))}var i,n,a,o,r,s,l;i=me.createElement("div"),i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=i.getElementsByTagName("a")[0],n=a&&a.style,n&&(n.cssText="float:left;opacity:.5",ie.opacity="0.5"===n.opacity,ie.cssFloat=!!n.cssFloat,i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",ie.clearCloneStyle="content-box"===i.style.backgroundClip,ie.boxSizing=""===n.boxSizing||""===n.MozBoxSizing||""===n.WebkitBoxSizing,ae.extend(ie,{reliableHiddenOffsets:function(){return null==s&&e(),s},boxSizingReliable:function(){return null==r&&e(),r},pixelPosition:function(){return null==o&&e(),o},reliableMarginRight:function(){return null==l&&e(),l}}))}(),ae.swap=function(t,e,i,n){var a,o,r={};for(o in e)r[o]=t.style[o],t.style[o]=e[o];a=i.apply(t,n||[]);for(o in e)t.style[o]=r[o];return a};var oi=/alpha\([^)]*\)/i,ri=/opacity\s*=\s*([^)]*)/,si=/^(none|table(?!-c[ea]).+)/,li=new RegExp("^("+Re+")(.*)$","i"),hi=new RegExp("^([+-])=("+Re+")","i"),ci={position:"absolute",visibility:"hidden",display:"block"},ui={letterSpacing:"0",fontWeight:"400"},di=["Webkit","O","Moz","ms"];ae.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=ei(t,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ie.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var a,o,r,s=ae.camelCase(e),l=t.style;if(e=ae.cssProps[s]||(ae.cssProps[s]=x(l,s)),r=ae.cssHooks[e]||ae.cssHooks[s],void 0===i)return r&&"get"in r&&void 0!==(a=r.get(t,!1,n))?a:l[e];if(o=typeof i,"string"===o&&(a=hi.exec(i))&&(i=(a[1]+1)*a[2]+parseFloat(ae.css(t,e)),o="number"),null!=i&&i===i&&("number"!==o||ae.cssNumber[s]||(i+="px"),ie.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),!(r&&"set"in r&&void 0===(i=r.set(t,i,n)))))try{l[e]=i}catch(h){}}},css:function(t,e,i,n){var a,o,r,s=ae.camelCase(e);return e=ae.cssProps[s]||(ae.cssProps[s]=x(t.style,s)),r=ae.cssHooks[e]||ae.cssHooks[s],r&&"get"in r&&(o=r.get(t,!0,i)),void 0===o&&(o=ei(t,e,n)),"normal"===o&&e in ui&&(o=ui[e]),""===i||i?(a=parseFloat(o),i===!0||ae.isNumeric(a)?a||0:o):o}}),ae.each(["height","width"],function(t,e){ae.cssHooks[e]={get:function(t,i,n){return i?si.test(ae.css(t,"display"))&&0===t.offsetWidth?ae.swap(t,ci,function(){return S(t,e,n)}):S(t,e,n):void 0},set:function(t,i,n){var a=n&&ti(t);return A(t,i,n?w(t,e,n,ie.boxSizing&&"border-box"===ae.css(t,"boxSizing",!1,a),a):0)}}}),ie.opacity||(ae.cssHooks.opacity={get:function(t,e){return ri.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var i=t.style,n=t.currentStyle,a=ae.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=n&&n.filter||i.filter||"";i.zoom=1,(e>=1||""===e)&&""===ae.trim(o.replace(oi,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===e||n&&!n.filter)||(i.filter=oi.test(o)?o.replace(oi,a):o+" "+a)}}),ae.cssHooks.marginRight=R(ie.reliableMarginRight,function(t,e){return e?ae.swap(t,{display:"inline-block"},ei,[t,"marginRight"]):void 0}),ae.each({margin:"",padding:"",border:"Width"},function(t,e){ae.cssHooks[t+e]={expand:function(i){for(var n=0,a={},o="string"==typeof i?i.split(" "):[i];4>n;n++)a[t+xe[n]+e]=o[n]||o[n-2]||o[0];return a}},ii.test(t)||(ae.cssHooks[t+e].set=A)}),ae.fn.extend({css:function(t,e){return Ae(this,function(t,e,i){var n,a,o={},r=0;if(ae.isArray(e)){for(n=ti(t),a=e.length;a>r;r++)o[e[r]]=ae.css(t,e[r],!1,n);return o}return void 0!==i?ae.style(t,e,i):ae.css(t,e)},t,e,arguments.length>1)},show:function(){return k(this,!0)},hide:function(){return k(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){ke(this)?ae(this).show():ae(this).hide()})}}),ae.Tween=K,K.prototype={constructor:K,init:function(t,e,i,n,a,o){this.elem=t,this.prop=i,this.easing=a||"swing",this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=o||(ae.cssNumber[i]?"":"px")},cur:function(){var t=K.propHooks[this.prop];return t&&t.get?t.get(this):K.propHooks._default.get(this)},run:function(t){var e,i=K.propHooks[this.prop];return this.pos=e=this.options.duration?ae.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):K.propHooks._default.set(this),this}},K.prototype.init.prototype=K.prototype,K.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=ae.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){ae.fx.step[t.prop]?ae.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[ae.cssProps[t.prop]]||ae.cssHooks[t.prop])?ae.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},K.propHooks.scrollTop=K.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ae.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},ae.fx=K.prototype.init,ae.fx.step={};var fi,mi,pi=/^(?:toggle|show|hide)$/,gi=new RegExp("^(?:([+-])=|)("+Re+")([a-z%]*)$","i"),vi=/queueHooks$/,Ci=[M],Ei={"*":[function(t,e){var i=this.createTween(t,e),n=i.cur(),a=gi.exec(e),o=a&&a[3]||(ae.cssNumber[t]?"":"px"),r=(ae.cssNumber[t]||"px"!==o&&+n)&&gi.exec(ae.css(i.elem,t)),s=1,l=20;if(r&&r[3]!==o){o=o||r[3],a=a||[],r=+n||1;do s=s||".5",r/=s,ae.style(i.elem,t,r+o);while(s!==(s=i.cur()/n)&&1!==s&&--l)}return a&&(r=i.start=+r||+n||0,i.unit=o,i.end=a[1]?r+(a[1]+1)*a[2]:+a[2]),i}]};ae.Animation=ae.extend(B,{tweener:function(t,e){ae.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var i,n=0,a=t.length;a>n;n++)i=t[n],Ei[i]=Ei[i]||[],Ei[i].unshift(e)},prefilter:function(t,e){e?Ci.unshift(t):Ci.push(t)}}),ae.speed=function(t,e,i){var n=t&&"object"==typeof t?ae.extend({},t):{complete:i||!i&&e||ae.isFunction(t)&&t,duration:t,easing:i&&e||e&&!ae.isFunction(e)&&e};return n.duration=ae.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in ae.fx.speeds?ae.fx.speeds[n.duration]:ae.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){ae.isFunction(n.old)&&n.old.call(this),n.queue&&ae.dequeue(this,n.queue)},n},ae.fn.extend({fadeTo:function(t,e,i,n){return this.filter(ke).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var a=ae.isEmptyObject(t),o=ae.speed(e,i,n),r=function(){var e=B(this,ae.extend({},t),o);(a||ae._data(this,"finish"))&&e.stop(!0)};return r.finish=r,a||o.queue===!1?this.each(r):this.queue(o.queue,r)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,a=null!=t&&t+"queueHooks",o=ae.timers,r=ae._data(this);if(a)r[a]&&r[a].stop&&n(r[a]);else for(a in r)r[a]&&r[a].stop&&vi.test(a)&&n(r[a]);for(a=o.length;a--;)o[a].elem!==this||null!=t&&o[a].queue!==t||(o[a].anim.stop(i),e=!1,o.splice(a,1));(e||!i)&&ae.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,i=ae._data(this),n=i[t+"queue"],a=i[t+"queueHooks"],o=ae.timers,r=n?n.length:0;for(i.finish=!0,ae.queue(this,t,[]),a&&a.stop&&a.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;r>e;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),ae.each(["toggle","show","hide"],function(t,e){var i=ae.fn[e];ae.fn[e]=function(t,n,a){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(N(e,!0),t,n,a)}}),ae.each({slideDown:N("show"),slideUp:N("hide"),slideToggle:N("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ae.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),ae.timers=[],ae.fx.tick=function(){var t,e=ae.timers,i=0;for(fi=ae.now();i<e.length;i++)t=e[i],t()||e[i]!==t||e.splice(i--,1);e.length||ae.fx.stop(),fi=void 0},ae.fx.timer=function(t){ae.timers.push(t),t()?ae.fx.start():ae.timers.pop()},ae.fx.interval=13,ae.fx.start=function(){mi||(mi=setInterval(ae.fx.tick,ae.fx.interval))},ae.fx.stop=function(){clearInterval(mi),mi=null},ae.fx.speeds={slow:600,fast:200,_default:400},ae.fn.delay=function(t,e){return t=ae.fx?ae.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var n=setTimeout(e,t);i.stop=function(){clearTimeout(n)}})},function(){var t,e,i,n,a;e=me.createElement("div"),e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=e.getElementsByTagName("a")[0],i=me.createElement("select"),a=i.appendChild(me.createElement("option")),t=e.getElementsByTagName("input")[0],n.style.cssText="top:1px",ie.getSetAttribute="t"!==e.className,ie.style=/top/.test(n.getAttribute("style")),ie.hrefNormalized="/a"===n.getAttribute("href"),ie.checkOn=!!t.value,ie.optSelected=a.selected,ie.enctype=!!me.createElement("form").enctype,i.disabled=!0,ie.optDisabled=!a.disabled,t=me.createElement("input"),t.setAttribute("value",""),ie.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),ie.radioValue="t"===t.value}();var bi=/\r/g;ae.fn.extend({val:function(t){var e,i,n,a=this[0];{if(arguments.length)return n=ae.isFunction(t),this.each(function(i){var a;1===this.nodeType&&(a=n?t.call(this,i,ae(this).val()):t,null==a?a="":"number"==typeof a?a+="":ae.isArray(a)&&(a=ae.map(a,function(t){return null==t?"":t+""})),e=ae.valHooks[this.type]||ae.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,a,"value")||(this.value=a))});if(a)return e=ae.valHooks[a.type]||ae.valHooks[a.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(i=e.get(a,"value"))?i:(i=a.value,"string"==typeof i?i.replace(bi,""):null==i?"":i)}}}),ae.extend({valHooks:{option:{get:function(t){var e=ae.find.attr(t,"value");return null!=e?e:ae.trim(ae.text(t))}},select:{get:function(t){for(var e,i,n=t.options,a=t.selectedIndex,o="select-one"===t.type||0>a,r=o?null:[],s=o?a+1:n.length,l=0>a?s:o?a:0;s>l;l++)if(i=n[l],!(!i.selected&&l!==a||(ie.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&ae.nodeName(i.parentNode,"optgroup"))){if(e=ae(i).val(),o)return e;r.push(e)}return r},set:function(t,e){for(var i,n,a=t.options,o=ae.makeArray(e),r=a.length;r--;)if(n=a[r],ae.inArray(ae.valHooks.option.get(n),o)>=0)try{n.selected=i=!0}catch(s){n.scrollHeight}else n.selected=!1;return i||(t.selectedIndex=-1),a}}}}),ae.each(["radio","checkbox"],function(){ae.valHooks[this]={set:function(t,e){return ae.isArray(e)?t.checked=ae.inArray(ae(t).val(),e)>=0:void 0}},ie.checkOn||(ae.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Ti,yi,Di=ae.expr.attrHandle,Oi=/^(?:checked|selected)$/i,Ii=ie.getSetAttribute,Ri=ie.input;ae.fn.extend({attr:function(t,e){return Ae(this,ae.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ae.removeAttr(this,t)})}}),ae.extend({attr:function(t,e,i){var n,a,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return typeof t.getAttribute===De?ae.prop(t,e,i):(1===o&&ae.isXMLDoc(t)||(e=e.toLowerCase(),n=ae.attrHooks[e]||(ae.expr.match.bool.test(e)?yi:Ti)),void 0===i?n&&"get"in n&&null!==(a=n.get(t,e))?a:(a=ae.find.attr(t,e),null==a?void 0:a):null!==i?n&&"set"in n&&void 0!==(a=n.set(t,i,e))?a:(t.setAttribute(e,i+""),i):void ae.removeAttr(t,e))},removeAttr:function(t,e){var i,n,a=0,o=e&&e.match(Ee);if(o&&1===t.nodeType)for(;i=o[a++];)n=ae.propFix[i]||i,ae.expr.match.bool.test(i)?Ri&&Ii||!Oi.test(i)?t[n]=!1:t[ae.camelCase("default-"+i)]=t[n]=!1:ae.attr(t,i,""),t.removeAttribute(Ii?i:n)},attrHooks:{type:{set:function(t,e){if(!ie.radioValue&&"radio"===e&&ae.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}}}),yi={set:function(t,e,i){return e===!1?ae.removeAttr(t,i):Ri&&Ii||!Oi.test(i)?t.setAttribute(!Ii&&ae.propFix[i]||i,i):t[ae.camelCase("default-"+i)]=t[i]=!0,i}},ae.each(ae.expr.match.bool.source.match(/\w+/g),function(t,e){var i=Di[e]||ae.find.attr;Di[e]=Ri&&Ii||!Oi.test(e)?function(t,e,n){var a,o;return n||(o=Di[e],Di[e]=a,a=null!=i(t,e,n)?e.toLowerCase():null,Di[e]=o),a}:function(t,e,i){return i?void 0:t[ae.camelCase("default-"+e)]?e.toLowerCase():null}}),Ri&&Ii||(ae.attrHooks.value={set:function(t,e,i){return ae.nodeName(t,"input")?void(t.defaultValue=e):Ti&&Ti.set(t,e,i)}}),Ii||(Ti={set:function(t,e,i){var n=t.getAttributeNode(i);return n||t.setAttributeNode(n=t.ownerDocument.createAttribute(i)),n.value=e+="","value"===i||e===t.getAttribute(i)?e:void 0}},Di.id=Di.name=Di.coords=function(t,e,i){var n;return i?void 0:(n=t.getAttributeNode(e))&&""!==n.value?n.value:null},ae.valHooks.button={get:function(t,e){var i=t.getAttributeNode(e);return i&&i.specified?i.value:void 0},set:Ti.set},ae.attrHooks.contenteditable={set:function(t,e,i){Ti.set(t,""===e?!1:e,i)}},ae.each(["width","height"],function(t,e){ae.attrHooks[e]={set:function(t,i){return""===i?(t.setAttribute(e,"auto"),i):void 0}}})),ie.style||(ae.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var xi=/^(?:input|select|textarea|button|object)$/i,ki=/^(?:a|area)$/i;ae.fn.extend({prop:function(t,e){return Ae(this,ae.prop,t,e,arguments.length>1)},removeProp:function(t){return t=ae.propFix[t]||t,this.each(function(){try{this[t]=void 0,delete this[t]}catch(e){}})}}),ae.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,i){var n,a,o,r=t.nodeType;if(t&&3!==r&&8!==r&&2!==r)return o=1!==r||!ae.isXMLDoc(t),o&&(e=ae.propFix[e]||e,a=ae.propHooks[e]),void 0!==i?a&&"set"in a&&void 0!==(n=a.set(t,i,e))?n:t[e]=i:a&&"get"in a&&null!==(n=a.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=ae.find.attr(t,"tabindex");return e?parseInt(e,10):xi.test(t.nodeName)||ki.test(t.nodeName)&&t.href?0:-1}}}}),ie.hrefNormalized||ae.each(["href","src"],function(t,e){ae.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),ie.optSelected||(ae.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),ae.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ae.propFix[this.toLowerCase()]=this}),ie.enctype||(ae.propFix.enctype="encoding");var Ai=/[\t\r\n\f]/g;ae.fn.extend({addClass:function(t){var e,i,n,a,o,r,s=0,l=this.length,h="string"==typeof t&&t;if(ae.isFunction(t))return this.each(function(e){ae(this).addClass(t.call(this,e,this.className))});if(h)for(e=(t||"").match(Ee)||[];l>s;s++)if(i=this[s],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Ai," "):" ")){for(o=0;a=e[o++];)n.indexOf(" "+a+" ")<0&&(n+=a+" ");r=ae.trim(n),i.className!==r&&(i.className=r)}return this},removeClass:function(t){var e,i,n,a,o,r,s=0,l=this.length,h=0===arguments.length||"string"==typeof t&&t;if(ae.isFunction(t))return this.each(function(e){ae(this).removeClass(t.call(this,e,this.className))});if(h)for(e=(t||"").match(Ee)||[];l>s;s++)if(i=this[s],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Ai," "):"")){for(o=0;a=e[o++];)for(;n.indexOf(" "+a+" ")>=0;)n=n.replace(" "+a+" "," ");r=t?ae.trim(n):"",i.className!==r&&(i.className=r)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):this.each(ae.isFunction(t)?function(i){ae(this).toggleClass(t.call(this,i,this.className,e),e)}:function(){if("string"===i)for(var e,n=0,a=ae(this),o=t.match(Ee)||[];e=o[n++];)a.hasClass(e)?a.removeClass(e):a.addClass(e);else(i===De||"boolean"===i)&&(this.className&&ae._data(this,"__className__",this.className),this.className=this.className||t===!1?"":ae._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(Ai," ").indexOf(e)>=0)return!0;return!1}}),ae.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){ae.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),ae.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}});var wi=ae.now(),Si=/\?/,Ki=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ae.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var i,n=null,a=ae.trim(e+"");return a&&!ae.trim(a.replace(Ki,function(t,e,a,o){return i&&e&&(n=0),0===n?t:(i=a||e,n+=!o-!a,"")}))?Function("return "+a)():ae.error("Invalid JSON: "+e)},ae.parseXML=function(e){var i,n;if(!e||"string"!=typeof e)return null;try{t.DOMParser?(n=new DOMParser,i=n.parseFromString(e,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(e))}catch(a){i=void 0}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||ae.error("Invalid XML: "+e),i};var _i,Ni,Fi=/#.*$/,Mi=/([?&])_=[^&]*/,Li=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Bi=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Pi=/^(?:GET|HEAD)$/,$i=/^\/\//,zi=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Hi={},ji={},Vi="*/".concat("*");try{Ni=location.href}catch(qi){Ni=me.createElement("a"),Ni.href="",Ni=Ni.href}_i=zi.exec(Ni.toLowerCase())||[],ae.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ni,type:"GET",isLocal:Bi.test(_i[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Vi,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ae.parseJSON,"text xml":ae.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?z(z(t,ae.ajaxSettings),e):z(ae.ajaxSettings,t)},ajaxPrefilter:P(Hi),ajaxTransport:P(ji),ajax:function(t,e){function i(t,e,i,n){var a,c,v,C,b,y=e;2!==E&&(E=2,s&&clearTimeout(s),h=void 0,r=n||"",T.readyState=t>0?4:0,a=t>=200&&300>t||304===t,i&&(C=H(u,T,i)),C=j(u,C,T,a),a?(u.ifModified&&(b=T.getResponseHeader("Last-Modified"),b&&(ae.lastModified[o]=b),b=T.getResponseHeader("etag"),b&&(ae.etag[o]=b)),204===t||"HEAD"===u.type?y="nocontent":304===t?y="notmodified":(y=C.state,c=C.data,v=C.error,a=!v)):(v=y,(t||!y)&&(y="error",0>t&&(t=0))),T.status=t,T.statusText=(e||y)+"",a?m.resolveWith(d,[c,y,T]):m.rejectWith(d,[T,y,v]),T.statusCode(g),g=void 0,l&&f.trigger(a?"ajaxSuccess":"ajaxError",[T,u,a?c:v]),p.fireWith(d,[T,y]),l&&(f.trigger("ajaxComplete",[T,u]),--ae.active||ae.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,a,o,r,s,l,h,c,u=ae.ajaxSetup({},e),d=u.context||u,f=u.context&&(d.nodeType||d.jquery)?ae(d):ae.event,m=ae.Deferred(),p=ae.Callbacks("once memory"),g=u.statusCode||{},v={},C={},E=0,b="canceled",T={readyState:0,getResponseHeader:function(t){var e;if(2===E){if(!c)for(c={};e=Li.exec(r);)c[e[1].toLowerCase()]=e[2];e=c[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===E?r:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return E||(t=C[i]=C[i]||t,v[t]=e),this},overrideMimeType:function(t){return E||(u.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>E)for(e in t)g[e]=[g[e],t[e]];else T.always(t[T.status]);return this},abort:function(t){var e=t||b;return h&&h.abort(e),i(0,e),this}};if(m.promise(T).complete=p.add,T.success=T.done,T.error=T.fail,u.url=((t||u.url||Ni)+"").replace(Fi,"").replace($i,_i[1]+"//"),u.type=e.method||e.type||u.method||u.type,u.dataTypes=ae.trim(u.dataType||"*").toLowerCase().match(Ee)||[""],null==u.crossDomain&&(n=zi.exec(u.url.toLowerCase()),u.crossDomain=!(!n||n[1]===_i[1]&&n[2]===_i[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(_i[3]||("http:"===_i[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=ae.param(u.data,u.traditional)),$(Hi,u,e,T),2===E)return T;l=u.global,l&&0===ae.active++&&ae.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!Pi.test(u.type),o=u.url,u.hasContent||(u.data&&(o=u.url+=(Si.test(o)?"&":"?")+u.data,delete u.data),u.cache===!1&&(u.url=Mi.test(o)?o.replace(Mi,"$1_="+wi++):o+(Si.test(o)?"&":"?")+"_="+wi++)),u.ifModified&&(ae.lastModified[o]&&T.setRequestHeader("If-Modified-Since",ae.lastModified[o]),ae.etag[o]&&T.setRequestHeader("If-None-Match",ae.etag[o])),(u.data&&u.hasContent&&u.contentType!==!1||e.contentType)&&T.setRequestHeader("Content-Type",u.contentType),T.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+Vi+"; q=0.01":""):u.accepts["*"]);for(a in u.headers)T.setRequestHeader(a,u.headers[a]);if(u.beforeSend&&(u.beforeSend.call(d,T,u)===!1||2===E))return T.abort();b="abort";for(a in{success:1,error:1,complete:1})T[a](u[a]);if(h=$(ji,u,e,T)){T.readyState=1,l&&f.trigger("ajaxSend",[T,u]),u.async&&u.timeout>0&&(s=setTimeout(function(){T.abort("timeout")},u.timeout));try{E=1,h.send(v,i)}catch(y){if(!(2>E))throw y;i(-1,y)}}else i(-1,"No Transport");return T},getJSON:function(t,e,i){return ae.get(t,e,i,"json")},getScript:function(t,e){return ae.get(t,void 0,e,"script")}}),ae.each(["get","post"],function(t,e){ae[e]=function(t,i,n,a){return ae.isFunction(i)&&(a=a||n,n=i,i=void 0),ae.ajax({url:t,type:e,dataType:a,data:i,success:n})}}),ae.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ae.fn[e]=function(t){return this.on(e,t)}}),ae._evalUrl=function(t){return ae.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ae.fn.extend({wrapAll:function(t){if(ae.isFunction(t))return this.each(function(e){ae(this).wrapAll(t.call(this,e))});if(this[0]){var e=ae(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return this.each(ae.isFunction(t)?function(e){ae(this).wrapInner(t.call(this,e))}:function(){var e=ae(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=ae.isFunction(t);return this.each(function(i){ae(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){ae.nodeName(this,"body")||ae(this).replaceWith(this.childNodes)}).end()}}),ae.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||!ie.reliableHiddenOffsets()&&"none"===(t.style&&t.style.display||ae.css(t,"display"))},ae.expr.filters.visible=function(t){return!ae.expr.filters.hidden(t)};var Gi=/%20/g,Wi=/\[\]$/,Ui=/\r?\n/g,Xi=/^(?:submit|button|image|reset|file)$/i,Yi=/^(?:input|select|textarea|keygen)/i;ae.param=function(t,e){var i,n=[],a=function(t,e){e=ae.isFunction(e)?e():null==e?"":e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=ae.ajaxSettings&&ae.ajaxSettings.traditional),ae.isArray(t)||t.jquery&&!ae.isPlainObject(t))ae.each(t,function(){a(this.name,this.value)});else for(i in t)V(i,t[i],e,a);return n.join("&").replace(Gi,"+")},ae.fn.extend({serialize:function(){return ae.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ae.prop(this,"elements");return t?ae.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ae(this).is(":disabled")&&Yi.test(this.nodeName)&&!Xi.test(t)&&(this.checked||!we.test(t))}).map(function(t,e){var i=ae(this).val();return null==i?null:ae.isArray(i)?ae.map(i,function(t){return{name:e.name,value:t.replace(Ui,"\r\n")}}):{name:e.name,value:i.replace(Ui,"\r\n")}}).get()}}),ae.ajaxSettings.xhr=void 0!==t.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&q()||G()}:q;var Ji=0,Zi={},Qi=ae.ajaxSettings.xhr();t.ActiveXObject&&ae(t).on("unload",function(){for(var t in Zi)Zi[t](void 0,!0)}),ie.cors=!!Qi&&"withCredentials"in Qi,Qi=ie.ajax=!!Qi,Qi&&ae.ajaxTransport(function(t){if(!t.crossDomain||ie.cors){var e;return{send:function(i,n){var a,o=t.xhr(),r=++Ji;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)o[a]=t.xhrFields[a];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(a in i)void 0!==i[a]&&o.setRequestHeader(a,i[a]+"");o.send(t.hasContent&&t.data||null),e=function(i,a){var s,l,h;if(e&&(a||4===o.readyState))if(delete Zi[r],e=void 0,o.onreadystatechange=ae.noop,a)4!==o.readyState&&o.abort();else{h={},s=o.status,"string"==typeof o.responseText&&(h.text=o.responseText);try{l=o.statusText}catch(c){l=""}s||!t.isLocal||t.crossDomain?1223===s&&(s=204):s=h.text?200:404}h&&n(s,l,h,o.getAllResponseHeaders())},t.async?4===o.readyState?setTimeout(e):o.onreadystatechange=Zi[r]=e:e()},abort:function(){e&&e(void 0,!0)}}}}),ae.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return ae.globalEval(t),t}}}),ae.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),ae.ajaxTransport("script",function(t){if(t.crossDomain){var e,i=me.head||ae("head")[0]||me.documentElement;return{send:function(n,a){e=me.createElement("script"),e.async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,i){(i||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,i||a(200,"success"))
},i.insertBefore(e,i.firstChild)},abort:function(){e&&e.onload(void 0,!0)}}}});var tn=[],en=/(=)\?(?=&|$)|\?\?/;ae.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=tn.pop()||ae.expando+"_"+wi++;return this[t]=!0,t}}),ae.ajaxPrefilter("json jsonp",function(e,i,n){var a,o,r,s=e.jsonp!==!1&&(en.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&en.test(e.data)&&"data");return s||"jsonp"===e.dataTypes[0]?(a=e.jsonpCallback=ae.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(en,"$1"+a):e.jsonp!==!1&&(e.url+=(Si.test(e.url)?"&":"?")+e.jsonp+"="+a),e.converters["script json"]=function(){return r||ae.error(a+" was not called"),r[0]},e.dataTypes[0]="json",o=t[a],t[a]=function(){r=arguments},n.always(function(){t[a]=o,e[a]&&(e.jsonpCallback=i.jsonpCallback,tn.push(a)),r&&ae.isFunction(o)&&o(r[0]),r=o=void 0}),"script"):void 0}),ae.parseHTML=function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||me;var n=ue.exec(t),a=!i&&[];return n?[e.createElement(n[1])]:(n=ae.buildFragment([t],e,a),a&&a.length&&ae(a).remove(),ae.merge([],n.childNodes))};var nn=ae.fn.load;ae.fn.load=function(t,e,i){if("string"!=typeof t&&nn)return nn.apply(this,arguments);var n,a,o,r=this,s=t.indexOf(" ");return s>=0&&(n=ae.trim(t.slice(s,t.length)),t=t.slice(0,s)),ae.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(o="POST"),r.length>0&&ae.ajax({url:t,type:o,dataType:"html",data:e}).done(function(t){a=arguments,r.html(n?ae("<div>").append(ae.parseHTML(t)).find(n):t)}).complete(i&&function(t,e){r.each(i,a||[t.responseText,e,t])}),this},ae.expr.filters.animated=function(t){return ae.grep(ae.timers,function(e){return t===e.elem}).length};var an=t.document.documentElement;ae.offset={setOffset:function(t,e,i){var n,a,o,r,s,l,h,c=ae.css(t,"position"),u=ae(t),d={};"static"===c&&(t.style.position="relative"),s=u.offset(),o=ae.css(t,"top"),l=ae.css(t,"left"),h=("absolute"===c||"fixed"===c)&&ae.inArray("auto",[o,l])>-1,h?(n=u.position(),r=n.top,a=n.left):(r=parseFloat(o)||0,a=parseFloat(l)||0),ae.isFunction(e)&&(e=e.call(t,i,s)),null!=e.top&&(d.top=e.top-s.top+r),null!=e.left&&(d.left=e.left-s.left+a),"using"in e?e.using.call(t,d):u.css(d)}},ae.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){ae.offset.setOffset(this,t,e)});var e,i,n={top:0,left:0},a=this[0],o=a&&a.ownerDocument;if(o)return e=o.documentElement,ae.contains(e,a)?(typeof a.getBoundingClientRect!==De&&(n=a.getBoundingClientRect()),i=W(o),{top:n.top+(i.pageYOffset||e.scrollTop)-(e.clientTop||0),left:n.left+(i.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):n},position:function(){if(this[0]){var t,e,i={top:0,left:0},n=this[0];return"fixed"===ae.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ae.nodeName(t[0],"html")||(i=t.offset()),i.top+=ae.css(t[0],"borderTopWidth",!0),i.left+=ae.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-ae.css(n,"marginTop",!0),left:e.left-i.left-ae.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||an;t&&!ae.nodeName(t,"html")&&"static"===ae.css(t,"position");)t=t.offsetParent;return t||an})}}),ae.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i=/Y/.test(e);ae.fn[t]=function(n){return Ae(this,function(t,n,a){var o=W(t);return void 0===a?o?e in o?o[e]:o.document.documentElement[n]:t[n]:void(o?o.scrollTo(i?ae(o).scrollLeft():a,i?a:ae(o).scrollTop()):t[n]=a)},t,n,arguments.length,null)}}),ae.each(["top","left"],function(t,e){ae.cssHooks[e]=R(ie.pixelPosition,function(t,i){return i?(i=ei(t,e),ni.test(i)?ae(t).position()[e]+"px":i):void 0})}),ae.each({Height:"height",Width:"width"},function(t,e){ae.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){ae.fn[n]=function(n,a){var o=arguments.length&&(i||"boolean"!=typeof n),r=i||(n===!0||a===!0?"margin":"border");return Ae(this,function(e,i,n){var a;return ae.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(a=e.documentElement,Math.max(e.body["scroll"+t],a["scroll"+t],e.body["offset"+t],a["offset"+t],a["client"+t])):void 0===n?ae.css(e,i,r):ae.style(e,i,n,r)},e,o?n:void 0,o,null)}})}),ae.fn.size=function(){return this.length},ae.fn.andSelf=ae.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ae});var on=t.jQuery,rn=t.$;return ae.noConflict=function(e){return t.$===ae&&(t.$=rn),e&&t.jQuery===ae&&(t.jQuery=on),ae},typeof e===De&&(t.jQuery=t.$=ae),ae}),function(t,e){t.rails!==e&&t.error("jquery-ujs has already been loaded!");var i,n=t(document);t.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not(form button), button[data-confirm]:not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",CSRFProtection:function(e){var i=t('meta[name="csrf-token"]').attr("content");i&&e.setRequestHeader("X-CSRF-Token",i)},refreshCSRFTokens:function(){var e=t("meta[name=csrf-token]").attr("content"),i=t("meta[name=csrf-param]").attr("content");t('form input[name="'+i+'"]').val(e)},fire:function(e,i,n){var a=t.Event(i);return e.trigger(a,n),a.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t.attr("href")},handleRemote:function(n){var a,o,r,s,l,h,c,u;if(i.fire(n,"ajax:before")){if(s=n.data("cross-domain"),l=s===e?null:s,h=n.data("with-credentials")||null,c=n.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,n.is("form")){a=n.attr("method"),o=n.attr("action"),r=n.serializeArray();var d=n.data("ujs:submit-button");d&&(r.push(d),n.data("ujs:submit-button",null))}else n.is(i.inputChangeSelector)?(a=n.data("method"),o=n.data("url"),r=n.serialize(),n.data("params")&&(r=r+"&"+n.data("params"))):n.is(i.buttonClickSelector)?(a=n.data("method")||"get",o=n.data("url"),r=n.serialize(),n.data("params")&&(r=r+"&"+n.data("params"))):(a=n.data("method"),o=i.href(n),r=n.data("params")||null);return u={type:a||"GET",data:r,dataType:c,beforeSend:function(t,a){return a.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+a.accepts.script),i.fire(n,"ajax:beforeSend",[t,a])?void n.trigger("ajax:send",t):!1},success:function(t,e,i){n.trigger("ajax:success",[t,e,i])},complete:function(t,e){n.trigger("ajax:complete",[t,e])},error:function(t,e,i){n.trigger("ajax:error",[t,e,i])},crossDomain:l},h&&(u.xhrFields={withCredentials:h}),o&&(u.url=o),i.ajax(u)}return!1},handleMethod:function(n){var a=i.href(n),o=n.data("method"),r=n.attr("target"),s=t("meta[name=csrf-token]").attr("content"),l=t("meta[name=csrf-param]").attr("content"),h=t('<form method="post" action="'+a+'"></form>'),c='<input name="_method" value="'+o+'" type="hidden" />';l!==e&&s!==e&&(c+='<input name="'+l+'" value="'+s+'" type="hidden" />'),r&&h.attr("target",r),h.hide().append(c).appendTo("body"),h.submit()},formElements:function(e,i){return e.is("form")?t(e[0].elements).filter(i):e.find(i)},disableFormElements:function(e){i.formElements(e,i.disableSelector).each(function(){i.disableFormElement(t(this))})},disableFormElement:function(t){var i,n;i=t.is("button")?"html":"val",n=t.data("disable-with"),t.data("ujs:enable-with",t[i]()),n!==e&&t[i](n),t.prop("disabled",!0)},enableFormElements:function(e){i.formElements(e,i.enableSelector).each(function(){i.enableFormElement(t(this))})},enableFormElement:function(t){var e=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[e](t.data("ujs:enable-with")),t.prop("disabled",!1)},allowAction:function(t){var e,n=t.data("confirm"),a=!1;return n?(i.fire(t,"confirm")&&(a=i.confirm(n),e=i.fire(t,"confirm:complete",[a])),a&&e):!0},blankInputs:function(e,i,n){var a,o,r=t(),s=i||"input,textarea",l=e.find(s);return l.each(function(){if(a=t(this),o=a.is("input[type=checkbox],input[type=radio]")?a.is(":checked"):a.val(),!o==!n){if(a.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+a.attr("name")+'"]').length)return!0;r=r.add(a)}}),r.length?r:!1},nonBlankInputs:function(t,e){return i.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){var n=t.data("disable-with");t.data("ujs:enable-with",t.html()),n!==e&&t.html(n),t.bind("click.railsDisable",function(t){return i.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable")}},i.fire(n,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,n){t.crossDomain||i.CSRFProtection(n)}),n.delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(t(this))}),n.delegate(i.buttonDisableSelector,"ajax:complete",function(){i.enableFormElement(t(this))}),n.delegate(i.linkClickSelector,"click.rails",function(n){var a=t(this),o=a.data("method"),r=a.data("params"),s=n.metaKey||n.ctrlKey;if(!i.allowAction(a))return i.stopEverything(n);if(!s&&a.is(i.linkDisableSelector)&&i.disableElement(a),a.data("remote")!==e){if(s&&(!o||"GET"===o)&&!r)return!0;var l=i.handleRemote(a);return l===!1?i.enableElement(a):l.error(function(){i.enableElement(a)}),!1}return a.data("method")?(i.handleMethod(a),!1):void 0}),n.delegate(i.buttonClickSelector,"click.rails",function(e){var n=t(this);if(!i.allowAction(n))return i.stopEverything(e);n.is(i.buttonDisableSelector)&&i.disableFormElement(n);var a=i.handleRemote(n);return a===!1?i.enableFormElement(n):a.error(function(){i.enableFormElement(n)}),!1}),n.delegate(i.inputChangeSelector,"change.rails",function(e){var n=t(this);return i.allowAction(n)?(i.handleRemote(n),!1):i.stopEverything(e)}),n.delegate(i.formSubmitSelector,"submit.rails",function(n){var a,o,r=t(this),s=r.data("remote")!==e;if(!i.allowAction(r))return i.stopEverything(n);if(r.attr("novalidate")==e&&(a=i.blankInputs(r,i.requiredInputSelector),a&&i.fire(r,"ajax:aborted:required",[a])))return i.stopEverything(n);if(s){if(o=i.nonBlankInputs(r,i.fileInputSelector)){setTimeout(function(){i.disableFormElements(r)},13);var l=i.fire(r,"ajax:aborted:file",[o]);return l||setTimeout(function(){i.enableFormElements(r)},13),l}return i.handleRemote(r),!1}setTimeout(function(){i.disableFormElements(r)},13)}),n.delegate(i.formInputClickSelector,"click.rails",function(e){var n=t(this);if(!i.allowAction(n))return i.stopEverything(e);var a=n.attr("name"),o=a?{name:a,value:n.val()}:null;n.closest("form").data("ujs:submit-button",o)}),n.delegate(i.formSubmitSelector,"ajax:send.rails",function(e){this==e.target&&i.disableFormElements(t(this))}),n.delegate(i.formSubmitSelector,"ajax:complete.rails",function(e){this==e.target&&i.enableFormElements(t(this))}),t(function(){i.refreshCSRFTokens()}))}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,n=this;t(this).one(t.support.transition.end,function(){i=!0});var a=function(){i||t(n).trigger(t.support.transition.end)};return setTimeout(a,e),this},t(function(){t.support.transition=e()})}(jQuery),+function(t){"use strict";var e='[data-dismiss="alert"]',i=function(i){t(i).on("click",e,this.close)};i.prototype.close=function(e){function i(){o.trigger("closed.bs.alert").remove()}var n=t(this),a=n.attr("data-target");a||(a=n.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,""));var o=t(a);e&&e.preventDefault(),o.length||(o=n.hasClass("alert")?n:n.parent()),o.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one(t.support.transition.end,i).emulateTransitionEnd(150):i())};var n=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var n=t(this),a=n.data("bs.alert");a||n.data("bs.alert",a=new i(this)),"string"==typeof e&&a[e].call(n)})},t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=n,this},t(document).on("click.bs.alert.data-api",e,i.prototype.close)}(jQuery),+function(t){"use strict";var e=function(e,i){this.options=i,this.$element=t(e),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};e.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},e.prototype.toggle=function(t){return this[this.isShown?"hide":"show"](t)},e.prototype.show=function(e){var i=this,n=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var n=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(document.body),i.$element.show().scrollTop(0),n&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus();var a=t.Event("shown.bs.modal",{relatedTarget:e});n?i.$element.find(".modal-dialog").one(t.support.transition.end,function(){i.$element.focus().trigger(a)}).emulateTransitionEnd(300):i.$element.focus().trigger(a)}))},e.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one(t.support.transition.end,t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},e.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.focus()},this))},e.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},e.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden.bs.modal")})},e.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},e.prototype.backdrop=function(e){var i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=t.support.transition&&i;if(this.$backdrop=t('<div class="modal-backdrop '+i+'" />').appendTo(document.body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;n?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()):e&&e()};var i=t.fn.modal;t.fn.modal=function(i,n){return this.each(function(){var a=t(this),o=a.data("bs.modal"),r=t.extend({},e.DEFAULTS,a.data(),"object"==typeof i&&i);o||a.data("bs.modal",o=new e(this,r)),"string"==typeof i?o[i](n):r.show&&o.show(n)})},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var i=t(this),n=i.attr("href"),a=t(i.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),o=a.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(n)&&n},a.data(),i.data());i.is("a")&&e.preventDefault(),a.modal(o,this).one("hide",function(){i.is(":visible")&&i.focus()})}),t(document).on("show.bs.modal",".modal",function(){t(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){t(document.body).removeClass("modal-open")})}(jQuery),+function(t){"use strict";function e(e){t(n).remove(),t(a).each(function(){var n=i(t(this)),a={relatedTarget:this};n.hasClass("open")&&(n.trigger(e=t.Event("hide.bs.dropdown",a)),e.isDefaultPrevented()||n.removeClass("open").trigger("hidden.bs.dropdown",a))})}function i(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&t(i);return n&&n.length?n:e.parent()}var n=".dropdown-backdrop",a="[data-toggle=dropdown]",o=function(e){t(e).on("click.bs.dropdown",this.toggle)};o.prototype.toggle=function(n){var a=t(this);if(!a.is(".disabled, :disabled")){var o=i(a),r=o.hasClass("open");if(e(),!r){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e);var s={relatedTarget:this};if(o.trigger(n=t.Event("show.bs.dropdown",s)),n.isDefaultPrevented())return;o.toggleClass("open").trigger("shown.bs.dropdown",s),a.focus()}return!1}},o.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var n=t(this);if(e.preventDefault(),e.stopPropagation(),!n.is(".disabled, :disabled")){var o=i(n),r=o.hasClass("open");if(!r||r&&27==e.keyCode)return 27==e.which&&o.find(a).focus(),n.click();var s=" li:not(.divider):visible a",l=o.find("[role=menu]"+s+", [role=listbox]"+s);if(l.length){var h=l.index(l.filter(":focus"));38==e.keyCode&&h>0&&h--,40==e.keyCode&&h<l.length-1&&h++,~h||(h=0),l.eq(h).focus()}}}};var r=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var i=t(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new o(this)),"string"==typeof e&&n[e].call(i)})},t.fn.dropdown.Constructor=o,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=r,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",a,o.prototype.toggle).on("keydown.bs.dropdown.data-api",a+", [role=menu], [role=listbox]",o.prototype.keydown)}(jQuery),+function(t){"use strict";function e(i,n){var a,o=t.proxy(this.process,this);this.$element=t(t(i).is("body")?window:i),this.$body=t("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",o),this.options=t.extend({},e.DEFAULTS,n),this.selector=(this.options.target||(a=t(i).attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=t([]),this.targets=t([]),this.activeTarget=null,this.refresh(),this.process()}e.DEFAULTS={offset:10},e.prototype.refresh=function(){var e=this.$element[0]==window?"offset":"position";this.offsets=t([]),this.targets=t([]);{var i=this;this.$body.find(this.selector).map(function(){var n=t(this),a=n.data("target")||n.attr("href"),o=/^#./.test(a)&&t(a);return o&&o.length&&o.is(":visible")&&[[o[e]().top+(!t.isWindow(i.$scrollElement.get(0))&&i.$scrollElement.scrollTop()),a]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){i.offsets.push(this[0]),i.targets.push(this[1])})}},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=i-this.$scrollElement.height(),a=this.offsets,o=this.targets,r=this.activeTarget;if(e>=n)return r!=(t=o.last()[0])&&this.activate(t);if(r&&e<=a[0])return r!=(t=o[0])&&this.activate(t);for(t=a.length;t--;)r!=o[t]&&e>=a[t]&&(!a[t+1]||e<=a[t+1])&&this.activate(o[t])},e.prototype.activate=function(e){this.activeTarget=e,t(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=t(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")};var i=t.fn.scrollspy;t.fn.scrollspy=function(i){return this.each(function(){var n=t(this),a=n.data("bs.scrollspy"),o="object"==typeof i&&i;a||n.data("bs.scrollspy",a=new e(this,o)),"string"==typeof i&&a[i]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(jQuery),+function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),n=e.data("target");if(n||(n=e.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var a=i.find(".active:last a")[0],o=t.Event("show.bs.tab",{relatedTarget:a});if(e.trigger(o),!o.isDefaultPrevented()){var r=t(n);this.activate(e.parent("li"),i),this.activate(r,r.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:a})})}}},e.prototype.activate=function(e,i,n){function a(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),r?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),n&&n()}var o=i.find("> .active"),r=n&&t.support.transition&&o.hasClass("fade");r?o.one(t.support.transition.end,a).emulateTransitionEnd(150):a(),o.removeClass("in")};var i=t.fn.tab;t.fn.tab=function(i){return this.each(function(){var n=t(this),a=n.data("bs.tab");a||n.data("bs.tab",a=new e(this)),"string"==typeof i&&a[i]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=i,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(jQuery),+function(t){"use strict";var e=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.prototype.init=function(e,i,n){this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(n);for(var a=this.options.trigger.split(" "),o=a.length;o--;){var r=a[o];if("click"==r)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=r){var s="hover"==r?"mouseenter":"focusin",l="hover"==r?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,n){i[t]!=n&&(e[t]=n)}),e},e.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show()},e.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},e.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(e),e.isDefaultPrevented())return;var i=this,n=this.tip();this.setContent(),this.options.animation&&n.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,n[0],this.$element[0]):this.options.placement,o=/\s?auto?\s?/i,r=o.test(a);r&&(a=a.replace(o,"")||"top"),n.detach().css({top:0,left:0,display:"block"}).addClass(a),this.options.container?n.appendTo(this.options.container):n.insertAfter(this.$element);var s=this.getPosition(),l=n[0].offsetWidth,h=n[0].offsetHeight;if(r){var c=this.$element.parent(),u=a,d=document.documentElement.scrollTop||document.body.scrollTop,f="body"==this.options.container?window.innerWidth:c.outerWidth(),m="body"==this.options.container?window.innerHeight:c.outerHeight(),p="body"==this.options.container?0:c.offset().left;a="bottom"==a&&s.top+s.height+h-d>m?"top":"top"==a&&s.top-d-h<0?"bottom":"right"==a&&s.right+l>f?"left":"left"==a&&s.left-l<p?"right":a,n.removeClass(u).addClass(a)}var g=this.getCalculatedOffset(a,s,l,h);this.applyPlacement(g,a),this.hoverState=null;var v=function(){i.$element.trigger("shown.bs."+i.type)};t.support.transition&&this.$tip.hasClass("fade")?n.one(t.support.transition.end,v).emulateTransitionEnd(150):v()}},e.prototype.applyPlacement=function(e,i){var n,a=this.tip(),o=a[0].offsetWidth,r=a[0].offsetHeight,s=parseInt(a.css("margin-top"),10),l=parseInt(a.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(l)&&(l=0),e.top=e.top+s,e.left=e.left+l,t.offset.setOffset(a[0],t.extend({using:function(t){a.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),a.addClass("in");var h=a[0].offsetWidth,c=a[0].offsetHeight;if("top"==i&&c!=r&&(n=!0,e.top=e.top+r-c),/bottom|top/.test(i)){var u=0;e.left<0&&(u=-2*e.left,e.left=0,a.offset(e),h=a[0].offsetWidth,c=a[0].offsetHeight),this.replaceArrow(u-o+h,h,"left")}else this.replaceArrow(c-r,c,"top");n&&a.offset(e)},e.prototype.replaceArrow=function(t,e,i){this.arrow().css(i,t?50*(1-t/e)+"%":"")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},e.prototype.hide=function(){function e(){"in"!=i.hoverState&&n.detach(),i.$element.trigger("hidden.bs."+i.type)}var i=this,n=this.tip(),a=t.Event("hide.bs."+this.type);return this.$element.trigger(a),a.isDefaultPrevented()?void 0:(n.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?n.one(t.support.transition.end,e).emulateTransitionEnd(150):e(),this.hoverState=null,this)},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},e.prototype.getCalculatedOffset=function(t,e,i,n){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-n,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-n/2,left:e.left-i}:{top:e.top+e.height/2-n/2,left:e.left+e.width}},e.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},e.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var i=e?t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;i.tip().hasClass("in")?i.leave(i):i.enter(i)},e.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var i=t.fn.tooltip;t.fn.tooltip=function(i){return this.each(function(){var n=t(this),a=n.data("bs.tooltip"),o="object"==typeof i&&i;(a||"destroy"!=i)&&(a||n.data("bs.tooltip",a=new e(this,o)),"string"==typeof i&&a[i]())})},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(jQuery),+function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),e.prototype.constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},e.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var i=t.fn.popover;t.fn.popover=function(i){return this.each(function(){var n=t(this),a=n.data("bs.popover"),o="object"==typeof i&&i;(a||"destroy"!=i)&&(a||n.data("bs.popover",a=new e(this,o)),"string"==typeof i&&a[i]())})},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(jQuery),+function(t){"use strict";var e=function(i,n){this.$element=t(i),this.options=t.extend({},e.DEFAULTS,n),this.isLoading=!1};e.DEFAULTS={loadingText:"loading..."},e.prototype.setState=function(e){var i="disabled",n=this.$element,a=n.is("input")?"val":"html",o=n.data();e+="Text",o.resetText||n.data("resetText",n[a]()),n[a](o[e]||this.options[e]),setTimeout(t.proxy(function(){"loadingText"==e?(this.isLoading=!0,n.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i))},this),0)},e.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")&&(i.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&i.prop("checked",!this.$element.hasClass("active")).trigger("change")}t&&this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=function(i){return this.each(function(){var n=t(this),a=n.data("bs.button"),o="object"==typeof i&&i;a||n.data("bs.button",a=new e(this,o)),"toggle"==i?a.toggle():i&&a.setState(i)})},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api","[data-toggle^=button]",function(e){var i=t(e.target);i.hasClass("btn")||(i=i.closest(".btn")),i.button("toggle"),e.preventDefault()})}(jQuery),+function(t){"use strict";var e=function(i,n){this.$element=t(i),this.options=t.extend({},e.DEFAULTS,n),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.DEFAULTS={toggle:!0},e.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"
},e.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e=t.Event("show.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.$parent&&this.$parent.find("> .panel > .in");if(i&&i.length){var n=i.data("bs.collapse");if(n&&n.transitioning)return;i.collapse("hide"),n||i.data("bs.collapse",null)}var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0),this.transitioning=1;var o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return o.call(this);var r=t.camelCase(["scroll",a].join("-"));this.$element.one(t.support.transition.end,t.proxy(o,this)).emulateTransitionEnd(350)[a](this.$element[0][r])}}},e.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return t.support.transition?void this.$element[i](0).one(t.support.transition.end,t.proxy(n,this)).emulateTransitionEnd(350):n.call(this)}}},e.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var i=t.fn.collapse;t.fn.collapse=function(i){return this.each(function(){var n=t(this),a=n.data("bs.collapse"),o=t.extend({},e.DEFAULTS,n.data(),"object"==typeof i&&i);!a&&o.toggle&&"show"==i&&(i=!i),a||n.data("bs.collapse",a=new e(this,o)),"string"==typeof i&&a[i]()})},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=i,this},t(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(e){var i,n=t(this),a=n.attr("data-target")||e.preventDefault()||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),o=t(a),r=o.data("bs.collapse"),s=r?"toggle":n.data(),l=n.attr("data-parent"),h=l&&t(l);r&&r.transitioning||(h&&h.find('[data-toggle=collapse][data-parent="'+l+'"]').not(n).addClass("collapsed"),n[o.hasClass("in")?"addClass":"removeClass"]("collapsed")),o.collapse(s)})}(jQuery),+function(t){"use strict";var e=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},e.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},e.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},e.prototype.to=function(e){var i=this,n=this.getActiveIndex();return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){i.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",t(this.$items[e]))},e.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},e.prototype.next=function(){return this.sliding?void 0:this.slide("next")},e.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},e.prototype.slide=function(e,i){var n=this.$element.find(".item.active"),a=i||n[e](),o=this.interval,r="next"==e?"left":"right",s="next"==e?"first":"last",l=this;if(!a.length){if(!this.options.wrap)return;a=this.$element.find(".item")[s]()}if(a.hasClass("active"))return this.sliding=!1;var h=t.Event("slide.bs.carousel",{relatedTarget:a[0],direction:r});return this.$element.trigger(h),h.isDefaultPrevented()?void 0:(this.sliding=!0,o&&this.pause(),this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var e=t(l.$indicators.children()[l.getActiveIndex()]);e&&e.addClass("active")})),t.support.transition&&this.$element.hasClass("slide")?(a.addClass(e),a[0].offsetWidth,n.addClass(r),a.addClass(r),n.one(t.support.transition.end,function(){a.removeClass([e,r].join(" ")).addClass("active"),n.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(1e3*n.css("transition-duration").slice(0,-1))):(n.removeClass("active"),a.addClass("active"),this.sliding=!1,this.$element.trigger("slid.bs.carousel")),o&&this.cycle(),this)};var i=t.fn.carousel;t.fn.carousel=function(i){return this.each(function(){var n=t(this),a=n.data("bs.carousel"),o=t.extend({},e.DEFAULTS,n.data(),"object"==typeof i&&i),r="string"==typeof i?i:o.slide;a||n.data("bs.carousel",a=new e(this,o)),"number"==typeof i?a.to(i):r?a[r]():o.interval&&a.pause().cycle()})},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this},t(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(e){var i,n=t(this),a=t(n.attr("data-target")||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")),o=t.extend({},a.data(),n.data()),r=n.attr("data-slide-to");r&&(o.interval=!1),a.carousel(o),(r=n.attr("data-slide-to"))&&a.data("bs.carousel").to(r),e.preventDefault()}),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var e=t(this);e.carousel(e.data())})})}(jQuery),+function(t){"use strict";var e=function(i,n){this.options=t.extend({},e.DEFAULTS,n),this.$window=t(window).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(i),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};e.RESET="affix affix-top affix-bottom",e.DEFAULTS={offset:0},e.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(e.RESET).addClass("affix");var t=this.$window.scrollTop(),i=this.$element.offset();return this.pinnedOffset=i.top-t},e.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var i=t(document).height(),n=this.$window.scrollTop(),a=this.$element.offset(),o=this.options.offset,r=o.top,s=o.bottom;"top"==this.affixed&&(a.top+=n),"object"!=typeof o&&(s=r=o),"function"==typeof r&&(r=o.top(this.$element)),"function"==typeof s&&(s=o.bottom(this.$element));var l=null!=this.unpin&&n+this.unpin<=a.top?!1:null!=s&&a.top+this.$element.height()>=i-s?"bottom":null!=r&&r>=n?"top":!1;if(this.affixed!==l){this.unpin&&this.$element.css("top","");var h="affix"+(l?"-"+l:""),c=t.Event(h+".bs.affix");this.$element.trigger(c),c.isDefaultPrevented()||(this.affixed=l,this.unpin="bottom"==l?this.getPinnedOffset():null,this.$element.removeClass(e.RESET).addClass(h).trigger(t.Event(h.replace("affix","affixed"))),"bottom"==l&&this.$element.offset({top:i-s-this.$element.height()}))}}};var i=t.fn.affix;t.fn.affix=function(i){return this.each(function(){var n=t(this),a=n.data("bs.affix"),o="object"==typeof i&&i;a||n.data("bs.affix",a=new e(this,o)),"string"==typeof i&&a[i]()})},t.fn.affix.Constructor=e,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),i=e.data();i.offset=i.offset||{},i.offsetBottom&&(i.offset.bottom=i.offsetBottom),i.offsetTop&&(i.offset.top=i.offsetTop),e.affix(i)})})}(jQuery),function(){var t,e,i,n,a,o,r,s,l,h,c,u,d,f,m,p,g,v,C,E,b,T,y,D,O,I,R,x,k,A,w,S,K,_,N,F,M,L,B,P,$,z,H,j,V,q,G,W,U,X,Y,J,Z,Q,te,ee,ie=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1},ne=function(t,e){function i(){this.constructor=t}for(var n in e)ae.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},ae={}.hasOwnProperty,oe=[].slice,re=function(t,e){return function(){return t.apply(e,arguments)}};_={},d=10,J=!1,B=null,C=null,S=null,z=null,ee=null,n={BEFORE_CHANGE:"page:before-change",FETCH:"page:fetch",RECEIVE:"page:receive",CHANGE:"page:change",UPDATE:"page:update",LOAD:"page:load",RESTORE:"page:restore",BEFORE_UNLOAD:"page:before-unload",EXPIRE:"page:expire"},D=function(t){var e;return t=new i(t),G(),u(),null!=B&&B.start(),J&&(e=Z(t.absolute))?(O(e),I(t,null,!1)):I(t,X)},Z=function(t){var e;return e=_[t],e&&!e.transitionCacheDisabled?e:void 0},b=function(t){return null==t&&(t=!0),J=t},E=function(t){return null==t&&(t=!0),h?t?null!=B?B:B=new o("html"):(null!=B&&B.uninstall(),B=null):void 0},I=function(t,e,i){return null==i&&(i=!0),Q(n.FETCH,{url:t.absolute}),null!=ee&&ee.abort(),ee=new XMLHttpRequest,ee.open("GET",t.withoutHashForIE10compatibility(),!0),ee.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml"),ee.setRequestHeader("X-XHR-Referer",z),ee.onload=function(){var i;return Q(n.RECEIVE,{url:t.absolute}),(i=L())?(H(t),j(),f.apply(null,y(i)),K(),"function"==typeof e&&e(),Q(n.LOAD)):document.location.href=v()||t.absolute},B&&i&&(ee.onprogress=function(){return function(t){var e;return e=t.lengthComputable?t.loaded/t.total*100:B.value+(100-B.value)/10,B.advanceTo(e)}}(this)),ee.onloadend=function(){return ee=null},ee.onerror=function(){return document.location.href=t.absolute},ee.send()},O=function(t){return null!=ee&&ee.abort(),f(t.title,t.body),P(t),Q(n.RESTORE)},u=function(){var t;return t=new i(C.url),_[t.absolute]={url:t.relative,body:document.body,title:document.title,positionY:window.pageYOffset,positionX:window.pageXOffset,cachedAt:(new Date).getTime(),transitionCacheDisabled:null!=document.querySelector("[data-no-transition-cache]")},p(d)},F=function(t){return null==t&&(t=d),/^[\d]+$/.test(t)?d=parseInt(t):void 0},p=function(t){var e,i,a,o,r,s;for(r=Object.keys(_),e=r.map(function(t){return _[t].cachedAt}).sort(function(t,e){return e-t}),s=[],i=0,o=r.length;o>i;i++)a=r[i],_[a].cachedAt<=e[t]&&(Q(n.EXPIRE,_[a]),s.push(delete _[a]));return s},f=function(e,i,a,o){return Q(n.BEFORE_UNLOAD),document.title=e,document.documentElement.replaceChild(i,document.body),null!=a&&t.update(a),Y(),o&&T(),C=window.history.state,null!=B&&B.done(),Q(n.CHANGE),Q(n.UPDATE)},T=function(){var t,e,i,n,a,o,r,s,l,h,c,u;for(u=Array.prototype.slice.call(document.body.querySelectorAll('script:not([data-turbolinks-eval="false"])')),i=0,a=u.length;a>i;i++)if(c=u[i],""===(l=c.type)||"text/javascript"===l){for(e=document.createElement("script"),h=c.attributes,n=0,o=h.length;o>n;n++)t=h[n],e.setAttribute(t.name,t.value);c.hasAttribute("async")||(e.async=!1),e.appendChild(document.createTextNode(c.innerHTML)),s=c.parentNode,r=c.nextSibling,s.removeChild(c),s.insertBefore(e,r)}},W=function(t){return t.innerHTML=t.innerHTML.replace(/<noscript[\S\s]*?<\/noscript>/gi,""),t},Y=function(){var t,e;return t=(e=document.querySelectorAll("input[autofocus], textarea[autofocus]"))[e.length-1],t&&document.activeElement!==t?t.focus():void 0},H=function(t){return(t=new i(t)).absolute!==z?window.history.pushState({turbolinks:!0,url:t.absolute},"",t.absolute):void 0},j=function(){var t,e;return(t=ee.getResponseHeader("X-XHR-Redirected-To"))?(t=new i(t),e=t.hasNoHash()?document.location.hash:"",window.history.replaceState(window.history.state,"",t.href+e)):void 0},v=function(){var t;return null!=(t=ee.getResponseHeader("Location"))&&new i(t).crossOrigin()?t:void 0},G=function(){return z=document.location.href},q=function(){return window.history.replaceState({turbolinks:!0,url:document.location.href},"",document.location.href)},V=function(){return C=window.history.state},K=function(){var t;return navigator.userAgent.match(/Firefox/)&&!(t=new i).hasNoHash()?(window.history.replaceState(C,"",t.withoutHash()),document.location.hash=t.hash):void 0},P=function(t){return window.scrollTo(t.positionX,t.positionY)},X=function(){return document.location.hash?document.location.href=document.location.href:window.scrollTo(0,0)},m=function(t){var e,i,n;if(null==t||"object"!=typeof t)return t;e=new t.constructor;for(i in t)n=t[i],e[i]=m(n);return e},M=function(t){var e,i;return i=(null!=(e=document.cookie.match(new RegExp(t+"=(\\w+)")))?e[1].toUpperCase():void 0)||"",document.cookie=t+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/",i},Q=function(t,e){var i;return"undefined"!=typeof Prototype&&Event.fire(document,t,e,!0),i=document.createEvent("Events"),e&&(i.data=e),i.initEvent(t,!0,!0),document.dispatchEvent(i)},N=function(t){return!Q(n.BEFORE_CHANGE,{url:t})},L=function(){var t,e,i,n,a,o;return e=function(){var t;return 400<=(t=ee.status)&&600>t},o=function(){var t;return null!=(t=ee.getResponseHeader("Content-Type"))&&t.match(/^(?:text\/html|application\/xhtml\+xml|application\/xml)(?:;|$)/)},n=function(t){var e,i,n,a,o;for(a=t.querySelector("head").childNodes,o=[],e=0,i=a.length;i>e;e++)n=a[e],null!=("function"==typeof n.getAttribute?n.getAttribute("data-turbolinks-track"):void 0)&&o.push(n.getAttribute("src")||n.getAttribute("href"));return o},t=function(t){var e;return S||(S=n(document)),e=n(t),e.length!==S.length||a(e,S).length!==S.length},a=function(t,e){var i,n,a,o,r;for(t.length>e.length&&(a=[e,t],t=a[0],e=a[1]),o=[],i=0,n=t.length;n>i;i++)r=t[i],ie.call(e,r)>=0&&o.push(r);return o},!e()&&o()&&(i=g(ee.responseText),i&&!t(i))?i:void 0},y=function(e){var i;return i=e.querySelector("title"),[null!=i?i.textContent:void 0,W(e.querySelector("body")),t.get(e).token,"runScripts"]},t={get:function(t){var e;return null==t&&(t=document),{node:e=t.querySelector('meta[name="csrf-token"]'),token:null!=e&&"function"==typeof e.getAttribute?e.getAttribute("content"):void 0}},update:function(t){var e;return e=this.get(),null!=e.token&&null!=t&&e.token!==t?e.node.setAttribute("content",t):void 0}},g=function(t){var e;return e=document.documentElement.cloneNode(),e.innerHTML=t,e.head=e.querySelector("head"),e.body=e.querySelector("body"),e},i=function(){function t(e){return this.original=null!=e?e:document.location.href,this.original.constructor===t?this.original:void this._parse()}return t.prototype.withoutHash=function(){return this.href.replace(this.hash,"").replace("#","")},t.prototype.withoutHashForIE10compatibility=function(){return this.withoutHash()},t.prototype.hasNoHash=function(){return 0===this.hash.length},t.prototype.crossOrigin=function(){return this.origin!==(new t).origin},t.prototype._parse=function(){var t;return(null!=this.link?this.link:this.link=document.createElement("a")).href=this.original,t=this.link,this.href=t.href,this.protocol=t.protocol,this.host=t.host,this.hostname=t.hostname,this.port=t.port,this.pathname=t.pathname,this.search=t.search,this.hash=t.hash,this.origin=[this.protocol,"//",this.hostname].join(""),0!==this.port.length&&(this.origin+=":"+this.port),this.relative=[this.pathname,this.search,this.hash].join(""),this.absolute=this.href},t}(),a=function(t){function e(t){return this.link=t,this.link.constructor===e?this.link:(this.original=this.link.href,this.originalElement=this.link,this.link=this.link.cloneNode(!1),void e.__super__.constructor.apply(this,arguments))}return ne(e,t),e.HTML_EXTENSIONS=["html"],e.allowExtensions=function(){var t,i,n,a;for(i=1<=arguments.length?oe.call(arguments,0):[],n=0,a=i.length;a>n;n++)t=i[n],e.HTML_EXTENSIONS.push(t);return e.HTML_EXTENSIONS},e.prototype.shouldIgnore=function(){return this.crossOrigin()||this._anchored()||this._nonHtml()||this._optOut()||this._target()},e.prototype._anchored=function(){return(this.hash.length>0||"#"===this.href.charAt(this.href.length-1))&&this.withoutHash()===(new i).withoutHash()},e.prototype._nonHtml=function(){return this.pathname.match(/\.[a-z]+$/g)&&!this.pathname.match(new RegExp("\\.(?:"+e.HTML_EXTENSIONS.join("|")+")?$","g"))},e.prototype._optOut=function(){var t,e;for(e=this.originalElement;!t&&e!==document;)t=null!=e.getAttribute("data-no-turbolink"),e=e.parentNode;return t},e.prototype._target=function(){return 0!==this.link.target.length},e}(i),e=function(){function t(t){this.event=t,this.event.defaultPrevented||(this._extractLink(),this._validForTurbolinks()&&(N(this.link.absolute)||te(this.link.href),this.event.preventDefault()))}return t.installHandlerLast=function(e){return e.defaultPrevented?void 0:(document.removeEventListener("click",t.handle,!1),document.addEventListener("click",t.handle,!1))},t.handle=function(e){return new t(e)},t.prototype._extractLink=function(){var t;for(t=this.event.target;t.parentNode&&"A"!==t.nodeName;)t=t.parentNode;return"A"===t.nodeName&&0!==t.href.length?this.link=new a(t):void 0},t.prototype._validForTurbolinks=function(){return null!=this.link&&!(this.link.shouldIgnore()||this._nonStandardClick())},t.prototype._nonStandardClick=function(){return this.event.which>1||this.event.metaKey||this.event.ctrlKey||this.event.shiftKey||this.event.altKey},t}(),o=function(){function t(t){this.elementSelector=t,this._trickle=re(this._trickle,this),this.value=0,this.content="",this.speed=300,this.opacity=.99,this.install()}var e;return e="turbolinks-progress-bar",t.prototype.install=function(){return this.element=document.querySelector(this.elementSelector),this.element.classList.add(e),this.styleElement=document.createElement("style"),document.head.appendChild(this.styleElement),this._updateStyle()},t.prototype.uninstall=function(){return this.element.classList.remove(e),document.head.removeChild(this.styleElement)},t.prototype.start=function(){return this.advanceTo(5)},t.prototype.advanceTo=function(t){var e;if(t>(e=this.value)&&100>=e){if(this.value=t,this._updateStyle(),100===this.value)return this._stopTrickle();if(this.value>0)return this._startTrickle()}},t.prototype.done=function(){return this.value>0?(this.advanceTo(100),this._reset()):void 0},t.prototype._reset=function(){var t;return t=this.opacity,setTimeout(function(t){return function(){return t.opacity=0,t._updateStyle()}}(this),this.speed/2),setTimeout(function(e){return function(){return e.value=0,e.opacity=t,e._withSpeed(0,function(){return e._updateStyle(!0)})}}(this),this.speed)},t.prototype._startTrickle=function(){return this.trickling?void 0:(this.trickling=!0,setTimeout(this._trickle,this.speed))},t.prototype._stopTrickle=function(){return delete this.trickling},t.prototype._trickle=function(){return this.trickling?(this.advanceTo(this.value+Math.random()/2),setTimeout(this._trickle,this.speed)):void 0},t.prototype._withSpeed=function(t,e){var i,n;return i=this.speed,this.speed=t,n=e(),this.speed=i,n},t.prototype._updateStyle=function(t){return null==t&&(t=!1),t&&this._changeContentToForceRepaint(),this.styleElement.textContent=this._createCSSRule()},t.prototype._changeContentToForceRepaint=function(){return this.content=""===this.content?" ":""},t.prototype._createCSSRule=function(){return this.elementSelector+"."+e+"::before {\n  content: '"+this.content+"';\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 2000;\n  background-color: #0076ff;\n  height: 3px;\n  opacity: "+this.opacity+";\n  width: "+this.value+"%;\n  transition: width "+this.speed+"ms ease-out, opacity "+this.speed/2+"ms ease-in;\n  transform: translate3d(0,0,0);\n}"},t}(),c=function(t){return setTimeout(t,500)},k=function(){return document.addEventListener("DOMContentLoaded",function(){return Q(n.CHANGE),Q(n.UPDATE)},!0)},w=function(){return"undefined"!=typeof jQuery?jQuery(document).on("ajaxSuccess",function(t,e){return jQuery.trim(e.responseText)?Q(n.UPDATE):void 0}):void 0},A=function(t){var e,n;return(null!=(n=t.state)?n.turbolinks:void 0)?(e=_[new i(t.state.url).absolute])?(u(),O(e)):te(t.target.location.href):void 0},x=function(){return q(),V(),document.addEventListener("click",e.installHandlerLast,!0),window.addEventListener("hashchange",function(){return q(),V()},!1),c(function(){return window.addEventListener("popstate",A,!1)})},R=void 0!==window.history.state||navigator.userAgent.match(/Firefox\/2[6|7]/),l=window.history&&window.history.pushState&&window.history.replaceState&&R,r=!navigator.userAgent.match(/CriOS\//),U="GET"===($=M("request_method"))||""===$,h=l&&r&&U,s=document.addEventListener&&document.createEvent,s&&(k(),w()),h?(te=D,x()):te=function(t){return document.location.href=t},this.Turbolinks={visit:te,pagesCached:F,enableTransitionCache:b,enableProgressBar:E,allowLinkExtensions:a.allowExtensions,supported:h,EVENTS:m(n)}}.call(this),function(){("undefined"==typeof window.CKEDITOR_BASEPATH||null===window.CKEDITOR_BASEPATH)&&(window.CKEDITOR_BASEPATH="/assets/ckeditor/")}.call(this),function(){window.CKEDITOR&&window.CKEDITOR.dom||(window.CKEDITOR||(window.CKEDITOR=function(){var t=/(^|.*[\\\/])ckeditor\.js(?:\?.*|;.*)?$/i,e={timestamp:"EAPE",version:"4.4.6",revision:"08188c4",rnd:Math.floor(900*Math.random())+100,_:{pending:[],basePathSrcPattern:t},status:"unloaded",basePath:function(){var e=window.CKEDITOR_BASEPATH||"";if(!e)for(var i=document.getElementsByTagName("script"),n=0;n<i.length;n++){var a=i[n].src.match(t);if(a){e=a[1];break}}if(-1==e.indexOf(":/")&&"//"!=e.slice(0,2)&&(e=0===e.indexOf("/")?location.href.match(/^.*?:\/\/[^\/]*/)[0]+e:location.href.match(/^[^\?]*\/(?:)/)[0]+e),!e)throw'The CKEditor installation path could not be automatically detected. Please set the global variable "CKEDITOR_BASEPATH" before creating editor instances.';return e}(),getUrl:function(t){return-1==t.indexOf(":/")&&0!==t.indexOf("/")&&(t=this.basePath+t),this.timestamp&&"/"!=t.charAt(t.length-1)&&!/[&?]t=/.test(t)&&(t+=(0<=t.indexOf("?")?"&":"?")+"t="+this.timestamp),t},domReady:function(){function t(){try{document.addEventListener?(document.removeEventListener("DOMContentLoaded",t,!1),e()):document.attachEvent&&"complete"===document.readyState&&(document.detachEvent("onreadystatechange",t),e())}catch(i){}}function e(){for(var t;t=i.shift();)t()}var i=[];return function(e){function n(){try{document.documentElement.doScroll("left")}catch(e){return void setTimeout(n,1)}t()}if(i.push(e),"complete"===document.readyState&&setTimeout(t,1),1==i.length)if(document.addEventListener)document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",t),window.attachEvent("onload",t),e=!1;try{e=!window.frameElement}catch(a){}document.documentElement.doScroll&&e&&n()}}}()},i=window.CKEDITOR_GETURL;if(i){var n=e.getUrl;e.getUrl=function(t){return i.call(e,t)||n.call(e,t)}}return e}()),CKEDITOR.event||(CKEDITOR.event=function(){},CKEDITOR.event.implementOn=function(t){var e,i=CKEDITOR.event.prototype;for(e in i)null==t[e]&&(t[e]=i[e])},CKEDITOR.event.prototype=function(){function t(t){var n=e(this);return n[t]||(n[t]=new i(t))}var e=function(t){return t=t.getPrivate&&t.getPrivate()||t._||(t._={}),t.events||(t.events={})},i=function(t){this.name=t,this.listeners=[]};return i.prototype={getListenerIndex:function(t){for(var e=0,i=this.listeners;e<i.length;e++)if(i[e].fn==t)return e;return-1}},{define:function(e,i){var n=t.call(this,e);CKEDITOR.tools.extend(n,i,!0)},on:function(e,i,n,a,o){function r(t,o,r,l){return t={name:e,sender:this,editor:t,data:o,listenerData:a,stop:r,cancel:l,removeListener:s},i.call(n,t)===!1?!1:t.data}function s(){h.removeListener(e,i)}var l=t.call(this,e);if(l.getListenerIndex(i)<0){l=l.listeners,n||(n=this),isNaN(o)&&(o=10);var h=this;r.fn=i,r.priority=o;for(var c=l.length-1;c>=0;c--)if(l[c].priority<=o)return l.splice(c+1,0,r),{removeListener:s};l.unshift(r)}return{removeListener:s}},once:function(){var t=Array.prototype.slice.call(arguments),e=t[1];return t[1]=function(t){return t.removeListener(),e.apply(this,arguments)},this.on.apply(this,t)},capture:function(){CKEDITOR.event.useCapture=1;var t=this.on.apply(this,arguments);return CKEDITOR.event.useCapture=0,t},fire:function(){var t=0,i=function(){t=1},n=0,a=function(){n=1};return function(o,r,s){var l=e(this)[o],o=t,h=n;if(t=n=0,l){var c=l.listeners;if(c.length)for(var u,c=c.slice(0),d=0;d<c.length;d++){if(l.errorProof)try{u=c[d].call(this,s,r,i,a)}catch(f){}else u=c[d].call(this,s,r,i,a);if(u===!1?n=1:"undefined"!=typeof u&&(r=u),t||n)break}}return r=n?!1:"undefined"==typeof r?!0:r,t=o,n=h,r}}(),fireOnce:function(t,i,n){return i=this.fire(t,i,n),delete e(this)[t],i},removeListener:function(t,i){var n=e(this)[t];if(n){var a=n.getListenerIndex(i);a>=0&&n.listeners.splice(a,1)}},removeAllListeners:function(){var t,i=e(this);for(t in i)delete i[t]},hasListeners:function(t){return(t=e(this)[t])&&t.listeners.length>0}}}()),CKEDITOR.editor||(CKEDITOR.editor=function(){CKEDITOR._.pending.push([this,arguments]),CKEDITOR.event.call(this)},CKEDITOR.editor.prototype.fire=function(t,e){return t in{instanceReady:1,loaded:1}&&(this[t]=!0),CKEDITOR.event.prototype.fire.call(this,t,e,this)},CKEDITOR.editor.prototype.fireOnce=function(t,e){return t in{instanceReady:1,loaded:1}&&(this[t]=!0),CKEDITOR.event.prototype.fireOnce.call(this,t,e,this)},CKEDITOR.event.implementOn(CKEDITOR.editor.prototype)),CKEDITOR.env||(CKEDITOR.env=function(){var t=navigator.userAgent.toLowerCase(),e={ie:t.indexOf("trident/")>-1,webkit:t.indexOf(" applewebkit/")>-1,air:t.indexOf(" adobeair/")>-1,mac:t.indexOf("macintosh")>-1,quirks:"BackCompat"==document.compatMode&&(!document.documentMode||document.documentMode<10),mobile:t.indexOf("mobile")>-1,iOS:/(ipad|iphone|ipod)/.test(t),isCustomDomain:function(){if(!this.ie)return!1;var t=document.domain,e=window.location.hostname;return t!=e&&t!="["+e+"]"},secure:"https:"==location.protocol};e.gecko="Gecko"==navigator.product&&!e.webkit&&!e.ie,e.webkit&&(t.indexOf("chrome")>-1?e.chrome=!0:e.safari=!0);var i=0;if(e.ie&&(i=e.quirks||!document.documentMode?parseFloat(t.match(/msie (\d+)/)[1]):document.documentMode,e.ie9Compat=9==i,e.ie8Compat=8==i,e.ie7Compat=7==i,e.ie6Compat=7>i||e.quirks),e.gecko){var n=t.match(/rv:([\d\.]+)/);n&&(n=n[1].split("."),i=1e4*n[0]+100*(n[1]||0)+1*(n[2]||0))}return e.air&&(i=parseFloat(t.match(/ adobeair\/(\d+)/)[1])),e.webkit&&(i=parseFloat(t.match(/ applewebkit\/(\d+)/)[1])),e.version=i,e.isCompatible=e.iOS&&i>=534||!e.mobile&&(e.ie&&i>6||e.gecko&&i>=2e4||e.air&&i>=1||e.webkit&&i>=522||!1),e.hidpi=window.devicePixelRatio>=2,e.needsBrFiller=e.gecko||e.webkit||e.ie&&i>10,e.needsNbspFiller=e.ie&&11>i,e.cssClass="cke_browser_"+(e.ie?"ie":e.gecko?"gecko":e.webkit?"webkit":"unknown"),e.quirks&&(e.cssClass=e.cssClass+" cke_browser_quirks"),e.ie&&(e.cssClass=e.cssClass+(" cke_browser_ie"+(e.quirks?"6 cke_browser_iequirks":e.version))),e.air&&(e.cssClass=e.cssClass+" cke_browser_air"),e.iOS&&(e.cssClass=e.cssClass+" cke_browser_ios"),e.hidpi&&(e.cssClass=e.cssClass+" cke_hidpi"),e}()),"unloaded"==CKEDITOR.status&&function(){CKEDITOR.event.implementOn(CKEDITOR),CKEDITOR.loadFullCore=function(){if("basic_ready"!=CKEDITOR.status)CKEDITOR.loadFullCore._load=1;else{delete CKEDITOR.loadFullCore;var t=document.createElement("script");t.type="text/javascript",t.src=CKEDITOR.basePath+"ckeditor.js",document.getElementsByTagName("head")[0].appendChild(t)}},CKEDITOR.loadFullCoreTimeout=0,CKEDITOR.add=function(t){(this._.pending||(this._.pending=[])).push(t)},function(){CKEDITOR.domReady(function(){var t=CKEDITOR.loadFullCore,e=CKEDITOR.loadFullCoreTimeout;t&&(CKEDITOR.status="basic_ready",t&&t._load?t():e&&setTimeout(function(){CKEDITOR.loadFullCore&&CKEDITOR.loadFullCore()},1e3*e))})}(),CKEDITOR.status="basic_loaded"}(),CKEDITOR.dom={},function(){var t=[],e=CKEDITOR.env.gecko?"-moz-":CKEDITOR.env.webkit?"-webkit-":CKEDITOR.env.ie?"-ms-":"",i=/&/g,n=/>/g,a=/</g,o=/"/g,r=/&amp;/g,s=/&gt;/g,l=/&lt;/g,h=/&quot;/g;CKEDITOR.on("reset",function(){t=[]}),CKEDITOR.tools={arrayCompare:function(t,e){if(!t&&!e)return!0;if(!t||!e||t.length!=e.length)return!1;for(var i=0;i<t.length;i++)if(t[i]!=e[i])return!1;return!0},clone:function(t){var e;if(t&&t instanceof Array){e=[];for(var i=0;i<t.length;i++)e[i]=CKEDITOR.tools.clone(t[i]);return e}if(null===t||"object"!=typeof t||t instanceof String||t instanceof Number||t instanceof Boolean||t instanceof Date||t instanceof RegExp||t.nodeType||t.window===t)return t;e=new t.constructor;for(i in t)e[i]=CKEDITOR.tools.clone(t[i]);return e},capitalize:function(t,e){return t.charAt(0).toUpperCase()+(e?t.slice(1):t.slice(1).toLowerCase())},extend:function(t){var e,i,n=arguments.length;"boolean"==typeof(e=arguments[n-1])?n--:"boolean"==typeof(e=arguments[n-2])&&(i=arguments[n-1],n-=2);for(var a=1;n>a;a++){var o,r=arguments[a];for(o in r)(e===!0||null==t[o])&&(!i||o in i)&&(t[o]=r[o])}return t},prototypedCopy:function(t){var e=function(){};return e.prototype=t,new e},copy:function(t){var e,i={};for(e in t)i[e]=t[e];return i},isArray:function(t){return"[object Array]"==Object.prototype.toString.call(t)},isEmpty:function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},cssVendorPrefix:function(t,i,n){return n?e+t+":"+i+";"+t+":"+i:(n={},n[t]=i,n[e+t]=i,n)},cssStyleToDomStyle:function(){var t=document.createElement("div").style,e="undefined"!=typeof t.cssFloat?"cssFloat":"undefined"!=typeof t.styleFloat?"styleFloat":"float";return function(t){return"float"==t?e:t.replace(/-./g,function(t){return t.substr(1).toUpperCase()})}}(),buildStyleHtml:function(t){for(var e,t=[].concat(t),i=[],n=0;n<t.length;n++)(e=t[n])&&i.push(/@import|[{}]/.test(e)?"<style>"+e+"</style>":'<link type="text/css" rel=stylesheet href="'+e+'">');return i.join("")},htmlEncode:function(t){return(""+t).replace(i,"&amp;").replace(n,"&gt;").replace(a,"&lt;")},htmlDecode:function(t){return t.replace(r,"&").replace(s,">").replace(l,"<")},htmlEncodeAttr:function(t){return t.replace(o,"&quot;").replace(a,"&lt;").replace(n,"&gt;")},htmlDecodeAttr:function(t){return t.replace(h,'"').replace(l,"<").replace(s,">")},getNextNumber:function(){var t=0;return function(){return++t}}(),getNextId:function(){return"cke_"+this.getNextNumber()},override:function(t,e){var i=e(t);return i.prototype=t.prototype,i},setTimeout:function(t,e,i,n,a){return a||(a=window),i||(i=a),a.setTimeout(function(){n?t.apply(i,[].concat(n)):t.apply(i)},e||0)},trim:function(){var t=/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g;return function(e){return e.replace(t,"")}}(),ltrim:function(){var t=/^[ \t\n\r]+/g;return function(e){return e.replace(t,"")}}(),rtrim:function(){var t=/[ \t\n\r]+$/g;return function(e){return e.replace(t,"")}}(),indexOf:function(t,e){if("function"==typeof e){for(var i=0,n=t.length;n>i;i++)if(e(t[i]))return i}else{if(t.indexOf)return t.indexOf(e);for(i=0,n=t.length;n>i;i++)if(t[i]===e)return i}return-1},search:function(t,e){var i=CKEDITOR.tools.indexOf(t,e);return i>=0?t[i]:null},bind:function(t,e){return function(){return t.apply(e,arguments)}},createClass:function(t){var e=t.$,i=t.base,n=t.privates||t._,a=t.proto,t=t.statics;if(!e&&(e=function(){i&&this.base.apply(this,arguments)}),n)var o=e,e=function(){var t,e=this._||(this._={});for(t in n){var i=n[t];e[t]="function"==typeof i?CKEDITOR.tools.bind(i,this):i}o.apply(this,arguments)};return i&&(e.prototype=this.prototypedCopy(i.prototype),e.prototype.constructor=e,e.base=i,e.baseProto=i.prototype,e.prototype.base=function(){this.base=i.prototype.base,i.apply(this,arguments),this.base=arguments.callee}),a&&this.extend(e.prototype,a,!0),t&&this.extend(e,t,!0),e},addFunction:function(e,i){return t.push(function(){return e.apply(i||this,arguments)})-1},removeFunction:function(e){t[e]=null},callFunction:function(e){var i=t[e];return i&&i.apply(window,Array.prototype.slice.call(arguments,1))},cssLength:function(){var t,e=/^-?\d+\.?\d*px$/;return function(i){return t=CKEDITOR.tools.trim(i+"")+"px",e.test(t)?t:i||""}}(),convertToPx:function(){var t;return function(e){return t||(t=CKEDITOR.dom.element.createFromHtml('<div style="position:absolute;left:-9999px;top:-9999px;margin:0px;padding:0px;border:0px;"></div>',CKEDITOR.document),CKEDITOR.document.getBody().append(t)),/%$/.test(e)?e:(t.setStyle("width",e),t.$.clientWidth)}}(),repeat:function(t,e){return Array(e+1).join(t)},tryThese:function(){for(var t,e=0,i=arguments.length;i>e;e++){var n=arguments[e];try{t=n();break}catch(a){}}return t},genKey:function(){return Array.prototype.slice.call(arguments).join("-")},defer:function(t){return function(){var e=arguments,i=this;window.setTimeout(function(){t.apply(i,e)},0)}},normalizeCssText:function(t,e){var i,n=[],a=CKEDITOR.tools.parseCssText(t,!0,e);for(i in a)n.push(i+":"+a[i]);return n.sort(),n.length?n.join(";")+";":""},convertRgbToHex:function(t){return t.replace(/(?:rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\))/gi,function(t,e,i,n){for(t=[e,i,n],e=0;3>e;e++)t[e]=("0"+parseInt(t[e],10).toString(16)).slice(-2);
return"#"+t.join("")})},parseCssText:function(t,e,i){var n={};return i&&(i=new CKEDITOR.dom.element("span"),i.setAttribute("style",t),t=CKEDITOR.tools.convertRgbToHex(i.getAttribute("style")||"")),t&&";"!=t?(t.replace(/&quot;/g,'"').replace(/\s*([^:;\s]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(t,i,a){e&&(i=i.toLowerCase(),"font-family"==i&&(a=a.toLowerCase().replace(/["']/g,"").replace(/\s*,\s*/g,",")),a=CKEDITOR.tools.trim(a)),n[i]=a}),n):n},writeCssText:function(t,e){var i,n=[];for(i in t)n.push(i+":"+t[i]);return e&&n.sort(),n.join("; ")},objectCompare:function(t,e,i){var n;if(!t&&!e)return!0;if(!t||!e)return!1;for(n in t)if(t[n]!=e[n])return!1;if(!i)for(n in e)if(t[n]!=e[n])return!1;return!0},objectKeys:function(t){var e,i=[];for(e in t)i.push(e);return i},convertArrayToObject:function(t,e){var i={};1==arguments.length&&(e=!0);for(var n=0,a=t.length;a>n;++n)i[t[n]]=e;return i},fixDomain:function(){for(var t;;)try{t=window.parent.document.domain;break}catch(e){if(t=t?t.replace(/.+?(?:\.|$)/,""):document.domain,!t)break;document.domain=t}return!!t},eventsBuffer:function(t,e){function i(){a=(new Date).getTime(),n=!1,e()}var n,a=0;return{input:function(){if(!n){var e=(new Date).getTime()-a;t>e?n=setTimeout(i,t-e):i()}},reset:function(){n&&clearTimeout(n),n=a=0}}},enableHtml5Elements:function(t,e){for(var i,n=["abbr","article","aside","audio","bdi","canvas","data","datalist","details","figcaption","figure","footer","header","hgroup","mark","meter","nav","output","progress","section","summary","time","video"],a=n.length;a--;)i=t.createElement(n[a]),e&&t.appendChild(i)},checkIfAnyArrayItemMatches:function(t,e){for(var i=0,n=t.length;n>i;++i)if(t[i].match(e))return!0;return!1},checkIfAnyObjectPropertyMatches:function(t,e){for(var i in t)if(i.match(e))return!0;return!1},transparentImageData:"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="}}(),CKEDITOR.dtd=function(){var t=CKEDITOR.tools.extend,e=function(t,e){for(var i=CKEDITOR.tools.clone(t),n=1;n<arguments.length;n++){var a,e=arguments[n];for(a in e)delete i[a]}return i},i={},n={},a={address:1,article:1,aside:1,blockquote:1,details:1,div:1,dl:1,fieldset:1,figure:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,hr:1,main:1,menu:1,nav:1,ol:1,p:1,pre:1,section:1,table:1,ul:1},o={command:1,link:1,meta:1,noscript:1,script:1,style:1},r={},s={"#":1},l={center:1,dir:1,noframes:1};return t(i,{a:1,abbr:1,area:1,audio:1,b:1,bdi:1,bdo:1,br:1,button:1,canvas:1,cite:1,code:1,command:1,datalist:1,del:1,dfn:1,em:1,embed:1,i:1,iframe:1,img:1,input:1,ins:1,kbd:1,keygen:1,label:1,map:1,mark:1,meter:1,noscript:1,object:1,output:1,progress:1,q:1,ruby:1,s:1,samp:1,script:1,select:1,small:1,span:1,strong:1,sub:1,sup:1,textarea:1,time:1,u:1,"var":1,video:1,wbr:1},s,{acronym:1,applet:1,basefont:1,big:1,font:1,isindex:1,strike:1,style:1,tt:1}),t(n,a,i,l),e={a:e(i,{a:1,button:1}),abbr:i,address:n,area:r,article:n,aside:n,audio:t({source:1,track:1},n),b:i,base:r,bdi:i,bdo:i,blockquote:n,body:n,br:r,button:e(i,{a:1,button:1}),canvas:i,caption:n,cite:i,code:i,col:r,colgroup:{col:1},command:r,datalist:t({option:1},i),dd:n,del:i,details:t({summary:1},n),dfn:i,div:n,dl:{dt:1,dd:1},dt:n,em:i,embed:r,fieldset:t({legend:1},n),figcaption:n,figure:t({figcaption:1},n),footer:n,form:n,h1:i,h2:i,h3:i,h4:i,h5:i,h6:i,head:t({title:1,base:1},o),header:n,hgroup:{h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},hr:r,html:t({head:1,body:1},n,o),i:i,iframe:s,img:r,input:r,ins:i,kbd:i,keygen:r,label:i,legend:i,li:n,link:r,main:n,map:n,mark:i,menu:t({li:1},n),meta:r,meter:e(i,{meter:1}),nav:n,noscript:t({link:1,meta:1,style:1},i),object:t({param:1},i),ol:{li:1},optgroup:{option:1},option:s,output:i,p:i,param:r,pre:i,progress:e(i,{progress:1}),q:i,rp:i,rt:i,ruby:t({rp:1,rt:1},i),s:i,samp:i,script:s,section:n,select:{optgroup:1,option:1},small:i,source:r,span:i,strong:i,style:s,sub:i,summary:i,sup:i,table:{caption:1,colgroup:1,thead:1,tfoot:1,tbody:1,tr:1},tbody:{tr:1},td:n,textarea:s,tfoot:{tr:1},th:n,thead:{tr:1},time:e(i,{time:1}),title:s,tr:{th:1,td:1},track:r,u:i,ul:{li:1},"var":i,video:t({source:1,track:1},n),wbr:r,acronym:i,applet:t({param:1},n),basefont:r,big:i,center:n,dialog:r,dir:{li:1},font:i,isindex:r,noframes:n,strike:i,tt:i},t(e,{$block:t({audio:1,dd:1,dt:1,figcaption:1,li:1,video:1},a,l),$blockLimit:{article:1,aside:1,audio:1,body:1,caption:1,details:1,dir:1,div:1,dl:1,fieldset:1,figcaption:1,figure:1,footer:1,form:1,header:1,hgroup:1,main:1,menu:1,nav:1,ol:1,section:1,table:1,td:1,th:1,tr:1,ul:1,video:1},$cdata:{script:1,style:1},$editable:{address:1,article:1,aside:1,blockquote:1,body:1,details:1,div:1,fieldset:1,figcaption:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,main:1,nav:1,p:1,pre:1,section:1},$empty:{area:1,base:1,basefont:1,br:1,col:1,command:1,dialog:1,embed:1,hr:1,img:1,input:1,isindex:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1},$inline:i,$list:{dl:1,ol:1,ul:1},$listItem:{dd:1,dt:1,li:1},$nonBodyContent:t({body:1,head:1,html:1},e.head),$nonEditable:{applet:1,audio:1,button:1,embed:1,iframe:1,map:1,object:1,option:1,param:1,script:1,textarea:1,video:1},$object:{applet:1,audio:1,button:1,hr:1,iframe:1,img:1,input:1,object:1,select:1,table:1,textarea:1,video:1},$removeEmpty:{abbr:1,acronym:1,b:1,bdi:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,mark:1,meter:1,output:1,q:1,ruby:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,time:1,tt:1,u:1,"var":1},$tabIndex:{a:1,area:1,button:1,input:1,object:1,select:1,textarea:1},$tableContent:{caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1},$transparent:{a:1,audio:1,canvas:1,del:1,ins:1,map:1,noscript:1,object:1,video:1},$intermediate:{caption:1,colgroup:1,dd:1,dt:1,figcaption:1,legend:1,li:1,optgroup:1,option:1,rp:1,rt:1,summary:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1}}),e}(),CKEDITOR.dom.event=function(t){this.$=t},CKEDITOR.dom.event.prototype={getKey:function(){return this.$.keyCode||this.$.which},getKeystroke:function(){var t=this.getKey();return(this.$.ctrlKey||this.$.metaKey)&&(t+=CKEDITOR.CTRL),this.$.shiftKey&&(t+=CKEDITOR.SHIFT),this.$.altKey&&(t+=CKEDITOR.ALT),t},preventDefault:function(t){var e=this.$;e.preventDefault?e.preventDefault():e.returnValue=!1,t&&this.stopPropagation()},stopPropagation:function(){var t=this.$;t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},getTarget:function(){var t=this.$.target||this.$.srcElement;return t?new CKEDITOR.dom.node(t):null},getPhase:function(){return this.$.eventPhase||2},getPageOffset:function(){var t=this.getTarget().getDocument().$;return{x:this.$.pageX||this.$.clientX+(t.documentElement.scrollLeft||t.body.scrollLeft),y:this.$.pageY||this.$.clientY+(t.documentElement.scrollTop||t.body.scrollTop)}}},CKEDITOR.CTRL=1114112,CKEDITOR.SHIFT=2228224,CKEDITOR.ALT=4456448,CKEDITOR.EVENT_PHASE_CAPTURING=1,CKEDITOR.EVENT_PHASE_AT_TARGET=2,CKEDITOR.EVENT_PHASE_BUBBLING=3,CKEDITOR.dom.domObject=function(t){t&&(this.$=t)},CKEDITOR.dom.domObject.prototype=function(){var t=function(t,e){return function(i){"undefined"!=typeof CKEDITOR&&t.fire(e,new CKEDITOR.dom.event(i))}};return{getPrivate:function(){var t;return(t=this.getCustomData("_"))||this.setCustomData("_",t={}),t},on:function(e){var i=this.getCustomData("_cke_nativeListeners");return i||(i={},this.setCustomData("_cke_nativeListeners",i)),i[e]||(i=i[e]=t(this,e),this.$.addEventListener?this.$.addEventListener(e,i,!!CKEDITOR.event.useCapture):this.$.attachEvent&&this.$.attachEvent("on"+e,i)),CKEDITOR.event.prototype.on.apply(this,arguments)},removeListener:function(t){if(CKEDITOR.event.prototype.removeListener.apply(this,arguments),!this.hasListeners(t)){var e=this.getCustomData("_cke_nativeListeners"),i=e&&e[t];i&&(this.$.removeEventListener?this.$.removeEventListener(t,i,!1):this.$.detachEvent&&this.$.detachEvent("on"+t,i),delete e[t])}},removeAllListeners:function(){var t,e=this.getCustomData("_cke_nativeListeners");for(t in e){var i=e[t];this.$.detachEvent?this.$.detachEvent("on"+t,i):this.$.removeEventListener&&this.$.removeEventListener(t,i,!1),delete e[t]}CKEDITOR.event.prototype.removeAllListeners.call(this)}}}(),function(t){var e={};CKEDITOR.on("reset",function(){e={}}),t.equals=function(t){try{return t&&t.$===this.$}catch(e){return!1}},t.setCustomData=function(t,i){var n=this.getUniqueId();return(e[n]||(e[n]={}))[t]=i,this},t.getCustomData=function(t){var i=this.$["data-cke-expando"];return(i=i&&e[i])&&t in i?i[t]:null},t.removeCustomData=function(t){var i,n,a=this.$["data-cke-expando"],a=a&&e[a];return a&&(i=a[t],n=t in a,delete a[t]),n?i:null},t.clearCustomData=function(){this.removeAllListeners();var t=this.$["data-cke-expando"];t&&delete e[t]},t.getUniqueId=function(){return this.$["data-cke-expando"]||(this.$["data-cke-expando"]=CKEDITOR.tools.getNextNumber())},CKEDITOR.event.implementOn(t)}(CKEDITOR.dom.domObject.prototype),CKEDITOR.dom.node=function(t){return t?new CKEDITOR.dom[t.nodeType==CKEDITOR.NODE_DOCUMENT?"document":t.nodeType==CKEDITOR.NODE_ELEMENT?"element":t.nodeType==CKEDITOR.NODE_TEXT?"text":t.nodeType==CKEDITOR.NODE_COMMENT?"comment":t.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT?"documentFragment":"domObject"](t):this},CKEDITOR.dom.node.prototype=new CKEDITOR.dom.domObject,CKEDITOR.NODE_ELEMENT=1,CKEDITOR.NODE_DOCUMENT=9,CKEDITOR.NODE_TEXT=3,CKEDITOR.NODE_COMMENT=8,CKEDITOR.NODE_DOCUMENT_FRAGMENT=11,CKEDITOR.POSITION_IDENTICAL=0,CKEDITOR.POSITION_DISCONNECTED=1,CKEDITOR.POSITION_FOLLOWING=2,CKEDITOR.POSITION_PRECEDING=4,CKEDITOR.POSITION_IS_CONTAINED=8,CKEDITOR.POSITION_CONTAINS=16,CKEDITOR.tools.extend(CKEDITOR.dom.node.prototype,{appendTo:function(t,e){return t.append(this,e),t},clone:function(t,e){var i=this.$.cloneNode(t),n=function(i){if(i["data-cke-expando"]&&(i["data-cke-expando"]=!1),i.nodeType==CKEDITOR.NODE_ELEMENT&&(e||i.removeAttribute("id",!1),t))for(var i=i.childNodes,a=0;a<i.length;a++)n(i[a])};return n(i),new CKEDITOR.dom.node(i)},hasPrevious:function(){return!!this.$.previousSibling},hasNext:function(){return!!this.$.nextSibling},insertAfter:function(t){return t.$.parentNode.insertBefore(this.$,t.$.nextSibling),t},insertBefore:function(t){return t.$.parentNode.insertBefore(this.$,t.$),t},insertBeforeMe:function(t){return this.$.parentNode.insertBefore(t.$,this.$),t},getAddress:function(t){for(var e=[],i=this.getDocument().$.documentElement,n=this.$;n&&n!=i;){var a=n.parentNode;a&&e.unshift(this.getIndex.call({$:n},t)),n=a}return e},getDocument:function(){return new CKEDITOR.dom.document(this.$.ownerDocument||this.$.parentNode.ownerDocument)},getIndex:function(t){function e(t,i){var n=i?t.nextSibling:t.previousSibling;return n&&n.nodeType==CKEDITOR.NODE_TEXT?n.nodeValue?n:e(n,i):null}var i,n=this.$,a=-1;if(!this.$.parentNode||t&&n.nodeType==CKEDITOR.NODE_TEXT&&!n.nodeValue&&!e(n)&&!e(n,!0))return-1;do(!t||n==this.$||n.nodeType!=CKEDITOR.NODE_TEXT||!i&&n.nodeValue)&&(a++,i=n.nodeType==CKEDITOR.NODE_TEXT);while(n=n.previousSibling);return a},getNextSourceNode:function(t,e,i){if(i&&!i.call)var n=i,i=function(t){return!t.equals(n)};var a,t=!t&&this.getFirst&&this.getFirst();if(!t){if(this.type==CKEDITOR.NODE_ELEMENT&&i&&i(this,!0)===!1)return null;t=this.getNext()}for(;!t&&(a=(a||this).getParent());){if(i&&i(a,!0)===!1)return null;t=a.getNext()}return!t||i&&i(t)===!1?null:e&&e!=t.type?t.getNextSourceNode(!1,e,i):t},getPreviousSourceNode:function(t,e,i){if(i&&!i.call)var n=i,i=function(t){return!t.equals(n)};var a,t=!t&&this.getLast&&this.getLast();if(!t){if(this.type==CKEDITOR.NODE_ELEMENT&&i&&i(this,!0)===!1)return null;t=this.getPrevious()}for(;!t&&(a=(a||this).getParent());){if(i&&i(a,!0)===!1)return null;t=a.getPrevious()}return!t||i&&i(t)===!1?null:e&&t.type!=e?t.getPreviousSourceNode(!1,e,i):t},getPrevious:function(t){var e,i=this.$;do e=(i=i.previousSibling)&&10!=i.nodeType&&new CKEDITOR.dom.node(i);while(e&&t&&!t(e));return e},getNext:function(t){var e,i=this.$;do e=(i=i.nextSibling)&&new CKEDITOR.dom.node(i);while(e&&t&&!t(e));return e},getParent:function(t){var e=this.$.parentNode;return e&&(e.nodeType==CKEDITOR.NODE_ELEMENT||t&&e.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)?new CKEDITOR.dom.node(e):null},getParents:function(t){var e=this,i=[];do i[t?"push":"unshift"](e);while(e=e.getParent());return i},getCommonAncestor:function(t){if(t.equals(this))return this;if(t.contains&&t.contains(this))return t;var e=this.contains?this:this.getParent();do if(e.contains(t))return e;while(e=e.getParent());return null},getPosition:function(t){var e=this.$,i=t.$;if(e.compareDocumentPosition)return e.compareDocumentPosition(i);if(e==i)return CKEDITOR.POSITION_IDENTICAL;if(this.type==CKEDITOR.NODE_ELEMENT&&t.type==CKEDITOR.NODE_ELEMENT){if(e.contains){if(e.contains(i))return CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING;if(i.contains(e))return CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING}if("sourceIndex"in e)return e.sourceIndex<0||i.sourceIndex<0?CKEDITOR.POSITION_DISCONNECTED:e.sourceIndex<i.sourceIndex?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING}for(var e=this.getAddress(),t=t.getAddress(),i=Math.min(e.length,t.length),n=0;i-1>=n;n++)if(e[n]!=t[n]){if(i>n)return e[n]<t[n]?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING;break}return e.length<t.length?CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING},getAscendant:function(t,e){var i,n,a=this.$;e||(a=a.parentNode),"function"==typeof t?(n=!0,i=t):(n=!1,i=function(e){return e="string"==typeof e.nodeName?e.nodeName.toLowerCase():"","string"==typeof t?e==t:e in t});for(;a;){if(i(n?new CKEDITOR.dom.node(a):a))return new CKEDITOR.dom.node(a);try{a=a.parentNode}catch(o){a=null}}return null},hasAscendant:function(t,e){var i=this.$;for(e||(i=i.parentNode);i;){if(i.nodeName&&i.nodeName.toLowerCase()==t)return!0;i=i.parentNode}return!1},move:function(t,e){t.append(this.remove(),e)},remove:function(t){var e=this.$,i=e.parentNode;if(i){if(t)for(;t=e.firstChild;)i.insertBefore(e.removeChild(t),e);i.removeChild(e)}return this},replace:function(t){this.insertBefore(t),t.remove()},trim:function(){this.ltrim(),this.rtrim()},ltrim:function(){for(var t;this.getFirst&&(t=this.getFirst());){if(t.type==CKEDITOR.NODE_TEXT){var e=CKEDITOR.tools.ltrim(t.getText()),i=t.getLength();if(!e){t.remove();continue}e.length<i&&(t.split(i-e.length),this.$.removeChild(this.$.firstChild))}break}},rtrim:function(){for(var t;this.getLast&&(t=this.getLast());){if(t.type==CKEDITOR.NODE_TEXT){var e=CKEDITOR.tools.rtrim(t.getText()),i=t.getLength();if(!e){t.remove();continue}e.length<i&&(t.split(e.length),this.$.lastChild.parentNode.removeChild(this.$.lastChild))}break}CKEDITOR.env.needsBrFiller&&(t=this.$.lastChild)&&1==t.type&&"br"==t.nodeName.toLowerCase()&&t.parentNode.removeChild(t)},isReadOnly:function(){var t=this;if(this.type!=CKEDITOR.NODE_ELEMENT&&(t=this.getParent()),t&&"undefined"!=typeof t.$.isContentEditable)return!(t.$.isContentEditable||t.data("cke-editable"));for(;t&&!t.data("cke-editable");){if("false"==t.getAttribute("contentEditable"))return!0;if("true"==t.getAttribute("contentEditable"))break;t=t.getParent()}return!t}}),CKEDITOR.dom.window=function(t){CKEDITOR.dom.domObject.call(this,t)},CKEDITOR.dom.window.prototype=new CKEDITOR.dom.domObject,CKEDITOR.tools.extend(CKEDITOR.dom.window.prototype,{focus:function(){this.$.focus()},getViewPaneSize:function(){var t=this.$.document,e="CSS1Compat"==t.compatMode;return{width:(e?t.documentElement.clientWidth:t.body.clientWidth)||0,height:(e?t.documentElement.clientHeight:t.body.clientHeight)||0}},getScrollPosition:function(){var t=this.$;return"pageXOffset"in t?{x:t.pageXOffset||0,y:t.pageYOffset||0}:(t=t.document,{x:t.documentElement.scrollLeft||t.body.scrollLeft||0,y:t.documentElement.scrollTop||t.body.scrollTop||0})},getFrame:function(){var t=this.$.frameElement;return t?new CKEDITOR.dom.element.get(t):null}}),CKEDITOR.dom.document=function(t){CKEDITOR.dom.domObject.call(this,t)},CKEDITOR.dom.document.prototype=new CKEDITOR.dom.domObject,CKEDITOR.tools.extend(CKEDITOR.dom.document.prototype,{type:CKEDITOR.NODE_DOCUMENT,appendStyleSheet:function(t){if(this.$.createStyleSheet)this.$.createStyleSheet(t);else{var e=new CKEDITOR.dom.element("link");e.setAttributes({rel:"stylesheet",type:"text/css",href:t}),this.getHead().append(e)}},appendStyleText:function(t){if(this.$.createStyleSheet){var e=this.$.createStyleSheet("");e.cssText=t}else{var i=new CKEDITOR.dom.element("style",this);i.append(new CKEDITOR.dom.text(t,this)),this.getHead().append(i)}return e||i.$.sheet},createElement:function(t,e){var i=new CKEDITOR.dom.element(t,this);return e&&(e.attributes&&i.setAttributes(e.attributes),e.styles&&i.setStyles(e.styles)),i},createText:function(t){return new CKEDITOR.dom.text(t,this)},focus:function(){this.getWindow().focus()},getActive:function(){var t;try{t=this.$.activeElement}catch(e){return null}return new CKEDITOR.dom.element(t)},getById:function(t){return(t=this.$.getElementById(t))?new CKEDITOR.dom.element(t):null},getByAddress:function(t,e){for(var i=this.$.documentElement,n=0;i&&n<t.length;n++){var a=t[n];if(e)for(var o=-1,r=0;r<i.childNodes.length;r++){var s=i.childNodes[r];if((e!==!0||3!=s.nodeType||!s.previousSibling||3!=s.previousSibling.nodeType)&&(o++,o==a)){i=s;break}}else i=i.childNodes[a]}return i?new CKEDITOR.dom.node(i):null},getElementsByTag:function(t,e){return!(CKEDITOR.env.ie&&document.documentMode<=8)&&e&&(t=e+":"+t),new CKEDITOR.dom.nodeList(this.$.getElementsByTagName(t))},getHead:function(){var t=this.$.getElementsByTagName("head")[0];return t=t?new CKEDITOR.dom.element(t):this.getDocumentElement().append(new CKEDITOR.dom.element("head"),!0)},getBody:function(){return new CKEDITOR.dom.element(this.$.body)},getDocumentElement:function(){return new CKEDITOR.dom.element(this.$.documentElement)},getWindow:function(){return new CKEDITOR.dom.window(this.$.parentWindow||this.$.defaultView)},write:function(t){this.$.open("text/html","replace"),CKEDITOR.env.ie&&(t=t.replace(/(?:^\s*<!DOCTYPE[^>]*?>)|^/i,'$&\n<script data-cke-temp="1">('+CKEDITOR.tools.fixDomain+")();</script>")),this.$.write(t),this.$.close()},find:function(t){return new CKEDITOR.dom.nodeList(this.$.querySelectorAll(t))},findOne:function(t){return(t=this.$.querySelector(t))?new CKEDITOR.dom.element(t):null},_getHtml5ShivFrag:function(){var t=this.getCustomData("html5ShivFrag");return t||(t=this.$.createDocumentFragment(),CKEDITOR.tools.enableHtml5Elements(t,!0),this.setCustomData("html5ShivFrag",t)),t}}),CKEDITOR.dom.nodeList=function(t){this.$=t},CKEDITOR.dom.nodeList.prototype={count:function(){return this.$.length},getItem:function(t){return 0>t||t>=this.$.length?null:(t=this.$[t])?new CKEDITOR.dom.node(t):null}},CKEDITOR.dom.element=function(t,e){"string"==typeof t&&(t=(e?e.$:document).createElement(t)),CKEDITOR.dom.domObject.call(this,t)},CKEDITOR.dom.element.get=function(t){return(t="string"==typeof t?document.getElementById(t)||document.getElementsByName(t)[0]:t)&&(t.$?t:new CKEDITOR.dom.element(t))},CKEDITOR.dom.element.prototype=new CKEDITOR.dom.node,CKEDITOR.dom.element.createFromHtml=function(t,e){var i=new CKEDITOR.dom.element("div",e);return i.setHtml(t),i.getFirst().remove()},CKEDITOR.dom.element.setMarker=function(t,e,i,n){var a=e.getCustomData("list_marker_id")||e.setCustomData("list_marker_id",CKEDITOR.tools.getNextNumber()).getCustomData("list_marker_id"),o=e.getCustomData("list_marker_names")||e.setCustomData("list_marker_names",{}).getCustomData("list_marker_names");return t[a]=e,o[i]=1,e.setCustomData(i,n)},CKEDITOR.dom.element.clearAllMarkers=function(t){for(var e in t)CKEDITOR.dom.element.clearMarkers(t,t[e],1)},CKEDITOR.dom.element.clearMarkers=function(t,e,i){var n,a=e.getCustomData("list_marker_names"),o=e.getCustomData("list_marker_id");for(n in a)e.removeCustomData(n);e.removeCustomData("list_marker_names"),i&&(e.removeCustomData("list_marker_id"),delete t[o])},function(){function t(t){var e=!0;return t.$.id||(t.$.id="cke_tmp_"+CKEDITOR.tools.getNextNumber(),e=!1),function(){e||t.removeAttribute("id")}}function e(t,e){return"#"+t.$.id+" "+e.split(/,\s*/).join(", #"+t.$.id+" ")}function i(t){for(var e=0,i=0,a=n[t].length;a>i;i++)e+=parseInt(this.getComputedStyle(n[t][i])||0,10)||0;return e}CKEDITOR.tools.extend(CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_ELEMENT,addClass:function(t){var e=this.$.className;return e&&(RegExp("(?:^|\\s)"+t+"(?:\\s|$)","").test(e)||(e+=" "+t)),this.$.className=e||t,this},removeClass:function(t){var e=this.getAttribute("class");return e&&(t=RegExp("(?:^|\\s+)"+t+"(?=\\s|$)","i"),t.test(e)&&((e=e.replace(t,"").replace(/^\s+/,""))?this.setAttribute("class",e):this.removeAttribute("class"))),this},hasClass:function(t){return RegExp("(?:^|\\s+)"+t+"(?=\\s|$)","").test(this.getAttribute("class"))},append:function(t,e){return"string"==typeof t&&(t=this.getDocument().createElement(t)),e?this.$.insertBefore(t.$,this.$.firstChild):this.$.appendChild(t.$),t},appendHtml:function(t){if(this.$.childNodes.length){var e=new CKEDITOR.dom.element("div",this.getDocument());e.setHtml(t),e.moveChildren(this)}else this.setHtml(t)},appendText:function(t){null!=this.$.text?this.$.text=this.$.text+t:this.append(new CKEDITOR.dom.text(t))},appendBogus:function(t){if(t||CKEDITOR.env.needsBrFiller){for(t=this.getLast();t&&t.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.rtrim(t.getText());)t=t.getPrevious();t&&t.is&&t.is("br")||(t=this.getDocument().createElement("br"),CKEDITOR.env.gecko&&t.setAttribute("type","_moz"),this.append(t))}},breakParent:function(t){var e=new CKEDITOR.dom.range(this.getDocument());e.setStartAfter(this),e.setEndAfter(t),t=e.extractContents(),e.insertNode(this.remove()),t.insertAfterNode(this)},contains:CKEDITOR.env.ie||CKEDITOR.env.webkit?function(t){var e=this.$;return t.type!=CKEDITOR.NODE_ELEMENT?e.contains(t.getParent().$):e!=t.$&&e.contains(t.$)}:function(t){return!!(16&this.$.compareDocumentPosition(t.$))},focus:function(){function t(){try{this.$.focus()}catch(t){}}return function(e){e?CKEDITOR.tools.setTimeout(t,100,this):t.call(this)}}(),getHtml:function(){var t=this.$.innerHTML;return CKEDITOR.env.ie?t.replace(/<\?[^>]*>/g,""):t},getOuterHtml:function(){if(this.$.outerHTML)return this.$.outerHTML.replace(/<\?[^>]*>/,"");var t=this.$.ownerDocument.createElement("div");return t.appendChild(this.$.cloneNode(!0)),t.innerHTML},getClientRect:function(){var t=CKEDITOR.tools.extend({},this.$.getBoundingClientRect());return!t.width&&(t.width=t.right-t.left),!t.height&&(t.height=t.bottom-t.top),t},setHtml:CKEDITOR.env.ie&&CKEDITOR.env.version<9?function(t){try{var e=this.$;if(this.getParent())return e.innerHTML=t;var i=this.getDocument()._getHtml5ShivFrag();return i.appendChild(e),e.innerHTML=t,i.removeChild(e),t}catch(n){for(this.$.innerHTML="",e=new CKEDITOR.dom.element("body",this.getDocument()),e.$.innerHTML=t,e=e.getChildren();e.count();)this.append(e.getItem(0));return t}}:function(t){return this.$.innerHTML=t},setText:function(){var t=document.createElement("p");return t.innerHTML="x",t=t.textContent,function(e){this.$[t?"textContent":"innerText"]=e}}(),getAttribute:function(){var t=function(t){return this.$.getAttribute(t,2)};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(t){switch(t){case"class":t="className";break;case"http-equiv":t="httpEquiv";break;case"name":return this.$.name;case"tabindex":return t=this.$.getAttribute(t,2),0!==t&&0===this.$.tabIndex&&(t=null),t;case"checked":return t=this.$.attributes.getNamedItem(t),(t.specified?t.nodeValue:this.$.checked)?"checked":null;case"hspace":case"value":return this.$[t];case"style":return this.$.style.cssText;case"contenteditable":case"contentEditable":return this.$.attributes.getNamedItem("contentEditable").specified?this.$.getAttribute("contentEditable"):null}return this.$.getAttribute(t,2)}:t}(),getChildren:function(){return new CKEDITOR.dom.nodeList(this.$.childNodes)},getComputedStyle:CKEDITOR.env.ie?function(t){return this.$.currentStyle[CKEDITOR.tools.cssStyleToDomStyle(t)]}:function(t){var e=this.getWindow().$.getComputedStyle(this.$,null);return e?e.getPropertyValue(t):""},getDtd:function(){var t=CKEDITOR.dtd[this.getName()];return this.getDtd=function(){return t},t},getElementsByTag:CKEDITOR.dom.document.prototype.getElementsByTag,getTabIndex:CKEDITOR.env.ie?function(){var t=this.$.tabIndex;return 0===t&&!CKEDITOR.dtd.$tabIndex[this.getName()]&&0!==parseInt(this.getAttribute("tabindex"),10)&&(t=-1),t}:CKEDITOR.env.webkit?function(){var t=this.$.tabIndex;return void 0===t&&(t=parseInt(this.getAttribute("tabindex"),10),isNaN(t)&&(t=-1)),t}:function(){return this.$.tabIndex},getText:function(){return this.$.textContent||this.$.innerText||""},getWindow:function(){return this.getDocument().getWindow()},getId:function(){return this.$.id||null},getNameAtt:function(){return this.$.name||null},getName:function(){var t=this.$.nodeName.toLowerCase();if(CKEDITOR.env.ie&&document.documentMode<=8){var e=this.$.scopeName;"HTML"!=e&&(t=e.toLowerCase()+":"+t)}return this.getName=function(){return t},this.getName()},getValue:function(){return this.$.value},getFirst:function(t){var e=this.$.firstChild;return(e=e&&new CKEDITOR.dom.node(e))&&t&&!t(e)&&(e=e.getNext(t)),e},getLast:function(t){var e=this.$.lastChild;return(e=e&&new CKEDITOR.dom.node(e))&&t&&!t(e)&&(e=e.getPrevious(t)),e},getStyle:function(t){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(t)]},is:function(){var t=this.getName();if("object"==typeof arguments[0])return!!arguments[0][t];for(var e=0;e<arguments.length;e++)if(arguments[e]==t)return!0;return!1},isEditable:function(t){var e=this.getName();return this.isReadOnly()||"none"==this.getComputedStyle("display")||"hidden"==this.getComputedStyle("visibility")||CKEDITOR.dtd.$nonEditable[e]||CKEDITOR.dtd.$empty[e]||this.is("a")&&(this.data("cke-saved-name")||this.hasAttribute("name"))&&!this.getChildCount()?!1:t!==!1?(t=CKEDITOR.dtd[e]||CKEDITOR.dtd.span,!(!t||!t["#"])):!0},isIdentical:function(t){var e=this.clone(0,1),t=t.clone(0,1);if(e.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]),t.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]),e.$.isEqualNode)return e.$.style.cssText=CKEDITOR.tools.normalizeCssText(e.$.style.cssText),t.$.style.cssText=CKEDITOR.tools.normalizeCssText(t.$.style.cssText),e.$.isEqualNode(t.$);if(e=e.getOuterHtml(),t=t.getOuterHtml(),CKEDITOR.env.ie&&CKEDITOR.env.version<9&&this.is("a")){var i=this.getParent();i.type==CKEDITOR.NODE_ELEMENT&&(i=i.clone(),i.setHtml(e),e=i.getHtml(),i.setHtml(t),t=i.getHtml())}return e==t},isVisible:function(){var t,e,i=(this.$.offsetHeight||this.$.offsetWidth)&&"hidden"!=this.getComputedStyle("visibility");return i&&CKEDITOR.env.webkit&&(t=this.getWindow(),!t.equals(CKEDITOR.document.getWindow())&&(e=t.$.frameElement)&&(i=new CKEDITOR.dom.element(e).isVisible())),!!i},isEmptyInlineRemoveable:function(){if(!CKEDITOR.dtd.$removeEmpty[this.getName()])return!1;for(var t=this.getChildren(),e=0,i=t.count();i>e;e++){var n=t.getItem(e);if((n.type!=CKEDITOR.NODE_ELEMENT||!n.data("cke-bookmark"))&&(n.type==CKEDITOR.NODE_ELEMENT&&!n.isEmptyInlineRemoveable()||n.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(n.getText())))return!1}return!0},hasAttributes:CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(){for(var t=this.$.attributes,e=0;e<t.length;e++){var i=t[e];switch(i.nodeName){case"class":if(this.getAttribute("class"))return!0;case"data-cke-expando":continue;default:if(i.specified)return!0}}return!1}:function(){var t=this.$.attributes,e=t.length,i={"data-cke-expando":1,_moz_dirty:1};return e>0&&(e>2||!i[t[0].nodeName]||2==e&&!i[t[1].nodeName])},hasAttribute:function(){function t(t){var e=this.$.attributes.getNamedItem(t);if("input"==this.getName())switch(t){case"class":return this.$.className.length>0;case"checked":return!!this.$.checked;case"value":return t=this.getAttribute("type"),"checkbox"==t||"radio"==t?"on"!=this.$.value:!!this.$.value}return e?e.specified:!1}return CKEDITOR.env.ie?CKEDITOR.env.version<8?function(e){return"name"==e?!!this.$.name:t.call(this,e)}:t:function(t){return!!this.$.attributes.getNamedItem(t)}}(),hide:function(){this.setStyle("display","none")},moveChildren:function(t,e){var i=this.$,t=t.$;if(i!=t){var n;if(e)for(;n=i.lastChild;)t.insertBefore(i.removeChild(n),t.firstChild);else for(;n=i.firstChild;)t.appendChild(i.removeChild(n))}},mergeSiblings:function(){function t(t,e,i){if(e&&e.type==CKEDITOR.NODE_ELEMENT){for(var n=[];e.data("cke-bookmark")||e.isEmptyInlineRemoveable();)if(n.push(e),e=i?e.getNext():e.getPrevious(),!e||e.type!=CKEDITOR.NODE_ELEMENT)return;if(t.isIdentical(e)){for(var a=i?t.getLast():t.getFirst();n.length;)n.shift().move(t,!i);e.moveChildren(t,!i),e.remove(),a&&a.type==CKEDITOR.NODE_ELEMENT&&a.mergeSiblings()}}}return function(e){(e===!1||CKEDITOR.dtd.$removeEmpty[this.getName()]||this.is("a"))&&(t(this,this.getNext(),!0),t(this,this.getPrevious()))}}(),show:function(){this.setStyles({display:"",visibility:""})},setAttribute:function(){var t=function(t,e){return this.$.setAttribute(t,e),this};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(e,i){return"class"==e?this.$.className=i:"style"==e?this.$.style.cssText=i:"tabindex"==e?this.$.tabIndex=i:"checked"==e?this.$.checked=i:"contenteditable"==e?t.call(this,"contentEditable",i):t.apply(this,arguments),this}:CKEDITOR.env.ie8Compat&&CKEDITOR.env.secure?function(e,i){if("src"==e&&i.match(/^http:\/\//))try{t.apply(this,arguments)}catch(n){}else t.apply(this,arguments);return this}:t}(),setAttributes:function(t){for(var e in t)this.setAttribute(e,t[e]);return this},setValue:function(t){return this.$.value=t,this},removeAttribute:function(){var t=function(t){this.$.removeAttribute(t)};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(t){"class"==t?t="className":"tabindex"==t?t="tabIndex":"contenteditable"==t&&(t="contentEditable"),this.$.removeAttribute(t)}:t}(),removeAttributes:function(t){if(CKEDITOR.tools.isArray(t))for(var e=0;e<t.length;e++)this.removeAttribute(t[e]);else for(e in t)t.hasOwnProperty(e)&&this.removeAttribute(e)},removeStyle:function(t){var e=this.$.style;if(e.removeProperty||"border"!=t&&"margin"!=t&&"padding"!=t)e.removeProperty?e.removeProperty(t):e.removeAttribute(CKEDITOR.tools.cssStyleToDomStyle(t)),this.$.style.cssText||this.removeAttribute("style");else{var i,n=["top","left","right","bottom"];"border"==t&&(i=["color","style","width"]);for(var e=[],a=0;a<n.length;a++)if(i)for(var o=0;o<i.length;o++)e.push([t,n[a],i[o]].join("-"));else e.push([t,n[a]].join("-"));for(t=0;t<e.length;t++)this.removeStyle(e[t])}},setStyle:function(t,e){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(t)]=e,this},setStyles:function(t){for(var e in t)this.setStyle(e,t[e]);return this},setOpacity:function(t){CKEDITOR.env.ie&&CKEDITOR.env.version<9?(t=Math.round(100*t),this.setStyle("filter",t>=100?"":"progid:DXImageTransform.Microsoft.Alpha(opacity="+t+")")):this.setStyle("opacity",t)},unselectable:function(){if(this.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select","none")),CKEDITOR.env.ie){this.setAttribute("unselectable","on");for(var t,e=this.getElementsByTag("*"),i=0,n=e.count();n>i;i++)t=e.getItem(i),t.setAttribute("unselectable","on")}},getPositionedAncestor:function(){for(var t=this;"html"!=t.getName();){if("static"!=t.getComputedStyle("position"))return t;t=t.getParent()}return null},getDocumentPosition:function(t){var e=0,i=0,n=this.getDocument(),a=n.getBody(),o="BackCompat"==n.$.compatMode;if(document.documentElement.getBoundingClientRect){var r=this.$.getBoundingClientRect(),s=n.$.documentElement,l=s.clientTop||a.$.clientTop||0,h=s.clientLeft||a.$.clientLeft||0,c=!0;CKEDITOR.env.ie&&(c=n.getDocumentElement().contains(this),n=n.getBody().contains(this),c=o&&n||!o&&c),c&&(e=r.left+(!o&&s.scrollLeft||a.$.scrollLeft),e-=h,i=r.top+(!o&&s.scrollTop||a.$.scrollTop),i-=l)}else for(a=this,n=null;a&&"body"!=a.getName()&&"html"!=a.getName();){for(e+=a.$.offsetLeft-a.$.scrollLeft,i+=a.$.offsetTop-a.$.scrollTop,a.equals(this)||(e+=a.$.clientLeft||0,i+=a.$.clientTop||0);n&&!n.equals(a);)e-=n.$.scrollLeft,i-=n.$.scrollTop,n=n.getParent();n=a,a=(r=a.$.offsetParent)?new CKEDITOR.dom.element(r):null}return t&&(a=this.getWindow(),n=t.getWindow(),!a.equals(n)&&a.$.frameElement&&(t=new CKEDITOR.dom.element(a.$.frameElement).getDocumentPosition(t),e+=t.x,i+=t.y)),document.documentElement.getBoundingClientRect||!CKEDITOR.env.gecko||o||(e+=this.$.clientLeft?1:0,i+=this.$.clientTop?1:0),{x:e,y:i}},scrollIntoView:function(t){var e=this.getParent();if(e)do if((e.$.clientWidth&&e.$.clientWidth<e.$.scrollWidth||e.$.clientHeight&&e.$.clientHeight<e.$.scrollHeight)&&!e.is("body")&&this.scrollIntoParent(e,t,1),e.is("html")){var i=e.getWindow();
try{var n=i.$.frameElement;n&&(e=new CKEDITOR.dom.element(n))}catch(a){}}while(e=e.getParent())},scrollIntoParent:function(t,e,i){function n(e,i){/body|html/.test(t.getName())?t.getWindow().$.scrollBy(e,i):(t.$.scrollLeft=t.$.scrollLeft+e,t.$.scrollTop=t.$.scrollTop+i)}function a(t,e){var i={x:0,y:0};if(!t.is(c?"body":"html")){var n=t.$.getBoundingClientRect();i.x=n.left,i.y=n.top}return n=t.getWindow(),n.equals(e)||(n=a(CKEDITOR.dom.element.get(n.$.frameElement),e),i.x=i.x+n.x,i.y=i.y+n.y),i}function o(t,e){return parseInt(t.getComputedStyle("margin-"+e)||0,10)||0}var r,s,l,h;!t&&(t=this.getWindow()),l=t.getDocument();var c="BackCompat"==l.$.compatMode;t instanceof CKEDITOR.dom.window&&(t=c?l.getBody():l.getDocumentElement()),l=t.getWindow(),s=a(this,l);var u=a(t,l),d=this.$.offsetHeight;r=this.$.offsetWidth;var f=t.$.clientHeight,m=t.$.clientWidth;l=s.x-o(this,"left")-u.x||0,h=s.y-o(this,"top")-u.y||0,r=s.x+r+o(this,"right")-(u.x+m)||0,s=s.y+d+o(this,"bottom")-(u.y+f)||0,(0>h||s>0)&&n(0,e===!0?h:e===!1?s:0>h?h:s),i&&(0>l||r>0)&&n(0>l?l:r,0)},setState:function(t,e,i){switch(e=e||"cke",t){case CKEDITOR.TRISTATE_ON:this.addClass(e+"_on"),this.removeClass(e+"_off"),this.removeClass(e+"_disabled"),i&&this.setAttribute("aria-pressed",!0),i&&this.removeAttribute("aria-disabled");break;case CKEDITOR.TRISTATE_DISABLED:this.addClass(e+"_disabled"),this.removeClass(e+"_off"),this.removeClass(e+"_on"),i&&this.setAttribute("aria-disabled",!0),i&&this.removeAttribute("aria-pressed");break;default:this.addClass(e+"_off"),this.removeClass(e+"_on"),this.removeClass(e+"_disabled"),i&&this.removeAttribute("aria-pressed"),i&&this.removeAttribute("aria-disabled")}},getFrameDocument:function(){var t=this.$;try{t.contentWindow.document}catch(e){t.src=t.src}return t&&new CKEDITOR.dom.document(t.contentWindow.document)},copyAttributes:function(t,e){for(var i=this.$.attributes,e=e||{},n=0;n<i.length;n++){var a,o=i[n],r=o.nodeName.toLowerCase();r in e||("checked"==r&&(a=this.getAttribute(r))?t.setAttribute(r,a):(!CKEDITOR.env.ie||this.hasAttribute(r))&&(a=this.getAttribute(r),null===a&&(a=o.nodeValue),t.setAttribute(r,a)))}""!==this.$.style.cssText&&(t.$.style.cssText=this.$.style.cssText)},renameNode:function(t){if(this.getName()!=t){var e=this.getDocument(),t=new CKEDITOR.dom.element(t,e);this.copyAttributes(t),this.moveChildren(t),this.getParent()&&this.$.parentNode.replaceChild(t.$,this.$),t.$["data-cke-expando"]=this.$["data-cke-expando"],this.$=t.$,delete this.getName}},getChild:function(){function t(t,e){var i=t.childNodes;return e>=0&&e<i.length?i[e]:void 0}return function(e){var i=this.$;if(e.slice)for(;e.length>0&&i;)i=t(i,e.shift());else i=t(i,e);return i?new CKEDITOR.dom.node(i):null}}(),getChildCount:function(){return this.$.childNodes.length},disableContextMenu:function(){this.on("contextmenu",function(t){t.data.getTarget().hasClass("cke_enable_context_menu")||t.data.preventDefault()})},getDirection:function(t){return t?this.getComputedStyle("direction")||this.getDirection()||this.getParent()&&this.getParent().getDirection(1)||this.getDocument().$.dir||"ltr":this.getStyle("direction")||this.getAttribute("dir")},data:function(t,e){return t="data-"+t,void 0===e?this.getAttribute(t):(e===!1?this.removeAttribute(t):this.setAttribute(t,e),null)},getEditor:function(){var t,e,i=CKEDITOR.instances;for(t in i)if(e=i[t],e.element.equals(this)&&e.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO)return e;return null},find:function(i){var n=t(this),i=new CKEDITOR.dom.nodeList(this.$.querySelectorAll(e(this,i)));return n(),i},findOne:function(i){var n=t(this),i=this.$.querySelector(e(this,i));return n(),i?new CKEDITOR.dom.element(i):null},forEach:function(t,e,i){if(!(i||e&&this.type!=e))var n=t(this);if(n!==!1)for(var i=this.getChildren(),a=0;a<i.count();a++)n=i.getItem(a),n.type==CKEDITOR.NODE_ELEMENT?n.forEach(t,e):(!e||n.type==e)&&t(n)}});var n={width:["border-left-width","border-right-width","padding-left","padding-right"],height:["border-top-width","border-bottom-width","padding-top","padding-bottom"]};CKEDITOR.dom.element.prototype.setSize=function(t,e,n){"number"==typeof e&&(!n||CKEDITOR.env.ie&&CKEDITOR.env.quirks||(e-=i.call(this,t)),this.setStyle(t,e+"px"))},CKEDITOR.dom.element.prototype.getSize=function(t,e){var n=Math.max(this.$["offset"+CKEDITOR.tools.capitalize(t)],this.$["client"+CKEDITOR.tools.capitalize(t)])||0;return e&&(n-=i.call(this,t)),n}}(),CKEDITOR.dom.documentFragment=function(t){t=t||CKEDITOR.document,this.$=t.type==CKEDITOR.NODE_DOCUMENT?t.$.createDocumentFragment():t},CKEDITOR.tools.extend(CKEDITOR.dom.documentFragment.prototype,CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,insertAfterNode:function(t){t=t.$,t.parentNode.insertBefore(this.$,t.nextSibling)}},!0,{append:1,appendBogus:1,getFirst:1,getLast:1,getParent:1,getNext:1,getPrevious:1,appendTo:1,moveChildren:1,insertBefore:1,insertAfterNode:1,replace:1,trim:1,type:1,ltrim:1,rtrim:1,getDocument:1,getChildCount:1,getChild:1,getChildren:1}),function(){function t(t,e){var i=this.range;if(this._.end)return null;if(!this._.start){if(this._.start=1,i.collapsed)return this.end(),null;i.optimize()}var n,a=i.startContainer;n=i.endContainer;var o,r=i.startOffset,s=i.endOffset,l=this.guard,h=this.type,c=t?"getPreviousSourceNode":"getNextSourceNode";if(!t&&!this._.guardLTR){var u=n.type==CKEDITOR.NODE_ELEMENT?n:n.getParent(),d=n.type==CKEDITOR.NODE_ELEMENT?n.getChild(s):n.getNext();this._.guardLTR=function(t,e){return!(e&&u.equals(t)||d&&t.equals(d)||t.type==CKEDITOR.NODE_ELEMENT&&e&&t.equals(i.root))}}if(t&&!this._.guardRTL){var f=a.type==CKEDITOR.NODE_ELEMENT?a:a.getParent(),m=a.type==CKEDITOR.NODE_ELEMENT?r?a.getChild(r-1):null:a.getPrevious();this._.guardRTL=function(t,e){return!(e&&f.equals(t)||m&&t.equals(m)||t.type==CKEDITOR.NODE_ELEMENT&&e&&t.equals(i.root))}}var p=t?this._.guardRTL:this._.guardLTR;for(o=l?function(t,e){return p(t,e)===!1?!1:l(t,e)}:p,this.current?n=this.current[c](!1,h,o):(t?n.type==CKEDITOR.NODE_ELEMENT&&(n=s>0?n.getChild(s-1):o(n,!0)===!1?null:n.getPreviousSourceNode(!0,h,o)):(n=a,n.type!=CKEDITOR.NODE_ELEMENT||(n=n.getChild(r))||(n=o(a,!0)===!1?null:a.getNextSourceNode(!0,h,o))),n&&o(n)===!1&&(n=null));n&&!this._.end;){if(this.current=n,this.evaluator&&this.evaluator(n)===!1){if(e&&this.evaluator)return!1}else if(!e)return n;n=n[c](!1,h,o)}return this.end(),this.current=null}function e(e){for(var i,n=null;i=t.call(this,e);)n=i;return n}function i(t){if(h(t))return!1;if(t.type==CKEDITOR.NODE_TEXT)return!0;if(t.type==CKEDITOR.NODE_ELEMENT){if(t.is(CKEDITOR.dtd.$inline)||t.is("hr")||"false"==t.getAttribute("contenteditable"))return!0;var e;if((e=!CKEDITOR.env.needsBrFiller)&&(e=t.is(c)))t:{e=0;for(var i=t.getChildCount();i>e;++e)if(!h(t.getChild(e))){e=!1;break t}e=!0}if(e)return!0}return!1}CKEDITOR.dom.walker=CKEDITOR.tools.createClass({$:function(t){this.range=t,this._={}},proto:{end:function(){this._.end=1},next:function(){return t.call(this)},previous:function(){return t.call(this,1)},checkForward:function(){return t.call(this,0,1)!==!1},checkBackward:function(){return t.call(this,1,1)!==!1},lastForward:function(){return e.call(this)},lastBackward:function(){return e.call(this,1)},reset:function(){delete this.current,this._={}}}});var n={block:1,"list-item":1,table:1,"table-row-group":1,"table-header-group":1,"table-footer-group":1,"table-row":1,"table-column-group":1,"table-column":1,"table-cell":1,"table-caption":1},a={absolute:1,fixed:1};CKEDITOR.dom.element.prototype.isBlockBoundary=function(t){return"none"!=this.getComputedStyle("float")||this.getComputedStyle("position")in a||!n[this.getComputedStyle("display")]?!!(this.is(CKEDITOR.dtd.$block)||t&&this.is(t)):!0},CKEDITOR.dom.walker.blockBoundary=function(t){return function(e){return!(e.type==CKEDITOR.NODE_ELEMENT&&e.isBlockBoundary(t))}},CKEDITOR.dom.walker.listItemBoundary=function(){return this.blockBoundary({br:1})},CKEDITOR.dom.walker.bookmark=function(t,e){function i(t){return t&&t.getName&&"span"==t.getName()&&t.data("cke-bookmark")}return function(n){var a,o;return a=n&&n.type!=CKEDITOR.NODE_ELEMENT&&(o=n.getParent())&&i(o),a=t?a:a||i(n),!!(e^a)}},CKEDITOR.dom.walker.whitespaces=function(t){return function(e){var i;return e&&e.type==CKEDITOR.NODE_TEXT&&(i=!CKEDITOR.tools.trim(e.getText())||CKEDITOR.env.webkit&&"\u200b"==e.getText()),!!(t^i)}},CKEDITOR.dom.walker.invisible=function(t){var e=CKEDITOR.dom.walker.whitespaces(),i=CKEDITOR.env.webkit?1:0;return function(n){return e(n)?n=1:(n.type==CKEDITOR.NODE_TEXT&&(n=n.getParent()),n=n.$.offsetWidth<=i),!!(t^n)}},CKEDITOR.dom.walker.nodeType=function(t,e){return function(i){return!!(e^i.type==t)}},CKEDITOR.dom.walker.bogus=function(t){function e(t){return!r(t)&&!s(t)}return function(i){var n=CKEDITOR.env.needsBrFiller?i.is&&i.is("br"):i.getText&&o.test(i.getText());return n&&(n=i.getParent(),i=i.getNext(e),n=n.isBlockBoundary()&&(!i||i.type==CKEDITOR.NODE_ELEMENT&&i.isBlockBoundary())),!!(t^n)}},CKEDITOR.dom.walker.temp=function(t){return function(e){return e.type!=CKEDITOR.NODE_ELEMENT&&(e=e.getParent()),e=e&&e.hasAttribute("data-cke-temp"),!!(t^e)}};var o=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,r=CKEDITOR.dom.walker.whitespaces(),s=CKEDITOR.dom.walker.bookmark(),l=CKEDITOR.dom.walker.temp();CKEDITOR.dom.walker.ignored=function(t){return function(e){return e=r(e)||s(e)||l(e),!!(t^e)}};var h=CKEDITOR.dom.walker.ignored(),c=function(t){var e,i={};for(e in t)CKEDITOR.dtd[e]["#"]&&(i[e]=1);return i}(CKEDITOR.dtd.$block);CKEDITOR.dom.walker.editable=function(t){return function(e){return!!(t^i(e))}},CKEDITOR.dom.element.prototype.getBogus=function(){var t=this;do t=t.getPreviousSourceNode();while(s(t)||r(t)||t.type==CKEDITOR.NODE_ELEMENT&&t.is(CKEDITOR.dtd.$inline)&&!t.is(CKEDITOR.dtd.$empty));return t&&(CKEDITOR.env.needsBrFiller?t.is&&t.is("br"):t.getText&&o.test(t.getText()))?t:!1}}(),CKEDITOR.dom.range=function(t){this.endOffset=this.endContainer=this.startOffset=this.startContainer=null,this.collapsed=!0;var e=t instanceof CKEDITOR.dom.document;this.document=e?t:t.getDocument(),this.root=e?t.getBody():t},function(){function t(){var t=!1,e=CKEDITOR.dom.walker.whitespaces(),i=CKEDITOR.dom.walker.bookmark(!0),n=CKEDITOR.dom.walker.bogus();return function(a){return i(a)||e(a)?!0:n(a)&&!t?t=!0:a.type==CKEDITOR.NODE_TEXT&&(a.hasAscendant("pre")||CKEDITOR.tools.trim(a.getText()).length)||a.type==CKEDITOR.NODE_ELEMENT&&!a.is(o)?!1:!0}}function e(t){var e=CKEDITOR.dom.walker.whitespaces(),i=CKEDITOR.dom.walker.bookmark(1);return function(n){return i(n)||e(n)?!0:!t&&r(n)||n.type==CKEDITOR.NODE_ELEMENT&&n.is(CKEDITOR.dtd.$removeEmpty)}}function i(t){return function(){var e;return this[t?"getPreviousNode":"getNextNode"](function(t){return!e&&h(t)&&(e=t),l(t)&&!(r(t)&&t.equals(e))})}}var n=function(t){t.collapsed=t.startContainer&&t.endContainer&&t.startContainer.equals(t.endContainer)&&t.startOffset==t.endOffset},a=function(t,e,i,n){t.optimizeBookmark();var a,o,r=t.startContainer,s=t.endContainer,l=t.startOffset,h=t.endOffset;s.type==CKEDITOR.NODE_TEXT?s=s.split(h):s.getChildCount()>0&&(h>=s.getChildCount()?(s=s.append(t.document.createText("")),o=!0):s=s.getChild(h)),r.type==CKEDITOR.NODE_TEXT?(r.split(l),r.equals(s)&&(s=r.getNext())):l?l>=r.getChildCount()?(r=r.append(t.document.createText("")),a=!0):r=r.getChild(l).getPrevious():(r=r.append(t.document.createText(""),1),a=!0);var c,u,d,l=r.getParents(),h=s.getParents();for(c=0;c<l.length&&(u=l[c],d=h[c],u.equals(d));c++);for(var f,m,p,g=i,v=c;v<l.length;v++){for(f=l[v],g&&!f.equals(r)&&(m=g.append(f.clone())),f=f.getNext();f&&(!f.equals(h[v])&&!f.equals(s));)p=f.getNext(),2==e?g.append(f.clone(!0)):(f.remove(),1==e&&g.append(f)),f=p;g&&(g=m)}for(g=i,i=c;i<h.length;i++){if(f=h[i],e>0&&!f.equals(s)&&(m=g.append(f.clone())),!l[i]||f.$.parentNode!=l[i].$.parentNode)for(f=f.getPrevious();f&&(!f.equals(l[i])&&!f.equals(r));)p=f.getPrevious(),2==e?g.$.insertBefore(f.$.cloneNode(!0),g.$.firstChild):(f.remove(),1==e&&g.$.insertBefore(f.$,g.$.firstChild)),f=p;g&&(g=m)}2==e?(u=t.startContainer,u.type==CKEDITOR.NODE_TEXT&&(u.$.data=u.$.data+u.$.nextSibling.data,u.$.parentNode.removeChild(u.$.nextSibling)),t=t.endContainer,t.type==CKEDITOR.NODE_TEXT&&t.$.nextSibling&&(t.$.data=t.$.data+t.$.nextSibling.data,t.$.parentNode.removeChild(t.$.nextSibling))):(u&&d&&(r.$.parentNode!=u.$.parentNode||s.$.parentNode!=d.$.parentNode)&&(e=d.getIndex(),a&&d.$.parentNode==r.$.parentNode&&e--,n&&u.type==CKEDITOR.NODE_ELEMENT?(n=CKEDITOR.dom.element.createFromHtml('<span data-cke-bookmark="1" style="display:none">&nbsp;</span>',t.document),n.insertAfter(u),u.mergeSiblings(!1),t.moveToBookmark({startNode:n})):t.setStart(d.getParent(),e)),t.collapse(!0)),a&&r.remove(),o&&s.$.parentNode&&s.remove()},o={abbr:1,acronym:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,"var":1},r=CKEDITOR.dom.walker.bogus(),s=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,l=CKEDITOR.dom.walker.editable(),h=CKEDITOR.dom.walker.ignored(!0);CKEDITOR.dom.range.prototype={clone:function(){var t=new CKEDITOR.dom.range(this.root);return t._setStartContainer(this.startContainer),t.startOffset=this.startOffset,t._setEndContainer(this.endContainer),t.endOffset=this.endOffset,t.collapsed=this.collapsed,t},collapse:function(t){t?(this._setEndContainer(this.startContainer),this.endOffset=this.startOffset):(this._setStartContainer(this.endContainer),this.startOffset=this.endOffset),this.collapsed=!0},cloneContents:function(){var t=new CKEDITOR.dom.documentFragment(this.document);return this.collapsed||a(this,2,t),t},deleteContents:function(t){this.collapsed||a(this,0,null,t)},extractContents:function(t){var e=new CKEDITOR.dom.documentFragment(this.document);return this.collapsed||a(this,1,e,t),e},createBookmark:function(t){var e,i,n,a,o=this.collapsed;return e=this.document.createElement("span"),e.data("cke-bookmark",1),e.setStyle("display","none"),e.setHtml("&nbsp;"),t&&(n="cke_bm_"+CKEDITOR.tools.getNextNumber(),e.setAttribute("id",n+(o?"C":"S"))),o||(i=e.clone(),i.setHtml("&nbsp;"),t&&i.setAttribute("id",n+"E"),a=this.clone(),a.collapse(),a.insertNode(i)),a=this.clone(),a.collapse(!0),a.insertNode(e),i?(this.setStartAfter(e),this.setEndBefore(i)):this.moveToPosition(e,CKEDITOR.POSITION_AFTER_END),{startNode:t?n+(o?"C":"S"):e,endNode:t?n+"E":i,serializable:t,collapsed:o}},createBookmark2:function(){function t(t){var i,n=t.container,a=t.offset;i=n;var o=a;if(i=i.type!=CKEDITOR.NODE_ELEMENT||0===o||o==i.getChildCount()?0:i.getChild(o-1).type==CKEDITOR.NODE_TEXT&&i.getChild(o).type==CKEDITOR.NODE_TEXT,i&&(n=n.getChild(a-1),a=n.getLength()),n.type==CKEDITOR.NODE_ELEMENT&&a>1&&(a=n.getChild(a-1).getIndex(!0)+1),n.type==CKEDITOR.NODE_TEXT){for(i=n,o=0;(i=i.getPrevious())&&i.type==CKEDITOR.NODE_TEXT;)o+=i.getLength();i=o,n.getText()?a+=i:(o=n.getPrevious(e),i?(a=i,n=o?o.getNext():n.getParent().getFirst()):(n=n.getParent(),a=o?o.getIndex(!0)+1:0))}t.container=n,t.offset=a}var e=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_TEXT,!0);return function(e){var i=this.collapsed,n={container:this.startContainer,offset:this.startOffset},a={container:this.endContainer,offset:this.endOffset};return e&&(t(n),i||t(a)),{start:n.container.getAddress(e),end:i?null:a.container.getAddress(e),startOffset:n.offset,endOffset:a.offset,normalized:e,collapsed:i,is2:!0}}}(),moveToBookmark:function(t){if(t.is2){var e=this.document.getByAddress(t.start,t.normalized),i=t.startOffset,n=t.end&&this.document.getByAddress(t.end,t.normalized),t=t.endOffset;this.setStart(e,i),n?this.setEnd(n,t):this.collapse(!0)}else e=(i=t.serializable)?this.document.getById(t.startNode):t.startNode,t=i?this.document.getById(t.endNode):t.endNode,this.setStartBefore(e),e.remove(),t?(this.setEndBefore(t),t.remove()):this.collapse(!0)},getBoundaryNodes:function(){var t,e=this.startContainer,i=this.endContainer,n=this.startOffset,a=this.endOffset;if(e.type==CKEDITOR.NODE_ELEMENT)if(t=e.getChildCount(),t>n)e=e.getChild(n);else if(1>t)e=e.getPreviousSourceNode();else{for(e=e.$;e.lastChild;)e=e.lastChild;e=new CKEDITOR.dom.node(e),e=e.getNextSourceNode()||e}if(i.type==CKEDITOR.NODE_ELEMENT)if(t=i.getChildCount(),t>a)i=i.getChild(a).getPreviousSourceNode(!0);else if(1>t)i=i.getPreviousSourceNode();else{for(i=i.$;i.lastChild;)i=i.lastChild;i=new CKEDITOR.dom.node(i)}return e.getPosition(i)&CKEDITOR.POSITION_FOLLOWING&&(e=i),{startNode:e,endNode:i}},getCommonAncestor:function(t,e){var i=this.startContainer,n=this.endContainer,i=i.equals(n)?t&&i.type==CKEDITOR.NODE_ELEMENT&&this.startOffset==this.endOffset-1?i.getChild(this.startOffset):i:i.getCommonAncestor(n);return e&&!i.is?i.getParent():i},optimize:function(){var t=this.startContainer,e=this.startOffset;t.type!=CKEDITOR.NODE_ELEMENT&&(e?e>=t.getLength()&&this.setStartAfter(t):this.setStartBefore(t)),t=this.endContainer,e=this.endOffset,t.type!=CKEDITOR.NODE_ELEMENT&&(e?e>=t.getLength()&&this.setEndAfter(t):this.setEndBefore(t))},optimizeBookmark:function(){var t=this.startContainer,e=this.endContainer;t.is&&t.is("span")&&t.data("cke-bookmark")&&this.setStartAt(t,CKEDITOR.POSITION_BEFORE_START),e&&e.is&&e.is("span")&&e.data("cke-bookmark")&&this.setEndAt(e,CKEDITOR.POSITION_AFTER_END)},trim:function(t,e){var i=this.startContainer,n=this.startOffset,a=this.collapsed;if((!t||a)&&i&&i.type==CKEDITOR.NODE_TEXT){if(n)if(n>=i.getLength())n=i.getIndex()+1,i=i.getParent();else{var o=i.split(n),n=i.getIndex()+1,i=i.getParent();this.startContainer.equals(this.endContainer)?this.setEnd(o,this.endOffset-this.startOffset):i.equals(this.endContainer)&&(this.endOffset=this.endOffset+1)}else n=i.getIndex(),i=i.getParent();if(this.setStart(i,n),a)return void this.collapse(!0)}i=this.endContainer,n=this.endOffset,e||a||!i||i.type!=CKEDITOR.NODE_TEXT||(n?(n>=i.getLength()||i.split(n),n=i.getIndex()+1):n=i.getIndex(),i=i.getParent(),this.setEnd(i,n))},enlarge:function(t,e){function i(t){return t&&t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("contenteditable")?null:t}var n=RegExp(/[^\s\ufeff]/);switch(t){case CKEDITOR.ENLARGE_INLINE:var a=1;case CKEDITOR.ENLARGE_ELEMENT:if(this.collapsed)break;var o,r,s,l,h,c,u,d=this.getCommonAncestor(),f=this.root,m=!1;c=this.startContainer;var p=this.startOffset;for(c.type==CKEDITOR.NODE_TEXT?(p&&(c=!CKEDITOR.tools.trim(c.substring(0,p)).length&&c,m=!!c),c&&!(l=c.getPrevious())&&(s=c.getParent())):(p&&(l=c.getChild(p-1)||c.getLast()),l||(s=c)),s=i(s);s||l;){if(s&&!l){if(!h&&s.equals(d)&&(h=!0),a?s.isBlockBoundary():!f.contains(s))break;m&&"inline"==s.getComputedStyle("display")||(m=!1,h?o=s:this.setStartBefore(s)),l=s.getPrevious()}for(;l;)if(c=!1,l.type==CKEDITOR.NODE_COMMENT)l=l.getPrevious();else{if(l.type==CKEDITOR.NODE_TEXT)u=l.getText(),n.test(u)&&(l=null),c=/[\s\ufeff]$/.test(u);else if((l.$.offsetWidth>(CKEDITOR.env.webkit?1:0)||e&&l.is("br"))&&!l.data("cke-bookmark"))if(m&&CKEDITOR.dtd.$removeEmpty[l.getName()]){if(u=l.getText(),n.test(u))l=null;else for(var g,p=l.$.getElementsByTagName("*"),v=0;g=p[v++];)if(!CKEDITOR.dtd.$removeEmpty[g.nodeName.toLowerCase()]){l=null;break}l&&(c=!!u.length)}else l=null;if(c&&(m?h?o=s:s&&this.setStartBefore(s):m=!0),l){if(c=l.getPrevious(),!s&&!c){s=l,l=null;break}l=c}else s=null}s&&(s=i(s.getParent()))}c=this.endContainer,p=this.endOffset,s=l=null,h=m=!1;var C=function(t,e){var i=new CKEDITOR.dom.range(f);i.setStart(t,e),i.setEndAt(f,CKEDITOR.POSITION_BEFORE_END);var a,i=new CKEDITOR.dom.walker(i);for(i.guard=function(t){return!(t.type==CKEDITOR.NODE_ELEMENT&&t.isBlockBoundary())};a=i.next();){if(a.type!=CKEDITOR.NODE_TEXT)return!1;if(u=a!=t?a.getText():a.substring(e),n.test(u))return!1}return!0};for(c.type==CKEDITOR.NODE_TEXT?CKEDITOR.tools.trim(c.substring(p)).length?m=!0:(m=!c.getLength(),p==c.getLength()?(l=c.getNext())||(s=c.getParent()):C(c,p)&&(s=c.getParent())):(l=c.getChild(p))||(s=c);s||l;){if(s&&!l){if(!h&&s.equals(d)&&(h=!0),a?s.isBlockBoundary():!f.contains(s))break;m&&"inline"==s.getComputedStyle("display")||(m=!1,h?r=s:s&&this.setEndAfter(s)),l=s.getNext()}for(;l;){if(c=!1,l.type==CKEDITOR.NODE_TEXT)u=l.getText(),C(l,0)||(l=null),c=/^[\s\ufeff]/.test(u);else if(l.type==CKEDITOR.NODE_ELEMENT){if((l.$.offsetWidth>0||e&&l.is("br"))&&!l.data("cke-bookmark"))if(m&&CKEDITOR.dtd.$removeEmpty[l.getName()]){if(u=l.getText(),n.test(u))l=null;else for(p=l.$.getElementsByTagName("*"),v=0;g=p[v++];)if(!CKEDITOR.dtd.$removeEmpty[g.nodeName.toLowerCase()]){l=null;break}l&&(c=!!u.length)}else l=null}else c=1;if(c&&m&&(h?r=s:this.setEndAfter(s)),l){if(c=l.getNext(),!s&&!c){s=l,l=null;break}l=c}else s=null}s&&(s=i(s.getParent()))}o&&r&&(d=o.contains(r)?r:o,this.setStartBefore(d),this.setEndAfter(d));break;case CKEDITOR.ENLARGE_BLOCK_CONTENTS:case CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:s=new CKEDITOR.dom.range(this.root),f=this.root,s.setStartAt(f,CKEDITOR.POSITION_AFTER_START),s.setEnd(this.startContainer,this.startOffset),s=new CKEDITOR.dom.walker(s);var E,b,T=CKEDITOR.dom.walker.blockBoundary(t==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?{br:1}:null),y=null,D=function(t){if(t.type==CKEDITOR.NODE_ELEMENT&&"false"==t.getAttribute("contenteditable"))if(y){if(y.equals(t))return void(y=null)}else y=t;else if(y)return;var e=T(t);return e||(E=t),e},a=function(t){var e=D(t);return!e&&t.is&&t.is("br")&&(b=t),e};if(s.guard=D,s=s.lastBackward(),E=E||f,this.setStartAt(E,!E.is("br")&&(!s&&this.checkStartOfBlock()||s&&E.contains(s))?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_AFTER_END),t==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS){s=this.clone(),s=new CKEDITOR.dom.walker(s);var O=CKEDITOR.dom.walker.whitespaces(),I=CKEDITOR.dom.walker.bookmark();if(s.evaluator=function(t){return!O(t)&&!I(t)},(s=s.previous())&&s.type==CKEDITOR.NODE_ELEMENT&&s.is("br"))break}s=this.clone(),s.collapse(),s.setEndAt(f,CKEDITOR.POSITION_BEFORE_END),s=new CKEDITOR.dom.walker(s),s.guard=t==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?a:D,E=y=b=null,s=s.lastForward(),E=E||f,this.setEndAt(E,!s&&this.checkEndOfBlock()||s&&E.contains(s)?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_BEFORE_START),b&&this.setEndAfter(b)}},shrink:function(t,e,i){if(!this.collapsed){var t=t||CKEDITOR.SHRINK_TEXT,n=this.clone(),a=this.startContainer,o=this.endContainer,r=this.startOffset,s=this.endOffset,l=1,h=1;a&&a.type==CKEDITOR.NODE_TEXT&&(r?r>=a.getLength()?n.setStartAfter(a):(n.setStartBefore(a),l=0):n.setStartBefore(a)),o&&o.type==CKEDITOR.NODE_TEXT&&(s?s>=o.getLength()?n.setEndAfter(o):(n.setEndAfter(o),h=0):n.setEndBefore(o));var n=new CKEDITOR.dom.walker(n),c=CKEDITOR.dom.walker.bookmark();n.evaluator=function(e){return e.type==(t==CKEDITOR.SHRINK_ELEMENT?CKEDITOR.NODE_ELEMENT:CKEDITOR.NODE_TEXT)};var u;return n.guard=function(e,n){return c(e)?!0:t==CKEDITOR.SHRINK_ELEMENT&&e.type==CKEDITOR.NODE_TEXT||n&&e.equals(u)||i===!1&&e.type==CKEDITOR.NODE_ELEMENT&&e.isBlockBoundary()||e.type==CKEDITOR.NODE_ELEMENT&&e.hasAttribute("contenteditable")?!1:(!n&&e.type==CKEDITOR.NODE_ELEMENT&&(u=e),!0)},l&&(a=n[t==CKEDITOR.SHRINK_ELEMENT?"lastForward":"next"]())&&this.setStartAt(a,e?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_START),h&&(n.reset(),(n=n[t==CKEDITOR.SHRINK_ELEMENT?"lastBackward":"previous"]())&&this.setEndAt(n,e?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_END)),!(!l&&!h)}},insertNode:function(t){this.optimizeBookmark(),this.trim(!1,!0);var e=this.startContainer,i=e.getChild(this.startOffset);i?t.insertBefore(i):e.append(t),t.getParent()&&t.getParent().equals(this.endContainer)&&this.endOffset++,this.setStartBefore(t)},moveToPosition:function(t,e){this.setStartAt(t,e),this.collapse(!0)},moveToRange:function(t){this.setStart(t.startContainer,t.startOffset),this.setEnd(t.endContainer,t.endOffset)},selectNodeContents:function(t){this.setStart(t,0),this.setEnd(t,t.type==CKEDITOR.NODE_TEXT?t.getLength():t.getChildCount())},setStart:function(t,e){t.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[t.getName()]&&(e=t.getIndex(),t=t.getParent()),this._setStartContainer(t),this.startOffset=e,this.endContainer||(this._setEndContainer(t),this.endOffset=e),n(this)},setEnd:function(t,e){t.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[t.getName()]&&(e=t.getIndex()+1,t=t.getParent()),this._setEndContainer(t),this.endOffset=e,this.startContainer||(this._setStartContainer(t),this.startOffset=e),n(this)},setStartAfter:function(t){this.setStart(t.getParent(),t.getIndex()+1)},setStartBefore:function(t){this.setStart(t.getParent(),t.getIndex())},setEndAfter:function(t){this.setEnd(t.getParent(),t.getIndex()+1)},setEndBefore:function(t){this.setEnd(t.getParent(),t.getIndex())},setStartAt:function(t,e){switch(e){case CKEDITOR.POSITION_AFTER_START:this.setStart(t,0);break;case CKEDITOR.POSITION_BEFORE_END:t.type==CKEDITOR.NODE_TEXT?this.setStart(t,t.getLength()):this.setStart(t,t.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setStartBefore(t);break;case CKEDITOR.POSITION_AFTER_END:this.setStartAfter(t)}n(this)},setEndAt:function(t,e){switch(e){case CKEDITOR.POSITION_AFTER_START:this.setEnd(t,0);break;case CKEDITOR.POSITION_BEFORE_END:t.type==CKEDITOR.NODE_TEXT?this.setEnd(t,t.getLength()):this.setEnd(t,t.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setEndBefore(t);break;case CKEDITOR.POSITION_AFTER_END:this.setEndAfter(t)}n(this)},fixBlock:function(t,e){var i=this.createBookmark(),n=this.document.createElement(e);return this.collapse(t),this.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS),this.extractContents().appendTo(n),n.trim(),n.appendBogus(),this.insertNode(n),this.moveToBookmark(i),n},splitBlock:function(t){var e=new CKEDITOR.dom.elementPath(this.startContainer,this.root),i=new CKEDITOR.dom.elementPath(this.endContainer,this.root),n=e.block,a=i.block,o=null;return e.blockLimit.equals(i.blockLimit)?("br"!=t&&(n||(n=this.fixBlock(!0,t),a=new CKEDITOR.dom.elementPath(this.endContainer,this.root).block),a||(a=this.fixBlock(!1,t))),t=n&&this.checkStartOfBlock(),e=a&&this.checkEndOfBlock(),this.deleteContents(),n&&n.equals(a)&&(e?(o=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(a,CKEDITOR.POSITION_AFTER_END),a=null):t?(o=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(n,CKEDITOR.POSITION_BEFORE_START),n=null):(a=this.splitElement(n),n.is("ul","ol")||n.appendBogus())),{previousBlock:n,nextBlock:a,wasStartOfBlock:t,wasEndOfBlock:e,elementPath:o}):null},splitElement:function(t){if(!this.collapsed)return null;this.setEndAt(t,CKEDITOR.POSITION_BEFORE_END);var e=this.extractContents(),i=t.clone(!1);return e.appendTo(i),i.insertAfter(t),this.moveToPosition(t,CKEDITOR.POSITION_AFTER_END),i},removeEmptyBlocksAtEnd:function(){function t(t){return function(n){return e(n)||i(n)||n.type==CKEDITOR.NODE_ELEMENT&&n.isEmptyInlineRemoveable()||t.is("table")&&n.is("caption")?!1:!0}}var e=CKEDITOR.dom.walker.whitespaces(),i=CKEDITOR.dom.walker.bookmark(!1);return function(e){for(var i,n=this.createBookmark(),a=this[e?"endPath":"startPath"](),o=a.block||a.blockLimit;o&&!o.equals(a.root)&&!o.getFirst(t(o));)i=o.getParent(),this[e?"setEndAt":"setStartAt"](o,CKEDITOR.POSITION_AFTER_END),o.remove(1),o=i;this.moveToBookmark(n)}}(),startPath:function(){return new CKEDITOR.dom.elementPath(this.startContainer,this.root)},endPath:function(){return new CKEDITOR.dom.elementPath(this.endContainer,this.root)},checkBoundaryOfElement:function(t,i){var n=i==CKEDITOR.START,a=this.clone();return a.collapse(n),a[n?"setStartAt":"setEndAt"](t,n?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END),a=new CKEDITOR.dom.walker(a),a.evaluator=e(n),a[n?"checkBackward":"checkForward"]()},checkStartOfBlock:function(){var e=this.startContainer,i=this.startOffset;return CKEDITOR.env.ie&&i&&e.type==CKEDITOR.NODE_TEXT&&(e=CKEDITOR.tools.ltrim(e.substring(0,i)),s.test(e)&&this.trim(0,1)),this.trim(),e=new CKEDITOR.dom.elementPath(this.startContainer,this.root),i=this.clone(),i.collapse(!0),i.setStartAt(e.block||e.blockLimit,CKEDITOR.POSITION_AFTER_START),e=new CKEDITOR.dom.walker(i),e.evaluator=t(),e.checkBackward()},checkEndOfBlock:function(){var e=this.endContainer,i=this.endOffset;return CKEDITOR.env.ie&&e.type==CKEDITOR.NODE_TEXT&&(e=CKEDITOR.tools.rtrim(e.substring(i)),s.test(e)&&this.trim(1,0)),this.trim(),e=new CKEDITOR.dom.elementPath(this.endContainer,this.root),i=this.clone(),i.collapse(!1),i.setEndAt(e.block||e.blockLimit,CKEDITOR.POSITION_BEFORE_END),e=new CKEDITOR.dom.walker(i),e.evaluator=t(),e.checkForward()},getPreviousNode:function(t,e,i){var n=this.clone();return n.collapse(1),n.setStartAt(i||this.root,CKEDITOR.POSITION_AFTER_START),i=new CKEDITOR.dom.walker(n),i.evaluator=t,i.guard=e,i.previous()},getNextNode:function(t,e,i){var n=this.clone();return n.collapse(),n.setEndAt(i||this.root,CKEDITOR.POSITION_BEFORE_END),i=new CKEDITOR.dom.walker(n),i.evaluator=t,i.guard=e,i.next()},checkReadOnly:function(){function t(t,e){for(;t;){if(t.type==CKEDITOR.NODE_ELEMENT){if("false"==t.getAttribute("contentEditable")&&!t.data("cke-editable"))return 0;if(t.is("html")||"true"==t.getAttribute("contentEditable")&&(t.contains(e)||t.equals(e)))break}t=t.getParent()}return 1}return function(){var e=this.startContainer,i=this.endContainer;return!(t(e,i)&&t(i,e))}}(),moveToElementEditablePosition:function(t,e){if(t.type==CKEDITOR.NODE_ELEMENT&&!t.isEditable(!1))return this.moveToPosition(t,e?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START),!0;for(var i=0;t;){if(t.type==CKEDITOR.NODE_TEXT){e&&this.endContainer&&this.checkEndOfBlock()&&s.test(t.getText())?this.moveToPosition(t,CKEDITOR.POSITION_BEFORE_START):this.moveToPosition(t,e?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START),i=1;break}if(t.type==CKEDITOR.NODE_ELEMENT)if(t.isEditable())this.moveToPosition(t,e?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_START),i=1;else if(e&&t.is("br")&&this.endContainer&&this.checkEndOfBlock())this.moveToPosition(t,CKEDITOR.POSITION_BEFORE_START);else if("false"==t.getAttribute("contenteditable")&&t.is(CKEDITOR.dtd.$block))return this.setStartBefore(t),this.setEndAfter(t),!0;var n=t,a=i,o=void 0;n.type==CKEDITOR.NODE_ELEMENT&&n.isEditable(!1)&&(o=n[e?"getLast":"getFirst"](h)),!a&&!o&&(o=n[e?"getPrevious":"getNext"](h)),t=o}return!!i},moveToClosestEditablePosition:function(t,e){var i,n=new CKEDITOR.dom.range(this.root),a=0,o=[CKEDITOR.POSITION_AFTER_END,CKEDITOR.POSITION_BEFORE_START];return n.moveToPosition(t,o[e?0:1]),t.is(CKEDITOR.dtd.$block)?(i=n[e?"getNextEditableNode":"getPreviousEditableNode"]())&&(a=1,i.type==CKEDITOR.NODE_ELEMENT&&i.is(CKEDITOR.dtd.$block)&&"false"==i.getAttribute("contenteditable")?(n.setStartAt(i,CKEDITOR.POSITION_BEFORE_START),n.setEndAt(i,CKEDITOR.POSITION_AFTER_END)):n.moveToPosition(i,o[e?1:0])):a=1,a&&this.moveToRange(n),!!a},moveToElementEditStart:function(t){return this.moveToElementEditablePosition(t)},moveToElementEditEnd:function(t){return this.moveToElementEditablePosition(t,!0)},getEnclosedNode:function(){var t=this.clone();if(t.optimize(),t.startContainer.type!=CKEDITOR.NODE_ELEMENT||t.endContainer.type!=CKEDITOR.NODE_ELEMENT)return null;var t=new CKEDITOR.dom.walker(t),e=CKEDITOR.dom.walker.bookmark(!1,!0),i=CKEDITOR.dom.walker.whitespaces(!0);t.evaluator=function(t){return i(t)&&e(t)};var n=t.next();return t.reset(),n&&n.equals(t.previous())?n:null},getTouchedStartNode:function(){var t=this.startContainer;return this.collapsed||t.type!=CKEDITOR.NODE_ELEMENT?t:t.getChild(this.startOffset)||t},getTouchedEndNode:function(){var t=this.endContainer;return this.collapsed||t.type!=CKEDITOR.NODE_ELEMENT?t:t.getChild(this.endOffset-1)||t},getNextEditableNode:i(),getPreviousEditableNode:i(1),scrollIntoView:function(){var t,e,i,n=new CKEDITOR.dom.element.createFromHtml("<span>&nbsp;</span>",this.document),a=this.clone();a.optimize(),(i=a.startContainer.type==CKEDITOR.NODE_TEXT)?(e=a.startContainer.getText(),t=a.startContainer.split(a.startOffset),n.insertAfter(a.startContainer)):a.insertNode(n),n.scrollIntoView(),i&&(a.startContainer.setText(e),t.remove()),n.remove()},_setStartContainer:function(t){this.startContainer=t},_setEndContainer:function(t){this.endContainer=t}}}(),CKEDITOR.POSITION_AFTER_START=1,CKEDITOR.POSITION_BEFORE_END=2,CKEDITOR.POSITION_BEFORE_START=3,CKEDITOR.POSITION_AFTER_END=4,CKEDITOR.ENLARGE_ELEMENT=1,CKEDITOR.ENLARGE_BLOCK_CONTENTS=2,CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS=3,CKEDITOR.ENLARGE_INLINE=4,CKEDITOR.START=1,CKEDITOR.END=2,CKEDITOR.SHRINK_ELEMENT=1,CKEDITOR.SHRINK_TEXT=2,function(){function t(t){arguments.length<1||(this.range=t,this.forceBrBreak=0,this.enlargeBr=1,this.enforceRealBlocks=0,this._||(this._={}))}function e(t){var e=[];return t.forEach(function(t){return"true"==t.getAttribute("contenteditable")?(e.push(t),!1):void 0},CKEDITOR.NODE_ELEMENT,!0),e}function i(t,n,a,o){t:{null==o&&(o=e(a));for(var r;r=o.shift();)if(r.getDtd().p){o={element:r,remaining:o};
break t}o=null}return o?(r=CKEDITOR.filter.instances[o.element.data("cke-filter")])&&!r.check(n)?i(t,n,a,o.remaining):(n=new CKEDITOR.dom.range(o.element),n.selectNodeContents(o.element),n=n.createIterator(),n.enlargeBr=t.enlargeBr,n.enforceRealBlocks=t.enforceRealBlocks,n.activeFilter=n.filter=r,t._.nestedEditable={element:o.element,container:a,remaining:o.remaining,iterator:n},1):0}function n(t,e,i){return e?(t=t.clone(),t.collapse(!i),t.checkBoundaryOfElement(e,i?CKEDITOR.START:CKEDITOR.END)):!1}var a=/^[\r\n\t ]+$/,o=CKEDITOR.dom.walker.bookmark(!1,!0),r=CKEDITOR.dom.walker.whitespaces(!0),s=function(t){return o(t)&&r(t)},l={dd:1,dt:1,li:1};t.prototype={getNextParagraph:function(t){var e,r,h,c,u,t=t||"p";if(this._.nestedEditable){if(e=this._.nestedEditable.iterator.getNextParagraph(t))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,e;if(this.activeFilter=this.filter,i(this,t,this._.nestedEditable.container,this._.nestedEditable.remaining))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,this._.nestedEditable.iterator.getNextParagraph(t);this._.nestedEditable=null}if(!this.range.root.getDtd()[t])return null;if(!this._.started){var d=this.range.clone();r=d.startPath();var f=d.endPath(),m=!d.collapsed&&n(d,r.block),p=!d.collapsed&&n(d,f.block,1);d.shrink(CKEDITOR.SHRINK_ELEMENT,!0),m&&d.setStartAt(r.block,CKEDITOR.POSITION_BEFORE_END),p&&d.setEndAt(f.block,CKEDITOR.POSITION_AFTER_START),r=d.endContainer.hasAscendant("pre",!0)||d.startContainer.hasAscendant("pre",!0),d.enlarge(this.forceBrBreak&&!r||!this.enlargeBr?CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:CKEDITOR.ENLARGE_BLOCK_CONTENTS),d.collapsed||(r=new CKEDITOR.dom.walker(d.clone()),f=CKEDITOR.dom.walker.bookmark(!0,!0),r.evaluator=f,this._.nextNode=r.next(),r=new CKEDITOR.dom.walker(d.clone()),r.evaluator=f,r=r.previous(),this._.lastNode=r.getNextSourceNode(!0,null,d.root),this._.lastNode&&this._.lastNode.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(this._.lastNode.getText())&&this._.lastNode.getParent().isBlockBoundary()&&(f=this.range.clone(),f.moveToPosition(this._.lastNode,CKEDITOR.POSITION_AFTER_END),f.checkEndOfBlock()&&(f=new CKEDITOR.dom.elementPath(f.endContainer,f.root),this._.lastNode=(f.block||f.blockLimit).getNextSourceNode(!0))),this._.lastNode&&d.root.contains(this._.lastNode)||(this._.lastNode=this._.docEndMarker=d.document.createText(""),this._.lastNode.insertAfter(r)),d=null),this._.started=1,r=d}for(f=this._.nextNode,d=this._.lastNode,this._.nextNode=null;f;){var m=0,p=f.hasAscendant("pre"),g=f.type!=CKEDITOR.NODE_ELEMENT,v=0;if(g)f.type==CKEDITOR.NODE_TEXT&&a.test(f.getText())&&(g=0);else{var C=f.getName();if(CKEDITOR.dtd.$block[C]&&"false"==f.getAttribute("contenteditable")){e=f,i(this,t,e);break}if(f.isBlockBoundary(this.forceBrBreak&&!p&&{br:1})){if("br"==C)g=1;else if(!r&&!f.getChildCount()&&"hr"!=C){e=f,h=f.equals(d);break}r&&(r.setEndAt(f,CKEDITOR.POSITION_BEFORE_START),"br"!=C&&(this._.nextNode=f)),m=1}else{if(f.getFirst()){r||(r=this.range.clone(),r.setStartAt(f,CKEDITOR.POSITION_BEFORE_START)),f=f.getFirst();continue}g=1}}if(g&&!r&&(r=this.range.clone(),r.setStartAt(f,CKEDITOR.POSITION_BEFORE_START)),h=(!m||g)&&f.equals(d),r&&!m)for(;!f.getNext(s)&&!h;){if(C=f.getParent(),C.isBlockBoundary(this.forceBrBreak&&!p&&{br:1})){m=1,g=0,h||C.equals(d),r.setEndAt(C,CKEDITOR.POSITION_BEFORE_END);break}f=C,g=1,h=f.equals(d),v=1}if(g&&r.setEndAt(f,CKEDITOR.POSITION_AFTER_END),f=this._getNextSourceNode(f,v,d),(h=!f)||m&&r)break}if(!e){if(!r)return this._.docEndMarker&&this._.docEndMarker.remove(),this._.nextNode=null;e=new CKEDITOR.dom.elementPath(r.startContainer,r.root),f=e.blockLimit,m={div:1,th:1,td:1},e=e.block,!e&&f&&!this.enforceRealBlocks&&m[f.getName()]&&r.checkStartOfBlock()&&r.checkEndOfBlock()&&!f.equals(r.root)?e=f:!e||this.enforceRealBlocks&&e.is(l)?(e=this.range.document.createElement(t),r.extractContents().appendTo(e),e.trim(),r.insertNode(e),c=u=!0):"li"!=e.getName()?r.checkStartOfBlock()&&r.checkEndOfBlock()||(e=e.clone(!1),r.extractContents().appendTo(e),e.trim(),u=r.splitBlock(),c=!u.wasStartOfBlock,u=!u.wasEndOfBlock,r.insertNode(e)):h||(this._.nextNode=e.equals(d)?null:this._getNextSourceNode(r.getBoundaryNodes().endNode,1,d))}return c&&(c=e.getPrevious())&&c.type==CKEDITOR.NODE_ELEMENT&&("br"==c.getName()?c.remove():c.getLast()&&"br"==c.getLast().$.nodeName.toLowerCase()&&c.getLast().remove()),u&&(c=e.getLast())&&c.type==CKEDITOR.NODE_ELEMENT&&"br"==c.getName()&&(!CKEDITOR.env.needsBrFiller||c.getPrevious(o)||c.getNext(o))&&c.remove(),this._.nextNode||(this._.nextNode=h||e.equals(d)||!d?null:this._getNextSourceNode(e,1,d)),e},_getNextSourceNode:function(t,e,i){function n(t){return!(t.equals(i)||t.equals(a))}for(var a=this.range.root,t=t.getNextSourceNode(e,null,n);!o(t);)t=t.getNextSourceNode(e,null,n);return t}},CKEDITOR.dom.range.prototype.createIterator=function(){return new t(this)}}(),CKEDITOR.command=function(t,e){this.uiItems=[],this.exec=function(i){return this.state!=CKEDITOR.TRISTATE_DISABLED&&this.checkAllowed()?(this.editorFocus&&t.focus(),this.fire("exec")===!1?!0:e.exec.call(this,t,i)!==!1):!1},this.refresh=function(t,i){return!this.readOnly&&t.readOnly?!0:this.context&&!i.isContextFor(this.context)?(this.disable(),!0):this.checkAllowed(!0)?(this.startDisabled||this.enable(),this.modes&&!this.modes[t.mode]&&this.disable(),this.fire("refresh",{editor:t,path:i})===!1?!0:e.refresh&&e.refresh.apply(this,arguments)!==!1):(this.disable(),!0)};var i;this.checkAllowed=function(e){return e||"boolean"!=typeof i?i=t.activeFilter.checkFeature(this):i},CKEDITOR.tools.extend(this,e,{modes:{wysiwyg:1},editorFocus:1,contextSensitive:!!e.context,state:CKEDITOR.TRISTATE_DISABLED}),CKEDITOR.event.call(this)},CKEDITOR.command.prototype={enable:function(){this.state==CKEDITOR.TRISTATE_DISABLED&&this.checkAllowed()&&this.setState(this.preserveState&&"undefined"!=typeof this.previousState?this.previousState:CKEDITOR.TRISTATE_OFF)},disable:function(){this.setState(CKEDITOR.TRISTATE_DISABLED)},setState:function(t){return this.state==t||t!=CKEDITOR.TRISTATE_DISABLED&&!this.checkAllowed()?!1:(this.previousState=this.state,this.state=t,this.fire("state"),!0)},toggleState:function(){this.state==CKEDITOR.TRISTATE_OFF?this.setState(CKEDITOR.TRISTATE_ON):this.state==CKEDITOR.TRISTATE_ON&&this.setState(CKEDITOR.TRISTATE_OFF)}},CKEDITOR.event.implementOn(CKEDITOR.command.prototype),CKEDITOR.ENTER_P=1,CKEDITOR.ENTER_BR=2,CKEDITOR.ENTER_DIV=3,CKEDITOR.config={customConfig:"config.js",autoUpdateElement:!0,language:"",defaultLanguage:"en",contentsLangDirection:"",enterMode:CKEDITOR.ENTER_P,forceEnterMode:!1,shiftEnterMode:CKEDITOR.ENTER_BR,docType:"<!DOCTYPE html>",bodyId:"",bodyClass:"",fullPage:!1,height:200,extraPlugins:"",removePlugins:"",protectedSource:[],tabIndex:0,width:"",baseFloatZIndex:1e4,blockedKeystrokes:[CKEDITOR.CTRL+66,CKEDITOR.CTRL+73,CKEDITOR.CTRL+85]},function(){function t(t,e,i,n,a){var o,s,t=[];for(o in e){s=e[o],s="boolean"==typeof s?{}:"function"==typeof s?{match:s}:k(s),"$"!=o.charAt(0)&&(s.elements=o),i&&(s.featureName=i.toLowerCase());var l=s;l.elements=r(l.elements,/\s+/)||null,l.propertiesOnly=l.propertiesOnly||l.elements===!0;var h=/\s*,\s*/,c=void 0;for(c in K){l[c]=r(l[c],h)||null;var u=l,d=_[c],f=r(l[_[c]],h),m=l[c],p=[],g=!0,C=void 0;f?g=!1:f={};for(C in m)"!"==C.charAt(0)&&(C=C.slice(1),p.push(C),f[C]=!0,g=!1);for(;C=p.pop();)m[C]=m["!"+C],delete m["!"+C];u[d]=(g?!1:f)||null}l.match=l.match||null,n.push(s),t.push(s)}for(var E,e=a.elements,a=a.generic,i=0,n=t.length;n>i;++i){o=k(t[i]),s=o.classes===!0||o.styles===!0||o.attributes===!0,l=o,c=d=h=void 0;for(h in K)l[h]=v(l[h]);u=!0;for(c in _){h=_[c],d=l[h],f=[],m=void 0;for(m in d)f.push(m.indexOf("*")>-1?RegExp("^"+m.replace(/\*/g,".*")+"$"):m);d=f,d.length&&(l[h]=d,u=!1)}if(l.nothingRequired=u,l.noProperties=!(l.attributes||l.classes||l.styles),o.elements===!0||null===o.elements)a[s?"unshift":"push"](o);else{l=o.elements,delete o.elements;for(E in l)e[E]?e[E][s?"unshift":"push"](o):e[E]=[o]}}}function e(t,e,n,a){if((!t.match||t.match(e))&&(a||s(t,e))&&(t.propertiesOnly||(n.valid=!0),n.allAttributes||(n.allAttributes=i(t.attributes,e.attributes,n.validAttributes)),n.allStyles||(n.allStyles=i(t.styles,e.styles,n.validStyles)),!n.allClasses)){if(t=t.classes,e=e.classes,a=n.validClasses,t)if(t===!0)t=!0;else{for(var o,r=0,l=e.length;l>r;++r)o=e[r],a[o]||(a[o]=t(o));t=!1}else t=!1;n.allClasses=t}}function i(t,e,i){if(!t)return!1;if(t===!0)return!0;for(var n in e)i[n]||(i[n]=t(n));return!1}function n(t,e,i){if(!t.match||t.match(e)){if(t.noProperties)return!1;if(i.hadInvalidAttribute=a(t.attributes,e.attributes)||i.hadInvalidAttribute,i.hadInvalidStyle=a(t.styles,e.styles)||i.hadInvalidStyle,t=t.classes,e=e.classes,t){for(var n=!1,o=t===!0,r=e.length;r--;)(o||t(e[r]))&&(e.splice(r,1),n=!0);t=n}else t=!1;i.hadInvalidClass=t||i.hadInvalidClass}}function a(t,e){if(!t)return!1;var i,n=!1,a=t===!0;for(i in e)(a||t(i))&&(delete e[i],n=!0);return n}function o(t,e,i){return t.disabled||t.customConfig&&!i||!e?!1:(t._.cachedChecks={},!0)}function r(t,e){if(!t)return!1;if(t===!0)return t;if("string"==typeof t)return t=A(t),"*"==t?!0:CKEDITOR.tools.convertArrayToObject(t.split(e));if(CKEDITOR.tools.isArray(t))return t.length?CKEDITOR.tools.convertArrayToObject(t):!1;var i,n={},a=0;for(i in t)n[i]=t[i],a++;return a?n:!1}function s(t,e){if(t.nothingRequired)return!0;var i,n,a,o;if(a=t.requiredClasses)for(o=e.classes,i=0;i<a.length;++i)if(n=a[i],"string"==typeof n){if(-1==CKEDITOR.tools.indexOf(o,n))return!1}else if(!CKEDITOR.tools.checkIfAnyArrayItemMatches(o,n))return!1;return l(e.styles,t.requiredStyles)&&l(e.attributes,t.requiredAttributes)}function l(t,e){if(!e)return!0;for(var i,n=0;n<e.length;++n)if(i=e[n],"string"==typeof i){if(!(i in t))return!1}else if(!CKEDITOR.tools.checkIfAnyObjectPropertyMatches(t,i))return!1;return!0}function h(t){if(!t)return{};for(var t=t.split(/\s*,\s*/).sort(),e={};t.length;)e[t.shift()]=w;return e}function c(t){for(var e,i,n,a,o={},r=1,t=A(t);e=t.match(N);)(i=e[2])?(n=u(i,"styles"),a=u(i,"attrs"),i=u(i,"classes")):n=a=i=null,o["$"+r++]={elements:e[1],classes:i,styles:n,attributes:a},t=t.slice(e[0].length);return o}function u(t,e){var i=t.match(F[e]);return i?A(i[1]):null}function d(t){var e=t.styleBackup=t.attributes.style,i=t.classBackup=t.attributes["class"];t.styles||(t.styles=CKEDITOR.tools.parseCssText(e||"",1)),t.classes||(t.classes=i?i.split(/\s+/):[])}function f(t,i,a,o){var r,s=0;if(o.toHtml&&(i.name=i.name.replace(M,"$1")),o.doCallbacks&&t.elementCallbacks){t:for(var l,h=t.elementCallbacks,c=0,u=h.length;u>c;++c)if(l=h[c](i)){r=l;break t}if(r)return r}if(o.doTransform&&(r=t._.transformations[i.name])){for(d(i),h=0;h<r.length;++h)T(t,i,r[h]);p(i)}if(o.doFilter){t:{h=i.name,c=t._,t=c.allowedRules.elements[h],r=c.allowedRules.generic,h=c.disallowedRules.elements[h],c=c.disallowedRules.generic,u=o.skipRequired,l={valid:!1,validAttributes:{},validClasses:{},validStyles:{},allAttributes:!1,allClasses:!1,allStyles:!1,hadInvalidAttribute:!1,hadInvalidClass:!1,hadInvalidStyle:!1};var f,m;if(t||r){if(d(i),h)for(f=0,m=h.length;m>f;++f)if(n(h[f],i,l)===!1){t=null;break t}if(c)for(f=0,m=c.length;m>f;++f)n(c[f],i,l);if(t)for(f=0,m=t.length;m>f;++f)e(t[f],i,l,u);if(r)for(f=0,m=r.length;m>f;++f)e(r[f],i,l,u);t=l}else t=null}if(!t)return a.push(i),x;if(!t.valid)return a.push(i),x;m=t.validAttributes;var v=t.validStyles;r=t.validClasses;var C,E,h=i.attributes,b=i.styles,c=i.classes,u=i.classBackup,y=i.styleBackup,D=[];l=[];var O=/^data-cke-/;if(f=!1,delete h.style,delete h["class"],delete i.classBackup,delete i.styleBackup,!t.allAttributes)for(C in h)m[C]||(O.test(C)?C==(E=C.replace(/^data-cke-saved-/,""))||m[E]||(delete h[C],f=!0):(delete h[C],f=!0));if(!t.allStyles||t.hadInvalidStyle){for(C in b)t.allStyles||v[C]?D.push(C+":"+b[C]):f=!0;D.length&&(h.style=D.sort().join("; "))}else y&&(h.style=y);if(!t.allClasses||t.hadInvalidClass){for(C=0;C<c.length;++C)(t.allClasses||r[c[C]])&&l.push(c[C]);l.length&&(h["class"]=l.sort().join(" ")),u&&l.length<u.split(/\s+/).length&&(f=!0)}else u&&(h["class"]=u);if(f&&(s=x),!o.skipFinalValidation&&!g(i))return a.push(i),x}return o.toHtml&&(i.name=i.name.replace(L,"cke:$1")),s}function m(t){var e,i=[];for(e in t)e.indexOf("*")>-1&&i.push(e.replace(/\*/g,".*"));return i.length?RegExp("^(?:"+i.join("|")+")$"):null}function p(t){var e,i=t.attributes;delete i.style,delete i["class"],(e=CKEDITOR.tools.writeCssText(t.styles,!0))&&(i.style=e),t.classes.length&&(i["class"]=t.classes.sort().join(" "))}function g(t){switch(t.name){case"a":if(!t.children.length&&!t.attributes.name)return!1;break;case"img":if(!t.attributes.src)return!1}return!0}function v(t){if(!t)return!1;if(t===!0)return!0;var e=m(t);return function(i){return i in t||e&&i.match(e)}}function C(){return new CKEDITOR.htmlParser.element("br")}function E(t){return t.type==CKEDITOR.NODE_ELEMENT&&("br"==t.name||R.$block[t.name])}function b(t,e,i){var n=t.name;if(R.$empty[n]||!t.children.length)"hr"==n&&"br"==e?t.replaceWith(C()):(t.parent&&i.push({check:"it",el:t.parent}),t.remove());else if(R.$block[n]||"tr"==n)if("br"==e)t.previous&&!E(t.previous)&&(e=C(),e.insertBefore(t)),t.next&&!E(t.next)&&(e=C(),e.insertAfter(t)),t.replaceWithChildren();else{var a,n=t.children;t:{a=R[e];for(var o,r=0,s=n.length;s>r;++r)if(o=n[r],o.type==CKEDITOR.NODE_ELEMENT&&!a[o.name]){a=!1;break t}a=!0}if(a)t.name=e,t.attributes={},i.push({check:"parent-down",el:t});else{a=t.parent;for(var l,h,r=a.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||"body"==a.name,s=n.length;s>0;)o=n[--s],r&&(o.type==CKEDITOR.NODE_TEXT||o.type==CKEDITOR.NODE_ELEMENT&&R.$inline[o.name])?(l||(l=new CKEDITOR.htmlParser.element(e),l.insertAfter(t),i.push({check:"parent-down",el:l})),l.add(o,0)):(l=null,h=R[a.name]||R.span,o.insertAfter(t),a.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT&&o.type==CKEDITOR.NODE_ELEMENT&&!h[o.name]&&i.push({check:"el-up",el:o}));t.remove()}}else"style"==n?t.remove():(t.parent&&i.push({check:"it",el:t.parent}),t.replaceWithChildren())}function T(t,e,i){var n,a;for(n=0;n<i.length;++n)if(a=i[n],!(a.check&&!t.check(a.check,!1)||a.left&&!a.left(e))){a.right(e,B);break}}function y(t,e){var i,n,a,o,r=e.getDefinition(),s=r.attributes,l=r.styles;if(t.name!=r.element)return!1;for(i in s)if("class"==i){for(r=s[i].split(/\s+/),a=t.classes.join("|");o=r.pop();)if(-1==a.indexOf(o))return!1}else if(t.attributes[i]!=s[i])return!1;for(n in l)if(t.styles[n]!=l[n])return!1;return!0}function D(t,e){var i,n;return"string"==typeof t?i=t:t instanceof CKEDITOR.style?n=t:(i=t[0],n=t[1]),[{element:i,left:n,right:function(t,i){i.transform(t,e)}}]}function O(t){return function(e){return y(e,t)}}function I(t){return function(e,i){i[t](e)}}var R=CKEDITOR.dtd,x=1,k=CKEDITOR.tools.copy,A=CKEDITOR.tools.trim,w="cke-test",S=["","p","br","div"];CKEDITOR.FILTER_SKIP_TREE=2,CKEDITOR.filter=function(t){if(this.allowedContent=[],this.disallowedContent=[],this.elementCallbacks=null,this.disabled=!1,this.editor=null,this.id=CKEDITOR.tools.getNextNumber(),this._={allowedRules:{elements:{},generic:[]},disallowedRules:{elements:{},generic:[]},transformations:{},cachedTests:{}},CKEDITOR.filter.instances[this.id]=this,t instanceof CKEDITOR.editor){t=this.editor=t,this.customConfig=!0;var e=t.config.allowedContent;e===!0?this.disabled=!0:(e||(this.customConfig=!1),this.allow(e,"config",1),this.allow(t.config.extraAllowedContent,"extra",1),this.allow(S[t.enterMode]+" "+S[t.shiftEnterMode],"default",1),this.disallow(t.config.disallowedContent))}else this.customConfig=!1,this.allow(t,"default",1)},CKEDITOR.filter.instances={},CKEDITOR.filter.prototype={allow:function(e,i,n){if(!o(this,e,n))return!1;var a,r;if("string"==typeof e)e=c(e);else if(e instanceof CKEDITOR.style){if(e.toAllowedContentRules)return this.allow(e.toAllowedContentRules(this.editor),i,n);a=e.getDefinition(),e={},n=a.attributes,e[a.element]=a={styles:a.styles,requiredStyles:a.styles&&CKEDITOR.tools.objectKeys(a.styles)},n&&(n=k(n),a.classes=n["class"]?n["class"].split(/\s+/):null,a.requiredClasses=a.classes,delete n["class"],a.attributes=n,a.requiredAttributes=n&&CKEDITOR.tools.objectKeys(n))}else if(CKEDITOR.tools.isArray(e)){for(a=0;a<e.length;++a)r=this.allow(e[a],i,n);return r}return t(this,e,i,this.allowedContent,this._.allowedRules),!0},applyTo:function(t,e,i,n){if(this.disabled)return!1;var a,o=this,r=[],s=this.editor&&this.editor.config.protectedSource,l=!1,h={doFilter:!i,doTransform:!0,doCallbacks:!0,toHtml:e};t.forEach(function(t){if(t.type==CKEDITOR.NODE_ELEMENT){if("off"==t.attributes["data-cke-filter"])return!1;if(!e||"span"!=t.name||!~CKEDITOR.tools.objectKeys(t.attributes).join("|").indexOf("data-cke-"))if(a=f(o,t,r,h),a&x)l=!0;else if(2&a)return!1}else if(t.type==CKEDITOR.NODE_COMMENT&&t.value.match(/^\{cke_protected\}(?!\{C\})/)){var i;t:{var n=decodeURIComponent(t.value.replace(/^\{cke_protected\}/,""));i=[];var c,u,d;if(s)for(u=0;u<s.length;++u)if((d=n.match(s[u]))&&d[0].length==n.length){i=!0;break t}n=CKEDITOR.htmlParser.fragment.fromHtml(n),1==n.children.length&&(c=n.children[0]).type==CKEDITOR.NODE_ELEMENT&&f(o,c,i,h),i=!i.length}i||r.push(t)}},null,!0),r.length&&(l=!0);for(var c,u,t=[],n=S[n||(this.editor?this.editor.enterMode:CKEDITOR.ENTER_P)];i=r.pop();)i.type==CKEDITOR.NODE_ELEMENT?b(i,n,t):i.remove();for(;c=t.pop();)if(i=c.el,i.parent)switch(u=R[i.parent.name]||R.span,c.check){case"it":R.$removeEmpty[i.name]&&!i.children.length?b(i,n,t):g(i)||b(i,n,t);break;case"el-up":i.parent.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT&&!u[i.name]&&b(i,n,t);break;case"parent-down":i.parent.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT&&!u[i.name]&&b(i.parent,n,t)}return l},checkFeature:function(t){return this.disabled||!t?!0:(t.toFeature&&(t=t.toFeature(this.editor)),!t.requiredContent||this.check(t.requiredContent))},disable:function(){this.disabled=!0},disallow:function(e){return o(this,e,!0)?("string"==typeof e&&(e=c(e)),t(this,e,null,this.disallowedContent,this._.disallowedRules),!0):!1},addContentForms:function(t){if(!this.disabled&&t){var e,i,n,a=[];for(e=0;e<t.length&&!n;++e)i=t[e],("string"==typeof i||i instanceof CKEDITOR.style)&&this.check(i)&&(n=i);if(n){for(e=0;e<t.length;++e)a.push(D(t[e],n));this.addTransformations(a)}}},addElementCallback:function(t){this.elementCallbacks||(this.elementCallbacks=[]),this.elementCallbacks.push(t)},addFeature:function(t){return this.disabled||!t?!0:(t.toFeature&&(t=t.toFeature(this.editor)),this.allow(t.allowedContent,t.name),this.addTransformations(t.contentTransformations),this.addContentForms(t.contentForms),t.requiredContent&&(this.customConfig||this.disallowedContent.length)?this.check(t.requiredContent):!0)},addTransformations:function(t){var e,i;if(!this.disabled&&t){var n,a=this._.transformations;for(n=0;n<t.length;++n){e=t[n];var o=void 0,r=void 0,s=void 0,l=void 0,h=void 0,c=void 0;for(i=[],r=0;r<e.length;++r)s=e[r],"string"==typeof s?(s=s.split(/\s*:\s*/),l=s[0],h=null,c=s[1]):(l=s.check,h=s.left,c=s.right),o||(o=s,o=o.element?o.element:l?l.match(/^([a-z0-9]+)/i)[0]:o.left.getDefinition().element),h instanceof CKEDITOR.style&&(h=O(h)),i.push({check:l==o?null:l,left:h,right:"string"==typeof c?I(c):c});e=o,a[e]||(a[e]=[]),a[e].push(i)}}},check:function(t,e,i){if(this.disabled)return!0;if(CKEDITOR.tools.isArray(t)){for(var n=t.length;n--;)if(this.check(t[n],e,i))return!0;return!1}var a,o;if("string"==typeof t){if(o=t+"<"+(e===!1?"0":"1")+(i?"1":"0")+">",o in this._.cachedChecks)return this._.cachedChecks[o];n=c(t).$1,a=n.styles;var r=n.classes;n.name=n.elements,n.classes=r=r?r.split(/\s*,\s*/):[],n.styles=h(a),n.attributes=h(n.attributes),n.children=[],r.length&&(n.attributes["class"]=r.join(" ")),a&&(n.attributes.style=CKEDITOR.tools.writeCssText(n.styles)),a=n}else n=t.getDefinition(),a=n.styles,r=n.attributes||{},a?(a=k(a),r.style=CKEDITOR.tools.writeCssText(a,!0)):a={},a={name:n.element,attributes:r,classes:r["class"]?r["class"].split(/\s+/):[],styles:a,children:[]};var s,r=CKEDITOR.tools.clone(a),l=[];if(e!==!1&&(s=this._.transformations[a.name])){for(n=0;n<s.length;++n)T(this,a,s[n]);p(a)}return f(this,r,l,{doFilter:!0,doTransform:e!==!1,skipRequired:!i,skipFinalValidation:!i}),e=l.length>0?!1:CKEDITOR.tools.objectCompare(a.attributes,r.attributes,!0)?!0:!1,"string"==typeof t&&(this._.cachedChecks[o]=e),e},getAllowedEnterMode:function(){var t=["p","div","br"],e={p:CKEDITOR.ENTER_P,div:CKEDITOR.ENTER_DIV,br:CKEDITOR.ENTER_BR};return function(i,n){var a,o=t.slice();if(this.check(S[i]))return i;for(n||(o=o.reverse());a=o.pop();)if(this.check(a))return e[a];return CKEDITOR.ENTER_BR}}(),destroy:function(){delete CKEDITOR.filter.instances[this.id],delete this._,delete this.allowedContent,delete this.disallowedContent}};var K={styles:1,attributes:1,classes:1},_={styles:"requiredStyles",attributes:"requiredAttributes",classes:"requiredClasses"},N=/^([a-z0-9\-*\s]+)((?:\s*\{[!\w\-,\s\*]+\}\s*|\s*\[[!\w\-,\s\*]+\]\s*|\s*\([!\w\-,\s\*]+\)\s*){0,3})(?:;\s*|$)/i,F={styles:/{([^}]+)}/,attrs:/\[([^\]]+)\]/,classes:/\(([^\)]+)\)/},M=/^cke:(object|embed|param)$/,L=/^(object|embed|param)$/,B=CKEDITOR.filter.transformationsTools={sizeToStyle:function(t){this.lengthToStyle(t,"width"),this.lengthToStyle(t,"height")},sizeToAttribute:function(t){this.lengthToAttribute(t,"width"),this.lengthToAttribute(t,"height")},lengthToStyle:function(t,e,i){if(i=i||e,!(i in t.styles)){var n=t.attributes[e];n&&(/^\d+$/.test(n)&&(n+="px"),t.styles[i]=n)}delete t.attributes[e]},lengthToAttribute:function(t,e,i){if(i=i||e,!(i in t.attributes)){var n=t.styles[e],a=n&&n.match(/^(\d+)(?:\.\d*)?px$/);a?t.attributes[i]=a[1]:n==w&&(t.attributes[i]=w)}delete t.styles[e]},alignmentToStyle:function(t){if(!("float"in t.styles)){var e=t.attributes.align;("left"==e||"right"==e)&&(t.styles["float"]=e)}delete t.attributes.align},alignmentToAttribute:function(t){if(!("align"in t.attributes)){var e=t.styles["float"];("left"==e||"right"==e)&&(t.attributes.align=e)}delete t.styles["float"]},matchesStyle:y,transform:function(t,e){if("string"==typeof e)t.name=e;else{var i,n,a,o,r=e.getDefinition(),s=r.styles,l=r.attributes;t.name=r.element;for(i in l)if("class"==i)for(r=t.classes.join("|"),a=l[i].split(/\s+/);o=a.pop();)-1==r.indexOf(o)&&t.classes.push(o);else t.attributes[i]=l[i];for(n in s)t.styles[n]=s[n]}}}}(),function(){CKEDITOR.focusManager=function(t){return t.focusManager?t.focusManager:(this.hasFocus=!1,this.currentActive=null,this._={editor:t},this)},CKEDITOR.focusManager._={blurDelay:200},CKEDITOR.focusManager.prototype={focus:function(t){this._.timer&&clearTimeout(this._.timer),t&&(this.currentActive=t),this.hasFocus||this._.locked||((t=CKEDITOR.currentInstance)&&t.focusManager.blur(1),this.hasFocus=!0,(t=this._.editor.container)&&t.addClass("cke_focus"),this._.editor.fire("focus"))},lock:function(){this._.locked=1},unlock:function(){delete this._.locked},blur:function(t){function e(){if(this.hasFocus){this.hasFocus=!1;var t=this._.editor.container;t&&t.removeClass("cke_focus"),this._.editor.fire("blur")}}if(!this._.locked){this._.timer&&clearTimeout(this._.timer);var i=CKEDITOR.focusManager._.blurDelay;t||!i?e.call(this):this._.timer=CKEDITOR.tools.setTimeout(function(){delete this._.timer,e.call(this)},i,this)}},add:function(t,e){var i=t.getCustomData("focusmanager");if(!i||i!=this){i&&i.remove(t);var i="focus",n="blur";e&&(CKEDITOR.env.ie?(i="focusin",n="focusout"):CKEDITOR.event.useCapture=1);var a={blur:function(){t.equals(this.currentActive)&&this.blur()},focus:function(){this.focus(t)}};t.on(i,a.focus,this),t.on(n,a.blur,this),e&&(CKEDITOR.event.useCapture=0),t.setCustomData("focusmanager",this),t.setCustomData("focusmanager_handlers",a)}},remove:function(t){t.removeCustomData("focusmanager");var e=t.removeCustomData("focusmanager_handlers");t.removeListener("blur",e.blur),t.removeListener("focus",e.focus)}}}(),CKEDITOR.keystrokeHandler=function(t){return t.keystrokeHandler?t.keystrokeHandler:(this.keystrokes={},this.blockedKeystrokes={},this._={editor:t},this)},function(){var t,e=function(e){var e=e.data,i=e.getKeystroke(),n=this.keystrokes[i],a=this._.editor;return t=a.fire("key",{keyCode:i,domEvent:e})===!1,t||(n&&(t=a.execCommand(n,{from:"keystrokeHandler"})!==!1),t||(t=!!this.blockedKeystrokes[i])),t&&e.preventDefault(!0),!t},i=function(e){t&&(t=!1,e.data.preventDefault(!0))};CKEDITOR.keystrokeHandler.prototype={attach:function(t){t.on("keydown",e,this),CKEDITOR.env.gecko&&CKEDITOR.env.mac&&t.on("keypress",i,this)}}}(),function(){CKEDITOR.lang={languages:{af:1,ar:1,bg:1,bn:1,bs:1,ca:1,cs:1,cy:1,da:1,de:1,el:1,"en-au":1,"en-ca":1,"en-gb":1,en:1,eo:1,es:1,et:1,eu:1,fa:1,fi:1,fo:1,"fr-ca":1,fr:1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,is:1,it:1,ja:1,ka:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,ms:1,nb:1,nl:1,no:1,pl:1,"pt-br":1,pt:1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,"sr-latn":1,sr:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,"zh-cn":1,zh:1},rtl:{ar:1,fa:1,he:1,ku:1,ug:1},load:function(t,e,i){t&&CKEDITOR.lang.languages[t]||(t=this.detect(e,t));var n=this,e=function(){n[t].dir=n.rtl[t]?"rtl":"ltr",i(t,n[t])};this[t]?e():CKEDITOR.scriptLoader.load(CKEDITOR.getUrl("lang/"+t+".js"),e,this)},detect:function(t,e){var i=this.languages,e=e||navigator.userLanguage||navigator.language||t,n=e.toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/),a=n[1],n=n[2];return i[a+"-"+n]?a=a+"-"+n:i[a]||(a=null),CKEDITOR.lang.detect=a?function(){return a}:function(t){return t},a||t}}}(),CKEDITOR.scriptLoader=function(){var t={},e={};return{load:function(i,n,a,o){var r="string"==typeof i;r&&(i=[i]),a||(a=CKEDITOR);var s=i.length,l=[],h=[],c=function(t){n&&(r?n.call(a,t):n.call(a,l,h))};if(0===s)c(!0);else{var u=function(t,e){(e?l:h).push(t),--s<=0&&(o&&CKEDITOR.document.getDocumentElement().removeStyle("cursor"),c(e))},d=function(i,n){t[i]=1;var a=e[i];delete e[i];for(var o=0;o<a.length;o++)a[o](i,n)},f=function(i){if(t[i])u(i,!0);else{var a=e[i]||(e[i]=[]);if(a.push(u),!(a.length>1)){var o=new CKEDITOR.dom.element("script");o.setAttributes({type:"text/javascript",src:i}),n&&(CKEDITOR.env.ie&&CKEDITOR.env.version<11?o.$.onreadystatechange=function(){("loaded"==o.$.readyState||"complete"==o.$.readyState)&&(o.$.onreadystatechange=null,d(i,!0))}:(o.$.onload=function(){setTimeout(function(){d(i,!0)},0)},o.$.onerror=function(){d(i,!1)})),o.appendTo(CKEDITOR.document.getHead())}}};o&&CKEDITOR.document.getDocumentElement().setStyle("cursor","wait");for(var m=0;s>m;m++)f(i[m])}},queue:function(){function t(){var t;(t=e[0])&&this.load(t.scriptUrl,t.callback,CKEDITOR,0)}var e=[];return function(i,n){var a=this;e.push({scriptUrl:i,callback:function(){n&&n.apply(this,arguments),e.shift(),t.call(a)}}),1==e.length&&t.call(this)}}()}}(),CKEDITOR.resourceManager=function(t,e){this.basePath=t,this.fileName=e,this.registered={},this.loaded={},this.externals={},this._={waitingList:{}}},CKEDITOR.resourceManager.prototype={add:function(t,e){if(this.registered[t])throw'[CKEDITOR.resourceManager.add] The resource name "'+t+'" is already registered.';var i=this.registered[t]=e||{};return i.name=t,i.path=this.getPath(t),CKEDITOR.fire(t+CKEDITOR.tools.capitalize(this.fileName)+"Ready",i),this.get(t)},get:function(t){return this.registered[t]||null},getPath:function(t){var e=this.externals[t];return CKEDITOR.getUrl(e&&e.dir||this.basePath+t+"/")},getFilePath:function(t){var e=this.externals[t];return CKEDITOR.getUrl(this.getPath(t)+(e?e.file:this.fileName+".js"))},addExternal:function(t,e,i){for(var t=t.split(","),n=0;n<t.length;n++){var a=t[n];i||(e=e.replace(/[^\/]+$/,function(t){return i=t,""})),this.externals[a]={dir:e,file:i||this.fileName+".js"}}},load:function(t,e,i){CKEDITOR.tools.isArray(t)||(t=t?[t]:[]);for(var n=this.loaded,a=this.registered,o=[],r={},s={},l=0;l<t.length;l++){var h=t[l];if(h)if(n[h]||a[h])s[h]=this.get(h);else{var c=this.getFilePath(h);o.push(c),c in r||(r[c]=[]),r[c].push(h)}}CKEDITOR.scriptLoader.load(o,function(t,a){if(a.length)throw'[CKEDITOR.resourceManager.load] Resource name "'+r[a[0]].join(",")+'" was not found at "'+a[0]+'".';for(var o=0;o<t.length;o++)for(var l=r[t[o]],h=0;h<l.length;h++){var c=l[h];s[c]=this.get(c),n[c]=1}e.call(i,s)},this)}},CKEDITOR.plugins=new CKEDITOR.resourceManager("plugins/","plugin"),CKEDITOR.plugins.load=CKEDITOR.tools.override(CKEDITOR.plugins.load,function(t){var e={};return function(i,n,a){var o={},r=function(i){t.call(this,i,function(t){CKEDITOR.tools.extend(o,t);var i,s=[];for(i in t){var l=t[i],h=l&&l.requires;if(!e[i]){if(l.icons)for(var c=l.icons.split(","),u=c.length;u--;)CKEDITOR.skin.addIcon(c[u],l.path+"icons/"+(CKEDITOR.env.hidpi&&l.hidpi?"hidpi/":"")+c[u]+".png");e[i]=1}if(h)for(h.split&&(h=h.split(",")),l=0;l<h.length;l++)o[h[l]]||s.push(h[l])}if(s.length)r.call(this,s);else{for(i in o)l=o[i],l.onLoad&&!l.onLoad._called&&(l.onLoad()===!1&&delete o[i],l.onLoad._called=1);n&&n.call(a||window,o)}},this)};r.call(this,i)}}),CKEDITOR.plugins.setLang=function(t,e,i){var n=this.get(t),t=n.langEntries||(n.langEntries={}),n=n.lang||(n.lang=[]);n.split&&(n=n.split(",")),-1==CKEDITOR.tools.indexOf(n,e)&&n.push(e),t[e]=i},CKEDITOR.ui=function(t){return t.ui?t.ui:(this.items={},this.instances={},this.editor=t,this._={handlers:{}},this)},CKEDITOR.ui.prototype={add:function(t,e,i){i.name=t.toLowerCase();var n=this.items[t]={type:e,command:i.command||null,args:Array.prototype.slice.call(arguments,2)};CKEDITOR.tools.extend(n,i)},get:function(t){return this.instances[t]},create:function(t){var e=this.items[t],i=e&&this._.handlers[e.type],n=e&&e.command&&this.editor.getCommand(e.command),i=i&&i.create.apply(this,e.args);return this.instances[t]=i,n&&n.uiItems.push(i),i&&!i.type&&(i.type=e.type),i},addHandler:function(t,e){this._.handlers[t]=e},space:function(t){return CKEDITOR.document.getById(this.spaceId(t))},spaceId:function(t){return this.editor.id+"_"+t}},CKEDITOR.event.implementOn(CKEDITOR.ui),function(){function t(t,n,o){if(CKEDITOR.event.call(this),t=t&&CKEDITOR.tools.clone(t),void 0!==n){if(!(n instanceof CKEDITOR.dom.element))throw Error("Expect element of type CKEDITOR.dom.element.");if(!o)throw Error("One of the element modes must be specified.");if(CKEDITOR.env.ie&&CKEDITOR.env.quirks&&o==CKEDITOR.ELEMENT_MODE_INLINE)throw Error("Inline element mode is not supported on IE quirks.");if(!(o==CKEDITOR.ELEMENT_MODE_INLINE?n.is(CKEDITOR.dtd.$editable)||n.is("textarea"):o==CKEDITOR.ELEMENT_MODE_REPLACE?!n.is(CKEDITOR.dtd.$nonBodyContent):1))throw Error('The specified element mode is not supported on element: "'+n.getName()+'".');this.element=n,this.elementMode=o,this.name=this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO&&(n.getId()||n.getNameAtt())}else this.elementMode=CKEDITOR.ELEMENT_MODE_NONE;this._={},this.commands={},this.templates={},this.name=this.name||e(),this.id=CKEDITOR.tools.getNextId(),this.status="unloaded",this.config=CKEDITOR.tools.prototypedCopy(CKEDITOR.config),this.ui=new CKEDITOR.ui(this),this.focusManager=new CKEDITOR.focusManager(this),this.keystrokeHandler=new CKEDITOR.keystrokeHandler(this),this.on("readOnly",i),this.on("selectionChange",function(t){a(this,t.data.path)}),this.on("activeFilterChange",function(){a(this,this.elementPath(),!0)}),this.on("mode",i),this.on("instanceReady",function(){this.config.startupFocus&&this.focus()}),CKEDITOR.fire("instanceCreated",null,this),CKEDITOR.add(this),CKEDITOR.tools.setTimeout(function(){r(this,t)},0,this)}function e(){do var t="editor"+ ++d;while(CKEDITOR.instances[t]);return t}function i(){var t,e=this.commands;for(t in e)n(this,e[t])}function n(t,e){e[e.startDisabled?"disable":t.readOnly&&!e.readOnly?"disable":e.modes[t.mode]?"enable":"disable"]()}function a(t,e,i){if(e){var n,a,o=t.commands;for(a in o)n=o[a],(i||n.contextSensitive)&&n.refresh(t,e)}}function o(t){var e=t.config.customConfig;if(!e)return!1;var e=CKEDITOR.getUrl(e),i=f[e]||(f[e]={});return i.fn?(i.fn.call(t,t.config),(CKEDITOR.getUrl(t.config.customConfig)==e||!o(t))&&t.fireOnce("customConfigLoaded")):CKEDITOR.scriptLoader.queue(e,function(){i.fn=CKEDITOR.editorConfig?CKEDITOR.editorConfig:function(){},o(t)}),!0}function r(t,e){t.on("customConfigLoaded",function(){if(e){if(e.on)for(var i in e.on)t.on(i,e.on[i]);CKEDITOR.tools.extend(t.config,e,!0),delete t.config.on}i=t.config,t.readOnly=!(!i.readOnly&&!(t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?t.element.is("textarea")?t.element.hasAttribute("disabled"):t.element.isReadOnly():t.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&t.element.hasAttribute("disabled"))),t.blockless=t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?!(t.element.is("textarea")||CKEDITOR.dtd[t.element.getName()].p):!1,t.tabIndex=i.tabIndex||t.element&&t.element.getAttribute("tabindex")||0,t.activeEnterMode=t.enterMode=t.blockless?CKEDITOR.ENTER_BR:i.enterMode,t.activeShiftEnterMode=t.shiftEnterMode=t.blockless?CKEDITOR.ENTER_BR:i.shiftEnterMode,i.skin&&(CKEDITOR.skinName=i.skin),t.fireOnce("configLoaded"),t.dataProcessor=new CKEDITOR.htmlDataProcessor(t),t.filter=t.activeFilter=new CKEDITOR.filter(t),s(t)
}),e&&null!=e.customConfig&&(t.config.customConfig=e.customConfig),o(t)||t.fireOnce("customConfigLoaded")}function s(t){CKEDITOR.skin.loadPart("editor",function(){l(t)})}function l(t){CKEDITOR.lang.load(t.config.language,t.config.defaultLanguage,function(e,i){var n=t.config.title;t.langCode=e,t.lang=CKEDITOR.tools.prototypedCopy(i),t.title="string"==typeof n||n===!1?n:[t.lang.editor,t.name].join(", "),t.config.contentsLangDirection||(t.config.contentsLangDirection=t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?t.element.getDirection(1):t.lang.dir),t.fire("langLoaded"),h(t)})}function h(t){t.getStylesSet(function(e){t.once("loaded",function(){t.fire("stylesSet",{styles:e})},null,null,1),c(t)})}function c(t){var e=t.config,i=e.plugins,n=e.extraPlugins,a=e.removePlugins;if(n)var o=RegExp("(?:^|,)(?:"+n.replace(/\s*,\s*/g,"|")+")(?=,|$)","g"),i=i.replace(o,""),i=i+(","+n);if(a)var r=RegExp("(?:^|,)(?:"+a.replace(/\s*,\s*/g,"|")+")(?=,|$)","g"),i=i.replace(r,"");CKEDITOR.env.air&&(i+=",adobeair"),CKEDITOR.plugins.load(i.split(","),function(i){var n=[],a=[],o=[];t.plugins=i;for(var s in i){var l,h=i[s],c=h.lang,u=null,d=h.requires;if(CKEDITOR.tools.isArray(d)&&(d=d.join(",")),d&&(l=d.match(r)))for(;d=l.pop();)CKEDITOR.tools.setTimeout(function(t,e){throw Error('Plugin "'+t.replace(",","")+'" cannot be removed from the plugins list, because it\'s required by "'+e+'" plugin.')},0,null,[d,s]);c&&!t.lang[s]&&(c.split&&(c=c.split(",")),CKEDITOR.tools.indexOf(c,t.langCode)>=0?u=t.langCode:(u=t.langCode.replace(/-.*/,""),u=u!=t.langCode&&CKEDITOR.tools.indexOf(c,u)>=0?u:CKEDITOR.tools.indexOf(c,"en")>=0?"en":c[0]),h.langEntries&&h.langEntries[u]?(t.lang[s]=h.langEntries[u],u=null):o.push(CKEDITOR.getUrl(h.path+"lang/"+u+".js"))),a.push(u),n.push(h)}CKEDITOR.scriptLoader.load(o,function(){for(var i=["beforeInit","init","afterInit"],o=0;o<i.length;o++)for(var r=0;r<n.length;r++){var s=n[r];0===o&&a[r]&&s.lang&&s.langEntries&&(t.lang[s.name]=s.langEntries[a[r]]),s[i[o]]&&s[i[o]](t)}for(t.fireOnce("pluginsLoaded"),e.keystrokes&&t.setKeystroke(t.config.keystrokes),r=0;r<t.config.blockedKeystrokes.length;r++)t.keystrokeHandler.blockedKeystrokes[t.config.blockedKeystrokes[r]]=1;t.status="loaded",t.fireOnce("loaded"),CKEDITOR.fire("instanceLoaded",null,t)})})}function u(){var t=this.element;if(t&&this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO){var e=this.getData();return this.config.htmlEncodeOutput&&(e=CKEDITOR.tools.htmlEncode(e)),t.is("textarea")?t.setValue(e):t.setHtml(e),!0}return!1}t.prototype=CKEDITOR.editor.prototype,CKEDITOR.editor=t;var d=0,f={};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{addCommand:function(t,e){e.name=t.toLowerCase();var i=new CKEDITOR.command(this,e);return this.mode&&n(this,i),this.commands[t]=i},_attachToForm:function(){function t(t){e.updateElement(),e._.required&&!i.getValue()&&e.fire("required")===!1&&t.data.preventDefault()}var e=this,i=e.element,n=new CKEDITOR.dom.element(i.$.form);i.is("textarea")&&n&&(n.on("submit",t),n.$.submit&&n.$.submit.call&&n.$.submit.apply&&(n.$.submit=CKEDITOR.tools.override(n.$.submit,function(e){return function(){t(),e.apply?e.apply(this):e()}})),e.on("destroy",function(){n.removeListener("submit",t)}))},destroy:function(t){this.fire("beforeDestroy"),!t&&u.call(this),this.editable(null),this.filter.destroy(),delete this.filter,delete this.activeFilter,this.status="destroyed",this.fire("destroy"),this.removeAllListeners(),CKEDITOR.remove(this),CKEDITOR.fire("instanceDestroyed",null,this)},elementPath:function(t){if(!t){if(t=this.getSelection(),!t)return null;t=t.getStartElement()}return t?new CKEDITOR.dom.elementPath(t,this.editable()):null},createRange:function(){var t=this.editable();return t?new CKEDITOR.dom.range(t):null},execCommand:function(t,e){var i=this.getCommand(t),n={name:t,commandData:e,command:i};return i&&i.state!=CKEDITOR.TRISTATE_DISABLED&&this.fire("beforeCommandExec",n)!==!1&&(n.returnValue=i.exec(n.commandData),!i.async&&this.fire("afterCommandExec",n)!==!1)?n.returnValue:!1},getCommand:function(t){return this.commands[t]},getData:function(t){!t&&this.fire("beforeGetData");var e=this._.data;return"string"!=typeof e&&(e=(e=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?e.is("textarea")?e.getValue():e.getHtml():""),e={dataValue:e},!t&&this.fire("getData",e),e.dataValue},getSnapshot:function(){var t=this.fire("getSnapshot");if("string"!=typeof t){var e=this.element;e&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(t=e.is("textarea")?e.getValue():e.getHtml())}return t},loadSnapshot:function(t){this.fire("loadSnapshot",t)},setData:function(t,e,i){var n=!0,a=e;e&&"object"==typeof e&&(i=e.internal,a=e.callback,n=!e.noSnapshot),!i&&n&&this.fire("saveSnapshot"),(a||!i)&&this.once("dataReady",function(t){!i&&n&&this.fire("saveSnapshot"),a&&a.call(t.editor)}),t={dataValue:t},!i&&this.fire("setData",t),this._.data=t.dataValue,!i&&this.fire("afterSetData",t)},setReadOnly:function(t){t=null==t||t,this.readOnly!=t&&(this.readOnly=t,this.keystrokeHandler.blockedKeystrokes[8]=+t,this.editable().setReadOnly(t),this.fire("readOnly"))},insertHtml:function(t,e){this.fire("insertHtml",{dataValue:t,mode:e})},insertText:function(t){this.fire("insertText",t)},insertElement:function(t){this.fire("insertElement",t)},focus:function(){this.fire("beforeFocus")},checkDirty:function(){return"ready"==this.status&&this._.previousValue!==this.getSnapshot()},resetDirty:function(){this._.previousValue=this.getSnapshot()},updateElement:function(){return u.call(this)},setKeystroke:function(){for(var t,e,i=this.keystrokeHandler.keystrokes,n=CKEDITOR.tools.isArray(arguments[0])?arguments[0]:[[].slice.call(arguments,0)],a=n.length;a--;)t=n[a],e=0,CKEDITOR.tools.isArray(t)&&(e=t[1],t=t[0]),e?i[t]=e:delete i[t]},addFeature:function(t){return this.filter.addFeature(t)},setActiveFilter:function(t){t||(t=this.filter),this.activeFilter!==t&&(this.activeFilter=t,this.fire("activeFilterChange"),t===this.filter?this.setActiveEnterMode(null,null):this.setActiveEnterMode(t.getAllowedEnterMode(this.enterMode),t.getAllowedEnterMode(this.shiftEnterMode,!0)))},setActiveEnterMode:function(t,e){t=t?this.blockless?CKEDITOR.ENTER_BR:t:this.enterMode,e=e?this.blockless?CKEDITOR.ENTER_BR:e:this.shiftEnterMode,(this.activeEnterMode!=t||this.activeShiftEnterMode!=e)&&(this.activeEnterMode=t,this.activeShiftEnterMode=e,this.fire("activeEnterModeChange"))}})}(),CKEDITOR.ELEMENT_MODE_NONE=0,CKEDITOR.ELEMENT_MODE_REPLACE=1,CKEDITOR.ELEMENT_MODE_APPENDTO=2,CKEDITOR.ELEMENT_MODE_INLINE=3,CKEDITOR.htmlParser=function(){this._={htmlPartsRegex:/<(?:(?:\/([^>]+)>)|(?:!--([\S|\s]*?)--\>)|(?:([^\/\s>]+)((?:\s+[\w\-:.]+(?:\s*=\s*?(?:(?:"[^"]*")|(?:'[^']*')|[^\s"'\/>]+))?)*)[\S\s]*?(\/?)>))/g}},function(){var t=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,e={checked:1,compact:1,declare:1,defer:1,disabled:1,ismap:1,multiple:1,nohref:1,noresize:1,noshade:1,nowrap:1,readonly:1,selected:1};CKEDITOR.htmlParser.prototype={onTagOpen:function(){},onTagClose:function(){},onText:function(){},onCDATA:function(){},onComment:function(){},parse:function(i){for(var n,a,o,r=0;n=this._.htmlPartsRegex.exec(i);)if(a=n.index,a>r&&(r=i.substring(r,a),o?o.push(r):this.onText(r)),r=this._.htmlPartsRegex.lastIndex,!(a=n[1])||(a=a.toLowerCase(),o&&CKEDITOR.dtd.$cdata[a]&&(this.onCDATA(o.join("")),o=null),o))if(o)o.push(n[0]);else if(a=n[3]){if(a=a.toLowerCase(),!/="/.test(a)){var s,l={},h=n[4];if(n=!!n[5],h)for(;s=t.exec(h);){var c=s[1].toLowerCase();s=s[2]||s[3]||s[4]||"",l[c]=!s&&e[c]?c:CKEDITOR.tools.htmlDecodeAttr(s)}this.onTagOpen(a,l,n),!o&&CKEDITOR.dtd.$cdata[a]&&(o=[])}}else(a=n[2])&&this.onComment(a);else this.onTagClose(a);i.length>r&&this.onText(i.substring(r,i.length))}}}(),CKEDITOR.htmlParser.basicWriter=CKEDITOR.tools.createClass({$:function(){this._={output:[]}},proto:{openTag:function(t){this._.output.push("<",t)},openTagClose:function(t,e){this._.output.push(e?" />":">")},attribute:function(t,e){"string"==typeof e&&(e=CKEDITOR.tools.htmlEncodeAttr(e)),this._.output.push(" ",t,'="',e,'"')},closeTag:function(t){this._.output.push("</",t,">")},text:function(t){this._.output.push(t)},comment:function(t){this._.output.push("<!--",t,"-->")},write:function(t){this._.output.push(t)},reset:function(){this._.output=[],this._.indent=!1},getHtml:function(t){var e=this._.output.join("");return t&&this.reset(),e}}}),function(){CKEDITOR.htmlParser.node=function(){},CKEDITOR.htmlParser.node.prototype={remove:function(){var t=this.parent.children,e=CKEDITOR.tools.indexOf(t,this),i=this.previous,n=this.next;i&&(i.next=n),n&&(n.previous=i),t.splice(e,1),this.parent=null},replaceWith:function(t){var e=this.parent.children,i=CKEDITOR.tools.indexOf(e,this),n=t.previous=this.previous,a=t.next=this.next;n&&(n.next=t),a&&(a.previous=t),e[i]=t,t.parent=this.parent,this.parent=null},insertAfter:function(t){var e=t.parent.children,i=CKEDITOR.tools.indexOf(e,t),n=t.next;e.splice(i+1,0,this),this.next=t.next,this.previous=t,t.next=this,n&&(n.previous=this),this.parent=t.parent},insertBefore:function(t){var e=t.parent.children,i=CKEDITOR.tools.indexOf(e,t);e.splice(i,0,this),this.next=t,(this.previous=t.previous)&&(t.previous.next=this),t.previous=this,this.parent=t.parent},getAscendant:function(t){for(var e=("function"==typeof t?t:"string"==typeof t?function(e){return e.name==t}:function(e){return e.name in t}),i=this.parent;i&&i.type==CKEDITOR.NODE_ELEMENT;){if(e(i))return i;i=i.parent}return null},wrapWith:function(t){return this.replaceWith(t),t.add(this),t},getIndex:function(){return CKEDITOR.tools.indexOf(this.parent.children,this)},getFilterContext:function(t){return t||{}}}}(),CKEDITOR.htmlParser.comment=function(t){this.value=t,this._={isBlockLike:!1}},CKEDITOR.htmlParser.comment.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_COMMENT,filter:function(t,e){var i=this.value;return(i=t.onComment(e,i,this))?"string"!=typeof i?(this.replaceWith(i),!1):(this.value=i,!0):(this.remove(),!1)},writeHtml:function(t,e){e&&this.filter(e),t.comment(this.value)}}),function(){CKEDITOR.htmlParser.text=function(t){this.value=t,this._={isBlockLike:!1}},CKEDITOR.htmlParser.text.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(t,e){return(this.value=t.onText(e,this.value,this))?void 0:(this.remove(),!1)},writeHtml:function(t,e){e&&this.filter(e),t.text(this.value)}})}(),function(){CKEDITOR.htmlParser.cdata=function(t){this.value=t},CKEDITOR.htmlParser.cdata.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(){},writeHtml:function(t){t.write(this.value)}})}(),CKEDITOR.htmlParser.fragment=function(){this.children=[],this.parent=null,this._={isBlockLike:!0,hasInlineStarted:!1}},function(){function t(t){return t.attributes["data-cke-survive"]?!1:"a"==t.name&&t.attributes.href||CKEDITOR.dtd.$removeEmpty[t.name]}var e=CKEDITOR.tools.extend({table:1,ul:1,ol:1,dl:1},CKEDITOR.dtd.table,CKEDITOR.dtd.ul,CKEDITOR.dtd.ol,CKEDITOR.dtd.dl),i={ol:1,ul:1},n=CKEDITOR.tools.extend({},{html:1},CKEDITOR.dtd.html,CKEDITOR.dtd.body,CKEDITOR.dtd.head,{style:1,script:1}),a={ul:"li",ol:"li",dl:"dd",table:"tbody",tbody:"tr",thead:"tr",tfoot:"tr",tr:"td"};CKEDITOR.htmlParser.fragment.fromHtml=function(o,r,s){function l(t){var e;if(g.length>0)for(var i=0;i<g.length;i++){var n=g[i],a=n.name,o=CKEDITOR.dtd[a],r=C.name&&CKEDITOR.dtd[C.name];r&&!r[a]||t&&o&&!o[t]&&CKEDITOR.dtd[t]?a==C.name&&(u(C,C.parent,1),i--):(e||(h(),e=1),n=n.clone(),n.parent=C,C=n,g.splice(i,1),i--)}}function h(){for(;v.length;)u(v.shift(),C)}function c(t){if(t._.isBlockLike&&"pre"!=t.name&&"textarea"!=t.name){var e,i=t.children.length,n=t.children[i-1];n&&n.type==CKEDITOR.NODE_TEXT&&((e=CKEDITOR.tools.rtrim(n.value))?n.value=e:t.children.length=i-1)}}function u(e,i,n){var i=i||C||p,a=C;void 0===e.previous&&(d(i,e)&&(C=i,m.onTagOpen(s,{}),e.returnPoint=i=C),c(e),(!t(e)||e.children.length)&&i.add(e),"pre"==e.name&&(b=!1),"textarea"==e.name&&(E=!1)),e.returnPoint?(C=e.returnPoint,delete e.returnPoint):C=n?i:a}function d(t,e){if((t==p||"body"==t.name)&&s&&(!t.name||CKEDITOR.dtd[t.name][s])){var i,n;return(i=e.attributes&&(n=e.attributes["data-cke-real-element-type"])?n:e.name)&&i in CKEDITOR.dtd.$inline&&!(i in CKEDITOR.dtd.head)&&!e.isOrphan||e.type==CKEDITOR.NODE_TEXT}}function f(t,e){return t in CKEDITOR.dtd.$listItem||t in CKEDITOR.dtd.$tableContent?t==e||"dt"==t&&"dd"==e||"dd"==t&&"dt"==e:!1}var m=new CKEDITOR.htmlParser,p=r instanceof CKEDITOR.htmlParser.element?r:"string"==typeof r?new CKEDITOR.htmlParser.element(r):new CKEDITOR.htmlParser.fragment,g=[],v=[],C=p,E="textarea"==p.name,b="pre"==p.name;m.onTagOpen=function(a,o,r,s){if(o=new CKEDITOR.htmlParser.element(a,o),o.isUnknown&&r&&(o.isEmpty=!0),o.isOptionalClose=s,t(o))g.push(o);else{if("pre"==a)b=!0;else{if("br"==a&&b)return void C.add(new CKEDITOR.htmlParser.text("\n"));"textarea"==a&&(E=!0)}if("br"==a)v.push(o);else{for(;s=(r=C.name)?CKEDITOR.dtd[r]||(C._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):n,!(o.isUnknown||C.isUnknown||s[a]);)if(C.isOptionalClose)m.onTagClose(r);else if(a in i&&r in i)r=C.children,(r=r[r.length-1])&&"li"==r.name||u(r=new CKEDITOR.htmlParser.element("li"),C),!o.returnPoint&&(o.returnPoint=C),C=r;else if(a in CKEDITOR.dtd.$listItem&&!f(a,r))m.onTagOpen("li"==a?"ul":"dl",{},0,1);else if(r in e&&!f(a,r))!o.returnPoint&&(o.returnPoint=C),C=C.parent;else{if(r in CKEDITOR.dtd.$inline&&g.unshift(C),!C.parent){o.isOrphan=1;break}u(C,C.parent,1)}l(a),h(),o.parent=C,o.isEmpty?u(o):C=o}}},m.onTagClose=function(t){for(var e=g.length-1;e>=0;e--)if(t==g[e].name)return void g.splice(e,1);for(var i=[],n=[],a=C;a!=p&&a.name!=t;)a._.isBlockLike||n.unshift(a),i.push(a),a=a.returnPoint||a.parent;if(a!=p){for(e=0;e<i.length;e++){var o=i[e];u(o,o.parent)}C=a,a._.isBlockLike&&h(),u(a,a.parent),a==C&&(C=C.parent),g=g.concat(n)}"body"==t&&(s=!1)},m.onText=function(t){if(C._.hasInlineStarted&&!v.length||b||E||(t=CKEDITOR.tools.ltrim(t),0!==t.length)){var i=C.name,o=i?CKEDITOR.dtd[i]||(C._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):n;!E&&!o["#"]&&i in e?(m.onTagOpen(a[i]||""),m.onText(t)):(h(),l(),!b&&!E&&(t=t.replace(/[\t\r\n ]{2,}|[\t\r\n]/g," ")),t=new CKEDITOR.htmlParser.text(t),d(C,t)&&this.onTagOpen(s,{},0,1),C.add(t))}},m.onCDATA=function(t){C.add(new CKEDITOR.htmlParser.cdata(t))},m.onComment=function(t){h(),l(),C.add(new CKEDITOR.htmlParser.comment(t))},m.parse(o);for(h();C!=p;)u(C,C.parent,1);return c(p),p},CKEDITOR.htmlParser.fragment.prototype={type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,add:function(t,e){isNaN(e)&&(e=this.children.length);var i=e>0?this.children[e-1]:null;if(i){if(t._.isBlockLike&&i.type==CKEDITOR.NODE_TEXT&&(i.value=CKEDITOR.tools.rtrim(i.value),0===i.value.length))return this.children.pop(),void this.add(t);i.next=t}t.previous=i,t.parent=this,this.children.splice(e,0,t),this._.hasInlineStarted||(this._.hasInlineStarted=t.type==CKEDITOR.NODE_TEXT||t.type==CKEDITOR.NODE_ELEMENT&&!t._.isBlockLike)},filter:function(t,e){e=this.getFilterContext(e),t.onRoot(e,this),this.filterChildren(t,!1,e)},filterChildren:function(t,e,i){if(this.childrenFilteredBy!=t.id)for(i=this.getFilterContext(i),e&&!this.parent&&t.onRoot(i,this),this.childrenFilteredBy=t.id,e=0;e<this.children.length;e++)this.children[e].filter(t,i)===!1&&e--},writeHtml:function(t,e){e&&this.filter(e),this.writeChildrenHtml(t)},writeChildrenHtml:function(t,e,i){var n=this.getFilterContext();for(i&&!this.parent&&e&&e.onRoot(n,this),e&&this.filterChildren(e,!1,n),e=0,i=this.children,n=i.length;n>e;e++)i[e].writeHtml(t)},forEach:function(t,e,i){if(!(i||e&&this.type!=e))var n=t(this);if(n!==!1)for(var i=this.children,a=0;a<i.length;a++)n=i[a],n.type==CKEDITOR.NODE_ELEMENT?n.forEach(t,e):(!e||n.type==e)&&t(n)},getFilterContext:function(t){return t||{}}}}(),function(){function t(){this.rules=[]}function e(e,i,n,a){var o,r;for(o in i)(r=e[o])||(r=e[o]=new t),r.add(i[o],n,a)}CKEDITOR.htmlParser.filter=CKEDITOR.tools.createClass({$:function(e){this.id=CKEDITOR.tools.getNextNumber(),this.elementNameRules=new t,this.attributeNameRules=new t,this.elementsRules={},this.attributesRules={},this.textRules=new t,this.commentRules=new t,this.rootRules=new t,e&&this.addRules(e,10)},proto:{addRules:function(t,i){var n;"number"==typeof i?n=i:i&&"priority"in i&&(n=i.priority),"number"!=typeof n&&(n=10),"object"!=typeof i&&(i={}),t.elementNames&&this.elementNameRules.addMany(t.elementNames,n,i),t.attributeNames&&this.attributeNameRules.addMany(t.attributeNames,n,i),t.elements&&e(this.elementsRules,t.elements,n,i),t.attributes&&e(this.attributesRules,t.attributes,n,i),t.text&&this.textRules.add(t.text,n,i),t.comment&&this.commentRules.add(t.comment,n,i),t.root&&this.rootRules.add(t.root,n,i)},applyTo:function(t){t.filter(this)},onElementName:function(t,e){return this.elementNameRules.execOnName(t,e)},onAttributeName:function(t,e){return this.attributeNameRules.execOnName(t,e)},onText:function(t,e,i){return this.textRules.exec(t,e,i)},onComment:function(t,e,i){return this.commentRules.exec(t,e,i)},onRoot:function(t,e){return this.rootRules.exec(t,e)},onElement:function(t,e){for(var i,n=[this.elementsRules["^"],this.elementsRules[e.name],this.elementsRules.$],a=0;3>a;a++)if(i=n[a]){if(i=i.exec(t,e,this),i===!1)return null;if(i&&i!=e)return this.onNode(t,i);if(e.parent&&!e.name)break}return e},onNode:function(t,e){var i=e.type;return i==CKEDITOR.NODE_ELEMENT?this.onElement(t,e):i==CKEDITOR.NODE_TEXT?new CKEDITOR.htmlParser.text(this.onText(t,e.value)):i==CKEDITOR.NODE_COMMENT?new CKEDITOR.htmlParser.comment(this.onComment(t,e.value)):null},onAttribute:function(t,e,i,n){return(i=this.attributesRules[i])?i.exec(t,n,e,this):n}}}),CKEDITOR.htmlParser.filterRulesGroup=t,t.prototype={add:function(t,e,i){this.rules.splice(this.findIndex(e),0,{value:t,priority:e,options:i})},addMany:function(t,e,i){for(var n=[this.findIndex(e),0],a=0,o=t.length;o>a;a++)n.push({value:t[a],priority:e,options:i});this.rules.splice.apply(this.rules,n)},findIndex:function(t){for(var e=this.rules,i=e.length-1;i>=0&&t<e[i].priority;)i--;return i+1},exec:function(t,e){var i,n,a,o,r=e instanceof CKEDITOR.htmlParser.node||e instanceof CKEDITOR.htmlParser.fragment,s=Array.prototype.slice.call(arguments,1),l=this.rules,h=l.length;for(o=0;h>o;o++)if(r&&(i=e.type,n=e.name),a=l[o],!(t.nonEditable&&!a.options.applyToAll||t.nestedEditable&&a.options.excludeNestedEditable)){if(a=a.value.apply(null,s),a===!1||r&&a&&(a.name!=n||a.type!=i))return a;null!=a&&(s[0]=e=a)}return e},execOnName:function(t,e){for(var i,n=0,a=this.rules,o=a.length;e&&o>n;n++)i=a[n],!(t.nonEditable&&!i.options.applyToAll||t.nestedEditable&&i.options.excludeNestedEditable)&&(e=e.replace(i.value[0],i.value[1]));return e}}}(),function(){function t(t,e){function s(t){return t||CKEDITOR.env.needsNbspFiller?new CKEDITOR.htmlParser.text("\xa0"):new CKEDITOR.htmlParser.element("br",{"data-cke-bogus":1})}function l(t,e){return function(a){if(a.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var r,l,c=[],u=i(a);if(u)for(h(u,1)&&c.push(u);u;)o(u)&&(r=n(u))&&h(r)&&((l=n(r))&&!o(l)?c.push(r):(s(d).insertAfter(r),r.remove())),u=u.previous;for(u=0;u<c.length;u++)c[u].remove();(c=("function"==typeof e?e(a):e)!==!1)&&((d||CKEDITOR.env.needsBrFiller||a.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&(d||CKEDITOR.env.needsBrFiller||!(document.documentMode>7||a.name in CKEDITOR.dtd.tr||a.name in CKEDITOR.dtd.$listItem))?(c=i(a),c=!c||"form"==a.name&&"input"==c.name):c=!1),c&&a.add(s(t))}}}function h(t,e){if((!d||CKEDITOR.env.needsBrFiller)&&t.type==CKEDITOR.NODE_ELEMENT&&"br"==t.name&&!t.attributes["data-cke-eol"])return!0;var i;if(t.type==CKEDITOR.NODE_TEXT&&(i=t.value.match(g))){if(i.index&&(new CKEDITOR.htmlParser.text(t.value.substring(0,i.index)).insertBefore(t),t.value=i[0]),!CKEDITOR.env.needsBrFiller&&d&&(!e||t.parent.name in f))return!0;if(!d&&((i=t.previous)&&"br"==i.name||!i||o(i)))return!0}return!1}var c,u={elements:{}},d="html"==e,f=CKEDITOR.tools.extend({},b);for(c in f)"#"in C[c]||delete f[c];for(c in f)u.elements[c]=l(d,t.config.fillEmptyBlocks);return u.root=l(d,!1),u.elements.br=function(t){return function(e){if(e.parent.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var i=e.attributes;if("data-cke-bogus"in i||"data-cke-eol"in i)delete i["data-cke-bogus"];else{for(i=e.next;i&&a(i);)i=i.next;var l=n(e);!i&&o(e.parent)?r(e.parent,s(t)):o(i)&&l&&!o(l)&&s(t).insertBefore(i)}}}}(d),u}function e(t,e){return t!=CKEDITOR.ENTER_BR&&e!==!1?t==CKEDITOR.ENTER_DIV?"div":"p":!1}function i(t){for(t=t.children[t.children.length-1];t&&a(t);)t=t.previous;return t}function n(t){for(t=t.previous;t&&a(t);)t=t.previous;return t}function a(t){return t.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(t.value)||t.type==CKEDITOR.NODE_ELEMENT&&t.attributes["data-cke-bookmark"]}function o(t){return t&&(t.type==CKEDITOR.NODE_ELEMENT&&t.name in b||t.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)}function r(t,e){var i=t.children[t.children.length-1];t.children.push(e),e.parent=t,i&&(i.next=e,e.previous=i)}function s(t){t=t.attributes,"false"!=t.contenteditable&&(t["data-cke-editable"]=t.contenteditable?"true":1),t.contenteditable="false"}function l(t){switch(t=t.attributes,t["data-cke-editable"]){case"true":t.contenteditable="true";break;case"1":delete t.contenteditable}}function h(t){return t.replace(I,function(t,e,i){return"<"+e+i.replace(R,function(t,e){return x.test(e)&&-1==i.indexOf("data-cke-saved-"+e)?" data-cke-saved-"+t+" data-cke-"+CKEDITOR.rnd+"-"+t:t})+">"})}function c(t,e){return t.replace(e,function(t,e,i){return 0===t.indexOf("<textarea")&&(t=e+f(i).replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</textarea>"),"<cke:encoded>"+encodeURIComponent(t)+"</cke:encoded>"})}function u(t){return t.replace(w,function(t,e){return decodeURIComponent(e)})}function d(t){return t.replace(/<\!--(?!{cke_protected})[\s\S]+?--\>/g,function(t){return"<!--"+v+"{C}"+encodeURIComponent(t).replace(/--/g,"%2D%2D")+"-->"})}function f(t){return t.replace(/<\!--\{cke_protected\}\{C\}([\s\S]+?)--\>/g,function(t,e){return decodeURIComponent(e)})}function m(t,e){var i=e._.dataStore;return t.replace(/<\!--\{cke_protected\}([\s\S]+?)--\>/g,function(t,e){return decodeURIComponent(e)}).replace(/\{cke_protected_(\d+)\}/g,function(t,e){return i&&i[e]||""})}function p(t,e){for(var i=[],n=e.config.protectedSource,a=e._.dataStore||(e._.dataStore={id:1}),o=/<\!--\{cke_temp(comment)?\}(\d*?)--\>/g,n=[/<script[\s\S]*?<\/script>/gi,/<noscript[\s\S]*?<\/noscript>/gi,/<meta[\s\S]*?\/?>/gi].concat(n),t=t.replace(/<\!--[\s\S]*?--\>/g,function(t){return"<!--{cke_tempcomment}"+(i.push(t)-1)+"-->"}),r=0;r<n.length;r++)t=t.replace(n[r],function(t){return t=t.replace(o,function(t,e,n){return i[n]}),/cke_temp(comment)?/.test(t)?t:"<!--{cke_temp}"+(i.push(t)-1)+"-->"});return t=t.replace(o,function(t,e,n){return"<!--"+v+(e?"{C}":"")+encodeURIComponent(i[n]).replace(/--/g,"%2D%2D")+"-->"}),t=t.replace(/<\w+(?:\s+(?:(?:[^\s=>]+\s*=\s*(?:[^'"\s>]+|'[^']*'|"[^"]*"))|[^\s=>]+))+\s*>/g,function(t){return t.replace(/<\!--\{cke_protected\}([^>]*)--\>/g,function(t,e){return a[a.id]=decodeURIComponent(e),"{cke_protected_"+a.id++ +"}"})}),t=t.replace(/<(title|iframe|textarea)([^>]*)>([\s\S]*?)<\/\1>/g,function(t,i,n,a){return"<"+i+n+">"+m(f(a),e)+"</"+i+">"})}CKEDITOR.htmlDataProcessor=function(i){var n,a,o=this;this.editor=i,this.dataFilter=n=new CKEDITOR.htmlParser.filter,this.htmlFilter=a=new CKEDITOR.htmlParser.filter,this.writer=new CKEDITOR.htmlParser.basicWriter,n.addRules(T),n.addRules(y,{applyToAll:!0}),n.addRules(t(i,"data"),{applyToAll:!0}),a.addRules(D),a.addRules(O,{applyToAll:!0}),a.addRules(t(i,"html"),{applyToAll:!0}),i.on("toHtml",function(t){var n,t=t.data,a=t.dataValue,a=p(a,i),a=c(a,A),a=h(a),a=c(a,k),a=a.replace(S,"$1cke:$2"),a=a.replace(_,"<cke:$1$2></cke:$1>"),a=a.replace(/(<pre\b[^>]*>)(\r\n|\n)/g,"$1$2$2"),a=a.replace(/([^a-z0-9<\-])(on\w{3,})(?!>)/gi,"$1data-cke-"+CKEDITOR.rnd+"-$2");n=t.context||i.editable().getName();var o;CKEDITOR.env.ie&&CKEDITOR.env.version<9&&"pre"==n&&(n="div",a="<pre>"+a+"</pre>",o=1),n=i.document.createElement(n),n.setHtml("a"+a),a=n.getHtml().substr(1),a=a.replace(RegExp("data-cke-"+CKEDITOR.rnd+"-","ig"),""),o&&(a=a.replace(/^<pre>|<\/pre>$/gi,"")),a=a.replace(K,"$1$2"),a=u(a),a=f(a),n=t.fixForBody===!1?!1:e(t.enterMode,i.config.autoParagraph),a=CKEDITOR.htmlParser.fragment.fromHtml(a,t.context,n),n&&(o=a,!o.children.length&&CKEDITOR.dtd[o.name][n]&&(n=new CKEDITOR.htmlParser.element(n),o.add(n))),t.dataValue=a},null,null,5),i.on("toHtml",function(t){t.data.filter.applyTo(t.data.dataValue,!0,t.data.dontFilter,t.data.enterMode)&&i.fire("dataFiltered")},null,null,6),i.on("toHtml",function(t){t.data.dataValue.filterChildren(o.dataFilter,!0)},null,null,10),i.on("toHtml",function(t){var t=t.data,e=t.dataValue,i=new CKEDITOR.htmlParser.basicWriter;e.writeChildrenHtml(i),e=i.getHtml(!0),t.dataValue=d(e)},null,null,15),i.on("toDataFormat",function(t){var n=t.data.dataValue;t.data.enterMode!=CKEDITOR.ENTER_BR&&(n=n.replace(/^<br *\/?>/i,"")),t.data.dataValue=CKEDITOR.htmlParser.fragment.fromHtml(n,t.data.context,e(t.data.enterMode,i.config.autoParagraph))},null,null,5),i.on("toDataFormat",function(t){t.data.dataValue.filterChildren(o.htmlFilter,!0)},null,null,10),i.on("toDataFormat",function(t){t.data.filter.applyTo(t.data.dataValue,!1,!0)},null,null,11),i.on("toDataFormat",function(t){var e=t.data.dataValue,n=o.writer;n.reset(),e.writeChildrenHtml(n),e=n.getHtml(!0),e=f(e),e=m(e,i),t.data.dataValue=e},null,null,15)},CKEDITOR.htmlDataProcessor.prototype={toHtml:function(t,e,i,n){var a,o,r,s=this.editor;return e&&"object"==typeof e?(a=e.context,i=e.fixForBody,n=e.dontFilter,o=e.filter,r=e.enterMode):a=e,!a&&null!==a&&(a=s.editable().getName()),s.fire("toHtml",{dataValue:t,context:a,fixForBody:i,dontFilter:n,filter:o||s.filter,enterMode:r||s.enterMode}).dataValue},toDataFormat:function(t,e){var i,n,a;return e&&(i=e.context,n=e.filter,a=e.enterMode),!i&&null!==i&&(i=this.editor.editable().getName()),this.editor.fire("toDataFormat",{dataValue:t,filter:n||this.editor.filter,context:i,enterMode:a||this.editor.enterMode}).dataValue}};var g=/(?:&nbsp;|\xa0)$/,v="{cke_protected}",C=CKEDITOR.dtd,E=["caption","colgroup","col","thead","tfoot","tbody"],b=CKEDITOR.tools.extend({},C.$blockLimit,C.$block),T={elements:{input:s,textarea:s}},y={attributeNames:[[/^on/,"data-cke-pa-on"],[/^data-cke-expando$/,""]]},D={elements:{embed:function(t){var e=t.parent;if(e&&"object"==e.name){var i=e.attributes.width,e=e.attributes.height;i&&(t.attributes.width=i),e&&(t.attributes.height=e)}},a:function(t){return t.children.length||t.attributes.name||t.attributes["data-cke-saved-name"]?void 0:!1}}},O={elementNames:[[/^cke:/,""],[/^\?xml:namespace$/,""]],attributeNames:[[/^data-cke-(saved|pa)-/,""],[/^data-cke-.*/,""],["hidefocus",""]],elements:{$:function(t){var e=t.attributes;if(e){if(e["data-cke-temp"])return!1;for(var i,n=["name","href","src"],a=0;a<n.length;a++)i="data-cke-saved-"+n[a],i in e&&delete e[n[a]]}return t},table:function(t){t.children.slice(0).sort(function(t,e){var i,n;return t.type==CKEDITOR.NODE_ELEMENT&&e.type==t.type&&(i=CKEDITOR.tools.indexOf(E,t.name),n=CKEDITOR.tools.indexOf(E,e.name)),i>-1&&n>-1&&i!=n||(i=t.parent?t.getIndex():-1,n=e.parent?e.getIndex():-1),i>n?1:-1})},param:function(t){return t.children=[],t.isEmpty=!0,t},span:function(t){"Apple-style-span"==t.attributes["class"]&&delete t.name},html:function(t){delete t.attributes.contenteditable,delete t.attributes["class"]},body:function(t){delete t.attributes.spellcheck,delete t.attributes.contenteditable},style:function(t){var e=t.children[0];e&&e.value&&(e.value=CKEDITOR.tools.trim(e.value)),t.attributes.type||(t.attributes.type="text/css")},title:function(t){var e=t.children[0];!e&&r(t,e=new CKEDITOR.htmlParser.text),e.value=t.attributes["data-cke-title"]||""},input:l,textarea:l},attributes:{"class":function(t){return CKEDITOR.tools.ltrim(t.replace(/(?:^|\s+)cke_[^\s]*/g,""))||!1}}};CKEDITOR.env.ie&&(O.attributes.style=function(t){return t.replace(/(^|;)([^\:]+)/g,function(t){return t.toLowerCase()})});var I=/<(a|area|img|input|source)\b([^>]*)>/gi,R=/([\w-]+)\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|(?:[^ "'>]+))/gi,x=/^(href|src|name)$/i,k=/(?:<style(?=[ >])[^>]*>[\s\S]*?<\/style>)|(?:<(:?link|meta|base)[^>]*>)/gi,A=/(<textarea(?=[ >])[^>]*>)([\s\S]*?)(?:<\/textarea>)/gi,w=/<cke:encoded>([^<]*)<\/cke:encoded>/gi,S=/(<\/?)((?:object|embed|param|html|body|head|title)[^>]*>)/gi,K=/(<\/?)cke:((?:html|body|head|title)[^>]*>)/gi,_=/<cke:(param|embed)([^>]*?)\/?>(?!\s*<\/cke:\1)/gi}(),CKEDITOR.htmlParser.element=function(t,e){this.name=t,this.attributes=e||{},this.children=[];var i=t||"",n=i.match(/^cke:(.*)/);n&&(i=n[1]),i=!!(CKEDITOR.dtd.$nonBodyContent[i]||CKEDITOR.dtd.$block[i]||CKEDITOR.dtd.$listItem[i]||CKEDITOR.dtd.$tableContent[i]||CKEDITOR.dtd.$nonEditable[i]||"br"==i),this.isEmpty=!!CKEDITOR.dtd.$empty[t],this.isUnknown=!CKEDITOR.dtd[t],this._={isBlockLike:i,hasInlineStarted:this.isEmpty||!i}},CKEDITOR.htmlParser.cssStyle=function(t){var e={};return((t instanceof CKEDITOR.htmlParser.element?t.attributes.style:t)||"").replace(/&quot;/g,'"').replace(/\s*([^ :;]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(t,i,n){"font-family"==i&&(n=n.replace(/["']/g,"")),e[i.toLowerCase()]=n}),{rules:e,populate:function(t){var e=this.toString();e&&(t instanceof CKEDITOR.dom.element?t.setAttribute("style",e):t instanceof CKEDITOR.htmlParser.element?t.attributes.style=e:t.style=e)},toString:function(){var t,i=[];for(t in e)e[t]&&i.push(t,":",e[t],";");return i.join("")}}},function(){function t(t){return function(e){return e.type==CKEDITOR.NODE_ELEMENT&&("string"==typeof t?e.name==t:e.name in t)}}var e=function(t,e){return t=t[0],e=e[0],e>t?-1:t>e?1:0},i=CKEDITOR.htmlParser.fragment.prototype;CKEDITOR.htmlParser.element.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_ELEMENT,add:i.add,clone:function(){return new CKEDITOR.htmlParser.element(this.name,this.attributes)},filter:function(t,e){var i,n,a=this,e=a.getFilterContext(e);if(e.off)return!0;for(a.parent||t.onRoot(e,a);;){if(i=a.name,!(n=t.onElementName(e,i)))return this.remove(),!1;if(a.name=n,!(a=t.onElement(e,a)))return this.remove(),!1;if(a!==this)return this.replaceWith(a),!1;if(a.name==i)break;if(a.type!=CKEDITOR.NODE_ELEMENT)return this.replaceWith(a),!1;if(!a.name)return this.replaceWithChildren(),!1}i=a.attributes;var o,r;for(o in i){for(r=o,n=i[o];;){if(!(r=t.onAttributeName(e,o))){delete i[o];break}if(r==o)break;delete i[o],o=r}r&&((n=t.onAttribute(e,a,r,n))===!1?delete i[r]:i[r]=n)}return a.isEmpty||this.filterChildren(t,!1,e),!0},filterChildren:i.filterChildren,writeHtml:function(t,i){i&&this.filter(i);var n,a,o=this.name,r=[],s=this.attributes;t.openTag(o,s);for(n in s)r.push([n,s[n]]);for(t.sortAttributes&&r.sort(e),n=0,a=r.length;a>n;n++)s=r[n],t.attribute(s[0],s[1]);t.openTagClose(o,this.isEmpty),this.writeChildrenHtml(t),this.isEmpty||t.closeTag(o)},writeChildrenHtml:i.writeChildrenHtml,replaceWithChildren:function(){for(var t=this.children,e=t.length;e;)t[--e].insertAfter(this);this.remove()},forEach:i.forEach,getFirst:function(e){if(!e)return this.children.length?this.children[0]:null;"function"!=typeof e&&(e=t(e));for(var i=0,n=this.children.length;n>i;++i)if(e(this.children[i]))return this.children[i];return null},getHtml:function(){var t=new CKEDITOR.htmlParser.basicWriter;return this.writeChildrenHtml(t),t.getHtml()},setHtml:function(t){for(var t=this.children=CKEDITOR.htmlParser.fragment.fromHtml(t).children,e=0,i=t.length;i>e;++e)t[e].parent=this},getOuterHtml:function(){var t=new CKEDITOR.htmlParser.basicWriter;return this.writeHtml(t),t.getHtml()},split:function(t){for(var e=this.children.splice(t,this.children.length-t),i=this.clone(),n=0;n<e.length;++n)e[n].parent=i;return i.children=e,e[0]&&(e[0].previous=null),t>0&&(this.children[t-1].next=null),this.parent.add(i,this.getIndex()+1),i},addClass:function(t){if(!this.hasClass(t)){var e=this.attributes["class"]||"";this.attributes["class"]=e+(e?" ":"")+t}},removeClass:function(t){var e=this.attributes["class"];e&&((e=CKEDITOR.tools.trim(e.replace(RegExp("(?:\\s+|^)"+t+"(?:\\s+|$)")," ")))?this.attributes["class"]=e:delete this.attributes["class"])},hasClass:function(t){var e=this.attributes["class"];return e?RegExp("(?:^|\\s)"+t+"(?=\\s|$)").test(e):!1},getFilterContext:function(t){var e=[];if(t||(t={off:!1,nonEditable:!1,nestedEditable:!1}),!t.off&&"off"==this.attributes["data-cke-processor"]&&e.push("off",!0),t.nonEditable||"false"!=this.attributes.contenteditable?t.nonEditable&&!t.nestedEditable&&"true"==this.attributes.contenteditable&&e.push("nestedEditable",!0):e.push("nonEditable",!0),e.length)for(var t=CKEDITOR.tools.copy(t),i=0;i<e.length;i+=2)t[e[i]]=e[i+1];
return t}},!0)}(),function(){var t={},e=/{([^}]+)}/g,i=/([\\'])/g,n=/\n/g,a=/\r/g;CKEDITOR.template=function(o){if(t[o])this.output=t[o];else{var r=o.replace(i,"\\$1").replace(n,"\\n").replace(a,"\\r").replace(e,function(t,e){return"',data['"+e+"']==undefined?'{"+e+"}':data['"+e+"'],'"});this.output=t[o]=Function("data","buffer","return buffer?buffer.push('"+r+"'):['"+r+"'].join('');")}}}(),delete CKEDITOR.loadFullCore,CKEDITOR.instances={},CKEDITOR.document=new CKEDITOR.dom.document(document),CKEDITOR.add=function(t){CKEDITOR.instances[t.name]=t,t.on("focus",function(){CKEDITOR.currentInstance!=t&&(CKEDITOR.currentInstance=t,CKEDITOR.fire("currentInstance"))}),t.on("blur",function(){CKEDITOR.currentInstance==t&&(CKEDITOR.currentInstance=null,CKEDITOR.fire("currentInstance"))}),CKEDITOR.fire("instance",null,t)},CKEDITOR.remove=function(t){delete CKEDITOR.instances[t.name]},function(){var t={};CKEDITOR.addTemplate=function(e,i){var n=t[e];return n?n:(n={name:e,source:i},CKEDITOR.fire("template",n),t[e]=new CKEDITOR.template(n.source))},CKEDITOR.getTemplate=function(e){return t[e]}}(),function(){var t=[];CKEDITOR.addCss=function(e){t.push(e)},CKEDITOR.getCss=function(){return t.join("\n")}}(),CKEDITOR.on("instanceDestroyed",function(){CKEDITOR.tools.isEmpty(this.instances)&&CKEDITOR.fire("reset")}),CKEDITOR.TRISTATE_ON=1,CKEDITOR.TRISTATE_OFF=2,CKEDITOR.TRISTATE_DISABLED=0,function(){CKEDITOR.inline=function(t,e){if(!CKEDITOR.env.isCompatible)return null;if(t=CKEDITOR.dom.element.get(t),t.getEditor())throw'The editor instance "'+t.getEditor().name+'" is already attached to the provided element.';var i=new CKEDITOR.editor(e,t,CKEDITOR.ELEMENT_MODE_INLINE),n=t.is("textarea")?t:null;return n?(i.setData(n.getValue(),null,!0),t=CKEDITOR.dom.element.createFromHtml('<div contenteditable="'+!!i.readOnly+'" class="cke_textarea_inline">'+n.getValue()+"</div>",CKEDITOR.document),t.insertAfter(n),n.hide(),n.$.form&&i._attachToForm()):i.setData(t.getHtml(),null,!0),i.on("loaded",function(){i.fire("uiReady"),i.editable(t),i.container=t,i.setData(i.getData(1)),i.resetDirty(),i.fire("contentDom"),i.mode="wysiwyg",i.fire("mode"),i.status="ready",i.fireOnce("instanceReady"),CKEDITOR.fire("instanceReady",null,i)},null,null,1e4),i.on("destroy",function(){n&&(i.container.clearCustomData(),i.container.remove(),n.show()),i.element.clearCustomData(),delete i.element}),i},CKEDITOR.inlineAll=function(){var t,e,i;for(i in CKEDITOR.dtd.$editable)for(var n=CKEDITOR.document.getElementsByTag(i),a=0,o=n.count();o>a;a++)t=n.getItem(a),"true"==t.getAttribute("contenteditable")&&(e={element:t,config:{}},CKEDITOR.fire("inline",e)!==!1&&CKEDITOR.inline(t,e.config))},CKEDITOR.domReady(function(){!CKEDITOR.disableAutoInline&&CKEDITOR.inlineAll()})}(),CKEDITOR.replaceClass="ckeditor",function(){function t(t,n,a,o){if(!CKEDITOR.env.isCompatible)return null;if(t=CKEDITOR.dom.element.get(t),t.getEditor())throw'The editor instance "'+t.getEditor().name+'" is already attached to the provided element.';var r=new CKEDITOR.editor(n,t,o);return o==CKEDITOR.ELEMENT_MODE_REPLACE&&(t.setStyle("visibility","hidden"),r._.required=t.hasAttribute("required"),t.removeAttribute("required")),a&&r.setData(a,null,!0),r.on("loaded",function(){i(r),o==CKEDITOR.ELEMENT_MODE_REPLACE&&r.config.autoUpdateElement&&t.$.form&&r._attachToForm(),r.setMode(r.config.startupMode,function(){r.resetDirty(),r.status="ready",r.fireOnce("instanceReady"),CKEDITOR.fire("instanceReady",null,r)})}),r.on("destroy",e),r}function e(){var t=this.container,e=this.element;t&&(t.clearCustomData(),t.remove()),e&&(e.clearCustomData(),this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(e.show(),this._.required&&e.setAttribute("required","required")),delete this.element)}function i(t){var e=t.name,i=t.element,n=t.elementMode,a=t.fire("uiSpace",{space:"top",html:""}).html,o=t.fire("uiSpace",{space:"bottom",html:""}).html,r=new CKEDITOR.template('<{outerEl} id="cke_{name}" class="{id} cke cke_reset cke_chrome cke_editor_{name} cke_{langDir} '+CKEDITOR.env.cssClass+'"  dir="{langDir}" lang="{langCode}" role="application"'+(t.title?' aria-labelledby="cke_{name}_arialbl"':"")+">"+(t.title?'<span id="cke_{name}_arialbl" class="cke_voice_label">{voiceLabel}</span>':"")+'<{outerEl} class="cke_inner cke_reset" role="presentation">{topHtml}<{outerEl} id="{contentId}" class="cke_contents cke_reset" role="presentation"></{outerEl}>{bottomHtml}</{outerEl}></{outerEl}>'),e=CKEDITOR.dom.element.createFromHtml(r.output({id:t.id,name:e,langDir:t.lang.dir,langCode:t.langCode,voiceLabel:t.title,topHtml:a?'<span id="'+t.ui.spaceId("top")+'" class="cke_top cke_reset_all" role="presentation" style="height:auto">'+a+"</span>":"",contentId:t.ui.spaceId("contents"),bottomHtml:o?'<span id="'+t.ui.spaceId("bottom")+'" class="cke_bottom cke_reset_all" role="presentation">'+o+"</span>":"",outerEl:CKEDITOR.env.ie?"span":"div"}));n==CKEDITOR.ELEMENT_MODE_REPLACE?(i.hide(),e.insertAfter(i)):i.append(e),t.container=e,a&&t.ui.space("top").unselectable(),o&&t.ui.space("bottom").unselectable(),i=t.config.width,n=t.config.height,i&&e.setStyle("width",CKEDITOR.tools.cssLength(i)),n&&t.ui.space("contents").setStyle("height",CKEDITOR.tools.cssLength(n)),e.disableContextMenu(),CKEDITOR.env.webkit&&e.on("focus",function(){t.focus()}),t.fireOnce("uiReady")}CKEDITOR.replace=function(e,i){return t(e,i,null,CKEDITOR.ELEMENT_MODE_REPLACE)},CKEDITOR.appendTo=function(e,i,n){return t(e,i,n,CKEDITOR.ELEMENT_MODE_APPENDTO)},CKEDITOR.replaceAll=function(){for(var t=document.getElementsByTagName("textarea"),e=0;e<t.length;e++){var i=null,n=t[e];if(n.name||n.id){if("string"==typeof arguments[0]){if(!RegExp("(?:^|\\s)"+arguments[0]+"(?:$|\\s)").test(n.className))continue}else if("function"==typeof arguments[0]&&(i={},arguments[0](n,i)===!1))continue;this.replace(n,i)}}},CKEDITOR.editor.prototype.addMode=function(t,e){(this._.modes||(this._.modes={}))[t]=e},CKEDITOR.editor.prototype.setMode=function(t,e){var i=this,n=this._.modes;if(t!=i.mode&&n&&n[t]){if(i.fire("beforeSetMode",t),i.mode){var a,o=i.checkDirty(),n=i._.previousModeData,r=0;i.fire("beforeModeUnload"),i.editable(0),i._.previousMode=i.mode,i._.previousModeData=a=i.getData(1),"source"==i.mode&&n==a&&(i.fire("lockSnapshot",{forceUpdate:!0}),r=1),i.ui.space("contents").setHtml(""),i.mode=""}else i._.previousModeData=i.getData(1);this._.modes[t](function(){i.mode=t,void 0!==o&&!o&&i.resetDirty(),r?i.fire("unlockSnapshot"):"wysiwyg"==t&&i.fire("saveSnapshot"),setTimeout(function(){i.fire("mode"),e&&e.call(i)},0)})}},CKEDITOR.editor.prototype.resize=function(t,e,i,n){var a=this.container,o=this.ui.space("contents"),r=CKEDITOR.env.webkit&&this.document&&this.document.getWindow().$.frameElement,n=n?this.container.getFirst(function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasClass("cke_inner")}):a;n.setSize("width",t,!0),r&&(r.style.width="1%"),o.setStyle("height",Math.max(e-(i?0:(n.$.offsetHeight||0)-(o.$.clientHeight||0)),0)+"px"),r&&(r.style.width="100%"),this.fire("resize")},CKEDITOR.editor.prototype.getResizable=function(t){return t?this.ui.space("contents"):this.container},CKEDITOR.domReady(function(){CKEDITOR.replaceClass&&CKEDITOR.replaceAll(CKEDITOR.replaceClass)})}(),CKEDITOR.config.startupMode="wysiwyg",function(){function t(t){var i,a=t.editor,o=t.data.path,s=o.blockLimit,l=t.data.selection,h=l.getRanges()[0];(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller)&&(l=e(l,o))&&(l.appendBogus(),i=CKEDITOR.env.ie),r(a,o.block,s)&&h.collapsed&&!h.getCommonAncestor().isReadOnly()&&(o=h.clone(),o.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS),s=new CKEDITOR.dom.walker(o),s.guard=function(t){return!n(t)||t.type==CKEDITOR.NODE_COMMENT||t.isReadOnly()},(!s.checkForward()||o.checkStartOfBlock()&&o.checkEndOfBlock())&&(a=h.fixBlock(!0,a.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p"),CKEDITOR.env.needsBrFiller||(a=a.getFirst(n))&&a.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(a.getText()).match(/^(?:&nbsp;|\xa0)$/)&&a.remove(),i=1,t.cancel())),i&&h.select()}function e(t,e){if(t.isFake)return 0;var i=e.block||e.blockLimit,a=i&&i.getLast(n);return!i||!i.isBlockBoundary()||a&&a.type==CKEDITOR.NODE_ELEMENT&&a.isBlockBoundary()||i.is("pre")||i.getBogus()?void 0:i}function i(t){var e=t.data.getTarget();e.is("input")&&(e=e.getAttribute("type"),("submit"==e||"reset"==e)&&t.data.preventDefault())}function n(t){return d(t)&&f(t)}function a(t,e){return function(i){var n=CKEDITOR.dom.element.get(i.data.$.toElement||i.data.$.fromElement||i.data.$.relatedTarget);(!n||!e.equals(n)&&!e.contains(n))&&t.call(this,i)}}function o(t){function e(t){return function(e,a){return a&&e.type==CKEDITOR.NODE_ELEMENT&&e.is(o)&&(i=e),a||!n(e)||t&&c(e)?void 0:!1}}var i,a=t.getRanges()[0],t=t.root,o={table:1,ul:1,ol:1,dl:1};if(a.startPath().contains(o)){var r=a.clone();if(r.collapse(1),r.setStartAt(t,CKEDITOR.POSITION_AFTER_START),t=new CKEDITOR.dom.walker(r),t.guard=e(),t.checkBackward(),i)return r=a.clone(),r.collapse(),r.setEndAt(i,CKEDITOR.POSITION_AFTER_END),t=new CKEDITOR.dom.walker(r),t.guard=e(!0),i=!1,t.checkForward(),i}return null}function r(t,e,i){return t.config.autoParagraph!==!1&&t.activeEnterMode!=CKEDITOR.ENTER_BR&&t.editable().equals(i)&&!e||e&&"true"==e.getAttribute("contenteditable")}function s(t){t.editor.focus(),t.editor.fire("saveSnapshot")}function l(t){var e=t.editor;e.getSelection().scrollIntoView(),setTimeout(function(){e.fire("saveSnapshot")},0)}function h(t,e,i){for(var n=t.getCommonAncestor(e),e=t=i?e:t;(t=t.getParent())&&!n.equals(t)&&1==t.getChildCount();)e=t;e.remove()}CKEDITOR.editable=CKEDITOR.tools.createClass({base:CKEDITOR.dom.element,$:function(t,e){this.base(e.$||e),this.editor=t,this.status="unloaded",this.hasFocus=!1,this.setup()},proto:{focus:function(){var t;if(CKEDITOR.env.webkit&&!this.hasFocus&&(t=this.editor._.previousActive||this.getDocument().getActive(),this.contains(t)))return void t.focus();try{this.$[CKEDITOR.env.ie&&this.getDocument().equals(CKEDITOR.document)?"setActive":"focus"]()}catch(e){if(!CKEDITOR.env.ie)throw e}CKEDITOR.env.safari&&!this.isInline()&&(t=CKEDITOR.document.getActive(),t.equals(this.getWindow().getFrame())||this.getWindow().focus())},on:function(t,e){var i=Array.prototype.slice.call(arguments,0);return CKEDITOR.env.ie&&/^focus|blur$/.exec(t)&&(t="focus"==t?"focusin":"focusout",e=a(e,this),i[0]=t,i[1]=e),CKEDITOR.dom.element.prototype.on.apply(this,i)},attachListener:function(t){!this._.listeners&&(this._.listeners=[]);var e=Array.prototype.slice.call(arguments,1),e=t.on.apply(t,e);return this._.listeners.push(e),e},clearListeners:function(){var t=this._.listeners;try{for(;t.length;)t.pop().removeListener()}catch(e){}},restoreAttrs:function(){var t,e,i=this._.attrChanges;for(e in i)i.hasOwnProperty(e)&&(t=i[e],null!==t?this.setAttribute(e,t):this.removeAttribute(e))},attachClass:function(t){var e=this.getCustomData("classes");this.hasClass(t)||(!e&&(e=[]),e.push(t),this.setCustomData("classes",e),this.addClass(t))},changeAttr:function(t,e){var i=this.getAttribute(t);e!==i&&(!this._.attrChanges&&(this._.attrChanges={}),t in this._.attrChanges||(this._.attrChanges[t]=i),this.setAttribute(t,e))},insertHtml:function(t,e){s(this),m(this,e||"html",t)},insertText:function(t){s(this);var e=this.editor,i=e.getSelection().getStartElement().hasAscendant("pre",!0)?CKEDITOR.ENTER_BR:e.activeEnterMode,e=i==CKEDITOR.ENTER_BR,n=CKEDITOR.tools,t=n.htmlEncode(t.replace(/\r\n/g,"\n")),t=t.replace(/\t/g,"&nbsp;&nbsp; &nbsp;"),i=i==CKEDITOR.ENTER_P?"p":"div";if(!e){var a=/\n{2}/g;if(a.test(t))var o="<"+i+">",r="</"+i+">",t=o+t.replace(a,function(){return r+o})+r}t=t.replace(/\n/g,"<br>"),e||(t=t.replace(RegExp("<br>(?=</"+i+">)"),function(t){return n.repeat(t,2)})),t=t.replace(/^ | $/g,"&nbsp;"),t=t.replace(/(>|\s) /g,function(t,e){return e+"&nbsp;"}).replace(/ (?=<)/g,"&nbsp;"),m(this,"text",t)},insertElement:function(t,e){e?this.insertElementIntoRange(t,e):this.insertElementIntoSelection(t)},insertElementIntoRange:function(t,e){var i=this.editor,n=i.config.enterMode,a=t.getName(),o=CKEDITOR.dtd.$block[a];if(e.checkReadOnly())return!1;e.deleteContents(1),e.startContainer.type==CKEDITOR.NODE_ELEMENT&&e.startContainer.is({tr:1,table:1,tbody:1,thead:1,tfoot:1})&&p(e);var r,s;if(o)for(;(r=e.getCommonAncestor(0,1))&&(s=CKEDITOR.dtd[r.getName()])&&(!s||!s[a]);)r.getName()in CKEDITOR.dtd.span?e.splitElement(r):e.checkStartOfBlock()&&e.checkEndOfBlock()?(e.setStartBefore(r),e.collapse(!0),r.remove()):e.splitBlock(n==CKEDITOR.ENTER_DIV?"div":"p",i.editable());return e.insertNode(t),!0},insertElementIntoSelection:function(t){s(this);var e=this.editor,i=e.activeEnterMode,e=e.getSelection(),a=e.getRanges()[0],o=t.getName(),o=CKEDITOR.dtd.$block[o];this.insertElementIntoRange(t,a)&&(a.moveToPosition(t,CKEDITOR.POSITION_AFTER_END),o&&((o=t.getNext(function(t){return n(t)&&!c(t)}))&&o.type==CKEDITOR.NODE_ELEMENT&&o.is(CKEDITOR.dtd.$block)?o.getDtd()["#"]?a.moveToElementEditStart(o):a.moveToElementEditEnd(t):o||i==CKEDITOR.ENTER_BR||(o=a.fixBlock(!0,i==CKEDITOR.ENTER_DIV?"div":"p"),a.moveToElementEditStart(o)))),e.selectRanges([a]),l(this)},setData:function(t,e){e||(t=this.editor.dataProcessor.toHtml(t)),this.setHtml(t),this.fixInitialSelection(),"unloaded"==this.status&&(this.status="ready"),this.editor.fire("dataReady")},getData:function(t){var e=this.getHtml();return t||(e=this.editor.dataProcessor.toDataFormat(e)),e},setReadOnly:function(t){this.setAttribute("contenteditable",!t)},detach:function(){this.removeClass("cke_editable"),this.status="detached";var t=this.editor;this._.detach(),delete t.document,delete t.window},isInline:function(){return this.getDocument().equals(CKEDITOR.document)},fixInitialSelection:function(){function t(){var t,e=i.getDocument().$,n=e.getSelection();if(n.anchorNode&&n.anchorNode==i.$)t=!0;else if(CKEDITOR.env.webkit){var a=i.getDocument().getActive();a&&a.equals(i)&&!n.anchorNode&&(t=!0)}t&&(t=new CKEDITOR.dom.range(i),t.moveToElementEditStart(i),e=e.createRange(),e.setStart(t.startContainer.$,t.startOffset),e.collapse(!0),n.removeAllRanges(),n.addRange(e))}function e(){var t=i.getDocument().$,e=t.selection,n=i.getDocument().getActive();"None"==e.type&&n.equals(i)&&(e=new CKEDITOR.dom.range(i),t=t.body.createTextRange(),e.moveToElementEditStart(i),e=e.startContainer,e.type!=CKEDITOR.NODE_ELEMENT&&(e=e.getParent()),t.moveToElementText(e.$),t.collapse(!0),t.select())}var i=this;CKEDITOR.env.ie&&CKEDITOR.env.version<9?this.hasFocus&&(this.focus(),e()):this.hasFocus?(this.focus(),t()):this.once("focus",function(){t()},null,null,-999)},setup:function(){var t=this.editor;if(this.attachListener(t,"beforeGetData",function(){var e=this.getData();this.is("textarea")||t.config.ignoreEmptyParagraph!==!1&&(e=e.replace(u,function(t,e){return e})),t.setData(e,null,1)},this),this.attachListener(t,"getSnapshot",function(t){t.data=this.getData(1)},this),this.attachListener(t,"afterSetData",function(){this.setData(t.getData(1))},this),this.attachListener(t,"loadSnapshot",function(t){this.setData(t.data,1)},this),this.attachListener(t,"beforeFocus",function(){var e=t.getSelection();(e=e&&e.getNative())&&"Control"==e.type||this.focus()},this),this.attachListener(t,"insertHtml",function(t){this.insertHtml(t.data.dataValue,t.data.mode)},this),this.attachListener(t,"insertElement",function(t){this.insertElement(t.data)},this),this.attachListener(t,"insertText",function(t){this.insertText(t.data)},this),this.setReadOnly(t.readOnly),this.attachClass("cke_editable"),this.attachClass(t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?"cke_editable_inline":t.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE||t.elementMode==CKEDITOR.ELEMENT_MODE_APPENDTO?"cke_editable_themed":""),this.attachClass("cke_contents_"+t.config.contentsLangDirection),t.keystrokeHandler.blockedKeystrokes[8]=+t.readOnly,t.keystrokeHandler.attach(this),this.on("blur",function(){this.hasFocus=!1},null,null,-1),this.on("focus",function(){this.hasFocus=!0},null,null,-1),t.focusManager.add(this),this.equals(CKEDITOR.document.getActive())&&(this.hasFocus=!0,t.once("contentDom",function(){t.focusManager.focus(this)},this)),this.isInline()&&this.changeAttr("tabindex",t.tabIndex),!this.is("textarea")){t.document=this.getDocument(),t.window=this.getWindow();var e=t.document;this.changeAttr("spellcheck",!t.config.disableNativeSpellChecker);var a=t.config.contentsLangDirection;this.getDirection(1)!=a&&this.changeAttr("dir",a);var r=CKEDITOR.getCss();r&&(a=e.getHead(),a.getCustomData("stylesheet")||(r=e.appendStyleText(r),r=new CKEDITOR.dom.element(r.ownerNode||r.owningElement),a.setCustomData("stylesheet",r),r.data("cke-temp",1))),a=e.getCustomData("stylesheet_ref")||0,e.setCustomData("stylesheet_ref",a+1),this.setCustomData("cke_includeReadonly",!t.config.disableReadonlyStyling),this.attachListener(this,"click",function(t){var t=t.data,e=new CKEDITOR.dom.elementPath(t.getTarget(),this).contains("a");e&&2!=t.$.button&&e.isReadOnly()&&t.preventDefault()});var s={8:1,46:1};this.attachListener(t,"key",function(e){if(t.readOnly)return!0;var i,n=e.data.domEvent.getKey();if(n in s){var a,r,l,h,e=t.getSelection(),c=e.getRanges()[0],u=c.startPath(),n=8==n;CKEDITOR.env.ie&&CKEDITOR.env.version<11&&(a=e.getSelectedElement())||(a=o(e))?(t.fire("saveSnapshot"),c.moveToPosition(a,CKEDITOR.POSITION_BEFORE_START),a.remove(),c.select(),t.fire("saveSnapshot"),i=1):c.collapsed&&((r=u.block)&&(h=r[n?"getPrevious":"getNext"](d))&&h.type==CKEDITOR.NODE_ELEMENT&&h.is("table")&&c[n?"checkStartOfBlock":"checkEndOfBlock"]()?(t.fire("saveSnapshot"),c[n?"checkEndOfBlock":"checkStartOfBlock"]()&&r.remove(),c["moveToElementEdit"+(n?"End":"Start")](h),c.select(),t.fire("saveSnapshot"),i=1):u.blockLimit&&u.blockLimit.is("td")&&(l=u.blockLimit.getAscendant("table"))&&c.checkBoundaryOfElement(l,n?CKEDITOR.START:CKEDITOR.END)&&(h=l[n?"getPrevious":"getNext"](d))?(t.fire("saveSnapshot"),c["moveToElementEdit"+(n?"End":"Start")](h),c.checkStartOfBlock()&&c.checkEndOfBlock()?h.remove():c.select(),t.fire("saveSnapshot"),i=1):(l=u.contains(["td","th","caption"]))&&c.checkBoundaryOfElement(l,n?CKEDITOR.START:CKEDITOR.END)&&(i=1))}return!i}),t.blockless&&CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller&&this.attachListener(this,"keyup",function(e){e.data.getKeystroke()in s&&!this.getFirst(n)&&(this.appendBogus(),e=t.createRange(),e.moveToPosition(this,CKEDITOR.POSITION_AFTER_START),e.select())}),this.attachListener(this,"dblclick",function(e){return t.readOnly?!1:(e={element:e.data.getTarget()},void t.fire("doubleclick",e))}),CKEDITOR.env.ie&&this.attachListener(this,"click",i),CKEDITOR.env.ie||this.attachListener(this,"mousedown",function(e){var i=e.data.getTarget();i.is("img","hr","input","textarea","select")&&!i.isReadOnly()&&(t.getSelection().selectElement(i),i.is("input","textarea","select")&&e.data.preventDefault())}),CKEDITOR.env.gecko&&this.attachListener(this,"mouseup",function(e){if(2==e.data.$.button&&(e=e.data.getTarget(),!e.getOuterHtml().replace(u,""))){var i=t.createRange();i.moveToElementEditStart(e),i.select(!0)}}),CKEDITOR.env.webkit&&(this.attachListener(this,"click",function(t){t.data.getTarget().is("input","select")&&t.data.preventDefault()}),this.attachListener(this,"mouseup",function(t){t.data.getTarget().is("input","textarea")&&t.data.preventDefault()})),CKEDITOR.env.webkit&&this.attachListener(t,"key",function(e){if(e=e.data.domEvent.getKey(),e in s){var i=8==e,n=t.getSelection().getRanges()[0],e=n.startPath();if(n.collapsed){var a;t:{var o=e.block;if(o)if(n[i?"checkStartOfBlock":"checkEndOfBlock"]())if(n.moveToClosestEditablePosition(o,!i)&&n.collapsed){if(n.startContainer.type==CKEDITOR.NODE_ELEMENT){var r=n.startContainer.getChild(n.startOffset-(i?1:0));if(r&&r.type==CKEDITOR.NODE_ELEMENT&&r.is("hr")){t.fire("saveSnapshot"),r.remove(),a=!0;break t}}if((n=n.startPath().block)&&(!n||!n.contains(o))){t.fire("saveSnapshot");var l;(l=(i?n:o).getBogus())&&l.remove(),a=t.getSelection(),l=a.createBookmarks(),(i?o:n).moveChildren(i?n:o,!1),e.lastElement.mergeSiblings(),h(o,n,!i),a.selectBookmarks(l),a=!0}}else a=!1;else a=!1;else a=!1}if(!a)return}else if(i=n,a=e.block,l=i.endPath().block,a&&l&&!a.equals(l)?(t.fire("saveSnapshot"),(o=a.getBogus())&&o.remove(),i.deleteContents(),l.getParent()&&(l.moveChildren(a,!1),e.lastElement.mergeSiblings(),h(a,l,!0)),i=t.getSelection().getRanges()[0],i.collapse(1),i.select(),e=!0):e=!1,!e)return;return t.getSelection().scrollIntoView(),t.fire("saveSnapshot"),!1}},this,null,100)}}},_:{detach:function(){this.editor.setData(this.editor.getData(),0,1),this.clearListeners(),this.restoreAttrs();var t;if(t=this.removeCustomData("classes"))for(;t.length;)this.removeClass(t.pop());if(!this.is("textarea")){t=this.getDocument();var e=t.getHead();if(e.getCustomData("stylesheet")){var i=t.getCustomData("stylesheet_ref");--i?t.setCustomData("stylesheet_ref",i):(t.removeCustomData("stylesheet_ref"),e.removeCustomData("stylesheet").remove())}}this.editor.fire("contentDomUnload"),delete this.editor}}}),CKEDITOR.editor.prototype.editable=function(t){var e=this._.editable;return e&&t?0:(arguments.length&&(e=this._.editable=t?t instanceof CKEDITOR.editable?t:new CKEDITOR.editable(this,t):(e&&e.detach(),null)),e)};var c=CKEDITOR.dom.walker.bogus(),u=/(^|<body\b[^>]*>)\s*<(p|div|address|h\d|center|pre)[^>]*>\s*(?:<br[^>]*>|&nbsp;|\u00A0|&#160;)?\s*(:?<\/\2>)?\s*(?=$|<\/body>)/gi,d=CKEDITOR.dom.walker.whitespaces(!0),f=CKEDITOR.dom.walker.bookmark(!1,!0);CKEDITOR.on("instanceLoaded",function(e){var i=e.editor;i.on("insertElement",function(t){t=t.data,t.type==CKEDITOR.NODE_ELEMENT&&(t.is("input")||t.is("textarea"))&&("false"!=t.getAttribute("contentEditable")&&t.data("cke-editable",t.hasAttribute("contenteditable")?"true":"1"),t.setAttribute("contentEditable",!1))}),i.on("selectionChange",function(e){if(!i.readOnly){var n=i.getSelection();n&&!n.isLocked&&(n=i.checkDirty(),i.fire("lockSnapshot"),t(e),i.fire("unlockSnapshot"),!n&&i.resetDirty())}})}),CKEDITOR.on("instanceCreated",function(t){var e=t.editor;e.on("mode",function(){var t=e.editable();if(t&&t.isInline()){var i=e.title;t.changeAttr("role","textbox"),t.changeAttr("aria-label",i),i&&t.changeAttr("title",i);var n=e.fire("ariaEditorHelpLabel",{}).label;if(n&&(i=this.ui.space(this.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?"top":"contents"))){var a=CKEDITOR.tools.getNextId(),n=CKEDITOR.dom.element.createFromHtml('<span id="'+a+'" class="cke_voice_label">'+n+"</span>");i.append(n),t.changeAttr("aria-describedby",a)}}})}),CKEDITOR.addCss(".cke_editable{cursor:text}.cke_editable img,.cke_editable input,.cke_editable textarea{cursor:default}");var m=function(){function t(t){return t.type==CKEDITOR.NODE_ELEMENT}function e(i,n){var a,o,r,s,l=[],c=n.range.startContainer;a=n.range.startPath();for(var c=h[c.getName()],u=0,d=i.getChildren(),f=d.count(),m=-1,p=-1,g=0,v=a.contains(h.$list);f>u;++u)a=d.getItem(u),t(a)?(r=a.getName(),v&&r in CKEDITOR.dtd.$list?l=l.concat(e(a,n)):(s=!!c[r],"br"!=r||!a.data("cke-eol")||u&&u!=f-1||(g=(o=u?l[u-1].node:d.getItem(u+1))&&(!t(o)||!o.is("br")),o=o&&t(o)&&h.$block[o.getName()]),-1==m&&!s&&(m=u),s||(p=u),l.push({isElement:1,isLineBreak:g,isBlock:a.isBlockBoundary(),hasBlockSibling:o,node:a,name:r,allowed:s}),o=g=0)):l.push({isElement:0,node:a,allowed:1});return m>-1&&(l[m].firstNotAllowed=1),p>-1&&(l[p].lastNotAllowed=1),l}function i(e,n){var a,o=[],r=e.getChildren(),s=r.count(),l=0,c=h[n],u=!e.is(h.$inline)||e.is("br");for(u&&o.push(" ");s>l;l++)a=r.getItem(l),t(a)&&!a.is(c)?o=o.concat(i(a,n)):o.push(a);return u&&o.push(" "),o}function a(e){return e&&t(e)&&(e.is(h.$removeEmpty)||e.is("a")&&!e.isBlockBoundary())}function o(e,i,n,a){var r,s,l=e.clone();l.setEndAt(i,CKEDITOR.POSITION_BEFORE_END),(r=new CKEDITOR.dom.walker(l).next())&&t(r)&&c[r.getName()]&&(s=r.getPrevious())&&t(s)&&!s.getParent().equals(e.startContainer)&&n.contains(s)&&a.contains(r)&&r.isIdentical(s)&&(r.moveChildren(s),r.remove(),o(e,i,n,a))}function s(e,i){function n(e,i){return i.isBlock&&i.isElement&&!i.node.is("br")&&t(e)&&e.is("br")?(e.remove(),1):void 0}var a=i.endContainer.getChild(i.endOffset),o=i.endContainer.getChild(i.endOffset-1);a&&n(a,e[e.length-1]),o&&n(o,e[0])&&(i.setEnd(i.endContainer,i.endOffset-1),i.collapse())}var h=CKEDITOR.dtd,c={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ul:1,ol:1,li:1,pre:1,dl:1,blockquote:1},u={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},d=CKEDITOR.tools.extend({},h.$inline);return delete d.br,function(c,f,m){var p=c.editor,g=p.getSelection().getRanges()[0],v=!1;if("unfiltered_html"==f&&(f="html",v=!0),!g.checkReadOnly()){var C,E,b,T,y=new CKEDITOR.dom.elementPath(g.startContainer,g.root).blockLimit||g.root,f={type:f,dontFilter:v,editable:c,editor:p,range:g,blockLimit:y,mergeCandidates:[],zombies:[]},p=f.range,v=f.mergeCandidates;if("text"==f.type&&p.shrink(CKEDITOR.SHRINK_ELEMENT,!0,!1)&&(C=CKEDITOR.dom.element.createFromHtml("<span>&nbsp;</span>",p.document),p.insertNode(C),p.setStartAfter(C)),E=new CKEDITOR.dom.elementPath(p.startContainer),f.endPath=b=new CKEDITOR.dom.elementPath(p.endContainer),!p.collapsed){var y=b.block||b.blockLimit,D=p.getCommonAncestor();y&&!y.equals(D)&&!y.contains(D)&&p.checkEndOfBlock()&&f.zombies.push(y),p.deleteContents()}for(;(T=t(p.startContainer)&&p.startContainer.getChild(p.startOffset-1))&&t(T)&&T.isBlockBoundary()&&E.contains(T);)p.moveToPosition(T,CKEDITOR.POSITION_BEFORE_END);for(o(p,f.blockLimit,E,b),C&&(p.setEndBefore(C),p.collapse(),C.remove()),C=p.startPath(),(y=C.contains(a,!1,1))&&(p.splitElement(y),f.inlineStylesRoot=y,f.inlineStylesPeak=C.lastElement),C=p.createBookmark(),(y=C.startNode.getPrevious(n))&&t(y)&&a(y)&&v.push(y),(y=C.startNode.getNext(n))&&t(y)&&a(y)&&v.push(y),y=C.startNode;(y=y.getParent())&&a(y);)v.push(y);if(p.moveToBookmark(C),C=m){if(C=f.range,"text"==f.type&&f.inlineStylesRoot){for(T=f.inlineStylesPeak,p=T.getDocument().createText("{cke-peak}"),v=f.inlineStylesRoot.getParent();!T.equals(v);)p=p.appendTo(T.clone()),T=T.getParent();m=p.getOuterHtml().split("{cke-peak}").join(m)}if(T=f.blockLimit.getName(),/^\s+|\s+$/.test(m)&&"span"in CKEDITOR.dtd[T])var O='<span data-cke-marker="1">&nbsp;</span>',m=O+m+O;if(m=f.editor.dataProcessor.toHtml(m,{context:null,fixForBody:!1,dontFilter:f.dontFilter,filter:f.editor.activeFilter,enterMode:f.editor.activeEnterMode}),T=C.document.createElement("body"),T.setHtml(m),O&&(T.getFirst().remove(),T.getLast().remove()),(O=C.startPath().block)&&(1!=O.getChildCount()||!O.getBogus()))t:{var I;if(1==T.getChildCount()&&t(I=T.getFirst())&&I.is(u)){for(O=I.getElementsByTag("*"),C=0,v=O.count();v>C;C++)if(p=O.getItem(C),!p.is(d))break t;I.moveChildren(I.getParent(1)),I.remove()}}f.dataWrapper=T,C=m}if(C){I=f.range;var R,O=I.document,m=f.blockLimit;C=0;var x;T=[];var k,A,w,S,v=p=0;E=I.startContainer;var K,y=f.endPath.elements[0];for(b=y.getPosition(E),D=!(!y.getCommonAncestor(E)||b==CKEDITOR.POSITION_IDENTICAL||b&CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED),E=e(f.dataWrapper,f),s(E,I);C<E.length;C++){if(b=E[C],R=b.isLineBreak){R=I,w=m;var _=void 0,N=void 0;b.hasBlockSibling?R=1:(_=R.startContainer.getAscendant(h.$block,1),_&&_.is({div:1,p:1})?(N=_.getPosition(w),N==CKEDITOR.POSITION_IDENTICAL||N==CKEDITOR.POSITION_CONTAINS?R=0:(w=R.splitElement(_),R.moveToPosition(w,CKEDITOR.POSITION_AFTER_START),R=1)):R=0)}if(R)v=C>0;else{if(R=I.startPath(),!b.isBlock&&r(f.editor,R.block,R.blockLimit)&&(A=f.editor.activeEnterMode!=CKEDITOR.ENTER_BR&&f.editor.config.autoParagraph!==!1?f.editor.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p":!1)&&(A=O.createElement(A),A.appendBogus(),I.insertNode(A),CKEDITOR.env.needsBrFiller&&(x=A.getBogus())&&x.remove(),I.moveToPosition(A,CKEDITOR.POSITION_BEFORE_END)),(R=I.startPath().block)&&!R.equals(k)&&((x=R.getBogus())&&(x.remove(),T.push(R)),k=R),b.firstNotAllowed&&(p=1),p&&b.isElement){for(R=I.startContainer,w=null;R&&!h[R.getName()][b.name];){if(R.equals(m)){R=null;break}w=R,R=R.getParent()}if(R)w&&(S=I.splitElement(w),f.zombies.push(S),f.zombies.push(w));else{w=m.getName(),K=!C,R=C==E.length-1,w=i(b.node,w);for(var _=[],N=w.length,F=0,M=void 0,L=0,B=-1;N>F;F++)M=w[F]," "==M?(L||K&&!F||(_.push(new CKEDITOR.dom.text(" ")),B=_.length),L=1):(_.push(M),L=0);R&&B==_.length&&_.pop(),K=_}}if(K){for(;R=K.pop();)I.insertNode(R);K=0}else I.insertNode(b.node);b.lastNotAllowed&&C<E.length-1&&((S=D?y:S)&&I.setEndAt(S,CKEDITOR.POSITION_AFTER_START),p=0),I.collapse()}}f.dontMoveCaret=v,f.bogusNeededBlocks=T}x=f.range;var P;for(S=f.bogusNeededBlocks,K=x.createBookmark();k=f.zombies.pop();)k.getParent()&&(A=x.clone(),A.moveToElementEditStart(k),A.removeEmptyBlocksAtEnd());if(S)for(;k=S.pop();)CKEDITOR.env.needsBrFiller?k.appendBogus():k.append(x.document.createText("\xa0"));for(;k=f.mergeCandidates.pop();)k.mergeSiblings();if(x.moveToBookmark(K),!f.dontMoveCaret){for(k=t(x.startContainer)&&x.startContainer.getChild(x.startOffset-1);k&&t(k)&&!k.is(h.$empty);){if(k.isBlockBoundary())x.moveToPosition(k,CKEDITOR.POSITION_BEFORE_END);else{if(a(k)&&k.getHtml().match(/(\s|&nbsp;)$/g)){P=null;break}P=x.clone(),P.moveToPosition(k,CKEDITOR.POSITION_BEFORE_END)}k=k.getLast(n)}P&&x.moveToRange(P)}g.select(),l(c)}}}(),p=function(){function t(t){return t=new CKEDITOR.dom.walker(t),t.guard=function(t,e){return e?!1:t.type==CKEDITOR.NODE_ELEMENT?t.is(CKEDITOR.dtd.$tableContent):void 0},t.evaluator=function(t){return t.type==CKEDITOR.NODE_ELEMENT},t}function e(t,e,i){return e=t.getDocument().createElement(e),t.append(e,i),e}function i(t){var e,i=t.count();for(i;i-->0;)e=t.getItem(i),CKEDITOR.tools.trim(e.getHtml())||(e.appendBogus(),CKEDITOR.env.ie&&CKEDITOR.env.version<9&&e.getChildCount()&&e.getFirst().remove())}return function(n){var a=n.startContainer,o=a.getAscendant("table",1),r=!1;i(o.getElementsByTag("td")),i(o.getElementsByTag("th")),o=n.clone(),o.setStart(a,0),o=t(o).lastBackward(),o||(o=n.clone(),o.setEndAt(a,CKEDITOR.POSITION_BEFORE_END),o=t(o).lastForward(),r=!0),o||(o=a),o.is("table")?(n.setStartAt(o,CKEDITOR.POSITION_BEFORE_START),n.collapse(!0),o.remove()):(o.is({tbody:1,thead:1,tfoot:1})&&(o=e(o,"tr",r)),o.is("tr")&&(o=e(o,o.getParent().is("thead")?"th":"td",r)),(a=o.getBogus())&&a.remove(),n.moveToPosition(o,r?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END))}}()}(),function(){function t(){var t,e=this._.fakeSelection;e&&(t=this.getSelection(1),t&&t.isHidden()||(e.reset(),e=0)),(e||(e=t||this.getSelection(1),e&&e.getType()!=CKEDITOR.SELECTION_NONE))&&(this.fire("selectionCheck",e),t=this.elementPath(),t.compare(this._.selectionPreviousPath)||(CKEDITOR.env.webkit&&(this._.previousActive=this.document.getActive()),this._.selectionPreviousPath=t,this.fire("selectionChange",{selection:e,path:t})))}function e(){m=!0,f||(i.call(this),f=CKEDITOR.tools.setTimeout(i,200,this))}function i(){f=null,m&&(CKEDITOR.tools.setTimeout(t,0,this),m=!1)}function n(t){return p(t)||t.type==CKEDITOR.NODE_ELEMENT&&!t.is(CKEDITOR.dtd.$empty)?!0:!1}function a(t){function e(e,i){return e&&e.type!=CKEDITOR.NODE_TEXT?t.clone()["moveToElementEdit"+(i?"End":"Start")](e):!1}if(!(t.root instanceof CKEDITOR.editable))return!1;var i=t.startContainer,a=t.getPreviousNode(n,null,i),o=t.getNextNode(n,null,i);return!e(a)&&!e(o,1)&&(a||o||i.type==CKEDITOR.NODE_ELEMENT&&i.isBlockBoundary()&&i.getBogus())?!1:!0}function o(t){return t.getCustomData("cke-fillingChar")}function r(t,e){var i=t&&t.removeCustomData("cke-fillingChar");if(i){if(e!==!1){var n,a=t.getDocument().getSelection().getNative(),o=a&&"None"!=a.type&&a.getRangeAt(0);i.getLength()>1&&o&&o.intersectsNode(i.$)&&(n=l(a),o=a.focusNode==i.$&&a.focusOffset>0,a.anchorNode==i.$&&a.anchorOffset>0&&n[0].offset--,o&&n[1].offset--)}i.setText(s(i.getText())),n&&h(t.getDocument().$,n)}}function s(t){return t.replace(/\u200B( )?/g,function(t){return t[1]?"\xa0":""})}function l(t){return[{node:t.anchorNode,offset:t.anchorOffset},{node:t.focusNode,offset:t.focusOffset}]}function h(t,e){var i=t.getSelection(),n=t.createRange();n.setStart(e[0].node,e[0].offset),n.collapse(!0),i.removeAllRanges(),i.addRange(n),i.extend(e[1].node,e[1].offset)}function c(t){var e=CKEDITOR.dom.element.createFromHtml('<div data-cke-hidden-sel="1" data-cke-temp="1" style="'+(CKEDITOR.env.ie?"display:none":"position:fixed;top:0;left:-1000px")+'">&nbsp;</div>',t.document);t.fire("lockSnapshot"),t.editable().append(e);var i=t.getSelection(1),n=t.createRange(),a=i.root.on("selectionchange",function(t){t.cancel()},null,null,0);n.setStartAt(e,CKEDITOR.POSITION_AFTER_START),n.setEndAt(e,CKEDITOR.POSITION_BEFORE_END),i.selectRanges([n]),a.removeListener(),t.fire("unlockSnapshot"),t._.hiddenSelectionContainer=e}function u(t){var e={37:1,39:1,8:1,46:1};return function(i){var n=i.data.getKeystroke();if(e[n]){var a=t.getSelection().getRanges(),o=a[0];1==a.length&&o.collapsed&&(n=o[38>n?"getPreviousEditableNode":"getNextEditableNode"]())&&n.type==CKEDITOR.NODE_ELEMENT&&"false"==n.getAttribute("contenteditable")&&(t.getSelection().fake(n),i.data.preventDefault(),i.cancel())
}}}function d(t){for(var e=0;e<t.length;e++){var i=t[e];if(i.getCommonAncestor().isReadOnly()&&t.splice(e,1),!i.collapsed){if(i.startContainer.isReadOnly())for(var n,a=i.startContainer;a&&!((n=a.type==CKEDITOR.NODE_ELEMENT)&&a.is("body")||!a.isReadOnly());)n&&"false"==a.getAttribute("contentEditable")&&i.setStartAfter(a),a=a.getParent();a=i.startContainer,n=i.endContainer;var o=i.startOffset,r=i.endOffset,s=i.clone();a&&a.type==CKEDITOR.NODE_TEXT&&(o>=a.getLength()?s.setStartAfter(a):s.setStartBefore(a)),n&&n.type==CKEDITOR.NODE_TEXT&&(r?s.setEndAfter(n):s.setEndBefore(n)),a=new CKEDITOR.dom.walker(s),a.evaluator=function(n){if(n.type==CKEDITOR.NODE_ELEMENT&&n.isReadOnly()){var a=i.clone();return i.setEndBefore(n),i.collapsed&&t.splice(e--,1),n.getPosition(s.endContainer)&CKEDITOR.POSITION_CONTAINS||(a.setStartAfter(n),a.collapsed||t.splice(e+1,0,a)),!0}return!1},a.next()}}return t}var f,m,p=CKEDITOR.dom.walker.invisible(1),g=function(){function t(t){return function(e){var i=e.editor.createRange();return i.moveToClosestEditablePosition(e.selected,t)&&e.editor.getSelection().selectRanges([i]),!1}}function e(t){return function(e){var i,n=e.editor,a=n.createRange();return(i=a.moveToClosestEditablePosition(e.selected,t))||(i=a.moveToClosestEditablePosition(e.selected,!t)),i&&n.getSelection().selectRanges([a]),n.fire("saveSnapshot"),e.selected.remove(),i||(a.moveToElementEditablePosition(n.editable()),n.getSelection().selectRanges([a])),n.fire("saveSnapshot"),!1}}var i=t(),n=t(1);return{37:i,38:i,39:n,40:n,8:e(),46:e(1)}}();CKEDITOR.on("instanceCreated",function(i){function n(){var t=a.getSelection();t&&t.removeAllRanges()}var a=i.editor;a.on("contentDom",function(){function i(){s=new CKEDITOR.dom.selection(a.getSelection()),s.lock()}function n(){h.removeListener("mouseup",n),f.removeListener("mouseup",n);var t=CKEDITOR.document.$.selection,e=t.createRange();"None"!=t.type&&e.parentElement().ownerDocument==l.$&&e.select()}var o,s,l=a.document,h=CKEDITOR.document,c=a.editable(),d=l.getBody(),f=l.getDocumentElement(),m=c.isInline();if(CKEDITOR.env.gecko&&c.attachListener(c,"focus",function(t){t.removeListener(),0!==o&&(t=a.getSelection().getNative())&&t.isCollapsed&&t.anchorNode==c.$&&(t=a.createRange(),t.moveToElementEditStart(c),t.select())},null,null,-2),c.attachListener(c,CKEDITOR.env.webkit?"DOMFocusIn":"focus",function(){o&&CKEDITOR.env.webkit&&(o=a._.previousActive&&a._.previousActive.equals(l.getActive())),a.unlockSelection(o),o=0},null,null,-1),c.attachListener(c,"mousedown",function(){o=0}),(CKEDITOR.env.ie||m)&&(v?c.attachListener(c,"beforedeactivate",i,null,null,-1):c.attachListener(a,"selectionCheck",i,null,null,-1),c.attachListener(c,CKEDITOR.env.webkit?"DOMFocusOut":"blur",function(){a.lockSelection(s),o=1},null,null,-1),c.attachListener(c,"mousedown",function(){o=0})),CKEDITOR.env.ie&&!m){var p;c.attachListener(c,"mousedown",function(t){2==t.data.$.button&&(t=a.document.getSelection(),t&&t.getType()!=CKEDITOR.SELECTION_NONE||(p=a.window.getScrollPosition()))}),c.attachListener(c,"mouseup",function(t){2==t.data.$.button&&p&&(a.document.$.documentElement.scrollLeft=p.x,a.document.$.documentElement.scrollTop=p.y),p=null}),"BackCompat"!=l.$.compatMode&&((CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)&&f.on("mousedown",function(t){function e(t){if(t=t.data.$,n){var e=d.$.createTextRange();try{e.moveToPoint(t.clientX,t.clientY)}catch(i){}n.setEndPoint(o.compareEndPoints("StartToStart",e)<0?"EndToEnd":"StartToStart",e),n.select()}}function i(){f.removeListener("mousemove",e),h.removeListener("mouseup",i),f.removeListener("mouseup",i),n.select()}if(t=t.data,t.getTarget().is("html")&&t.$.y<f.$.clientHeight&&t.$.x<f.$.clientWidth){var n=d.$.createTextRange();try{n.moveToPoint(t.$.clientX,t.$.clientY)}catch(a){}var o=n.duplicate();f.on("mousemove",e),h.on("mouseup",i),f.on("mouseup",i)}}),CKEDITOR.env.version>7&&CKEDITOR.env.version<11&&f.on("mousedown",function(t){t.data.getTarget().is("html")&&(h.on("mouseup",n),f.on("mouseup",n))}))}if(c.attachListener(c,"selectionchange",t,a),c.attachListener(c,"keyup",e,a),c.attachListener(c,CKEDITOR.env.webkit?"DOMFocusIn":"focus",function(){a.forceNextSelectionCheck(),a.selectionChange(1)}),m&&(CKEDITOR.env.webkit||CKEDITOR.env.gecko)){var g;c.attachListener(c,"mousedown",function(){g=1}),c.attachListener(l.getDocumentElement(),"mouseup",function(){g&&e.call(a),g=0})}else c.attachListener(CKEDITOR.env.ie?c:l.getDocumentElement(),"mouseup",e,a);CKEDITOR.env.webkit&&c.attachListener(l,"keydown",function(t){switch(t.data.getKey()){case 13:case 33:case 34:case 35:case 36:case 37:case 39:case 8:case 45:case 46:r(c)}},null,null,-1),c.attachListener(c,"keydown",u(a),null,null,-1)}),a.on("setData",function(){a.unlockSelection(),CKEDITOR.env.webkit&&n()}),a.on("contentDomUnload",function(){a.unlockSelection()}),CKEDITOR.env.ie9Compat&&a.on("beforeDestroy",n,null,null,9),a.on("dataReady",function(){delete a._.fakeSelection,delete a._.hiddenSelectionContainer,a.selectionChange(1)}),a.on("loadSnapshot",function(){var t=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT),e=a.editable().getLast(t);e&&e.hasAttribute("data-cke-hidden-sel")&&(e.remove(),CKEDITOR.env.gecko&&(t=a.editable().getFirst(t))&&t.is("br")&&t.getAttribute("_moz_editor_bogus_node")&&t.remove())},null,null,100),a.on("key",function(t){if("wysiwyg"==a.mode){var e=a.getSelection();if(e.isFake){var i=g[t.data.keyCode];if(i)return i({editor:a,selected:e.getSelectedElement(),selection:e,keyEvent:t})}}})}),CKEDITOR.on("instanceReady",function(t){function e(){var t=c.editable();if(t&&(t=o(t))){var e=c.document.$.getSelection();"None"==e.type||e.anchorNode!=t.$&&e.focusNode!=t.$||(a=l(e)),n=t.getText(),t.setText(s(n))}}function i(){var t=c.editable();t&&(t=o(t))&&(t.setText(n),a&&(h(c.document.$,a),a=null))}var n,a,c=t.editor;CKEDITOR.env.webkit&&(c.on("selectionChange",function(){var t=c.editable(),e=o(t);e&&(e.getCustomData("ready")?r(t):e.setCustomData("ready",1))},null,null,-1),c.on("beforeSetMode",function(){r(c.editable())},null,null,-1),c.on("beforeUndoImage",e),c.on("afterUndoImage",i),c.on("beforeGetData",e,null,null,0),c.on("getData",i))}),CKEDITOR.editor.prototype.selectionChange=function(i){(i?t:e).call(this)},CKEDITOR.editor.prototype.getSelection=function(t){return!this._.savedSelection&&!this._.fakeSelection||t?(t=this.editable())&&"wysiwyg"==this.mode?new CKEDITOR.dom.selection(t):null:this._.savedSelection||this._.fakeSelection},CKEDITOR.editor.prototype.lockSelection=function(t){return t=t||this.getSelection(1),t.getType()!=CKEDITOR.SELECTION_NONE?(!t.isLocked&&t.lock(),this._.savedSelection=t,!0):!1},CKEDITOR.editor.prototype.unlockSelection=function(t){var e=this._.savedSelection;return e?(e.unlock(t),delete this._.savedSelection,!0):!1},CKEDITOR.editor.prototype.forceNextSelectionCheck=function(){delete this._.selectionPreviousPath},CKEDITOR.dom.document.prototype.getSelection=function(){return new CKEDITOR.dom.selection(this)},CKEDITOR.dom.range.prototype.select=function(){var t=this.root instanceof CKEDITOR.editable?this.root.editor.getSelection():new CKEDITOR.dom.selection(this.root);return t.selectRanges([this]),t},CKEDITOR.SELECTION_NONE=1,CKEDITOR.SELECTION_TEXT=2,CKEDITOR.SELECTION_ELEMENT=3;var v="function"!=typeof window.getSelection,C=1;CKEDITOR.dom.selection=function(t){if(t instanceof CKEDITOR.dom.selection)var e=t,t=t.root;var i=t instanceof CKEDITOR.dom.element;if(this.rev=e?e.rev:C++,this.document=t instanceof CKEDITOR.dom.document?t:t.getDocument(),this.root=i?t:this.document.getBody(),this.isLocked=0,this._={cache:{}},e)return CKEDITOR.tools.extend(this._.cache,e._.cache),this.isFake=e.isFake,this.isLocked=e.isLocked,this;var n,a,t=this.getNative();if(t)if(t.getRangeAt)n=(a=t.rangeCount&&t.getRangeAt(0))&&new CKEDITOR.dom.node(a.commonAncestorContainer);else{try{a=t.createRange()}catch(o){}n=a&&CKEDITOR.dom.element.get(a.item&&a.item(0)||a.parentElement())}return(!n||n.type!=CKEDITOR.NODE_ELEMENT&&n.type!=CKEDITOR.NODE_TEXT||!this.root.equals(n)&&!this.root.contains(n))&&(this._.cache.type=CKEDITOR.SELECTION_NONE,this._.cache.startElement=null,this._.cache.selectedElement=null,this._.cache.selectedText="",this._.cache.ranges=new CKEDITOR.dom.rangeList),this};var E={img:1,hr:1,li:1,table:1,tr:1,td:1,th:1,embed:1,object:1,ol:1,ul:1,a:1,input:1,form:1,select:1,textarea:1,button:1,fieldset:1,thead:1,tfoot:1};CKEDITOR.dom.selection.prototype={getNative:function(){return void 0!==this._.cache.nativeSel?this._.cache.nativeSel:this._.cache.nativeSel=v?this.document.$.selection:this.document.getWindow().$.getSelection()},getType:v?function(){var t=this._.cache;if(t.type)return t.type;var e=CKEDITOR.SELECTION_NONE;try{var i=this.getNative(),n=i.type;"Text"==n&&(e=CKEDITOR.SELECTION_TEXT),"Control"==n&&(e=CKEDITOR.SELECTION_ELEMENT),i.createRange().parentElement()&&(e=CKEDITOR.SELECTION_TEXT)}catch(a){}return t.type=e}:function(){var t=this._.cache;if(t.type)return t.type;var e=CKEDITOR.SELECTION_TEXT,i=this.getNative();if(i&&i.rangeCount){if(1==i.rangeCount){var i=i.getRangeAt(0),n=i.startContainer;n==i.endContainer&&1==n.nodeType&&i.endOffset-i.startOffset==1&&E[n.childNodes[i.startOffset].nodeName.toLowerCase()]&&(e=CKEDITOR.SELECTION_ELEMENT)}}else e=CKEDITOR.SELECTION_NONE;return t.type=e},getRanges:function(){var t=v?function(){function t(t){return new CKEDITOR.dom.node(t).getIndex()}var e=function(e,i){e=e.duplicate(),e.collapse(i);var n=e.parentElement();if(!n.hasChildNodes())return{container:n,offset:0};for(var a,o,r,s,l=n.children,h=e.duplicate(),c=0,u=l.length-1,d=-1;u>=c;)if(d=Math.floor((c+u)/2),a=l[d],h.moveToElementText(a),r=h.compareEndPoints("StartToStart",e),r>0)u=d-1;else{if(!(0>r))return{container:n,offset:t(a)};c=d+1}if(-1==d||d==l.length-1&&0>r){if(h.moveToElementText(n),h.setEndPoint("StartToStart",e),h=h.text.replace(/(\r\n|\r)/g,"\n").length,l=n.childNodes,!h)return a=l[l.length-1],a.nodeType!=CKEDITOR.NODE_TEXT?{container:n,offset:l.length}:{container:a,offset:a.nodeValue.length};for(n=l.length;h>0&&n>0;)o=l[--n],o.nodeType==CKEDITOR.NODE_TEXT&&(s=o,h-=o.nodeValue.length);return{container:s,offset:-h}}if(h.collapse(r>0?!0:!1),h.setEndPoint(r>0?"StartToStart":"EndToStart",e),h=h.text.replace(/(\r\n|\r)/g,"\n").length,!h)return{container:n,offset:t(a)+(r>0?0:1)};for(;h>0;)try{o=a[r>0?"previousSibling":"nextSibling"],o.nodeType==CKEDITOR.NODE_TEXT&&(h-=o.nodeValue.length,s=o),a=o}catch(f){return{container:n,offset:t(a)}}return{container:s,offset:r>0?-h:s.nodeValue.length+h}};return function(){var t=this.getNative(),i=t&&t.createRange(),n=this.getType();if(!t)return[];if(n==CKEDITOR.SELECTION_TEXT)return t=new CKEDITOR.dom.range(this.root),n=e(i,!0),t.setStart(new CKEDITOR.dom.node(n.container),n.offset),n=e(i),t.setEnd(new CKEDITOR.dom.node(n.container),n.offset),t.endContainer.getPosition(t.startContainer)&CKEDITOR.POSITION_PRECEDING&&t.endOffset<=t.startContainer.getIndex()&&t.collapse(),[t];if(n==CKEDITOR.SELECTION_ELEMENT){for(var n=[],a=0;a<i.length;a++){for(var o=i.item(a),r=o.parentNode,s=0,t=new CKEDITOR.dom.range(this.root);s<r.childNodes.length&&r.childNodes[s]!=o;s++);t.setStart(new CKEDITOR.dom.node(r),s),t.setEnd(new CKEDITOR.dom.node(r),s+1),n.push(t)}return n}return[]}}():function(){var t,e=[],i=this.getNative();if(!i)return e;for(var n=0;n<i.rangeCount;n++){var a=i.getRangeAt(n);t=new CKEDITOR.dom.range(this.root),t.setStart(new CKEDITOR.dom.node(a.startContainer),a.startOffset),t.setEnd(new CKEDITOR.dom.node(a.endContainer),a.endOffset),e.push(t)}return e};return function(e){var i=this._.cache,n=i.ranges;return n||(i.ranges=n=new CKEDITOR.dom.rangeList(t.call(this))),e?d(new CKEDITOR.dom.rangeList(n.slice())):n}}(),getStartElement:function(){var t=this._.cache;if(void 0!==t.startElement)return t.startElement;var e;switch(this.getType()){case CKEDITOR.SELECTION_ELEMENT:return this.getSelectedElement();case CKEDITOR.SELECTION_TEXT:var i=this.getRanges()[0];if(i){if(i.collapsed)e=i.startContainer,e.type!=CKEDITOR.NODE_ELEMENT&&(e=e.getParent());else{for(i.optimize();e=i.startContainer,i.startOffset==(e.getChildCount?e.getChildCount():e.getLength())&&!e.isBlockBoundary();)i.setStartAfter(e);if(e=i.startContainer,e.type!=CKEDITOR.NODE_ELEMENT)return e.getParent();if(e=e.getChild(i.startOffset),e&&e.type==CKEDITOR.NODE_ELEMENT)for(i=e.getFirst();i&&i.type==CKEDITOR.NODE_ELEMENT;)e=i,i=i.getFirst();else e=i.startContainer}e=e.$}}return t.startElement=e?new CKEDITOR.dom.element(e):null},getSelectedElement:function(){var t=this._.cache;if(void 0!==t.selectedElement)return t.selectedElement;var e=this,i=CKEDITOR.tools.tryThese(function(){return e.getNative().createRange().item(0)},function(){for(var t,i,n=e.getRanges()[0].clone(),a=2;!(!a||(t=n.getEnclosedNode())&&t.type==CKEDITOR.NODE_ELEMENT&&E[t.getName()]&&(i=t));a--)n.shrink(CKEDITOR.SHRINK_ELEMENT);return i&&i.$});return t.selectedElement=i?new CKEDITOR.dom.element(i):null},getSelectedText:function(){var t=this._.cache;if(void 0!==t.selectedText)return t.selectedText;var e=this.getNative(),e=v?"Control"==e.type?"":e.createRange().text:e.toString();return t.selectedText=e},lock:function(){this.getRanges(),this.getStartElement(),this.getSelectedElement(),this.getSelectedText(),this._.cache.nativeSel=null,this.isLocked=1},unlock:function(t){if(this.isLocked){if(t)var e=this.getSelectedElement(),i=!e&&this.getRanges(),n=this.isFake;this.isLocked=0,this.reset(),t&&(t=e||i[0]&&i[0].getCommonAncestor())&&t.getAscendant("body",1)&&(n?this.fake(e):e?this.selectElement(e):this.selectRanges(i))}},reset:function(){this._.cache={},this.isFake=0;var t=this.root.editor;if(t&&t._.fakeSelection&&this.rev==t._.fakeSelection.rev){delete t._.fakeSelection;var e=t._.hiddenSelectionContainer;if(e){var i=t.checkDirty();t.fire("lockSnapshot"),e.remove(),t.fire("unlockSnapshot"),!i&&t.resetDirty()}delete t._.hiddenSelectionContainer}this.rev=C++},selectElement:function(t){var e=new CKEDITOR.dom.range(this.root);e.setStartBefore(t),e.setEndAfter(t),this.selectRanges([e])},selectRanges:function(t){var e=this.root.editor,e=e&&e._.hiddenSelectionContainer;if(this.reset(),e)for(var i,e=this.root,n=0;n<t.length;++n)i=t[n],i.endContainer.equals(e)&&(i.endOffset=Math.min(i.endOffset,e.getChildCount()));if(t.length)if(this.isLocked){var o=CKEDITOR.document.getActive();this.unlock(),this.selectRanges(t),this.lock(),o&&!o.equals(this.root)&&o.focus()}else{var s,l,h;if((1!=t.length||(h=t[0]).collapsed||!(s=h.getEnclosedNode())||s.type!=CKEDITOR.NODE_ELEMENT||(h=h.clone(),h.shrink(CKEDITOR.SHRINK_ELEMENT,!0),(l=h.getEnclosedNode())&&l.type==CKEDITOR.NODE_ELEMENT&&(s=l),"false"!=s.getAttribute("contenteditable")))&&(s=void 0),s)this.fake(s);else{if(v){h=CKEDITOR.dom.walker.whitespaces(!0),l=/\ufeff|\u00a0/,e={table:1,tbody:1,tr:1},t.length>1&&(s=t[t.length-1],t[0].setEnd(s.endContainer,s.endOffset)),s=t[0];var c,u,d,t=s.collapsed;if((i=s.getEnclosedNode())&&i.type==CKEDITOR.NODE_ELEMENT&&i.getName()in E&&(!i.is("a")||!i.getText()))try{return d=i.$.createControlRange(),d.addElement(i.$),void d.select()}catch(f){}(s.startContainer.type==CKEDITOR.NODE_ELEMENT&&s.startContainer.getName()in e||s.endContainer.type==CKEDITOR.NODE_ELEMENT&&s.endContainer.getName()in e)&&(s.shrink(CKEDITOR.NODE_ELEMENT,!0),t=s.collapsed),d=s.createBookmark(),e=d.startNode,t||(o=d.endNode),d=s.document.$.body.createTextRange(),d.moveToElementText(e.$),d.moveStart("character",1),o?(l=s.document.$.body.createTextRange(),l.moveToElementText(o.$),d.setEndPoint("EndToEnd",l),d.moveEnd("character",-1)):(c=e.getNext(h),u=e.hasAscendant("pre"),c=!(c&&c.getText&&c.getText().match(l))&&(u||!e.hasPrevious()||e.getPrevious().is&&e.getPrevious().is("br")),u=s.document.createElement("span"),u.setHtml("&#65279;"),u.insertBefore(e),c&&s.document.createText("").insertBefore(e)),s.setStartBefore(e),e.remove(),t?(c?(d.moveStart("character",-1),d.select(),s.document.$.selection.clear()):d.select(),s.moveToPosition(u,CKEDITOR.POSITION_BEFORE_START),u.remove()):(s.setEndBefore(o),o.remove(),d.select())}else{if(o=this.getNative(),!o)return;for(this.removeAllRanges(),d=0;d<t.length;d++)if(d<t.length-1&&(c=t[d],u=t[d+1],l=c.clone(),l.setStart(c.endContainer,c.endOffset),l.setEnd(u.startContainer,u.startOffset),!l.collapsed&&(l.shrink(CKEDITOR.NODE_ELEMENT,!0),s=l.getCommonAncestor(),l=l.getEnclosedNode(),s.isReadOnly()||l&&l.isReadOnly())))u.setStart(c.startContainer,c.startOffset),t.splice(d--,1);else{s=t[d],u=this.document.$.createRange(),s.collapsed&&CKEDITOR.env.webkit&&a(s)&&(c=this.root,r(c,!1),l=c.getDocument().createText("\u200b"),c.setCustomData("cke-fillingChar",l),s.insertNode(l),(c=l.getNext())&&!l.getPrevious()&&c.type==CKEDITOR.NODE_ELEMENT&&"br"==c.getName()?(r(this.root),s.moveToPosition(c,CKEDITOR.POSITION_BEFORE_START)):s.moveToPosition(l,CKEDITOR.POSITION_AFTER_END)),u.setStart(s.startContainer.$,s.startOffset);try{u.setEnd(s.endContainer.$,s.endOffset)}catch(m){if(!(m.toString().indexOf("NS_ERROR_ILLEGAL_VALUE")>=0))throw m;s.collapse(1),u.setEnd(s.endContainer.$,s.endOffset)}o.addRange(u)}}this.reset(),this.root.fire("selectionchange")}}},fake:function(t){var e=this.root.editor;this.reset(),c(e);var i=this._.cache,n=new CKEDITOR.dom.range(this.root);n.setStartBefore(t),n.setEndAfter(t),i.ranges=new CKEDITOR.dom.rangeList(n),i.selectedElement=i.startElement=t,i.type=CKEDITOR.SELECTION_ELEMENT,i.selectedText=i.nativeSel=null,this.isFake=1,this.rev=C++,e._.fakeSelection=this,this.root.fire("selectionchange")},isHidden:function(){var t=this.getCommonAncestor();return t&&t.type==CKEDITOR.NODE_TEXT&&(t=t.getParent()),!(!t||!t.data("cke-hidden-sel"))},createBookmarks:function(t){return t=this.getRanges().createBookmarks(t),this.isFake&&(t.isFake=1),t},createBookmarks2:function(t){return t=this.getRanges().createBookmarks2(t),this.isFake&&(t.isFake=1),t},selectBookmarks:function(t){for(var e=[],i=0;i<t.length;i++){var n=new CKEDITOR.dom.range(this.root);n.moveToBookmark(t[i]),e.push(n)}return t.isFake?this.fake(e[0].getEnclosedNode()):this.selectRanges(e),this},getCommonAncestor:function(){var t=this.getRanges();return t.length?t[0].startContainer.getCommonAncestor(t[t.length-1].endContainer):null},scrollIntoView:function(){this.type!=CKEDITOR.SELECTION_NONE&&this.getRanges()[0].scrollIntoView()},removeAllRanges:function(){if(this.getType()!=CKEDITOR.SELECTION_NONE){var t=this.getNative();try{t&&t[v?"empty":"removeAllRanges"]()}catch(e){}this.reset()}}}}(),CKEDITOR.STYLE_BLOCK=1,CKEDITOR.STYLE_INLINE=2,CKEDITOR.STYLE_OBJECT=3,function(){function t(t,e){for(var i,n;(t=t.getParent())&&!t.equals(e);)if(t.getAttribute("data-nostyle"))i=t;else if(!n){var a=t.getAttribute("contentEditable");"false"==a?i=t:"true"==a&&(n=1)}return i}function e(i){var a=i.document;if(i.collapsed)a=g(this,a),i.insertNode(a),i.moveToPosition(a,CKEDITOR.POSITION_BEFORE_END);else{var o,r=this.element,s=this._.definition,l=s.ignoreReadonly,h=l||s.includeReadonly;null==h&&(h=i.root.getCustomData("cke_includeReadonly"));var c=CKEDITOR.dtd[r];c||(o=!0,c=CKEDITOR.dtd.span),i.enlarge(CKEDITOR.ENLARGE_INLINE,1),i.trim();var u,d=i.createBookmark(),m=d.startNode,p=d.endNode,v=m;if(!l){var C=i.getCommonAncestor(),l=t(m,C),C=t(p,C);l&&(v=l.getNextSourceNode(!0)),C&&(p=C)}for(v.getPosition(p)==CKEDITOR.POSITION_FOLLOWING&&(v=0);v;){if(l=!1,v.equals(p))v=null,l=!0;else{var E=v.type==CKEDITOR.NODE_ELEMENT?v.getName():null,C=E&&"false"==v.getAttribute("contentEditable"),b=E&&v.getAttribute("data-nostyle");if(E&&v.data("cke-bookmark")){v=v.getNextSourceNode(!0);continue}if(C&&h&&CKEDITOR.dtd.$block[E])for(var T=v,y=n(T),D=void 0,O=y.length,I=0,T=O&&new CKEDITOR.dom.range(T.getDocument());O>I;++I){var D=y[I],x=CKEDITOR.filter.instances[D.data("cke-filter")];(x?x.check(this):1)&&(T.selectNodeContents(D),e.call(this,T))}if(y=E?!c[E]||b?0:C&&!h?0:(v.getPosition(p)|k)==k&&(!s.childRule||s.childRule(v)):1){if(!(y=v.getParent())||!(y.getDtd()||CKEDITOR.dtd.span)[r]&&!o||s.parentRule&&!s.parentRule(y))l=!0;else if(u||E&&CKEDITOR.dtd.$removeEmpty[E]&&(v.getPosition(p)|k)!=k||(u=i.clone(),u.setStartBefore(v)),E=v.type,E==CKEDITOR.NODE_TEXT||C||E==CKEDITOR.NODE_ELEMENT&&!v.getChildCount()){for(var w,E=v;(l=!E.getNext(R))&&(w=E.getParent(),c[w.getName()])&&(w.getPosition(m)|A)==A&&(!s.childRule||s.childRule(w));)E=w;u.setEndAfter(E)}}else l=!0;v=v.getNextSourceNode(b||C)}if(l&&u&&!u.collapsed){for(var S,K,_,l=g(this,a),C=l.hasAttributes(),b=u.getCommonAncestor(),E={},y={},D={},O={};l&&b;){if(b.getName()==r){for(S in s.attributes)!O[S]&&(_=b.getAttribute(K))&&(l.getAttribute(S)==_?y[S]=1:O[S]=1);for(K in s.styles)!D[K]&&(_=b.getStyle(K))&&(l.getStyle(K)==_?E[K]=1:D[K]=1)}b=b.getParent()}for(S in y)l.removeAttribute(S);for(K in E)l.removeStyle(K);C&&!l.hasAttributes()&&(l=null),l?(u.extractContents().appendTo(l),u.insertNode(l),f.call(this,l),l.mergeSiblings(),CKEDITOR.env.ie||l.$.normalize()):(l=new CKEDITOR.dom.element("span"),u.extractContents().appendTo(l),u.insertNode(l),f.call(this,l),l.remove(!0)),u=null}}i.moveToBookmark(d),i.shrink(CKEDITOR.SHRINK_TEXT),i.shrink(CKEDITOR.NODE_ELEMENT,!0)}}function i(t){function e(){for(var t=new CKEDITOR.dom.elementPath(n.getParent()),e=new CKEDITOR.dom.elementPath(h.getParent()),i=null,a=null,o=0;o<t.elements.length;o++){var r=t.elements[o];if(r==t.block||r==t.blockLimit)break;c.checkElementRemovable(r,!0)&&(i=r)}for(o=0;o<e.elements.length&&(r=e.elements[o],r!=e.block&&r!=e.blockLimit);o++)c.checkElementRemovable(r,!0)&&(a=r);a&&h.breakParent(a),i&&n.breakParent(i)}t.enlarge(CKEDITOR.ENLARGE_INLINE,1);var i=t.createBookmark(),n=i.startNode;if(t.collapsed){for(var a,o,r=new CKEDITOR.dom.elementPath(n.getParent(),t.root),s=0;s<r.elements.length&&(o=r.elements[s])&&(o!=r.block&&o!=r.blockLimit);s++)if(this.checkElementRemovable(o)){var l;t.collapsed&&(t.checkBoundaryOfElement(o,CKEDITOR.END)||(l=t.checkBoundaryOfElement(o,CKEDITOR.START)))?(a=o,a.match=l?"start":"end"):(o.mergeSiblings(),o.is(this.element)?d.call(this,o):m(o,E(this)[o.getName()]))}if(a){for(o=n,s=0;l=r.elements[s],!l.equals(a);s++)l.match||(l=l.clone(),l.append(o),o=l);o["start"==a.match?"insertBefore":"insertAfter"](a)}}else{var h=i.endNode,c=this;for(e(),r=n;!r.equals(h);)a=r.getNextSourceNode(),r.type==CKEDITOR.NODE_ELEMENT&&this.checkElementRemovable(r)&&(r.getName()==this.element?d.call(this,r):m(r,E(this)[r.getName()]),a.type==CKEDITOR.NODE_ELEMENT&&a.contains(n)&&(e(),a=n.getNext())),r=a}t.moveToBookmark(i),t.shrink(CKEDITOR.NODE_ELEMENT,!0)}function n(t){var e=[];return t.forEach(function(t){return"true"==t.getAttribute("contenteditable")?(e.push(t),!1):void 0},CKEDITOR.NODE_ELEMENT,!0),e}function a(t){var e=t.getEnclosedNode()||t.getCommonAncestor(!1,!0);(t=new CKEDITOR.dom.elementPath(e,t.root).contains(this.element,1))&&!t.isReadOnly()&&v(t,this)}function o(t){var e=t.getCommonAncestor(!0,!0);if(t=new CKEDITOR.dom.elementPath(e,t.root).contains(this.element,1)){var e=this._.definition,i=e.attributes;if(i)for(var n in i)t.removeAttribute(n,i[n]);if(e.styles)for(var a in e.styles)e.styles.hasOwnProperty(a)&&t.removeStyle(a)}}function r(t){var e=t.createBookmark(!0),i=t.createIterator();i.enforceRealBlocks=!0,this._.enterMode&&(i.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR);for(var n,a,o=t.document;n=i.getNextParagraph();)!n.isReadOnly()&&(i.activeFilter?i.activeFilter.check(this):1)&&(a=g(this,o,n),l(n,a));t.moveToBookmark(e)}function s(t){var e=t.createBookmark(1),i=t.createIterator();i.enforceRealBlocks=!0,i.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR;for(var n,a;n=i.getNextParagraph();)this.checkElementRemovable(n)&&(n.is("pre")?((a=this._.enterMode==CKEDITOR.ENTER_BR?null:t.document.createElement(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))&&n.copyAttributes(a),l(n,a)):d.call(this,n));t.moveToBookmark(e)}function l(t,e){var i=!e;i&&(e=t.getDocument().createElement("div"),t.copyAttributes(e));var n=e&&e.is("pre"),a=t.is("pre"),o=!n&&a;if(n&&!a){if(a=e,(o=t.getBogus())&&o.remove(),o=t.getHtml(),o=c(o,/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g,""),o=o.replace(/[ \t\r\n]*(<br[^>]*>)[ \t\r\n]*/gi,"$1"),o=o.replace(/([ \t\n\r]+|&nbsp;)/g," "),o=o.replace(/<br\b[^>]*>/gi,"\n"),CKEDITOR.env.ie){var r=t.getDocument().createElement("div");r.append(a),a.$.outerHTML="<pre>"+o+"</pre>",a.copyAttributes(r.getFirst()),a=r.getFirst().remove()}else a.setHtml(o);e=a}else o?e=u(i?[t.getHtml()]:h(t),e):t.moveChildren(e);if(e.replace(t),n){var s,i=e;(s=i.getPrevious(x))&&s.type==CKEDITOR.NODE_ELEMENT&&s.is("pre")&&(n=c(s.getHtml(),/\n$/,"")+"\n\n"+c(i.getHtml(),/^\n/,""),CKEDITOR.env.ie?i.$.outerHTML="<pre>"+n+"</pre>":i.setHtml(n),s.remove())}else i&&p(e)}function h(t){var e=[];return c(t.getOuterHtml(),/(\S\s*)\n(?:\s|(<span[^>]+data-cke-bookmark.*?\/span>))*\n(?!$)/gi,function(t,e,i){return e+"</pre>"+i+"<pre>"}).replace(/<pre\b.*?>([\s\S]*?)<\/pre>/gi,function(t,i){e.push(i)}),e}function c(t,e,i){var n="",a="",t=t.replace(/(^<span[^>]+data-cke-bookmark.*?\/span>)|(<span[^>]+data-cke-bookmark.*?\/span>$)/gi,function(t,e,i){return e&&(n=e),i&&(a=i),""});return n+t.replace(e,i)+a}function u(t,e){var i;t.length>1&&(i=new CKEDITOR.dom.documentFragment(e.getDocument()));for(var n=0;n<t.length;n++){var a=t[n],a=a.replace(/(\r\n|\r)/g,"\n"),a=c(a,/^[ \t]*\n/,""),a=c(a,/\n$/,""),a=c(a,/^[ \t]+|[ \t]+$/g,function(t,e){return 1==t.length?"&nbsp;":e?" "+CKEDITOR.tools.repeat("&nbsp;",t.length-1):CKEDITOR.tools.repeat("&nbsp;",t.length-1)+" "}),a=a.replace(/\n/g,"<br>"),a=a.replace(/[ \t]{2,}/g,function(t){return CKEDITOR.tools.repeat("&nbsp;",t.length-1)+" "});if(i){var o=e.clone();o.setHtml(a),i.append(o)}else e.setHtml(a)}return i||e}function d(t,e){var i,n=this._.definition,a=n.attributes,n=n.styles,o=E(this)[t.getName()],r=CKEDITOR.tools.isEmpty(a)&&CKEDITOR.tools.isEmpty(n);for(i in a)("class"==i||this._.definition.fullMatch)&&t.getAttribute(i)!=b(i,a[i])||e&&"data-"==i.slice(0,5)||(r=t.hasAttribute(i),t.removeAttribute(i));for(var s in n)this._.definition.fullMatch&&t.getStyle(s)!=b(s,n[s],!0)||(r=r||!!t.getStyle(s),t.removeStyle(s));m(t,o,y[t.getName()]),r&&(this._.definition.alwaysRemoveElement?p(t,1):!CKEDITOR.dtd.$block[t.getName()]||this._.enterMode==CKEDITOR.ENTER_BR&&!t.hasAttributes()?p(t):t.renameNode(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))}function f(t){for(var e,i=E(this),n=t.getElementsByTag(this.element),a=n.count();--a>=0;)e=n.getItem(a),e.isReadOnly()||d.call(this,e,!0);for(var o in i)if(o!=this.element)for(n=t.getElementsByTag(o),a=n.count()-1;a>=0;a--)e=n.getItem(a),e.isReadOnly()||m(e,i[o])}function m(t,e,i){if(e=e&&e.attributes)for(var n=0;n<e.length;n++){var a,o=e[n][0];if(a=t.getAttribute(o)){var r=e[n][1];(null===r||r.test&&r.test(a)||"string"==typeof r&&a==r)&&t.removeAttribute(o)}}i||p(t)}function p(t,e){if(!t.hasAttributes()||e)if(CKEDITOR.dtd.$block[t.getName()]){var i=t.getPrevious(x),n=t.getNext(x);i&&(i.type==CKEDITOR.NODE_TEXT||!i.isBlockBoundary({br:1}))&&t.append("br",1),n&&(n.type==CKEDITOR.NODE_TEXT||!n.isBlockBoundary({br:1}))&&t.append("br"),t.remove(!0)}else i=t.getFirst(),n=t.getLast(),t.remove(!0),i&&(i.type==CKEDITOR.NODE_ELEMENT&&i.mergeSiblings(),n&&!i.equals(n)&&n.type==CKEDITOR.NODE_ELEMENT&&n.mergeSiblings())}function g(t,e,i){var n;return n=t.element,"*"==n&&(n="span"),n=new CKEDITOR.dom.element(n,e),i&&i.copyAttributes(n),n=v(n,t),e.getCustomData("doc_processing_style")&&n.hasAttribute("id")?n.removeAttribute("id"):e.setCustomData("doc_processing_style",1),n}function v(t,e){var i=e._.definition,n=i.attributes,i=CKEDITOR.style.getStyleText(i);if(n)for(var a in n)t.setAttribute(a,n[a]);return i&&t.setAttribute("style",i),t}function C(t,e){for(var i in t)t[i]=t[i].replace(I,function(t,i){return e[i]})}function E(t){if(t._.overrides)return t._.overrides;var e=t._.overrides={},i=t._.definition.overrides;if(i){CKEDITOR.tools.isArray(i)||(i=[i]);for(var n=0;n<i.length;n++){var a,o,r=i[n];if("string"==typeof r?a=r.toLowerCase():(a=r.element?r.element.toLowerCase():t.element,o=r.attributes),r=e[a]||(e[a]={}),o){var s,r=r.attributes=r.attributes||[];for(s in o)r.push([s.toLowerCase(),o[s]])}}}return e}function b(t,e,i){var n=new CKEDITOR.dom.element("span");return n[i?"setStyle":"setAttribute"](t,e),n[i?"getStyle":"getAttribute"](t)}function T(t,e,i){for(var n,a=t.document,o=t.getRanges(),e=e?this.removeFromRange:this.applyToRange,r=o.createIterator();n=r.getNextRange();)e.call(this,n,i);t.selectRanges(o),a.removeCustomData("doc_processing_style")}var y={address:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1,section:1,header:1,footer:1,nav:1,article:1,aside:1,figure:1,dialog:1,hgroup:1,time:1,meter:1,menu:1,command:1,keygen:1,output:1,progress:1,details:1,datagrid:1,datalist:1},D={a:1,blockquote:1,embed:1,hr:1,img:1,li:1,object:1,ol:1,table:1,td:1,tr:1,th:1,ul:1,dl:1,dt:1,dd:1,form:1,audio:1,video:1},O=/\s*(?:;\s*|$)/,I=/#\((.+?)\)/g,R=CKEDITOR.dom.walker.bookmark(0,1),x=CKEDITOR.dom.walker.whitespaces(1);CKEDITOR.style=function(t,e){if("string"==typeof t.type)return new CKEDITOR.style.customHandlers[t.type](t);var i=t.attributes;i&&i.style&&(t.styles=CKEDITOR.tools.extend({},t.styles,CKEDITOR.tools.parseCssText(i.style)),delete i.style),e&&(t=CKEDITOR.tools.clone(t),C(t.attributes,e),C(t.styles,e)),i=this.element=t.element?"string"==typeof t.element?t.element.toLowerCase():t.element:"*",this.type=t.type||(y[i]?CKEDITOR.STYLE_BLOCK:D[i]?CKEDITOR.STYLE_OBJECT:CKEDITOR.STYLE_INLINE),"object"==typeof this.element&&(this.type=CKEDITOR.STYLE_OBJECT),this._={definition:t}},CKEDITOR.style.prototype={apply:function(t){if(t instanceof CKEDITOR.dom.document)return T.call(this,t.getSelection());if(this.checkApplicable(t.elementPath(),t)){var e=this._.enterMode;e||(this._.enterMode=t.activeEnterMode),T.call(this,t.getSelection(),0,t),this._.enterMode=e}},remove:function(t){if(t instanceof CKEDITOR.dom.document)return T.call(this,t.getSelection(),1);if(this.checkApplicable(t.elementPath(),t)){var e=this._.enterMode;e||(this._.enterMode=t.activeEnterMode),T.call(this,t.getSelection(),1,t),this._.enterMode=e}},applyToRange:function(t){return this.applyToRange=this.type==CKEDITOR.STYLE_INLINE?e:this.type==CKEDITOR.STYLE_BLOCK?r:this.type==CKEDITOR.STYLE_OBJECT?a:null,this.applyToRange(t)},removeFromRange:function(t){return this.removeFromRange=this.type==CKEDITOR.STYLE_INLINE?i:this.type==CKEDITOR.STYLE_BLOCK?s:this.type==CKEDITOR.STYLE_OBJECT?o:null,this.removeFromRange(t)},applyToObject:function(t){v(t,this)},checkActive:function(t,e){switch(this.type){case CKEDITOR.STYLE_BLOCK:return this.checkElementRemovable(t.block||t.blockLimit,!0,e);case CKEDITOR.STYLE_OBJECT:case CKEDITOR.STYLE_INLINE:for(var i,n=t.elements,a=0;a<n.length;a++)if(i=n[a],this.type!=CKEDITOR.STYLE_INLINE||i!=t.block&&i!=t.blockLimit){if(this.type==CKEDITOR.STYLE_OBJECT){var o=i.getName();if(!("string"==typeof this.element?o==this.element:o in this.element))continue}if(this.checkElementRemovable(i,!0,e))return!0}}return!1},checkApplicable:function(t,e,i){if(e&&e instanceof CKEDITOR.filter&&(i=e),i&&!i.check(this))return!1;switch(this.type){case CKEDITOR.STYLE_OBJECT:return!!t.contains(this.element);case CKEDITOR.STYLE_BLOCK:return!!t.blockLimit.getDtd()[this.element]}return!0},checkElementMatch:function(t,e){var i=this._.definition;if(!t||!i.ignoreReadonly&&t.isReadOnly())return!1;var n=t.getName();if("string"==typeof this.element?n==this.element:n in this.element){if(!e&&!t.hasAttributes())return!0;if(n=i._AC)i=n;else{var n={},a=0,o=i.attributes;if(o)for(var r in o)a++,n[r]=o[r];(r=CKEDITOR.style.getStyleText(i))&&(n.style||a++,n.style=r),n._length=a,i=i._AC=n}if(!i._length)return!0;for(var s in i)if("_length"!=s){if(a=t.getAttribute(s)||"","style"==s)t:{n=i[s],"string"==typeof n&&(n=CKEDITOR.tools.parseCssText(n)),"string"==typeof a&&(a=CKEDITOR.tools.parseCssText(a,!0)),r=void 0;for(r in n)if(!(r in a)||a[r]!=n[r]&&"inherit"!=n[r]&&"inherit"!=a[r]){n=!1;break t}n=!0}else n=i[s]==a;if(n){if(!e)return!0}else if(e)return!1}if(e)return!0}return!1},checkElementRemovable:function(t,e,i){if(this.checkElementMatch(t,e,i))return!0;if(e=E(this)[t.getName()]){var n;if(!(e=e.attributes))return!0;for(i=0;i<e.length;i++)if(n=e[i][0],n=t.getAttribute(n)){var a=e[i][1];if(null===a)return!0;if("string"==typeof a){if(n==a)return!0}else if(a.test(n))return!0}}return!1},buildPreview:function(t){var e=this._.definition,i=[],n=e.element;"bdo"==n&&(n="span");var i=["<",n],a=e.attributes;if(a)for(var o in a)i.push(" ",o,'="',a[o],'"');return(a=CKEDITOR.style.getStyleText(e))&&i.push(' style="',a,'"'),i.push(">",t||e.name,"</",n,">"),i.join("")},getDefinition:function(){return this._.definition}},CKEDITOR.style.getStyleText=function(t){var e=t._ST;if(e)return e;var e=t.styles,i=t.attributes&&t.attributes.style||"",n="";i.length&&(i=i.replace(O,";"));for(var a in e){var o=e[a],r=(a+":"+o).replace(O,";");
"inherit"==o?n+=r:i+=r}return i.length&&(i=CKEDITOR.tools.normalizeCssText(i,!0)),t._ST=i+n},CKEDITOR.style.customHandlers={},CKEDITOR.style.addCustomHandler=function(t){var e=function(t){this._={definition:t},this.setup&&this.setup(t)};return e.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.style.prototype),{assignedTo:CKEDITOR.STYLE_OBJECT},t,!0),this.customHandlers[t.type]=e};var k=CKEDITOR.POSITION_PRECEDING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED,A=CKEDITOR.POSITION_FOLLOWING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED}(),CKEDITOR.styleCommand=function(t,e){this.requiredContent=this.allowedContent=this.style=t,CKEDITOR.tools.extend(this,e,!0)},CKEDITOR.styleCommand.prototype.exec=function(t){t.focus(),this.state==CKEDITOR.TRISTATE_OFF?t.applyStyle(this.style):this.state==CKEDITOR.TRISTATE_ON&&t.removeStyle(this.style)},CKEDITOR.stylesSet=new CKEDITOR.resourceManager("","stylesSet"),CKEDITOR.addStylesSet=CKEDITOR.tools.bind(CKEDITOR.stylesSet.add,CKEDITOR.stylesSet),CKEDITOR.loadStylesSet=function(t,e,i){CKEDITOR.stylesSet.addExternal(t,e,""),CKEDITOR.stylesSet.load(t,i)},CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{attachStyleStateChange:function(t,e){var i=this._.styleStateChangeCallbacks;i||(i=this._.styleStateChangeCallbacks=[],this.on("selectionChange",function(t){for(var e=0;e<i.length;e++){var n=i[e],a=n.style.checkActive(t.data.path,this)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF;n.fn.call(this,a)}})),i.push({style:t,fn:e})},applyStyle:function(t){t.apply(this)},removeStyle:function(t){t.remove(this)},getStylesSet:function(t){if(this._.stylesDefinitions)t(this._.stylesDefinitions);else{var e=this,i=e.config.stylesCombo_stylesSet||e.config.stylesSet;if(i===!1)t(null);else if(i instanceof Array)e._.stylesDefinitions=i,t(i);else{i||(i="default");var i=i.split(":"),n=i[0];CKEDITOR.stylesSet.addExternal(n,i[1]?i.slice(1).join(":"):CKEDITOR.getUrl("styles.js"),""),CKEDITOR.stylesSet.load(n,function(i){e._.stylesDefinitions=i[n],t(e._.stylesDefinitions)})}}}}),CKEDITOR.dom.comment=function(t,e){"string"==typeof t&&(t=(e?e.$:document).createComment(t)),CKEDITOR.dom.domObject.call(this,t)},CKEDITOR.dom.comment.prototype=new CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.comment.prototype,{type:CKEDITOR.NODE_COMMENT,getOuterHtml:function(){return"<!--"+this.$.nodeValue+"-->"}}),function(){var t,e={},i={};for(t in CKEDITOR.dtd.$blockLimit)t in CKEDITOR.dtd.$list||(e[t]=1);for(t in CKEDITOR.dtd.$block)t in CKEDITOR.dtd.$blockLimit||t in CKEDITOR.dtd.$empty||(i[t]=1);CKEDITOR.dom.elementPath=function(t,n){var a,o=null,r=null,s=[],l=t,n=n||t.getDocument().getBody();do if(l.type==CKEDITOR.NODE_ELEMENT){if(s.push(l),!this.lastElement&&(this.lastElement=l,l.is(CKEDITOR.dtd.$object)||"false"==l.getAttribute("contenteditable")))continue;if(l.equals(n))break;if(!r&&(a=l.getName(),"true"==l.getAttribute("contenteditable")?r=l:!o&&i[a]&&(o=l),e[a])){var h;if(h=!o){if(a="div"==a){t:{a=l.getChildren(),h=0;for(var c=a.count();c>h;h++){var u=a.getItem(h);if(u.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$block[u.getName()]){a=!0;break t}}a=!1}a=!a}h=a}h?o=l:r=l}}while(l=l.getParent());r||(r=n),this.block=o,this.blockLimit=r,this.root=n,this.elements=s}}(),CKEDITOR.dom.elementPath.prototype={compare:function(t){var e=this.elements,t=t&&t.elements;if(!t||e.length!=t.length)return!1;for(var i=0;i<e.length;i++)if(!e[i].equals(t[i]))return!1;return!0},contains:function(t,e,i){var n;"string"==typeof t&&(n=function(e){return e.getName()==t}),t instanceof CKEDITOR.dom.element?n=function(e){return e.equals(t)}:CKEDITOR.tools.isArray(t)?n=function(e){return CKEDITOR.tools.indexOf(t,e.getName())>-1}:"function"==typeof t?n=t:"object"==typeof t&&(n=function(e){return e.getName()in t});var a=this.elements,o=a.length;for(e&&o--,i&&(a=Array.prototype.slice.call(a,0),a.reverse()),e=0;o>e;e++)if(n(a[e]))return a[e];return null},isContextFor:function(t){var e;return t in CKEDITOR.dtd.$block?(e=this.contains(CKEDITOR.dtd.$intermediate)||this.root.equals(this.block)&&this.block||this.blockLimit,!!e.getDtd()[t]):!0},direction:function(){return(this.block||this.blockLimit||this.root).getDirection(1)}},CKEDITOR.dom.text=function(t,e){"string"==typeof t&&(t=(e?e.$:document).createTextNode(t)),this.$=t},CKEDITOR.dom.text.prototype=new CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.text.prototype,{type:CKEDITOR.NODE_TEXT,getLength:function(){return this.$.nodeValue.length},getText:function(){return this.$.nodeValue},setText:function(t){this.$.nodeValue=t},split:function(t){var e=this.$.parentNode,i=e.childNodes.length,n=this.getLength(),a=this.getDocument(),o=new CKEDITOR.dom.text(this.$.splitText(t),a);return e.childNodes.length==i&&(t>=n?(o=a.createText(""),o.insertAfter(this)):(t=a.createText(""),t.insertAfter(o),t.remove())),o},substring:function(t,e){return"number"!=typeof e?this.$.nodeValue.substr(t):this.$.nodeValue.substring(t,e)}}),function(){function t(t,e,i){var n=t.serializable,a=e[i?"endContainer":"startContainer"],o=i?"endOffset":"startOffset",r=n?e.document.getById(t.startNode):t.startNode,t=n?e.document.getById(t.endNode):t.endNode;return a.equals(r.getPrevious())?(e.startOffset=e.startOffset-a.getLength()-t.getPrevious().getLength(),a=t.getNext()):a.equals(t.getPrevious())&&(e.startOffset=e.startOffset-a.getLength(),a=t.getNext()),a.equals(r.getParent())&&e[o]++,a.equals(t.getParent())&&e[o]++,e[i?"endContainer":"startContainer"]=a,e}CKEDITOR.dom.rangeList=function(t){return t instanceof CKEDITOR.dom.rangeList?t:(t?t instanceof CKEDITOR.dom.range&&(t=[t]):t=[],CKEDITOR.tools.extend(t,e))};var e={createIterator:function(){var t,e=this,i=CKEDITOR.dom.walker.bookmark(),n=[];return{getNextRange:function(a){t=void 0===t?0:t+1;var o=e[t];if(o&&e.length>1){if(!t)for(var r=e.length-1;r>=0;r--)n.unshift(e[r].createBookmark(!0));if(a)for(var s=0;e[t+s+1];){for(var l=o.document,a=0,r=l.getById(n[s].endNode),l=l.getById(n[s+1].startNode);;){if(r=r.getNextSourceNode(!1),l.equals(r))a=1;else if(i(r)||r.type==CKEDITOR.NODE_ELEMENT&&r.isBlockBoundary())continue;break}if(!a)break;s++}for(o.moveToBookmark(n.shift());s--;)r=e[++t],r.moveToBookmark(n.shift()),o.setEnd(r.endContainer,r.endOffset)}return o}}},createBookmarks:function(e){for(var i,n=[],a=0;a<this.length;a++){n.push(i=this[a].createBookmark(e,!0));for(var o=a+1;o<this.length;o++)this[o]=t(i,this[o]),this[o]=t(i,this[o],!0)}return n},createBookmarks2:function(t){for(var e=[],i=0;i<this.length;i++)e.push(this[i].createBookmark2(t));return e},moveToBookmarks:function(t){for(var e=0;e<this.length;e++)this[e].moveToBookmark(t[e])}}}(),function(){function t(){return CKEDITOR.getUrl(CKEDITOR.skinName.split(",")[1]||"skins/"+CKEDITOR.skinName.split(",")[0]+"/")}function e(e){var i=CKEDITOR.skin["ua_"+e],n=CKEDITOR.env;if(i)for(var a,i=i.split(",").sort(function(t,e){return t>e?-1:1}),o=0;o<i.length;o++)if(a=i[o],n.ie&&(a.replace(/^ie/,"")==n.version||n.quirks&&"iequirks"==a)&&(a="ie"),n[a]){e+="_"+i[o];break}return CKEDITOR.getUrl(t()+e+".css")}function i(t,i){o[t]||(CKEDITOR.document.appendStyleSheet(e(t)),o[t]=1),i&&i()}function n(t){var e=t.getById(r);return e||(e=t.getHead().append("style"),e.setAttribute("id",r),e.setAttribute("type","text/css")),e}function a(t,e,i){var n,a,o;if(CKEDITOR.env.webkit)for(e=e.split("}").slice(0,-1),a=0;a<e.length;a++)e[a]=e[a].split("{");for(var r=0;r<t.length;r++)if(CKEDITOR.env.webkit)for(a=0;a<e.length;a++){for(o=e[a][1],n=0;n<i.length;n++)o=o.replace(i[n][0],i[n][1]);t[r].$.sheet.addRule(e[a][0],o)}else{for(o=e,n=0;n<i.length;n++)o=o.replace(i[n][0],i[n][1]);CKEDITOR.env.ie&&CKEDITOR.env.version<11?t[r].$.styleSheet.cssText=t[r].$.styleSheet.cssText+o:t[r].$.innerHTML=t[r].$.innerHTML+o}}var o={};CKEDITOR.skin={path:t,loadPart:function(e,n){CKEDITOR.skin.name!=CKEDITOR.skinName.split(",")[0]?CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(t()+"skin.js"),function(){i(e,n)}):i(e,n)},getPath:function(t){return CKEDITOR.getUrl(e(t))},icons:{},addIcon:function(t,e,i,n){t=t.toLowerCase(),this.icons[t]||(this.icons[t]={path:e,offset:i||0,bgsize:n||"16px"})},getIconStyle:function(t,e,i,n,a){var o;return t&&(t=t.toLowerCase(),e&&(o=this.icons[t+"-rtl"]),o||(o=this.icons[t])),t=i||o&&o.path||"",n=n||o&&o.offset,a=a||o&&o.bgsize||"16px",t&&"background-image:url("+CKEDITOR.getUrl(t)+");background-position:0 "+n+"px;background-size:"+a+";"}},CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{getUiColor:function(){return this.uiColor},setUiColor:function(t){var e=n(CKEDITOR.document);return(this.setUiColor=function(t){var i=CKEDITOR.skin.chameleon,n=[[l,t]];this.uiColor=t,a([e],i(this,"editor"),n),a(s,i(this,"panel"),n)}).call(this,t)}});var r="cke_ui_color",s=[],l=/\$color/g;CKEDITOR.on("instanceLoaded",function(t){if(!CKEDITOR.env.ie||!CKEDITOR.env.quirks){var e=t.editor,t=function(t){if(t=(t.data[0]||t.data).element.getElementsByTag("iframe").getItem(0).getFrameDocument(),!t.getById("cke_ui_color")){t=n(t),s.push(t);var i=e.getUiColor();i&&a([t],CKEDITOR.skin.chameleon(e,"panel"),[[l,i]])}};e.on("panelShow",t),e.on("menuShow",t),e.config.uiColor&&e.setUiColor(e.config.uiColor)}})}(),function(){if(CKEDITOR.env.webkit)CKEDITOR.env.hc=!1;else{var t=CKEDITOR.dom.element.createFromHtml('<div style="width:0;height:0;position:absolute;left:-10000px;border:1px solid;border-color:red blue"></div>',CKEDITOR.document);t.appendTo(CKEDITOR.document.getHead());try{var e=t.getComputedStyle("border-top-color"),i=t.getComputedStyle("border-right-color");CKEDITOR.env.hc=!(!e||e!=i)}catch(n){CKEDITOR.env.hc=!1}t.remove()}if(CKEDITOR.env.hc&&(CKEDITOR.env.cssClass=CKEDITOR.env.cssClass+" cke_hc"),CKEDITOR.document.appendStyleText(".cke{visibility:hidden;}"),CKEDITOR.status="loaded",CKEDITOR.fireOnce("loaded"),t=CKEDITOR._.pending)for(delete CKEDITOR._.pending,e=0;e<t.length;e++)CKEDITOR.editor.prototype.constructor.apply(t[e][0],t[e][1]),CKEDITOR.add(t[e][0])}(),CKEDITOR.skin.name="moono",CKEDITOR.skin.ua_editor="ie,iequirks,ie7,ie8,gecko",CKEDITOR.skin.ua_dialog="ie,iequirks,ie7,ie8",CKEDITOR.skin.chameleon=function(){var t=function(){return function(t,e){for(var i=t.match(/[^#]./g),n=0;3>n;n++){var a,o=i,r=n;a=parseInt(i[n],16),a=("0"+(0>e?0|a*(1+e):0|a+(255-a)*e).toString(16)).slice(-2),o[r]=a}return"#"+i.join("")}}(),e=function(){var t=new CKEDITOR.template("background:#{to};background-image:-webkit-gradient(linear,lefttop,leftbottom,from({from}),to({to}));background-image:-moz-linear-gradient(top,{from},{to});background-image:-webkit-linear-gradient(top,{from},{to});background-image:-o-linear-gradient(top,{from},{to});background-image:-ms-linear-gradient(top,{from},{to});background-image:linear-gradient(top,{from},{to});filter:progid:DXImageTransform.Microsoft.gradient(gradientType=0,startColorstr='{from}',endColorstr='{to}');");return function(e,i){return t.output({from:e,to:i})}}(),i={editor:new CKEDITOR.template("{id}.cke_chrome [border-color:{defaultBorder};] {id} .cke_top [ {defaultGradient}border-bottom-color:{defaultBorder};] {id} .cke_bottom [{defaultGradient}border-top-color:{defaultBorder};] {id} .cke_resizer [border-right-color:{ckeResizer}] {id} .cke_dialog_title [{defaultGradient}border-bottom-color:{defaultBorder};] {id} .cke_dialog_footer [{defaultGradient}outline-color:{defaultBorder};border-top-color:{defaultBorder};] {id} .cke_dialog_tab [{lightGradient}border-color:{defaultBorder};] {id} .cke_dialog_tab:hover [{mediumGradient}] {id} .cke_dialog_contents [border-top-color:{defaultBorder};] {id} .cke_dialog_tab_selected, {id} .cke_dialog_tab_selected:hover [background:{dialogTabSelected};border-bottom-color:{dialogTabSelectedBorder};] {id} .cke_dialog_body [background:{dialogBody};border-color:{defaultBorder};] {id} .cke_toolgroup [{lightGradient}border-color:{defaultBorder};] {id} a.cke_button_off:hover, {id} a.cke_button_off:focus, {id} a.cke_button_off:active [{mediumGradient}] {id} .cke_button_on [{ckeButtonOn}] {id} .cke_toolbar_separator [background-color: {ckeToolbarSeparator};] {id} .cke_combo_button [border-color:{defaultBorder};{lightGradient}] {id} a.cke_combo_button:hover, {id} a.cke_combo_button:focus, {id} .cke_combo_on a.cke_combo_button [border-color:{defaultBorder};{mediumGradient}] {id} .cke_path_item [color:{elementsPathColor};] {id} a.cke_path_item:hover, {id} a.cke_path_item:focus, {id} a.cke_path_item:active [background-color:{elementsPathBg};] {id}.cke_panel [border-color:{defaultBorder};] "),panel:new CKEDITOR.template(".cke_panel_grouptitle [{lightGradient}border-color:{defaultBorder};] .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menubutton:hover .cke_menubutton_icon, .cke_menubutton:focus .cke_menubutton_icon, .cke_menubutton:active .cke_menubutton_icon [background-color:{menubuttonIconHover};] .cke_menuseparator [background-color:{menubuttonIcon};] a:hover.cke_colorbox, a:focus.cke_colorbox, a:active.cke_colorbox [border-color:{defaultBorder};] a:hover.cke_colorauto, a:hover.cke_colormore, a:focus.cke_colorauto, a:focus.cke_colormore, a:active.cke_colorauto, a:active.cke_colormore [background-color:{ckeColorauto};border-color:{defaultBorder};] ")};return function(n,a){var o=n.uiColor,o={id:"."+n.id,defaultBorder:t(o,-.1),defaultGradient:e(t(o,.9),o),lightGradient:e(t(o,1),t(o,.7)),mediumGradient:e(t(o,.8),t(o,.5)),ckeButtonOn:e(t(o,.6),t(o,.7)),ckeResizer:t(o,-.4),ckeToolbarSeparator:t(o,.5),ckeColorauto:t(o,.8),dialogBody:t(o,.7),dialogTabSelected:e("#FFFFFF","#FFFFFF"),dialogTabSelectedBorder:"#FFF",elementsPathColor:t(o,-.6),elementsPathBg:o,menubuttonIcon:t(o,.5),menubuttonIconHover:t(o,.3)};return i[a].output(o).replace(/\[/g,"{").replace(/\]/g,"}")}}(),CKEDITOR.plugins.add("dialogui",{onLoad:function(){var t=function(t){this._||(this._={}),this._["default"]=this._.initValue=t["default"]||"",this._.required=t.required||!1;for(var e=[this._],i=1;i<arguments.length;i++)e.push(arguments[i]);return e.push(!0),CKEDITOR.tools.extend.apply(CKEDITOR.tools,e),this._},e={build:function(t,e,i){return new CKEDITOR.ui.dialog.textInput(t,e,i)}},i={build:function(t,e,i){return new CKEDITOR.ui.dialog[e.type](t,e,i)}},n={isChanged:function(){return this.getValue()!=this.getInitValue()},reset:function(t){this.setValue(this.getInitValue(),t)},setInitValue:function(){this._.initValue=this.getValue()},resetInitValue:function(){this._.initValue=this._["default"]},getInitValue:function(){return this._.initValue}},a=CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onChange:function(t,e){this._.domOnChangeRegistered||(t.on("load",function(){this.getInputElement().on("change",function(){t.parts.dialog.isVisible()&&this.fire("change",{value:this.getValue()})},this)},this),this._.domOnChangeRegistered=!0),this.on("change",e)}},!0),o=/^on([A-Z]\w+)/,r=function(t){for(var e in t)(o.test(e)||"title"==e||"type"==e)&&delete t[e];return t};CKEDITOR.tools.extend(CKEDITOR.ui.dialog,{labeledElement:function(e,i,n,a){if(!(4>arguments.length)){var o=t.call(this,i);o.labelId=CKEDITOR.tools.getNextId()+"_label",this._.children=[];var r={role:i.role||"presentation"};i.includeLabel&&(r["aria-labelledby"]=o.labelId),CKEDITOR.ui.dialog.uiElement.call(this,e,i,n,"div",null,r,function(){var t=[],n=i.required?" cke_required":"";return"horizontal"!=i.labelLayout?t.push('<label class="cke_dialog_ui_labeled_label'+n+'" ',' id="'+o.labelId+'"',o.inputId?' for="'+o.inputId+'"':"",(i.labelStyle?' style="'+i.labelStyle+'"':"")+">",i.label,"</label>",'<div class="cke_dialog_ui_labeled_content"',i.controlStyle?' style="'+i.controlStyle+'"':"",' role="presentation">',a.call(this,e,i),"</div>"):(n={type:"hbox",widths:i.widths,padding:0,children:[{type:"html",html:'<label class="cke_dialog_ui_labeled_label'+n+'" id="'+o.labelId+'" for="'+o.inputId+'"'+(i.labelStyle?' style="'+i.labelStyle+'"':"")+">"+CKEDITOR.tools.htmlEncode(i.label)+"</span>"},{type:"html",html:'<span class="cke_dialog_ui_labeled_content"'+(i.controlStyle?' style="'+i.controlStyle+'"':"")+">"+a.call(this,e,i)+"</span>"}]},CKEDITOR.dialog._.uiElementBuilders.hbox.build(e,n,t)),t.join("")})}},textInput:function(e,i,n){if(!(3>arguments.length)){t.call(this,i);var a=this._.inputId=CKEDITOR.tools.getNextId()+"_textInput",o={"class":"cke_dialog_ui_input_"+i.type,id:a,type:i.type};i.validate&&(this.validate=i.validate),i.maxLength&&(o.maxlength=i.maxLength),i.size&&(o.size=i.size),i.inputStyle&&(o.style=i.inputStyle);var r=this,s=!1;e.on("load",function(){r.getInputElement().on("keydown",function(t){13==t.data.getKeystroke()&&(s=!0)}),r.getInputElement().on("keyup",function(t){13==t.data.getKeystroke()&&s&&(e.getButton("ok")&&setTimeout(function(){e.getButton("ok").click()},0),s=!1)},null,null,1e3)}),CKEDITOR.ui.dialog.labeledElement.call(this,e,i,n,function(){var t=['<div class="cke_dialog_ui_input_',i.type,'" role="presentation"'];i.width&&t.push('style="width:'+i.width+'" '),t.push("><input "),o["aria-labelledby"]=this._.labelId,this._.required&&(o["aria-required"]=this._.required);for(var e in o)t.push(e+'="'+o[e]+'" ');return t.push(" /></div>"),t.join("")})}},textarea:function(e,i,n){if(!(3>arguments.length)){t.call(this,i);var a=this,o=this._.inputId=CKEDITOR.tools.getNextId()+"_textarea",r={};i.validate&&(this.validate=i.validate),r.rows=i.rows||5,r.cols=i.cols||20,r["class"]="cke_dialog_ui_input_textarea "+(i["class"]||""),"undefined"!=typeof i.inputStyle&&(r.style=i.inputStyle),i.dir&&(r.dir=i.dir),CKEDITOR.ui.dialog.labeledElement.call(this,e,i,n,function(){r["aria-labelledby"]=this._.labelId,this._.required&&(r["aria-required"]=this._.required);var t,e=['<div class="cke_dialog_ui_input_textarea" role="presentation"><textarea id="',o,'" '];for(t in r)e.push(t+'="'+CKEDITOR.tools.htmlEncode(r[t])+'" ');return e.push(">",CKEDITOR.tools.htmlEncode(a._["default"]),"</textarea></div>"),e.join("")})}},checkbox:function(e,i,n){if(!(3>arguments.length)){var a=t.call(this,i,{"default":!!i["default"]});i.validate&&(this.validate=i.validate),CKEDITOR.ui.dialog.uiElement.call(this,e,i,n,"span",null,null,function(){var t=CKEDITOR.tools.extend({},i,{id:i.id?i.id+"_checkbox":CKEDITOR.tools.getNextId()+"_checkbox"},!0),n=[],o=CKEDITOR.tools.getNextId()+"_label",s={"class":"cke_dialog_ui_checkbox_input",type:"checkbox","aria-labelledby":o};return r(t),i["default"]&&(s.checked="checked"),"undefined"!=typeof t.inputStyle&&(t.style=t.inputStyle),a.checkbox=new CKEDITOR.ui.dialog.uiElement(e,t,n,"input",null,s),n.push(' <label id="',o,'" for="',s.id,'"'+(i.labelStyle?' style="'+i.labelStyle+'"':"")+">",CKEDITOR.tools.htmlEncode(i.label),"</label>"),n.join("")})}},radio:function(e,i,n){if(!(3>arguments.length)){t.call(this,i),this._["default"]||(this._["default"]=this._.initValue=i.items[0][1]),i.validate&&(this.validate=i.valdiate);var a=[],o=this;i.role="radiogroup",i.includeLabel=!0,CKEDITOR.ui.dialog.labeledElement.call(this,e,i,n,function(){for(var t=[],n=[],s=(i.id?i.id:CKEDITOR.tools.getNextId())+"_radio",l=0;l<i.items.length;l++){var h=i.items[l],c=void 0!==h[2]?h[2]:h[0],u=void 0!==h[1]?h[1]:h[0],d=CKEDITOR.tools.getNextId()+"_radio_input",f=d+"_label",d=CKEDITOR.tools.extend({},i,{id:d,title:null,type:null},!0),c=CKEDITOR.tools.extend({},d,{title:c},!0),m={type:"radio","class":"cke_dialog_ui_radio_input",name:s,value:u,"aria-labelledby":f},p=[];o._["default"]==u&&(m.checked="checked"),r(d),r(c),"undefined"!=typeof d.inputStyle&&(d.style=d.inputStyle),d.keyboardFocusable=!0,a.push(new CKEDITOR.ui.dialog.uiElement(e,d,p,"input",null,m)),p.push(" "),new CKEDITOR.ui.dialog.uiElement(e,c,p,"label",null,{id:f,"for":m.id},h[0]),t.push(p.join(""))}return new CKEDITOR.ui.dialog.hbox(e,a,t,n),n.join("")}),this._.children=a}},button:function(e,i,n){if(arguments.length){"function"==typeof i&&(i=i(e.getParentEditor())),t.call(this,i,{disabled:i.disabled||!1}),CKEDITOR.event.implementOn(this);var a=this;e.on("load",function(){var t=this.getElement();!function(){t.on("click",function(t){a.click(),t.data.preventDefault()}),t.on("keydown",function(t){t.data.getKeystroke()in{32:1}&&(a.click(),t.data.preventDefault())})}(),t.unselectable()},this);var o=CKEDITOR.tools.extend({},i);delete o.style;var r=CKEDITOR.tools.getNextId()+"_label";CKEDITOR.ui.dialog.uiElement.call(this,e,o,n,"a",null,{style:i.style,href:"javascript:void(0)",title:i.label,hidefocus:"true","class":i["class"],role:"button","aria-labelledby":r},'<span id="'+r+'" class="cke_dialog_ui_button">'+CKEDITOR.tools.htmlEncode(i.label)+"</span>")}},select:function(e,i,n){if(!(3>arguments.length)){var a=t.call(this,i);i.validate&&(this.validate=i.validate),a.inputId=CKEDITOR.tools.getNextId()+"_select",CKEDITOR.ui.dialog.labeledElement.call(this,e,i,n,function(){var t=CKEDITOR.tools.extend({},i,{id:i.id?i.id+"_select":CKEDITOR.tools.getNextId()+"_select"},!0),n=[],o=[],s={id:a.inputId,"class":"cke_dialog_ui_input_select","aria-labelledby":this._.labelId};n.push('<div class="cke_dialog_ui_input_',i.type,'" role="presentation"'),i.width&&n.push('style="width:'+i.width+'" '),n.push(">"),void 0!=i.size&&(s.size=i.size),void 0!=i.multiple&&(s.multiple=i.multiple),r(t);for(var l,h=0;h<i.items.length&&(l=i.items[h]);h++)o.push('<option value="',CKEDITOR.tools.htmlEncode(void 0!==l[1]?l[1]:l[0]).replace(/"/g,"&quot;"),'" /> ',CKEDITOR.tools.htmlEncode(l[0]));return"undefined"!=typeof t.inputStyle&&(t.style=t.inputStyle),a.select=new CKEDITOR.ui.dialog.uiElement(e,t,n,"select",null,s,o.join("")),n.push("</div>"),n.join("")})}},file:function(e,i,n){if(!(3>arguments.length)){void 0===i["default"]&&(i["default"]="");var a=CKEDITOR.tools.extend(t.call(this,i),{definition:i,buttons:[]});i.validate&&(this.validate=i.validate),e.on("load",function(){CKEDITOR.document.getById(a.frameId).getParent().addClass("cke_dialog_ui_input_file")}),CKEDITOR.ui.dialog.labeledElement.call(this,e,i,n,function(){a.frameId=CKEDITOR.tools.getNextId()+"_fileInput";var t=['<iframe frameborder="0" allowtransparency="0" class="cke_dialog_ui_input_file" role="presentation" id="',a.frameId,'" title="',i.label,'" src="javascript:void('];return t.push(CKEDITOR.env.ie?"(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"})()":"0"),t.push(')"></iframe>'),t.join("")})}},fileButton:function(e,i,n){if(!(3>arguments.length)){t.call(this,i);var a=this;i.validate&&(this.validate=i.validate);var o=CKEDITOR.tools.extend({},i),r=o.onClick;o.className=(o.className?o.className+" ":"")+"cke_dialog_ui_button",o.onClick=function(t){var n=i["for"];r&&r.call(this,t)===!1||(e.getContentElement(n[0],n[1]).submit(),this.disable())},e.on("load",function(){e.getContentElement(i["for"][0],i["for"][1])._.buttons.push(a)}),CKEDITOR.ui.dialog.button.call(this,e,o,n)}},html:function(){var t=/^\s*<[\w:]+\s+([^>]*)?>/,e=/^(\s*<[\w:]+(?:\s+[^>]*)?)((?:.|\r|\n)+)$/,i=/\/$/;return function(n,a,o){if(!(3>arguments.length)){var r=[],s=a.html;"<"!=s.charAt(0)&&(s="<span>"+s+"</span>");var l=a.focus;if(l){var h=this.focus;this.focus=function(){("function"==typeof l?l:h).call(this),this.fire("focus")},a.isFocusable&&(this.isFocusable=this.isFocusable),this.keyboardFocusable=!0}CKEDITOR.ui.dialog.uiElement.call(this,n,a,r,"span",null,null,""),r=r.join("").match(t),s=s.match(e)||["","",""],i.test(s[1])&&(s[1]=s[1].slice(0,-1),s[2]="/"+s[2]),o.push([s[1]," ",r[1]||"",s[2]].join(""))}}}(),fieldset:function(t,e,i,n,a){var o=a.label;this._={children:e},CKEDITOR.ui.dialog.uiElement.call(this,t,a,n,"fieldset",null,null,function(){var t=[];o&&t.push("<legend"+(a.labelStyle?' style="'+a.labelStyle+'"':"")+">"+o+"</legend>");for(var e=0;e<i.length;e++)t.push(i[e]);return t.join("")})}},!0),CKEDITOR.ui.dialog.html.prototype=new CKEDITOR.ui.dialog.uiElement,CKEDITOR.ui.dialog.labeledElement.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setLabel:function(t){var e=CKEDITOR.document.getById(this._.labelId);return 1>e.getChildCount()?new CKEDITOR.dom.text(t,CKEDITOR.document).appendTo(e):e.getChild(0).$.nodeValue=t,this},getLabel:function(){var t=CKEDITOR.document.getById(this._.labelId);return!t||1>t.getChildCount()?"":t.getChild(0).getText()},eventProcessors:a},!0),CKEDITOR.ui.dialog.button.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{click:function(){return this._.disabled?!1:this.fire("click",{dialog:this._.dialog})},enable:function(){this._.disabled=!1;var t=this.getElement();t&&t.removeClass("cke_disabled")},disable:function(){this._.disabled=!0,this.getElement().addClass("cke_disabled")},isVisible:function(){return this.getElement().getFirst().isVisible()},isEnabled:function(){return!this._.disabled},eventProcessors:CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onClick:function(t,e){this.on("click",function(){e.apply(this,arguments)})}},!0),accessKeyUp:function(){this.click()},accessKeyDown:function(){this.focus()},keyboardFocusable:!0},!0),CKEDITOR.ui.dialog.textInput.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return CKEDITOR.document.getById(this._.inputId)},focus:function(){var t=this.selectParentTab();setTimeout(function(){var e=t.getInputElement();e&&e.$.focus()},0)},select:function(){var t=this.selectParentTab();setTimeout(function(){var e=t.getInputElement();e&&(e.$.focus(),e.$.select())},0)},accessKeyUp:function(){this.select()},setValue:function(t){return!t&&(t=""),CKEDITOR.ui.dialog.uiElement.prototype.setValue.apply(this,arguments)},keyboardFocusable:!0},n,!0),CKEDITOR.ui.dialog.textarea.prototype=new CKEDITOR.ui.dialog.textInput,CKEDITOR.ui.dialog.select.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return this._.select.getElement()},add:function(t,e,i){var n=new CKEDITOR.dom.element("option",this.getDialog().getParentEditor().document),a=this.getInputElement().$;return n.$.text=t,n.$.value=void 0===e||null===e?t:e,void 0===i||null===i?CKEDITOR.env.ie?a.add(n.$):a.add(n.$,null):a.add(n.$,i),this},remove:function(t){return this.getInputElement().$.remove(t),this},clear:function(){for(var t=this.getInputElement().$;0<t.length;)t.remove(0);return this},keyboardFocusable:!0},n,!0),CKEDITOR.ui.dialog.checkbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getInputElement:function(){return this._.checkbox.getElement()},setValue:function(t,e){this.getInputElement().$.checked=t,!e&&this.fire("change",{value:t})},getValue:function(){return this.getInputElement().$.checked},accessKeyUp:function(){this.setValue(!this.getValue())},eventProcessors:{onChange:function(t,e){return!CKEDITOR.env.ie||8<CKEDITOR.env.version?a.onChange.apply(this,arguments):(t.on("load",function(){var t=this._.checkbox.getElement();t.on("propertychange",function(e){e=e.data.$,"checked"==e.propertyName&&this.fire("change",{value:t.$.checked})},this)},this),this.on("change",e),null)}},keyboardFocusable:!0},n,!0),CKEDITOR.ui.dialog.radio.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setValue:function(t,e){for(var i,n=this._.children,a=0;a<n.length&&(i=n[a]);a++)i.getElement().$.checked=i.getValue()==t;!e&&this.fire("change",{value:t})},getValue:function(){for(var t=this._.children,e=0;e<t.length;e++)if(t[e].getElement().$.checked)return t[e].getValue();return null},accessKeyUp:function(){var t,e=this._.children;for(t=0;t<e.length;t++)if(e[t].getElement().$.checked)return void e[t].getElement().focus();e[0].getElement().focus()},eventProcessors:{onChange:function(t,e){return CKEDITOR.env.ie?(t.on("load",function(){for(var t=this._.children,e=this,i=0;i<t.length;i++)t[i].getElement().on("propertychange",function(t){t=t.data.$,"checked"==t.propertyName&&this.$.checked&&e.fire("change",{value:this.getAttribute("value")})})},this),this.on("change",e),null):a.onChange.apply(this,arguments)}}},n,!0),CKEDITOR.ui.dialog.file.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,n,{getInputElement:function(){var t=CKEDITOR.document.getById(this._.frameId).getFrameDocument();return 0<t.$.forms.length?new CKEDITOR.dom.element(t.$.forms[0].elements[0]):this.getElement()},submit:function(){return this.getInputElement().getParent().$.submit(),this},getAction:function(){return this.getInputElement().getParent().$.action},registerEvents:function(t){var e,i,n=/^on([A-Z]\w+)/,a=function(t,e,i,n){t.on("formLoaded",function(){t.getInputElement().on(i,n,t)})};for(i in t)(e=i.match(n))&&(this.eventProcessors[i]?this.eventProcessors[i].call(this,this._.dialog,t[i]):a(this,this._.dialog,e[1].toLowerCase(),t[i]));return this},reset:function(){function t(){i.$.open();var t="";n.size&&(t=n.size-(CKEDITOR.env.ie?7:0));var h=e.frameId+"_input";for(i.$.write(['<html dir="'+s+'" lang="'+l+'"><head><title></title></head><body style="margin: 0; overflow: hidden; background: transparent;">','<form enctype="multipart/form-data" method="POST" dir="'+s+'" lang="'+l+'" action="',CKEDITOR.tools.htmlEncode(n.action),'"><label id="',e.labelId,'" for="',h,'" style="display:none">',CKEDITOR.tools.htmlEncode(n.label),'</label><input style="width:100%" id="',h,'" aria-labelledby="',e.labelId,'" type="file" name="',CKEDITOR.tools.htmlEncode(n.id||"cke_upload"),'" size="',CKEDITOR.tools.htmlEncode(t>0?t:""),'" /></form></body></html><script>',CKEDITOR.env.ie?"("+CKEDITOR.tools.fixDomain+")();":"","window.parent.CKEDITOR.tools.callFunction("+o+");","window.onbeforeunload = function() {window.parent.CKEDITOR.tools.callFunction("+r+")}","</script>"].join("")),i.$.close(),t=0;t<a.length;t++)a[t].enable()}var e=this._,i=CKEDITOR.document.getById(e.frameId).getFrameDocument(),n=e.definition,a=e.buttons,o=this.formLoadedNumber,r=this.formUnloadNumber,s=e.dialog._.editor.lang.dir,l=e.dialog._.editor.langCode;o||(o=this.formLoadedNumber=CKEDITOR.tools.addFunction(function(){this.fire("formLoaded")},this),r=this.formUnloadNumber=CKEDITOR.tools.addFunction(function(){this.getInputElement().clearCustomData()},this),this.getDialog()._.editor.on("destroy",function(){CKEDITOR.tools.removeFunction(o),CKEDITOR.tools.removeFunction(r)})),CKEDITOR.env.gecko?setTimeout(t,500):t()},getValue:function(){return this.getInputElement().$.value||""},setInitValue:function(){this._.initValue=""},eventProcessors:{onChange:function(t,e){this._.domOnChangeRegistered||(this.on("formLoaded",function(){this.getInputElement().on("change",function(){this.fire("change",{value:this.getValue()})},this)},this),this._.domOnChangeRegistered=!0),this.on("change",e)}},keyboardFocusable:!0},!0),CKEDITOR.ui.dialog.fileButton.prototype=new CKEDITOR.ui.dialog.button,CKEDITOR.ui.dialog.fieldset.prototype=CKEDITOR.tools.clone(CKEDITOR.ui.dialog.hbox.prototype),CKEDITOR.dialog.addUIElement("text",e),CKEDITOR.dialog.addUIElement("password",e),CKEDITOR.dialog.addUIElement("textarea",i),CKEDITOR.dialog.addUIElement("checkbox",i),CKEDITOR.dialog.addUIElement("radio",i),CKEDITOR.dialog.addUIElement("button",i),CKEDITOR.dialog.addUIElement("select",i),CKEDITOR.dialog.addUIElement("file",i),CKEDITOR.dialog.addUIElement("fileButton",i),CKEDITOR.dialog.addUIElement("html",i),CKEDITOR.dialog.addUIElement("fieldset",{build:function(t,e,i){for(var n,a=e.children,o=[],r=[],s=0;s<a.length&&(n=a[s]);s++){var l=[];o.push(l),r.push(CKEDITOR.dialog._.uiElementBuilders[n.type].build(t,n,l))}return new CKEDITOR.ui.dialog[e.type](t,r,o,i,e)}})}}),CKEDITOR.DIALOG_RESIZE_NONE=0,CKEDITOR.DIALOG_RESIZE_WIDTH=1,CKEDITOR.DIALOG_RESIZE_HEIGHT=2,CKEDITOR.DIALOG_RESIZE_BOTH=3,function(){function t(){for(var t=this._.tabIdList.length,e=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId)+t,i=e-1;i>e-t;i--)if(this._.tabs[this._.tabIdList[i%t]][0].$.offsetHeight)return this._.tabIdList[i%t];return null}function e(){for(var t=this._.tabIdList.length,e=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId),i=e+1;e+t>i;i++)if(this._.tabs[this._.tabIdList[i%t]][0].$.offsetHeight)return this._.tabIdList[i%t];return null}function i(t,e){for(var i=t.$.getElementsByTagName("input"),n=0,a=i.length;a>n;n++){var o=new CKEDITOR.dom.element(i[n]);"text"==o.getAttribute("type").toLowerCase()&&(e?(o.setAttribute("value",o.getCustomData("fake_value")||""),o.removeCustomData("fake_value")):(o.setCustomData("fake_value",o.getAttribute("value")),o.setAttribute("value","")))}}function n(t,e){var i=this.getInputElement();i&&(t?i.removeAttribute("aria-invalid"):i.setAttribute("aria-invalid",!0)),t||(this.select?this.select():this.focus()),e&&alert(e),this.fire("validated",{valid:t,msg:e})}function a(){var t=this.getInputElement();t&&t.removeAttribute("aria-invalid")}function o(t){var t=CKEDITOR.dom.element.createFromHtml(CKEDITOR.addTemplate("dialog",p).output({id:CKEDITOR.tools.getNextNumber(),editorId:t.id,langDir:t.lang.dir,langCode:t.langCode,editorDialogClass:"cke_editor_"+t.name.replace(/\./g,"\\.")+"_dialog",closeTitle:t.lang.common.close,hidpi:CKEDITOR.env.hidpi?"cke_hidpi":""})),e=t.getChild([0,0,0,0,0]),i=e.getChild(0),n=e.getChild(1);
if(CKEDITOR.env.ie&&!CKEDITOR.env.quirks){var a="javascript:void(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"}())";CKEDITOR.dom.element.createFromHtml('<iframe frameBorder="0" class="cke_iframe_shim" src="'+a+'" tabIndex="-1"></iframe>').appendTo(e.getParent())}return i.unselectable(),n.unselectable(),{element:t,parts:{dialog:t.getChild(0),title:i,close:n,tabs:e.getChild(2),contents:e.getChild([3,0,0,0]),footer:e.getChild([3,0,1,0])}}}function r(t,e,i){this.element=e,this.focusIndex=i,this.tabIndex=0,this.isFocusable=function(){return!e.getAttribute("disabled")&&e.isVisible()},this.focus=function(){t._.currentFocusIndex=this.focusIndex,this.element.focus()},e.on("keydown",function(t){t.data.getKeystroke()in{32:1,13:1}&&this.fire("click")}),e.on("focus",function(){this.fire("mouseover")}),e.on("blur",function(){this.fire("mouseout")})}function s(t){function e(){t.layout()}var i=CKEDITOR.document.getWindow();i.on("resize",e),t.on("hide",function(){i.removeListener("resize",e)})}function l(t,e){this._={dialog:t},CKEDITOR.tools.extend(this,e)}function h(t){function e(e){var i=t.getSize(),l=CKEDITOR.document.getWindow().getViewPaneSize(),h=e.data.$.screenX,c=e.data.$.screenY,u=h-n.x,d=c-n.y;n={x:h,y:c},a.x+=u,a.y+=d,t.move(a.x+s[3]<r?-s[3]:a.x-s[1]>l.width-i.width-r?l.width-i.width+("rtl"==o.lang.dir?0:s[1]):a.x,a.y+s[0]<r?-s[0]:a.y-s[2]>l.height-i.height-r?l.height-i.height+s[2]:a.y,1),e.data.preventDefault()}function i(){if(CKEDITOR.document.removeListener("mousemove",e),CKEDITOR.document.removeListener("mouseup",i),CKEDITOR.env.ie6Compat){var t=y.getChild(0).getFrameDocument();t.removeListener("mousemove",e),t.removeListener("mouseup",i)}}var n=null,a=null;t.getElement().getFirst();var o=t.getParentEditor(),r=o.config.dialog_magnetDistance,s=CKEDITOR.skin.margins||[0,0,0,0];"undefined"==typeof r&&(r=20),t.parts.title.on("mousedown",function(o){if(n={x:o.data.$.screenX,y:o.data.$.screenY},CKEDITOR.document.on("mousemove",e),CKEDITOR.document.on("mouseup",i),a=t.getPosition(),CKEDITOR.env.ie6Compat){var r=y.getChild(0).getFrameDocument();r.on("mousemove",e),r.on("mouseup",i)}o.data.preventDefault()},t)}function c(t){function e(e){var i="rtl"==d.lang.dir,u=c.width,f=c.height,m=u+(e.data.$.screenX-n)*(i?-1:1)*(t._.moved?1:2),p=f+(e.data.$.screenY-a)*(t._.moved?1:2),g=t._.element.getFirst(),g=i&&g.getComputedStyle("right"),v=t.getPosition();v.y+p>h.height&&(p=h.height-v.y),(i?g:v.x)+m>h.width&&(m=h.width-(i?g:v.x)),(r==CKEDITOR.DIALOG_RESIZE_WIDTH||r==CKEDITOR.DIALOG_RESIZE_BOTH)&&(u=Math.max(o.minWidth||0,m-s)),(r==CKEDITOR.DIALOG_RESIZE_HEIGHT||r==CKEDITOR.DIALOG_RESIZE_BOTH)&&(f=Math.max(o.minHeight||0,p-l)),t.resize(u,f),t._.moved||t.layout(),e.data.preventDefault()}function i(){if(CKEDITOR.document.removeListener("mouseup",i),CKEDITOR.document.removeListener("mousemove",e),u&&(u.remove(),u=null),CKEDITOR.env.ie6Compat){var t=y.getChild(0).getFrameDocument();t.removeListener("mouseup",i),t.removeListener("mousemove",e)}}var n,a,o=t.definition,r=o.resizable;if(r!=CKEDITOR.DIALOG_RESIZE_NONE){var s,l,h,c,u,d=t.getParentEditor(),f=CKEDITOR.tools.addFunction(function(o){c=t.getSize();var r=t.parts.contents;r.$.getElementsByTagName("iframe").length&&(u=CKEDITOR.dom.element.createFromHtml('<div class="cke_dialog_resize_cover" style="height: 100%; position: absolute; width: 100%;"></div>'),r.append(u)),l=c.height-t.parts.contents.getSize("height",!(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.quirks)),s=c.width-t.parts.contents.getSize("width",1),n=o.screenX,a=o.screenY,h=CKEDITOR.document.getWindow().getViewPaneSize(),CKEDITOR.document.on("mousemove",e),CKEDITOR.document.on("mouseup",i),CKEDITOR.env.ie6Compat&&(r=y.getChild(0).getFrameDocument(),r.on("mousemove",e),r.on("mouseup",i)),o.preventDefault&&o.preventDefault()});t.on("load",function(){var e="";r==CKEDITOR.DIALOG_RESIZE_WIDTH?e=" cke_resizer_horizontal":r==CKEDITOR.DIALOG_RESIZE_HEIGHT&&(e=" cke_resizer_vertical"),e=CKEDITOR.dom.element.createFromHtml('<div class="cke_resizer'+e+" cke_resizer_"+d.lang.dir+'" title="'+CKEDITOR.tools.htmlEncode(d.lang.common.resize)+'" onmousedown="CKEDITOR.tools.callFunction('+f+', event )">'+("ltr"==d.lang.dir?"\u25e2":"\u25e3")+"</div>"),t.parts.footer.append(e,1)}),d.on("destroy",function(){CKEDITOR.tools.removeFunction(f)})}}function u(t){t.data.preventDefault(1)}function d(t){var e=CKEDITOR.document.getWindow(),i=t.config,n=i.dialog_backgroundCoverColor||"white",a=i.dialog_backgroundCoverOpacity,o=i.baseFloatZIndex,i=CKEDITOR.tools.genKey(n,a,o),r=D[i];r?r.show():(o=['<div tabIndex="-1" style="position: ',CKEDITOR.env.ie6Compat?"absolute":"fixed","; z-index: ",o,"; top: 0px; left: 0px; ",CKEDITOR.env.ie6Compat?"":"background-color: "+n,'" class="cke_dialog_background_cover">'],CKEDITOR.env.ie6Compat&&(n="<html><body style=\\'background-color:"+n+";\\'></body></html>",o.push('<iframe hidefocus="true" frameborder="0" id="cke_dialog_background_iframe" src="javascript:'),o.push("void((function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.write( '"+n+"' );document.close();")+"})())"),o.push('" style="position:absolute;left:0;top:0;width:100%;height: 100%;filter: progid:DXImageTransform.Microsoft.Alpha(opacity=0)"></iframe>')),o.push("</div>"),r=CKEDITOR.dom.element.createFromHtml(o.join("")),r.setOpacity(void 0!=a?a:.5),r.on("keydown",u),r.on("keypress",u),r.on("keyup",u),r.appendTo(CKEDITOR.document.getBody()),D[i]=r),t.focusManager.add(r),y=r;var t=function(){var t=e.getViewPaneSize();r.setStyles({width:t.width+"px",height:t.height+"px"})},s=function(){var t=e.getScrollPosition(),i=CKEDITOR.dialog._.currentTop;if(r.setStyles({left:t.x+"px",top:t.y+"px"}),i)do t=i.getPosition(),i.move(t.x,t.y);while(i=i._.parentDialog)};if(T=t,e.on("resize",t),t(),(!CKEDITOR.env.mac||!CKEDITOR.env.webkit)&&r.focus(),CKEDITOR.env.ie6Compat){var l=function(){s(),arguments.callee.prevScrollHandler.apply(this,arguments)};e.$.setTimeout(function(){l.prevScrollHandler=window.onscroll||function(){},window.onscroll=l},0),s()}}function f(t){y&&(t.focusManager.remove(y),t=CKEDITOR.document.getWindow(),y.hide(),t.removeListener("resize",T),CKEDITOR.env.ie6Compat&&t.$.setTimeout(function(){window.onscroll=window.onscroll&&window.onscroll.prevScrollHandler||null},0),T=null)}var m=CKEDITOR.tools.cssLength,p='<div class="cke_reset_all {editorId} {editorDialogClass} {hidpi}" dir="{langDir}" lang="{langCode}" role="dialog" aria-labelledby="cke_dialog_title_{id}"><table class="cke_dialog '+CKEDITOR.env.cssClass+' cke_{langDir}" style="position:absolute" role="presentation"><tr><td role="presentation"><div class="cke_dialog_body" role="presentation"><div id="cke_dialog_title_{id}" class="cke_dialog_title" role="presentation"></div><a id="cke_dialog_close_button_{id}" class="cke_dialog_close_button" href="javascript:void(0)" title="{closeTitle}" role="button"><span class="cke_label">X</span></a><div id="cke_dialog_tabs_{id}" class="cke_dialog_tabs" role="tablist"></div><table class="cke_dialog_contents" role="presentation"><tr><td id="cke_dialog_contents_{id}" class="cke_dialog_contents_body" role="presentation"></td></tr><tr><td id="cke_dialog_footer_{id}" class="cke_dialog_footer" role="presentation"></td></tr></table></div></td></tr></table></div>';CKEDITOR.dialog=function(i,r){function s(){var t=D._.focusList;t.sort(function(t,e){return t.tabIndex!=e.tabIndex?e.tabIndex-t.tabIndex:t.focusIndex-e.focusIndex});for(var e=t.length,i=0;e>i;i++)t[i].focusIndex=i}function l(t){var e=D._.focusList,t=t||0;if(!(1>e.length)){var i=D._.currentFocusIndex;try{e[i].getInputElement().$.blur()}catch(n){}for(var a=i=(i+t+e.length)%e.length;t&&!e[a].isFocusable()&&(a=(a+t+e.length)%e.length,!(a==i)););e[a].focus(),"text"==e[a].type&&e[a].select()}}function u(n){if(D==CKEDITOR.dialog._.currentTop){var a=n.data.getKeystroke(),o="rtl"==i.lang.dir;if(f=m=0,9==a||a==CKEDITOR.SHIFT+9)a=a==CKEDITOR.SHIFT+9,D._.tabBarMode?(a=a?t.call(D):e.call(D),D.selectPage(a),D._.tabs[a][0].focus()):l(a?-1:1),f=1;else if(a==CKEDITOR.ALT+121&&!D._.tabBarMode&&1<D.getPageCount())D._.tabBarMode=!0,D._.tabs[D._.currentTabId][0].focus(),f=1;else if(37!=a&&39!=a||!D._.tabBarMode)if(13!=a&&32!=a||!D._.tabBarMode)if(13==a)a=n.data.getTarget(),a.is("a","button","select","textarea")||a.is("input")&&"button"==a.$.type||((a=this.getButton("ok"))&&CKEDITOR.tools.setTimeout(a.click,0,a),f=1),m=1;else{if(27!=a)return;(a=this.getButton("cancel"))?CKEDITOR.tools.setTimeout(a.click,0,a):!1!==this.fire("cancel",{hide:!0}).hide&&this.hide(),m=1}else this.selectPage(this._.currentTabId),this._.tabBarMode=!1,this._.currentFocusIndex=-1,l(1),f=1;else a=a==(o?39:37)?t.call(D):e.call(D),D.selectPage(a),D._.tabs[a][0].focus(),f=1;d(n)}}function d(t){f?t.data.preventDefault(1):m&&t.data.stopPropagation()}var f,m,p=CKEDITOR.dialog._.dialogDefinitions[r],v=CKEDITOR.tools.clone(g),C=i.config.dialog_buttonsOrder||"OS",E=i.lang.dir,T={};if(("OS"==C&&CKEDITOR.env.mac||"rtl"==C&&"ltr"==E||"ltr"==C&&"rtl"==E)&&v.buttons.reverse(),p=CKEDITOR.tools.extend(p(i),v),p=CKEDITOR.tools.clone(p),p=new b(this,p),v=o(i),this._={editor:i,element:v.element,name:r,contentSize:{width:0,height:0},size:{width:0,height:0},contents:{},buttons:{},accessKeyMap:{},tabs:{},tabIdList:[],currentTabId:null,currentTabIndex:null,pageCount:0,lastTab:null,tabBarMode:!1,focusList:[],currentFocusIndex:0,hasFocus:!1},this.parts=v.parts,CKEDITOR.tools.setTimeout(function(){i.fire("ariaWidget",this.parts.contents)},0,this),v={position:CKEDITOR.env.ie6Compat?"absolute":"fixed",top:0,visibility:"hidden"},v["rtl"==E?"right":"left"]=0,this.parts.dialog.setStyles(v),CKEDITOR.event.call(this),this.definition=p=CKEDITOR.fire("dialogDefinition",{name:r,definition:p},i).definition,!("removeDialogTabs"in i._)&&i.config.removeDialogTabs){for(v=i.config.removeDialogTabs.split(";"),E=0;E<v.length;E++)if(C=v[E].split(":"),2==C.length){var y=C[0];T[y]||(T[y]=[]),T[y].push(C[1])}i._.removeDialogTabs=T}if(i._.removeDialogTabs&&(T=i._.removeDialogTabs[r]))for(E=0;E<T.length;E++)p.removeContents(T[E]);p.onLoad&&this.on("load",p.onLoad),p.onShow&&this.on("show",p.onShow),p.onHide&&this.on("hide",p.onHide),p.onOk&&this.on("ok",function(t){i.fire("saveSnapshot"),setTimeout(function(){i.fire("saveSnapshot")},0),!1===p.onOk.call(this,t)&&(t.data.hide=!1)}),p.onCancel&&this.on("cancel",function(t){!1===p.onCancel.call(this,t)&&(t.data.hide=!1)});var D=this,O=function(t){var e,i=D._.contents,n=!1;for(e in i)for(var a in i[e])if(n=t.call(this,i[e][a]))return};this.on("ok",function(t){O(function(e){if(e.validate){var i=e.validate(this),a="string"==typeof i||!1===i;return a&&(t.data.hide=!1,t.stop()),n.call(e,!a,"string"==typeof i?i:void 0),a}})},this,null,0),this.on("cancel",function(t){O(function(e){return e.isChanged()?(!i.config.dialog_noConfirmCancel&&!confirm(i.lang.common.confirmCancel)&&(t.data.hide=!1),!0):void 0})},this,null,0),this.parts.close.on("click",function(t){!1!==this.fire("cancel",{hide:!0}).hide&&this.hide(),t.data.preventDefault()},this),this.changeFocus=l;var I=this._.element;for(i.focusManager.add(I,1),this.on("show",function(){I.on("keydown",u,this),CKEDITOR.env.gecko&&I.on("keypress",d,this)}),this.on("hide",function(){I.removeListener("keydown",u),CKEDITOR.env.gecko&&I.removeListener("keypress",d),O(function(t){a.apply(t)})}),this.on("iframeAdded",function(t){new CKEDITOR.dom.document(t.data.iframe.$.contentWindow.document).on("keydown",u,this,null,0)}),this.on("show",function(){if(s(),i.config.dialog_startupFocusTab&&1<D._.pageCount)D._.tabBarMode=!0,D._.tabs[D._.currentTabId][0].focus();else if(!this._.hasFocus)if(this._.currentFocusIndex=-1,p.onFocus){var t=p.onFocus.call(this);t&&t.focus()}else l(1)},this,null,4294967295),CKEDITOR.env.ie6Compat&&this.on("load",function(){var t=this.getElement(),e=t.getFirst();e.remove(),e.appendTo(t)},this),h(this),c(this),new CKEDITOR.dom.text(p.title,CKEDITOR.document).appendTo(this.parts.title),E=0;E<p.contents.length;E++)(T=p.contents[E])&&this.addPage(T);for(this.parts.tabs.on("click",function(t){var e=t.data.getTarget();e.hasClass("cke_dialog_tab")&&(e=e.$.id,this.selectPage(e.substring(4,e.lastIndexOf("_"))),this._.tabBarMode&&(this._.tabBarMode=!1,this._.currentFocusIndex=-1,l(1)),t.data.preventDefault())},this),E=[],T=CKEDITOR.dialog._.uiElementBuilders.hbox.build(this,{type:"hbox",className:"cke_dialog_footer_buttons",widths:[],children:p.buttons},E).getChild(),this.parts.footer.setHtml(E.join("")),E=0;E<T.length;E++)this._.buttons[T[E].id]=T[E]},CKEDITOR.dialog.prototype={destroy:function(){this.hide(),this._.element.remove()},resize:function(){return function(t,e){this._.contentSize&&this._.contentSize.width==t&&this._.contentSize.height==e||(CKEDITOR.dialog.fire("resize",{dialog:this,width:t,height:e},this._.editor),this.fire("resize",{width:t,height:e},this._.editor),this.parts.contents.setStyles({width:t+"px",height:e+"px"}),"rtl"==this._.editor.lang.dir&&this._.position&&(this._.position.x=CKEDITOR.document.getWindow().getViewPaneSize().width-this._.contentSize.width-parseInt(this._.element.getFirst().getStyle("right"),10)),this._.contentSize={width:t,height:e})}}(),getSize:function(){var t=this._.element.getFirst();return{width:t.$.offsetWidth||0,height:t.$.offsetHeight||0}},move:function(t,e,i){var n=this._.element.getFirst(),a="rtl"==this._.editor.lang.dir,o="fixed"==n.getComputedStyle("position");CKEDITOR.env.ie&&n.setStyle("zoom","100%"),o&&this._.position&&this._.position.x==t&&this._.position.y==e||(this._.position={x:t,y:e},o||(o=CKEDITOR.document.getWindow().getScrollPosition(),t+=o.x,e+=o.y),a&&(o=this.getSize(),t=CKEDITOR.document.getWindow().getViewPaneSize().width-o.width-t),e={top:(e>0?e:0)+"px"},e[a?"right":"left"]=(t>0?t:0)+"px",n.setStyles(e),i&&(this._.moved=1))},getPosition:function(){return CKEDITOR.tools.extend({},this._.position)},show:function(){var t=this._.element,e=this.definition;t.getParent()&&t.getParent().equals(CKEDITOR.document.getBody())?t.setStyle("display","block"):t.appendTo(CKEDITOR.document.getBody()),this.resize(this._.contentSize&&this._.contentSize.width||e.width||e.minWidth,this._.contentSize&&this._.contentSize.height||e.height||e.minHeight),this.reset(),this.selectPage(this.definition.contents[0].id),null===CKEDITOR.dialog._.currentZIndex&&(CKEDITOR.dialog._.currentZIndex=this._.editor.config.baseFloatZIndex),this._.element.getFirst().setStyle("z-index",CKEDITOR.dialog._.currentZIndex+=10),null===CKEDITOR.dialog._.currentTop?(CKEDITOR.dialog._.currentTop=this,this._.parentDialog=null,d(this._.editor)):(this._.parentDialog=CKEDITOR.dialog._.currentTop,this._.parentDialog.getElement().getFirst().$.style.zIndex-=Math.floor(this._.editor.config.baseFloatZIndex/2),CKEDITOR.dialog._.currentTop=this),t.on("keydown",I),t.on("keyup",R),this._.hasFocus=!1;for(var i in e.contents)if(e.contents[i]){var t=e.contents[i],n=this._.tabs[t.id],a=t.requiredContent,o=0;if(n){for(var r in this._.contents[t.id]){var l=this._.contents[t.id][r];"hbox"==l.type||"vbox"==l.type||!l.getInputElement()||(l.requiredContent&&!this._.editor.activeFilter.check(l.requiredContent)?l.disable():(l.enable(),o++))}!o||a&&!this._.editor.activeFilter.check(a)?n[0].addClass("cke_dialog_tab_disabled"):n[0].removeClass("cke_dialog_tab_disabled")}}CKEDITOR.tools.setTimeout(function(){this.layout(),s(this),this.parts.dialog.setStyle("visibility",""),this.fireOnce("load",{}),CKEDITOR.ui.fire("ready",this),this.fire("show",{}),this._.editor.fire("dialogShow",this),this._.parentDialog||this._.editor.focusManager.lock(),this.foreach(function(t){t.setInitValue&&t.setInitValue()})},100,this)},layout:function(){var t=this.parts.dialog,e=this.getSize(),i=CKEDITOR.document.getWindow().getViewPaneSize(),n=(i.width-e.width)/2,a=(i.height-e.height)/2;CKEDITOR.env.ie6Compat||(e.height+(a>0?a:0)>i.height||e.width+(n>0?n:0)>i.width?t.setStyle("position","absolute"):t.setStyle("position","fixed")),this.move(this._.moved?this._.position.x:n,this._.moved?this._.position.y:a)},foreach:function(t){for(var e in this._.contents)for(var i in this._.contents[e])t.call(this,this._.contents[e][i]);return this},reset:function(){var t=function(t){t.reset&&t.reset(1)};return function(){return this.foreach(t),this}}(),setupContent:function(){var t=arguments;this.foreach(function(e){e.setup&&e.setup.apply(e,t)})},commitContent:function(){var t=arguments;this.foreach(function(e){CKEDITOR.env.ie&&this._.currentFocusIndex==e.focusIndex&&e.getInputElement().$.blur(),e.commit&&e.commit.apply(e,t)})},hide:function(){if(this.parts.dialog.isVisible()){this.fire("hide",{}),this._.editor.fire("dialogHide",this),this.selectPage(this._.tabIdList[0]);var t=this._.element;for(t.setStyle("display","none"),this.parts.dialog.setStyle("visibility","hidden"),k(this);CKEDITOR.dialog._.currentTop!=this;)CKEDITOR.dialog._.currentTop.hide();if(this._.parentDialog){var e=this._.parentDialog.getElement().getFirst();e.setStyle("z-index",parseInt(e.$.style.zIndex,10)+Math.floor(this._.editor.config.baseFloatZIndex/2))}else f(this._.editor);if(CKEDITOR.dialog._.currentTop=this._.parentDialog)CKEDITOR.dialog._.currentZIndex-=10;else{CKEDITOR.dialog._.currentZIndex=null,t.removeListener("keydown",I),t.removeListener("keyup",R);var i=this._.editor;i.focus(),setTimeout(function(){i.focusManager.unlock(),CKEDITOR.env.iOS&&i.window.focus()},0)}delete this._.parentDialog,this.foreach(function(t){t.resetInitValue&&t.resetInitValue()})}},addPage:function(t){if(!t.requiredContent||this._.editor.filter.check(t.requiredContent)){for(var e=[],i=t.label?' title="'+CKEDITOR.tools.htmlEncode(t.label)+'"':"",n=CKEDITOR.dialog._.uiElementBuilders.vbox.build(this,{type:"vbox",className:"cke_dialog_page_contents",children:t.elements,expand:!!t.expand,padding:t.padding,style:t.style||"width: 100%;"},e),a=this._.contents[t.id]={},o=n.getChild(),r=0;n=o.shift();)!n.notAllowed&&"hbox"!=n.type&&"vbox"!=n.type&&r++,a[n.id]=n,"function"==typeof n.getChild&&o.push.apply(o,n.getChild());r||(t.hidden=!0),e=CKEDITOR.dom.element.createFromHtml(e.join("")),e.setAttribute("role","tabpanel"),n=CKEDITOR.env,a="cke_"+t.id+"_"+CKEDITOR.tools.getNextNumber(),i=CKEDITOR.dom.element.createFromHtml(['<a class="cke_dialog_tab"',0<this._.pageCount?" cke_last":"cke_first",i,t.hidden?' style="display:none"':"",' id="',a,'"',n.gecko&&!n.hc?"":' href="javascript:void(0)"',' tabIndex="-1" hidefocus="true" role="tab">',t.label,"</a>"].join("")),e.setAttribute("aria-labelledby",a),this._.tabs[t.id]=[i,e],this._.tabIdList.push(t.id),!t.hidden&&this._.pageCount++,this._.lastTab=i,this.updateStyle(),e.setAttribute("name",t.id),e.appendTo(this.parts.contents),i.unselectable(),this.parts.tabs.append(i),t.accessKey&&(x(this,this,"CTRL+"+t.accessKey,w,A),this._.accessKeyMap["CTRL+"+t.accessKey]=t.id)}},selectPage:function(t){if(this._.currentTabId!=t&&!this._.tabs[t][0].hasClass("cke_dialog_tab_disabled")&&!1!==this.fire("selectPage",{page:t,currentPage:this._.currentTabId})){for(var e in this._.tabs){var n=this._.tabs[e][0],a=this._.tabs[e][1];e!=t&&(n.removeClass("cke_dialog_tab_selected"),a.hide()),a.setAttribute("aria-hidden",e!=t)}var o=this._.tabs[t];o[0].addClass("cke_dialog_tab_selected"),CKEDITOR.env.ie6Compat||CKEDITOR.env.ie7Compat?(i(o[1]),o[1].show(),setTimeout(function(){i(o[1],1)},0)):o[1].show(),this._.currentTabId=t,this._.currentTabIndex=CKEDITOR.tools.indexOf(this._.tabIdList,t)}},updateStyle:function(){this.parts.dialog[(1===this._.pageCount?"add":"remove")+"Class"]("cke_single_page")},hidePage:function(e){var i=this._.tabs[e]&&this._.tabs[e][0];i&&1!=this._.pageCount&&i.isVisible()&&(e==this._.currentTabId&&this.selectPage(t.call(this)),i.hide(),this._.pageCount--,this.updateStyle())},showPage:function(t){(t=this._.tabs[t]&&this._.tabs[t][0])&&(t.show(),this._.pageCount++,this.updateStyle())},getElement:function(){return this._.element},getName:function(){return this._.name},getContentElement:function(t,e){var i=this._.contents[t];return i&&i[e]},getValueOf:function(t,e){return this.getContentElement(t,e).getValue()},setValueOf:function(t,e,i){return this.getContentElement(t,e).setValue(i)},getButton:function(t){return this._.buttons[t]},click:function(t){return this._.buttons[t].click()},disableButton:function(t){return this._.buttons[t].disable()},enableButton:function(t){return this._.buttons[t].enable()},getPageCount:function(){return this._.pageCount},getParentEditor:function(){return this._.editor},getSelectedElement:function(){return this.getParentEditor().getSelection().getSelectedElement()},addFocusable:function(t,e){if("undefined"==typeof e)e=this._.focusList.length,this._.focusList.push(new r(this,t,e));else{this._.focusList.splice(e,0,new r(this,t,e));for(var i=e+1;i<this._.focusList.length;i++)this._.focusList[i].focusIndex++}}},CKEDITOR.tools.extend(CKEDITOR.dialog,{add:function(t,e){this._.dialogDefinitions[t]&&"function"!=typeof e||(this._.dialogDefinitions[t]=e)},exists:function(t){return!!this._.dialogDefinitions[t]},getCurrent:function(){return CKEDITOR.dialog._.currentTop},isTabEnabled:function(t,e,i){return t=t.config.removeDialogTabs,!(t&&t.match(RegExp("(?:^|;)"+e+":"+i+"(?:$|;)","i")))},okButton:function(){var t=function(t,e){return e=e||{},CKEDITOR.tools.extend({id:"ok",type:"button",label:t.lang.common.ok,"class":"cke_dialog_ui_button_ok",onClick:function(t){t=t.data.dialog,!1!==t.fire("ok",{hide:!0}).hide&&t.hide()}},e,!0)};return t.type="button",t.override=function(e){return CKEDITOR.tools.extend(function(i){return t(i,e)},{type:"button"},!0)},t}(),cancelButton:function(){var t=function(t,e){return e=e||{},CKEDITOR.tools.extend({id:"cancel",type:"button",label:t.lang.common.cancel,"class":"cke_dialog_ui_button_cancel",onClick:function(t){t=t.data.dialog,!1!==t.fire("cancel",{hide:!0}).hide&&t.hide()}},e,!0)};return t.type="button",t.override=function(e){return CKEDITOR.tools.extend(function(i){return t(i,e)},{type:"button"},!0)},t}(),addUIElement:function(t,e){this._.uiElementBuilders[t]=e}}),CKEDITOR.dialog._={uiElementBuilders:{},dialogDefinitions:{},currentTop:null,currentZIndex:null},CKEDITOR.event.implementOn(CKEDITOR.dialog),CKEDITOR.event.implementOn(CKEDITOR.dialog.prototype);var g={resizable:CKEDITOR.DIALOG_RESIZE_BOTH,minWidth:600,minHeight:400,buttons:[CKEDITOR.dialog.okButton,CKEDITOR.dialog.cancelButton]},v=function(t,e,i){for(var n,a=0;n=t[a];a++)if(n.id==e||i&&n[i]&&(n=v(n[i],e,i)))return n;return null},C=function(t,e,i,n,a){if(i){for(var o,r=0;o=t[r];r++){if(o.id==i)return t.splice(r,0,e),e;if(n&&o[n]&&(o=C(o[n],e,i,n,!0)))return o}if(a)return null}return t.push(e),e},E=function(t,e,i){for(var n,a=0;n=t[a];a++){if(n.id==e)return t.splice(a,1);if(i&&n[i]&&(n=E(n[i],e,i)))return n}return null},b=function(t,e){this.dialog=t;for(var i,n=e.contents,a=0;i=n[a];a++)n[a]=i&&new l(t,i);CKEDITOR.tools.extend(this,e)};b.prototype={getContents:function(t){return v(this.contents,t)},getButton:function(t){return v(this.buttons,t)},addContents:function(t,e){return C(this.contents,t,e)},addButton:function(t,e){return C(this.buttons,t,e)},removeContents:function(t){E(this.contents,t)},removeButton:function(t){E(this.buttons,t)}},l.prototype={get:function(t){return v(this.elements,t,"children")},add:function(t,e){return C(this.elements,t,e,"children")},remove:function(t){E(this.elements,t,"children")}};var T,y,D={},O={},I=function(t){var e=t.data.$.ctrlKey||t.data.$.metaKey,i=t.data.$.altKey,n=t.data.$.shiftKey,a=String.fromCharCode(t.data.$.keyCode);(e=O[(e?"CTRL+":"")+(i?"ALT+":"")+(n?"SHIFT+":"")+a])&&e.length&&(e=e[e.length-1],e.keydown&&e.keydown.call(e.uiElement,e.dialog,e.key),t.data.preventDefault())},R=function(t){var e=t.data.$.ctrlKey||t.data.$.metaKey,i=t.data.$.altKey,n=t.data.$.shiftKey,a=String.fromCharCode(t.data.$.keyCode);(e=O[(e?"CTRL+":"")+(i?"ALT+":"")+(n?"SHIFT+":"")+a])&&e.length&&(e=e[e.length-1],e.keyup&&(e.keyup.call(e.uiElement,e.dialog,e.key),t.data.preventDefault()))},x=function(t,e,i,n,a){(O[i]||(O[i]=[])).push({uiElement:t,dialog:e,key:i,keyup:a||t.accessKeyUp,keydown:n||t.accessKeyDown})},k=function(t){for(var e in O){for(var i=O[e],n=i.length-1;n>=0;n--)(i[n].dialog==t||i[n].uiElement==t)&&i.splice(n,1);0===i.length&&delete O[e]}},A=function(t,e){t._.accessKeyMap[e]&&t.selectPage(t._.accessKeyMap[e])},w=function(){};!function(){CKEDITOR.ui.dialog={uiElement:function(t,e,i,n,a,o,r){if(!(4>arguments.length)){var s=(n.call?n(e):n)||"div",l=["<",s," "],h=(a&&a.call?a(e):a)||{},c=(o&&o.call?o(e):o)||{},u=(r&&r.call?r.call(this,t,e):r)||"",d=this.domId=c.id||CKEDITOR.tools.getNextId()+"_uiElement";this.id=e.id,e.requiredContent&&!t.getParentEditor().filter.check(e.requiredContent)&&(h.display="none",this.notAllowed=!0),c.id=d;var f={};e.type&&(f["cke_dialog_ui_"+e.type]=1),e.className&&(f[e.className]=1),e.disabled&&(f.cke_disabled=1);for(var m=c["class"]&&c["class"].split?c["class"].split(" "):[],d=0;d<m.length;d++)m[d]&&(f[m[d]]=1);m=[];for(d in f)m.push(d);c["class"]=m.join(" "),e.title&&(c.title=e.title),f=(e.style||"").split(";"),e.align&&(m=e.align,h["margin-left"]="left"==m?0:"auto",h["margin-right"]="right"==m?0:"auto");for(d in h)f.push(d+":"+h[d]);for(e.hidden&&f.push("display:none"),d=f.length-1;d>=0;d--)""===f[d]&&f.splice(d,1);0<f.length&&(c.style=(c.style?c.style+"; ":"")+f.join("; "));for(d in c)l.push(d+'="'+CKEDITOR.tools.htmlEncode(c[d])+'" ');l.push(">",u,"</",s,">"),i.push(l.join("")),(this._||(this._={})).dialog=t,"boolean"==typeof e.isChanged&&(this.isChanged=function(){return e.isChanged}),"function"==typeof e.isChanged&&(this.isChanged=e.isChanged),"function"==typeof e.setValue&&(this.setValue=CKEDITOR.tools.override(this.setValue,function(t){return function(i){t.call(this,e.setValue.call(this,i))}})),"function"==typeof e.getValue&&(this.getValue=CKEDITOR.tools.override(this.getValue,function(t){return function(){return e.getValue.call(this,t.call(this))}})),CKEDITOR.event.implementOn(this),this.registerEvents(e),this.accessKeyUp&&this.accessKeyDown&&e.accessKey&&x(this,t,"CTRL+"+e.accessKey);var p=this;t.on("load",function(){var e=p.getInputElement();if(e){var i=p.type in{checkbox:1,ratio:1}&&CKEDITOR.env.ie&&CKEDITOR.env.version<8?"cke_dialog_ui_focused":"";e.on("focus",function(){t._.tabBarMode=!1,t._.hasFocus=!0,p.fire("focus"),i&&this.addClass(i)}),e.on("blur",function(){p.fire("blur"),i&&this.removeClass(i)})}}),CKEDITOR.tools.extend(this,e),this.keyboardFocusable&&(this.tabIndex=e.tabIndex||0,this.focusIndex=t._.focusList.push(this)-1,this.on("focus",function(){t._.currentFocusIndex=p.focusIndex}))}},hbox:function(t,e,i,n,a){if(!(4>arguments.length)){this._||(this._={});var o,r=this._.children=e,s=a&&a.widths||null,l=a&&a.height||null,h={role:"presentation"};a&&a.align&&(h.align=a.align),CKEDITOR.ui.dialog.uiElement.call(this,t,a||{type:"hbox"},n,"table",{},h,function(){var t=['<tbody><tr class="cke_dialog_ui_hbox">'];for(o=0;o<i.length;o++){var e="cke_dialog_ui_hbox_child",n=[];0===o&&(e="cke_dialog_ui_hbox_first"),o==i.length-1&&(e="cke_dialog_ui_hbox_last"),t.push('<td class="',e,'" role="presentation" '),s?s[o]&&n.push("width:"+m(s[o])):n.push("width:"+Math.floor(100/i.length)+"%"),l&&n.push("height:"+m(l)),a&&void 0!=a.padding&&n.push("padding:"+m(a.padding)),CKEDITOR.env.ie&&CKEDITOR.env.quirks&&r[o].align&&n.push("text-align:"+r[o].align),0<n.length&&t.push('style="'+n.join("; ")+'" '),t.push(">",i[o],"</td>")}return t.push("</tr></tbody>"),t.join("")})}},vbox:function(t,e,i,n,a){if(!(3>arguments.length)){this._||(this._={});var o=this._.children=e,r=a&&a.width||null,s=a&&a.heights||null;CKEDITOR.ui.dialog.uiElement.call(this,t,a||{type:"vbox"},n,"div",null,{role:"presentation"},function(){var e=['<table role="presentation" cellspacing="0" border="0" '];e.push('style="'),a&&a.expand&&e.push("height:100%;"),e.push("width:"+m(r||"100%"),";"),CKEDITOR.env.webkit&&e.push("float:none;"),e.push('"'),e.push('align="',CKEDITOR.tools.htmlEncode(a&&a.align||("ltr"==t.getParentEditor().lang.dir?"left":"right")),'" '),e.push("><tbody>");for(var n=0;n<i.length;n++){var l=[];e.push('<tr><td role="presentation" '),r&&l.push("width:"+m(r||"100%")),s?l.push("height:"+m(s[n])):a&&a.expand&&l.push("height:"+Math.floor(100/i.length)+"%"),a&&void 0!=a.padding&&l.push("padding:"+m(a.padding)),CKEDITOR.env.ie&&CKEDITOR.env.quirks&&o[n].align&&l.push("text-align:"+o[n].align),0<l.length&&e.push('style="',l.join("; "),'" '),e.push(' class="cke_dialog_ui_vbox_child">',i[n],"</td></tr>")}return e.push("</tbody></table>"),e.join("")})}}}}(),CKEDITOR.ui.dialog.uiElement.prototype={getElement:function(){return CKEDITOR.document.getById(this.domId)},getInputElement:function(){return this.getElement()},getDialog:function(){return this._.dialog},setValue:function(t,e){return this.getInputElement().setValue(t),!e&&this.fire("change",{value:t}),this},getValue:function(){return this.getInputElement().getValue()},isChanged:function(){return!1},selectParentTab:function(){for(var t=this.getInputElement();(t=t.getParent())&&-1==t.$.className.search("cke_dialog_page_contents"););return t?(t=t.getAttribute("name"),this._.dialog._.currentTabId!=t&&this._.dialog.selectPage(t),this):this},focus:function(){return this.selectParentTab().getInputElement().focus(),this},registerEvents:function(t){var e,i,n=/^on([A-Z]\w+)/,a=function(t,e,i,n){e.on("load",function(){t.getInputElement().on(i,n,t)})};for(i in t)(e=i.match(n))&&(this.eventProcessors[i]?this.eventProcessors[i].call(this,this._.dialog,t[i]):a(this,this._.dialog,e[1].toLowerCase(),t[i]));return this},eventProcessors:{onLoad:function(t,e){t.on("load",e,this)},onShow:function(t,e){t.on("show",e,this)},onHide:function(t,e){t.on("hide",e,this)}},accessKeyDown:function(){this.focus()},accessKeyUp:function(){},disable:function(){var t=this.getElement();this.getInputElement().setAttribute("disabled","true"),t.addClass("cke_disabled")},enable:function(){var t=this.getElement();this.getInputElement().removeAttribute("disabled"),t.removeClass("cke_disabled")},isEnabled:function(){return!this.getElement().hasClass("cke_disabled")},isVisible:function(){return this.getInputElement().isVisible()},isFocusable:function(){return this.isEnabled()&&this.isVisible()?!0:!1}},CKEDITOR.ui.dialog.hbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getChild:function(t){return 1>arguments.length?this._.children.concat():(t.splice||(t=[t]),2>t.length?this._.children[t[0]]:this._.children[t[0]]&&this._.children[t[0]].getChild?this._.children[t[0]].getChild(t.slice(1,t.length)):null)}},!0),CKEDITOR.ui.dialog.vbox.prototype=new CKEDITOR.ui.dialog.hbox,function(){var t={build:function(t,e,i){for(var n,a=e.children,o=[],r=[],s=0;s<a.length&&(n=a[s]);s++){var l=[];o.push(l),r.push(CKEDITOR.dialog._.uiElementBuilders[n.type].build(t,n,l))}return new CKEDITOR.ui.dialog[e.type](t,r,o,i,e)}};CKEDITOR.dialog.addUIElement("hbox",t),CKEDITOR.dialog.addUIElement("vbox",t)}(),CKEDITOR.dialogCommand=function(t,e){this.dialogName=t,CKEDITOR.tools.extend(this,e,!0)},CKEDITOR.dialogCommand.prototype={exec:function(t){t.openDialog(this.dialogName)},canUndo:!1,editorFocus:1},function(){var t=/^([a]|[^a])+$/,e=/^\d*$/,i=/^\d*(?:\.\d+)?$/,n=/^(((\d*(\.\d+))|(\d*))(px|\%)?)?$/,a=/^(((\d*(\.\d+))|(\d*))(px|em|ex|in|cm|mm|pt|pc|\%)?)?$/i,o=/^(\s*[\w-]+\s*:\s*[^:;]+(?:;|$))*$/;CKEDITOR.VALIDATE_OR=1,CKEDITOR.VALIDATE_AND=2,CKEDITOR.dialog.validate={functions:function(){var t=arguments;return function(){var e,i=this&&this.getValue?this.getValue():t[0],n=void 0,a=CKEDITOR.VALIDATE_AND,o=[];for(e=0;e<t.length&&"function"==typeof t[e];e++)o.push(t[e]);e<t.length&&"string"==typeof t[e]&&(n=t[e],e++),e<t.length&&"number"==typeof t[e]&&(a=t[e]);var r=a==CKEDITOR.VALIDATE_AND?!0:!1;for(e=0;e<o.length;e++)r=a==CKEDITOR.VALIDATE_AND?r&&o[e](i):r||o[e](i);return r?!0:n}},regex:function(t,e){return function(i){return i=this&&this.getValue?this.getValue():i,t.test(i)?!0:e}},notEmpty:function(e){return this.regex(t,e)},integer:function(t){return this.regex(e,t)},number:function(t){return this.regex(i,t)},cssLength:function(t){return this.functions(function(t){return a.test(CKEDITOR.tools.trim(t))},t)},htmlLength:function(t){return this.functions(function(t){return n.test(CKEDITOR.tools.trim(t))},t)},inlineStyle:function(t){return this.functions(function(t){return o.test(CKEDITOR.tools.trim(t))},t)},equals:function(t,e){return this.functions(function(e){return e==t},e)},notEqual:function(t,e){return this.functions(function(e){return e!=t},e)}},CKEDITOR.on("instanceDestroyed",function(t){if(CKEDITOR.tools.isEmpty(CKEDITOR.instances)){for(var e;e=CKEDITOR.dialog._.currentTop;)e.hide();for(var i in D)D[i].remove();D={}}var n,t=t.editor._.storedDialogs;for(n in t)t[n].destroy()})}(),CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{openDialog:function(t,e){var i=null,n=CKEDITOR.dialog._.dialogDefinitions[t];
if(null===CKEDITOR.dialog._.currentTop&&d(this),"function"==typeof n)i=this._.storedDialogs||(this._.storedDialogs={}),i=i[t]||(i[t]=new CKEDITOR.dialog(this,t)),e&&e.call(i,i),i.show();else{if("failed"==n)throw f(this),Error('[CKEDITOR.dialog.openDialog] Dialog "'+t+'" failed when loading definition.');"string"==typeof n&&CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(n),function(){"function"!=typeof CKEDITOR.dialog._.dialogDefinitions[t]&&(CKEDITOR.dialog._.dialogDefinitions[t]="failed"),this.openDialog(t,e)},this,0,1)}return CKEDITOR.skin.loadPart("dialog"),i}})}(),CKEDITOR.plugins.add("dialog",{requires:"dialogui",init:function(t){t.on("doubleclick",function(e){e.data.dialog&&t.openDialog(e.data.dialog)},null,null,999)}}),CKEDITOR.plugins.add("about",{requires:"dialog",init:function(t){var e=t.addCommand("about",new CKEDITOR.dialogCommand("about"));e.modes={wysiwyg:1,source:1},e.canUndo=!1,e.readOnly=1,t.ui.addButton&&t.ui.addButton("About",{label:t.lang.about.title,command:"about",toolbar:"about"}),CKEDITOR.dialog.add("about",this.path+"dialogs/about.js")}}),function(){CKEDITOR.plugins.add("a11yhelp",{requires:"dialog",availableLangs:{af:1,ar:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,el:1,en:1,"en-gb":1,eo:1,es:1,et:1,fa:1,fi:1,fr:1,"fr-ca":1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,nb:1,nl:1,no:1,pl:1,pt:1,"pt-br":1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,sr:1,"sr-latn":1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,"zh-cn":1},init:function(t){var e=this;t.addCommand("a11yHelp",{exec:function(){var i=t.langCode,i=e.availableLangs[i]?i:e.availableLangs[i.replace(/-.*/,"")]?i.replace(/-.*/,""):"en";CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(e.path+"dialogs/lang/"+i+".js"),function(){t.lang.a11yhelp=e.langEntries[i],t.openDialog("a11yHelp")})},modes:{wysiwyg:1,source:1},readOnly:1,canUndo:!1}),t.setKeystroke(CKEDITOR.ALT+48,"a11yHelp"),CKEDITOR.dialog.add("a11yHelp",this.path+"dialogs/a11yhelp.js"),t.on("ariaEditorHelpLabel",function(e){e.data.label=t.lang.common.editorHelp})}})}(),function(){function t(t){var e=this.att,t=t&&t.hasAttribute(e)&&t.getAttribute(e)||"";void 0!==t&&this.setValue(t)}function e(){for(var t,e=0;e<arguments.length;e++)if(arguments[e]instanceof CKEDITOR.dom.element){t=arguments[e];break}if(t){var e=this.att,i=this.getValue();i?t.setAttribute(e,i):t.removeAttribute(e,i)}}var i={id:1,dir:1,classes:1,styles:1};CKEDITOR.plugins.add("dialogadvtab",{requires:"dialog",allowedContent:function(t){t||(t=i);var e=[];t.id&&e.push("id"),t.dir&&e.push("dir");var n="";return e.length&&(n+="["+e.join(",")+"]"),t.classes&&(n+="(*)"),t.styles&&(n+="{*}"),n},createAdvancedTab:function(n,a,o){a||(a=i);var r=n.lang.common,s={id:"advanced",label:r.advancedTab,title:r.advancedTab,elements:[{type:"vbox",padding:1,children:[]}]},l=[];return(a.id||a.dir)&&(a.id&&l.push({id:"advId",att:"id",type:"text",requiredContent:o?o+"[id]":null,label:r.id,setup:t,commit:e}),a.dir&&l.push({id:"advLangDir",att:"dir",type:"select",requiredContent:o?o+"[dir]":null,label:r.langDir,"default":"",style:"width:100%",items:[[r.notSet,""],[r.langDirLTR,"ltr"],[r.langDirRTL,"rtl"]],setup:t,commit:e}),s.elements[0].children.push({type:"hbox",widths:["50%","50%"],children:[].concat(l)})),(a.styles||a.classes)&&(l=[],a.styles&&l.push({id:"advStyles",att:"style",type:"text",requiredContent:o?o+"{cke-xyz}":null,label:r.styles,"default":"",validate:CKEDITOR.dialog.validate.inlineStyle(r.invalidInlineStyle),onChange:function(){},getStyle:function(t,e){var i=this.getValue().match(RegExp("(?:^|;)\\s*"+t+"\\s*:\\s*([^;]*)","i"));return i?i[1]:e},updateStyle:function(t,e){var i=this.getValue(),a=n.document.createElement("span");a.setAttribute("style",i),a.setStyle(t,e),i=CKEDITOR.tools.normalizeCssText(a.getAttribute("style")),this.setValue(i,1)},setup:t,commit:e}),a.classes&&l.push({type:"hbox",widths:["45%","55%"],children:[{id:"advCSSClasses",att:"class",type:"text",requiredContent:o?o+"(cke-xyz)":null,label:r.cssClasses,"default":"",setup:t,commit:e}]}),s.elements[0].children.push({type:"hbox",widths:["50%","50%"],children:[].concat(l)})),s}})}(),CKEDITOR.plugins.add("basicstyles",{init:function(t){var e=0,i=function(i,a,o,r){if(r){var r=new CKEDITOR.style(r),s=n[o];s.unshift(r),t.attachStyleStateChange(r,function(e){!t.readOnly&&t.getCommand(o).setState(e)}),t.addCommand(o,new CKEDITOR.styleCommand(r,{contentForms:s})),t.ui.addButton&&t.ui.addButton(i,{label:a,command:o,toolbar:"basicstyles,"+(e+=10)})}},n={bold:["strong","b",["span",function(t){return t=t.styles["font-weight"],"bold"==t||+t>=700}]],italic:["em","i",["span",function(t){return"italic"==t.styles["font-style"]}]],underline:["u",["span",function(t){return"underline"==t.styles["text-decoration"]}]],strike:["s","strike",["span",function(t){return"line-through"==t.styles["text-decoration"]}]],subscript:["sub"],superscript:["sup"]},a=t.config,o=t.lang.basicstyles;i("Bold",o.bold,"bold",a.coreStyles_bold),i("Italic",o.italic,"italic",a.coreStyles_italic),i("Underline",o.underline,"underline",a.coreStyles_underline),i("Strike",o.strike,"strike",a.coreStyles_strike),i("Subscript",o.subscript,"subscript",a.coreStyles_subscript),i("Superscript",o.superscript,"superscript",a.coreStyles_superscript),t.setKeystroke([[CKEDITOR.CTRL+66,"bold"],[CKEDITOR.CTRL+73,"italic"],[CKEDITOR.CTRL+85,"underline"]])}}),CKEDITOR.config.coreStyles_bold={element:"strong",overrides:"b"},CKEDITOR.config.coreStyles_italic={element:"em",overrides:"i"},CKEDITOR.config.coreStyles_underline={element:"u"},CKEDITOR.config.coreStyles_strike={element:"s",overrides:"strike"},CKEDITOR.config.coreStyles_subscript={element:"sub"},CKEDITOR.config.coreStyles_superscript={element:"sup"},function(){function t(t,e,i,n){if(!t.isReadOnly()&&!t.equals(i.editable())){CKEDITOR.dom.element.setMarker(n,t,"bidi_processed",1);for(var n=t,a=i.editable();(n=n.getParent())&&!n.equals(a);)if(n.getCustomData("bidi_processed"))return t.removeStyle("direction"),void t.removeAttribute("dir");n="useComputedState"in i.config?i.config.useComputedState:1,(n?t.getComputedStyle("direction"):t.getStyle("direction")||t.hasAttribute("dir"))!=e&&(t.removeStyle("direction"),n?(t.removeAttribute("dir"),e!=t.getComputedStyle("direction")&&t.setAttribute("dir",e)):t.setAttribute("dir",e),i.forceNextSelectionCheck())}}function e(t,e,i){var n=t.getCommonAncestor(!1,!0),t=t.clone();if(t.enlarge(i==CKEDITOR.ENTER_BR?CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:CKEDITOR.ENLARGE_BLOCK_CONTENTS),t.checkBoundaryOfElement(n,CKEDITOR.START)&&t.checkBoundaryOfElement(n,CKEDITOR.END)){for(var a;n&&n.type==CKEDITOR.NODE_ELEMENT&&(a=n.getParent())&&1==a.getChildCount()&&!(n.getName()in e);)n=a;return n.type==CKEDITOR.NODE_ELEMENT&&n.getName()in e&&n}}function i(i){return{context:"p",allowedContent:{"h1 h2 h3 h4 h5 h6 table ul ol blockquote div tr p div li td":{propertiesOnly:!0,attributes:"dir"}},requiredContent:"p[dir]",refresh:function(t,e){var i,n=t.config.useComputedState,n=void 0===n||n;if(!n){i=e.lastElement;for(var a=t.editable();i&&!(i.getName()in r||i.equals(a));){var o=i.getParent();if(!o)break;i=o}}i=i||e.block||e.blockLimit,i.equals(t.editable())&&(a=t.getSelection().getRanges()[0].getEnclosedNode())&&a.type==CKEDITOR.NODE_ELEMENT&&(i=a),i&&(n=n?i.getComputedStyle("direction"):i.getStyle("direction")||i.getAttribute("dir"),t.getCommand("bidirtl").setState("rtl"==n?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF),t.getCommand("bidiltr").setState("ltr"==n?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)),n=(e.block||e.blockLimit||t.editable()).getDirection(1),n!=(t._.selDir||t.lang.dir)&&(t._.selDir=n,t.fire("contentDirChanged",n))},exec:function(n){var r=n.getSelection(),s=n.config.enterMode,l=r.getRanges();if(l&&l.length){for(var h,c={},u=r.createBookmarks(),l=l.createIterator(),d=0;h=l.getNextRange(1);){var f=h.getEnclosedNode();f&&(!f||f.type==CKEDITOR.NODE_ELEMENT&&f.getName()in o)||(f=e(h,a,s)),f&&t(f,i,n,c);var m=new CKEDITOR.dom.walker(h),p=u[d].startNode,g=u[d++].endNode;m.evaluator=function(t){return!!(t.type==CKEDITOR.NODE_ELEMENT&&t.getName()in a&&(t.getName()!=(s==CKEDITOR.ENTER_P?"p":"div")||t.getParent().type!=CKEDITOR.NODE_ELEMENT||"blockquote"!=t.getParent().getName())&&t.getPosition(p)&CKEDITOR.POSITION_FOLLOWING&&(t.getPosition(g)&CKEDITOR.POSITION_PRECEDING+CKEDITOR.POSITION_CONTAINS)==CKEDITOR.POSITION_PRECEDING)};for(;f=m.next();)t(f,i,n,c);for(h=h.createIterator(),h.enlargeBr=s!=CKEDITOR.ENTER_BR;f=h.getNextParagraph(s==CKEDITOR.ENTER_P?"p":"div");)t(f,i,n,c)}CKEDITOR.dom.element.clearAllMarkers(c),n.forceNextSelectionCheck(),r.selectBookmarks(u),n.focus()}}}}function n(t){var e=t==s.setAttribute,i=t==s.removeAttribute,n=/\bdirection\s*:\s*(.*?)\s*(:?$|;)/;return function(a,o){if(!this.isReadOnly()){var r;if(r=a==(e||i?"dir":"direction")||"style"==a&&(i||n.test(o))){t:{r=this;for(var s=r.getDocument().getBody().getParent();r;){if(r.equals(s)){r=!1;break t}r=r.getParent()}r=!0}r=!r}if(r&&(r=this.getDirection(1),s=t.apply(this,arguments),r!=this.getDirection(1)))return this.getDocument().fire("dirChanged",this),s}return t.apply(this,arguments)}}var a={table:1,ul:1,ol:1,blockquote:1,div:1},o={},r={};CKEDITOR.tools.extend(o,a,{tr:1,p:1,div:1,li:1}),CKEDITOR.tools.extend(r,o,{td:1}),CKEDITOR.plugins.add("bidi",{init:function(t){function e(e,i,n,a,o){t.addCommand(n,new CKEDITOR.command(t,a)),t.ui.addButton&&t.ui.addButton(e,{label:i,command:n,toolbar:"bidi,"+o})}if(!t.blockless){var n=t.lang.bidi;e("BidiLtr",n.ltr,"bidiltr",i("ltr"),10),e("BidiRtl",n.rtl,"bidirtl",i("rtl"),20),t.on("contentDom",function(){t.document.on("dirChanged",function(e){t.fire("dirChanged",{node:e.data,dir:e.data.getDirection(1)})})}),t.on("contentDirChanged",function(e){var e=(t.lang.dir!=e.data?"add":"remove")+"Class",i=t.ui.space(t.config.toolbarLocation);i&&i[e]("cke_mixed_dir_content")})}}});for(var s=CKEDITOR.dom.element.prototype,l=["setStyle","removeStyle","setAttribute","removeAttribute"],h=0;h<l.length;h++)s[l[h]]=CKEDITOR.tools.override(s[l[h]],n)}(),function(){var t={exec:function(t){var e=t.getCommand("blockquote").state,i=t.getSelection(),n=i&&i.getRanges()[0];if(n){var a=i.createBookmarks();if(CKEDITOR.env.ie){var o,r=a[0].startNode,s=a[0].endNode;if(r&&"blockquote"==r.getParent().getName())for(o=r;o=o.getNext();)if(o.type==CKEDITOR.NODE_ELEMENT&&o.isBlockBoundary()){r.move(o,!0);break}if(s&&"blockquote"==s.getParent().getName())for(o=s;o=o.getPrevious();)if(o.type==CKEDITOR.NODE_ELEMENT&&o.isBlockBoundary()){s.move(o);break}}var l=n.createIterator();if(l.enlargeBr=t.config.enterMode!=CKEDITOR.ENTER_BR,e==CKEDITOR.TRISTATE_OFF){for(r=[];e=l.getNextParagraph();)r.push(e);for(1>r.length&&(e=t.document.createElement(t.config.enterMode==CKEDITOR.ENTER_P?"p":"div"),s=a.shift(),n.insertNode(e),e.append(new CKEDITOR.dom.text("",t.document)),n.moveToBookmark(s),n.selectNodeContents(e),n.collapse(!0),s=n.createBookmark(),r.push(e),a.unshift(s)),o=r[0].getParent(),n=[],s=0;s<r.length;s++)e=r[s],o=o.getCommonAncestor(e.getParent());for(e={table:1,tbody:1,tr:1,ol:1,ul:1};e[o.getName()];)o=o.getParent();for(s=null;0<r.length;){for(e=r.shift();!e.getParent().equals(o);)e=e.getParent();e.equals(s)||n.push(e),s=e}for(;0<n.length;)if(e=n.shift(),"blockquote"==e.getName()){for(s=new CKEDITOR.dom.documentFragment(t.document);e.getFirst();)s.append(e.getFirst().remove()),r.push(s.getLast());s.replace(e)}else r.push(e);for(n=t.document.createElement("blockquote"),n.insertBefore(r[0]);0<r.length;)e=r.shift(),n.append(e)}else if(e==CKEDITOR.TRISTATE_ON){for(s=[],o={};e=l.getNextParagraph();){for(r=n=null;e.getParent();){if("blockquote"==e.getParent().getName()){n=e.getParent(),r=e;break}e=e.getParent()}n&&r&&!r.getCustomData("blockquote_moveout")&&(s.push(r),CKEDITOR.dom.element.setMarker(o,r,"blockquote_moveout",!0))}for(CKEDITOR.dom.element.clearAllMarkers(o),e=[],r=[],o={};0<s.length;)l=s.shift(),n=l.getParent(),l.getPrevious()?l.getNext()?(l.breakParent(l.getParent()),r.push(l.getNext())):l.remove().insertAfter(n):l.remove().insertBefore(n),n.getCustomData("blockquote_processed")||(r.push(n),CKEDITOR.dom.element.setMarker(o,n,"blockquote_processed",!0)),e.push(l);for(CKEDITOR.dom.element.clearAllMarkers(o),s=r.length-1;s>=0;s--){n=r[s];t:{o=n;for(var l=0,h=o.getChildCount(),c=void 0;h>l&&(c=o.getChild(l));l++)if(c.type==CKEDITOR.NODE_ELEMENT&&c.isBlockBoundary()){o=!1;break t}o=!0}o&&n.remove()}if(t.config.enterMode==CKEDITOR.ENTER_BR)for(n=!0;e.length;)if(l=e.shift(),"div"==l.getName()){for(s=new CKEDITOR.dom.documentFragment(t.document),n&&l.getPrevious()&&!(l.getPrevious().type==CKEDITOR.NODE_ELEMENT&&l.getPrevious().isBlockBoundary())&&s.append(t.document.createElement("br")),n=l.getNext()&&!(l.getNext().type==CKEDITOR.NODE_ELEMENT&&l.getNext().isBlockBoundary());l.getFirst();)l.getFirst().remove().appendTo(s);n&&s.append(t.document.createElement("br")),s.replace(l),n=!1}}i.selectBookmarks(a),t.focus()}},refresh:function(t,e){this.setState(t.elementPath(e.block||e.blockLimit).contains("blockquote",1)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)},context:"blockquote",allowedContent:"blockquote",requiredContent:"blockquote"};CKEDITOR.plugins.add("blockquote",{init:function(e){e.blockless||(e.addCommand("blockquote",t),e.ui.addButton&&e.ui.addButton("Blockquote",{label:e.lang.blockquote.toolbar,command:"blockquote",toolbar:"blocks,10"}))}})}(),function(){function t(t){function e(){var e=t.editable();e.on(C,function(t){(!CKEDITOR.env.ie||!p)&&d(t)}),CKEDITOR.env.ie&&e.on("paste",function(e){g||(a(),e.data.preventDefault(),d(e),r("paste")||t.openDialog("paste"))}),CKEDITOR.env.ie&&(e.on("contextmenu",o,null,null,0),e.on("beforepaste",function(t){t.data&&!t.data.$.ctrlKey&&!t.data.$.shiftKey&&o()},null,null,0)),e.on("beforecut",function(){!p&&l(t)});var i;e.attachListener(CKEDITOR.env.ie?e:t.document.getDocumentElement(),"mouseup",function(){i=setTimeout(function(){f()},0)}),t.on("destroy",function(){clearTimeout(i)}),e.on("keyup",f)}function i(e){return{type:e,canUndo:"cut"==e,startDisabled:!0,exec:function(){"cut"==this.type&&l();var e,i=this.type;if(CKEDITOR.env.ie)e=r(i);else try{e=t.document.$.execCommand(i,!1,null)}catch(n){e=!1}return e||alert(t.lang.clipboard[this.type+"Error"]),e}}}function n(){return{canUndo:!1,async:!0,exec:function(t,e){var i=function(e,i){e&&s(e.type,e.dataValue,!!i),t.fire("afterCommandExec",{name:"paste",command:n,returnValue:!!e})},n=this;"string"==typeof e?i({type:"auto",dataValue:e},1):t.getClipboardData(i)}}}function a(){g=1,setTimeout(function(){g=0},100)}function o(){p=1,setTimeout(function(){p=0},10)}function r(e){var i=t.document,n=i.getBody(),a=!1,o=function(){a=!0};return n.on(e,o),(7<CKEDITOR.env.version?i.$:i.$.selection.createRange()).execCommand(e),n.removeListener(e,o),a}function s(e,i,n){return e={type:e},n&&!1===t.fire("beforePaste",e)||!i?!1:(e.dataValue=i,t.fire("paste",e))}function l(){if(CKEDITOR.env.ie&&!CKEDITOR.env.quirks){var e,i,n,a=t.getSelection();a.getType()==CKEDITOR.SELECTION_ELEMENT&&(e=a.getSelectedElement())&&(i=a.getRanges()[0],n=t.document.createText(""),n.insertBefore(e),i.setStartBefore(n),i.setEndAfter(e),a.selectRanges([i]),setTimeout(function(){e.getParent()&&(n.remove(),a.selectElement(e))},0))}}function h(e,i){var n,a=t.document,o=t.editable(),r=function(t){t.cancel()};if(!a.getById("cke_pastebin")){var s=t.getSelection(),l=s.createBookmarks();CKEDITOR.env.ie&&s.root.fire("selectionchange");var h=new CKEDITOR.dom.element(!CKEDITOR.env.webkit&&!o.is("body")||CKEDITOR.env.ie?"div":"body",a);h.setAttributes({id:"cke_pastebin","data-cke-temp":"1"});var c=0,a=a.getWindow();CKEDITOR.env.webkit?(o.append(h),h.addClass("cke_editable"),o.is("body")||(c="static"!=o.getComputedStyle("position")?o:CKEDITOR.dom.element.get(o.$.offsetParent),c=c.getDocumentPosition().y)):o.getAscendant(CKEDITOR.env.ie?"body":"html",1).append(h),h.setStyles({position:"absolute",top:a.getScrollPosition().y-c+10+"px",width:"1px",height:Math.max(1,a.getViewPaneSize().height-20)+"px",overflow:"hidden",margin:0,padding:0}),CKEDITOR.env.safari&&h.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select","text")),(c=h.getParent().isReadOnly())?(h.setOpacity(0),h.setAttribute("contenteditable",!0)):h.setStyle("ltr"==t.config.contentsLangDirection?"left":"right","-1000px"),t.on("selectionChange",r,null,null,0),(CKEDITOR.env.webkit||CKEDITOR.env.gecko)&&(n=o.once("blur",r,null,null,-100)),c&&h.focus(),c=new CKEDITOR.dom.range(h),c.selectNodeContents(h);var u=c.select();CKEDITOR.env.ie&&(n=o.once("blur",function(){t.lockSelection(u)}));var d=CKEDITOR.document.getWindow().getScrollPosition().y;setTimeout(function(){CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=d),n&&n.removeListener(),CKEDITOR.env.ie&&o.focus(),s.selectBookmarks(l),h.remove();var e;CKEDITOR.env.webkit&&(e=h.getFirst())&&e.is&&e.hasClass("Apple-style-span")&&(h=e),t.removeListener("selectionChange",r),i(h.getHtml())},0)}}function c(){if(CKEDITOR.env.ie){t.focus(),a();var e=t.focusManager;if(e.lock(),t.editable().fire(C)&&!r("paste"))return e.unlock(),!1;e.unlock()}else try{if(t.editable().fire(C)&&!t.document.$.execCommand("Paste",!1,null))throw 0}catch(i){return!1}return!0}function u(e){if("wysiwyg"==t.mode)switch(e.data.keyCode){case CKEDITOR.CTRL+86:case CKEDITOR.SHIFT+45:e=t.editable(),a(),!CKEDITOR.env.ie&&e.fire("beforepaste");break;case CKEDITOR.CTRL+88:case CKEDITOR.SHIFT+46:t.fire("saveSnapshot"),setTimeout(function(){t.fire("saveSnapshot")},50)}}function d(e){var i={type:"auto"},n=t.fire("beforePaste",i);h(e,function(t){t=t.replace(/<span[^>]+data-cke-bookmark[^<]*?<\/span>/gi,""),n&&s(i.type,t,0,1)})}function f(){if("wysiwyg"==t.mode){var e=m("paste");t.getCommand("cut").setState(m("cut")),t.getCommand("copy").setState(m("copy")),t.getCommand("paste").setState(e),t.fire("pasteState",e)}}function m(e){if(v&&e in{paste:1,cut:1})return CKEDITOR.TRISTATE_DISABLED;if("paste"==e)return CKEDITOR.TRISTATE_OFF;var e=t.getSelection(),i=e.getRanges();return e.getType()==CKEDITOR.SELECTION_NONE||1==i.length&&i[0].collapsed?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_OFF}var p=0,g=0,v=0,C=CKEDITOR.env.ie?"beforepaste":"paste";!function(){t.on("key",u),t.on("contentDom",e),t.on("selectionChange",function(t){v=t.data.selection.getRanges()[0].checkReadOnly(),f()}),t.contextMenu&&t.contextMenu.addListener(function(t,e){return v=e.getRanges()[0].checkReadOnly(),{cut:m("cut"),copy:m("copy"),paste:m("paste")}})}(),function(){function e(e,i,n,a,o){var r=t.lang.clipboard[i];t.addCommand(i,n),t.ui.addButton&&t.ui.addButton(e,{label:r,command:i,toolbar:"clipboard,"+a}),t.addMenuItems&&t.addMenuItem(i,{label:r,command:i,group:"clipboard",order:o})}e("Cut","cut",i("cut"),10,1),e("Copy","copy",i("copy"),20,4),e("Paste","paste",n(),30,8)}(),t.getClipboardData=function(e,i){function n(t){t.removeListener(),t.cancel(),i(t.data)}function a(t){t.removeListener(),t.cancel(),l=!0,i({type:s,dataValue:t.data})}function o(){this.customTitle=e&&e.title}var r=!1,s="auto",l=!1;i||(i=e,e=null),t.on("paste",n,null,null,0),t.on("beforePaste",function(t){t.removeListener(),r=!0,s=t.data.type},null,null,1e3),!1===c()&&(t.removeListener("paste",n),r&&t.fire("pasteDialog",o)?(t.on("pasteDialogCommit",a),t.on("dialogHide",function(t){t.removeListener(),t.data.removeListener("pasteDialogCommit",a),setTimeout(function(){l||i(null)},10)})):i(null))}}function e(t){if(CKEDITOR.env.webkit){if(!t.match(/^[^<]*$/g)&&!t.match(/^(<div><br( ?\/)?><\/div>|<div>[^<]*<\/div>)*$/gi))return"html"}else if(CKEDITOR.env.ie){if(!t.match(/^([^<]|<br( ?\/)?>)*$/gi)&&!t.match(/^(<p>([^<]|<br( ?\/)?>)*<\/p>|(\r\n))*$/gi))return"html"}else{if(!CKEDITOR.env.gecko)return"html";if(!t.match(/^([^<]|<br( ?\/)?>)*$/gi))return"html"}return"htmlifiedtext"}function i(t,e){function i(t){return CKEDITOR.tools.repeat("</p><p>",~~(t/2))+(1==t%2?"<br>":"")}return e=e.replace(/\s+/g," ").replace(/> +</g,"><").replace(/<br ?\/>/gi,"<br>"),e=e.replace(/<\/?[A-Z]+>/g,function(t){return t.toLowerCase()}),e.match(/^[^<]$/)?e:(CKEDITOR.env.webkit&&-1<e.indexOf("<div>")&&(e=e.replace(/^(<div>(<br>|)<\/div>)(?!$|(<div>(<br>|)<\/div>))/g,"<br>").replace(/^(<div>(<br>|)<\/div>){2}(?!$)/g,"<div></div>"),e.match(/<div>(<br>|)<\/div>/)&&(e="<p>"+e.replace(/(<div>(<br>|)<\/div>)+/g,function(t){return i(t.split("</div><div>").length+1)})+"</p>"),e=e.replace(/<\/div><div>/g,"<br>"),e=e.replace(/<\/?div>/g,"")),CKEDITOR.env.gecko&&t.enterMode!=CKEDITOR.ENTER_BR&&(CKEDITOR.env.gecko&&(e=e.replace(/^<br><br>$/,"<br>")),-1<e.indexOf("<br><br>")&&(e="<p>"+e.replace(/(<br>){2,}/g,function(t){return i(t.length/4)})+"</p>")),o(t,e))}function n(){var t=new CKEDITOR.htmlParser.filter,e={blockquote:1,dl:1,fieldset:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ol:1,p:1,table:1,ul:1},i=CKEDITOR.tools.extend({br:0},CKEDITOR.dtd.$inline),n={p:1,br:1,"cke:br":1},a=CKEDITOR.dtd,o=CKEDITOR.tools.extend({area:1,basefont:1,embed:1,iframe:1,map:1,object:1,param:1},CKEDITOR.dtd.$nonBodyContent,CKEDITOR.dtd.$cdata),r=function(t){delete t.name,t.add(new CKEDITOR.htmlParser.text(" "))},s=function(t){for(var e,i=t;(i=i.next)&&i.name&&i.name.match(/^h\d$/);)for(e=new CKEDITOR.htmlParser.element("cke:br"),e.isEmpty=!0,t.add(e);e=i.children.shift();)t.add(e)};return t.addRules({elements:{h1:s,h2:s,h3:s,h4:s,h5:s,h6:s,img:function(t){var t=CKEDITOR.tools.trim(t.attributes.alt||""),e=" ";return t&&!t.match(/(^http|\.(jpe?g|gif|png))/i)&&(e=" ["+t+"] "),new CKEDITOR.htmlParser.text(e)},td:r,th:r,$:function(t){var r,s=t.name;if(o[s])return!1;if(t.attributes={},"br"==s)return t;if(e[s])t.name="p";else if(i[s])delete t.name;else if(a[s]){if(r=new CKEDITOR.htmlParser.element("cke:br"),r.isEmpty=!0,CKEDITOR.dtd.$empty[s])return r;t.add(r,0),r=r.clone(),r.isEmpty=!0,t.add(r),delete t.name}return n[t.name]||delete t.name,t}}},{applyToAll:!0}),t}function a(t,e,i){var e=new CKEDITOR.htmlParser.fragment.fromHtml(e),n=new CKEDITOR.htmlParser.basicWriter;e.writeHtml(n,i);var e=n.getHtml(),e=e.replace(/\s*(<\/?[a-z:]+ ?\/?>)\s*/g,"$1").replace(/(<cke:br \/>){2,}/g,"<cke:br />").replace(/(<cke:br \/>)(<\/?p>|<br \/>)/g,"$2").replace(/(<\/?p>|<br \/>)(<cke:br \/>)/g,"$1").replace(/<(cke:)?br( \/)?>/g,"<br>").replace(/<p><\/p>/g,""),a=0,e=e.replace(/<\/?p>/g,function(t){if("<p>"==t){if(1<++a)return"</p><p>"}else if(0<--a)return"</p><p>";return t}).replace(/<p><\/p>/g,"");return o(t,e)}function o(t,e){return t.enterMode==CKEDITOR.ENTER_BR?e=e.replace(/(<\/p><p>)+/g,function(t){return CKEDITOR.tools.repeat("<br>",2*(t.length/7))}).replace(/<\/?p>/g,""):t.enterMode==CKEDITOR.ENTER_DIV&&(e=e.replace(/<(\/)?p>/g,"<$1div>")),e}CKEDITOR.plugins.add("clipboard",{requires:"dialog",init:function(o){var r;t(o),CKEDITOR.dialog.add("paste",CKEDITOR.getUrl(this.path+"dialogs/paste.js")),o.on("paste",function(t){var e=t.data.dataValue,i=CKEDITOR.dtd.$block;if(-1<e.indexOf("Apple-")&&(e=e.replace(/<span class="Apple-converted-space">&nbsp;<\/span>/gi," "),"html"!=t.data.type&&(e=e.replace(/<span class="Apple-tab-span"[^>]*>([^<]*)<\/span>/gi,function(t,e){return e.replace(/\t/g,"&nbsp;&nbsp; &nbsp;")})),-1<e.indexOf('<br class="Apple-interchange-newline">')&&(t.data.startsWithEOL=1,t.data.preSniffing="html",e=e.replace(/<br class="Apple-interchange-newline">/,"")),e=e.replace(/(<[^>]+) class="Apple-[^"]*"/gi,"$1")),e.match(/^<[^<]+cke_(editable|contents)/i)){var n,a,o=new CKEDITOR.dom.element("div");for(o.setHtml(e);1==o.getChildCount()&&(n=o.getFirst())&&n.type==CKEDITOR.NODE_ELEMENT&&(n.hasClass("cke_editable")||n.hasClass("cke_contents"));)o=a=n;a&&(e=a.getHtml().replace(/<br>$/i,""))}CKEDITOR.env.ie?e=e.replace(/^&nbsp;(?: |\r\n)?<(\w+)/g,function(e,n){return n.toLowerCase()in i?(t.data.preSniffing="html","<"+n):e}):CKEDITOR.env.webkit?e=e.replace(/<\/(\w+)><div><br><\/div>$/,function(e,n){return n in i?(t.data.endsWithEOL=1,"</"+n+">"):e}):CKEDITOR.env.gecko&&(e=e.replace(/(\s)<br>$/,"$1")),t.data.dataValue=e},null,null,3),o.on("paste",function(t){var s,t=t.data,l=t.type,h=t.dataValue,c=o.config.clipboard_defaultContentType||"html";s="html"==l||"html"==t.preSniffing?"html":e(h),"htmlifiedtext"==s?h=i(o.config,h):"text"==l&&"html"==s&&(h=a(o.config,h,r||(r=n(o)))),t.startsWithEOL&&(h='<br data-cke-eol="1">'+h),t.endsWithEOL&&(h+='<br data-cke-eol="1">'),"auto"==l&&(l="html"==s||"html"==c?"html":"text"),t.type=l,t.dataValue=h,delete t.preSniffing,delete t.startsWithEOL,delete t.endsWithEOL},null,null,6),o.on("paste",function(t){t=t.data,o.insertHtml(t.dataValue,t.type),setTimeout(function(){o.fire("afterPaste")},0)},null,null,1e3),o.on("pasteDialog",function(t){setTimeout(function(){o.openDialog("paste",t.data)},0)})}})}(),function(){var t='<a id="{id}" class="cke_button cke_button__{name} cke_button_{state} {cls}"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?"":" href=\"javascript:void('{titleJs}')\"")+' title="{title}" tabindex="-1" hidefocus="true" role="button" aria-labelledby="{id}_label" aria-haspopup="{hasArrow}" aria-disabled="{ariaDisabled}"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(t+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(t+=' onblur="this.style.cssText = this.style.cssText;"');var t=t+(' onkeydown="return CKEDITOR.tools.callFunction({keydownFn},event);" onfocus="return CKEDITOR.tools.callFunction({focusFn},event);" '+(CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick")+'="CKEDITOR.tools.callFunction({clickFn},this);return false;"><span class="cke_button_icon cke_button__{iconName}_icon" style="{style}"'),t=t+'>&nbsp;</span><span id="{id}_label" class="cke_button_label cke_button__{name}_label" aria-hidden="false">{label}</span>{arrowHtml}</a>',e=CKEDITOR.addTemplate("buttonArrow",'<span class="cke_button_arrow">'+(CKEDITOR.env.hc?"&#9660;":"")+"</span>"),i=CKEDITOR.addTemplate("button",t);CKEDITOR.plugins.add("button",{beforeInit:function(t){t.ui.addHandler(CKEDITOR.UI_BUTTON,CKEDITOR.ui.button.handler)}}),CKEDITOR.UI_BUTTON="button",CKEDITOR.ui.button=function(t){CKEDITOR.tools.extend(this,t,{title:t.label,click:t.click||function(e){e.execCommand(t.command)}}),this._={}},CKEDITOR.ui.button.handler={create:function(t){return new CKEDITOR.ui.button(t)}},CKEDITOR.ui.button.prototype={render:function(t,n){var a,o=CKEDITOR.env,r=this._.id=CKEDITOR.tools.getNextId(),s="",l=this.command;this._.editor=t;var h={id:r,button:this,editor:t,focus:function(){CKEDITOR.document.getById(r).focus()},execute:function(){this.button.click(t)},attach:function(t){this.button.attach(t)}},c=CKEDITOR.tools.addFunction(function(t){return h.onkey?(t=new CKEDITOR.dom.event(t),!1!==h.onkey(h,t.getKeystroke())):void 0}),u=CKEDITOR.tools.addFunction(function(t){var e;return h.onfocus&&(e=!1!==h.onfocus(h,new CKEDITOR.dom.event(t))),e}),d=0;if(h.clickFn=a=CKEDITOR.tools.addFunction(function(){d&&(t.unlockSelection(1),d=0),h.execute(),o.iOS&&t.focus()}),this.modes){var f={},m=function(){var e=t.mode;e&&(e=this.modes[e]?void 0!=f[e]?f[e]:CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,e=t.readOnly&&!this.readOnly?CKEDITOR.TRISTATE_DISABLED:e,this.setState(e),this.refresh&&this.refresh())};t.on("beforeModeUnload",function(){t.mode&&this._.state!=CKEDITOR.TRISTATE_DISABLED&&(f[t.mode]=this._.state)},this),t.on("activeFilterChange",m,this),t.on("mode",m,this),!this.readOnly&&t.on("readOnly",m,this)}else l&&(l=t.getCommand(l))&&(l.on("state",function(){this.setState(l.state)},this),s+=l.state==CKEDITOR.TRISTATE_ON?"on":l.state==CKEDITOR.TRISTATE_DISABLED?"disabled":"off");this.directional&&t.on("contentDirChanged",function(e){var i=CKEDITOR.document.getById(this._.id),n=i.getFirst(),e=e.data;e!=t.lang.dir?i.addClass("cke_"+e):i.removeClass("cke_ltr").removeClass("cke_rtl"),n.setAttribute("style",CKEDITOR.skin.getIconStyle(p,"rtl"==e,this.icon,this.iconOffset))},this),l||(s+="off");var p=m=this.name||this.command;return this.icon&&!/\./.test(this.icon)&&(p=this.icon,this.icon=null),s={id:r,name:m,iconName:p,label:this.label,cls:this.className||"",state:s,ariaDisabled:"disabled"==s?"true":"false",title:this.title,titleJs:o.gecko&&!o.hc?"":(this.title||"").replace("'",""),hasArrow:this.hasArrow?"true":"false",keydownFn:c,focusFn:u,clickFn:a,style:CKEDITOR.skin.getIconStyle(p,"rtl"==t.lang.dir,this.icon,this.iconOffset),arrowHtml:this.hasArrow?e.output():""},i.output(s,n),this.onRender&&this.onRender(),h},setState:function(t){if(this._.state==t)return!1;this._.state=t;var e=CKEDITOR.document.getById(this._.id);return e?(e.setState(t,"cke_button"),t==CKEDITOR.TRISTATE_DISABLED?e.setAttribute("aria-disabled",!0):e.removeAttribute("aria-disabled"),this.hasArrow?(t=t==CKEDITOR.TRISTATE_ON?this._.editor.lang.button.selectedLabel.replace(/%1/g,this.label):this.label,CKEDITOR.document.getById(this._.id+"_label").setText(t)):t==CKEDITOR.TRISTATE_ON?e.setAttribute("aria-pressed",!0):e.removeAttribute("aria-pressed"),!0):!1},getState:function(){return this._.state},toFeature:function(t){if(this._.feature)return this._.feature;var e=this;return!this.allowedContent&&!this.requiredContent&&this.command&&(e=t.getCommand(this.command)||e),this._.feature=e}},CKEDITOR.ui.prototype.addButton=function(t,e){this.add(t,CKEDITOR.UI_BUTTON,e)}}(),CKEDITOR.plugins.add("panelbutton",{requires:"button",onLoad:function(){function t(t){var e=this._;e.state!=CKEDITOR.TRISTATE_DISABLED&&(this.createPanel(t),e.on?e.panel.hide():e.panel.showBlock(this._.id,this.document.getById(this._.id),4))}CKEDITOR.ui.panelButton=CKEDITOR.tools.createClass({base:CKEDITOR.ui.button,$:function(e){var i=e.panel||{};delete e.panel,this.base(e),this.document=i.parent&&i.parent.getDocument()||CKEDITOR.document,i.block={attributes:i.attributes},this.hasArrow=i.toolbarRelated=!0,this.click=t,this._={panelDefinition:i}},statics:{handler:{create:function(t){return new CKEDITOR.ui.panelButton(t)}}},proto:{createPanel:function(t){var e=this._;if(!e.panel){var i=this._.panelDefinition,n=this._.panelDefinition.block,a=i.parent||CKEDITOR.document.getBody(),o=this._.panel=new CKEDITOR.ui.floatPanel(t,a,i),i=o.addBlock(e.id,n),r=this;o.onShow=function(){r.className&&this.element.addClass(r.className+"_panel"),r.setState(CKEDITOR.TRISTATE_ON),e.on=1,r.editorFocus&&t.focus(),r.onOpen&&r.onOpen()},o.onHide=function(i){r.className&&this.element.getFirst().removeClass(r.className+"_panel"),r.setState(r.modes&&r.modes[t.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),e.on=0,!i&&r.onClose&&r.onClose()},o.onEscape=function(){o.hide(1),r.document.getById(e.id).focus()},this.onBlock&&this.onBlock(o,i),i.onHide=function(){e.on=0,r.setState(CKEDITOR.TRISTATE_OFF)}}}}})},beforeInit:function(t){t.ui.addHandler(CKEDITOR.UI_PANELBUTTON,CKEDITOR.ui.panelButton.handler)}}),CKEDITOR.UI_PANELBUTTON="panelbutton",function(){CKEDITOR.plugins.add("panel",{beforeInit:function(t){t.ui.addHandler(CKEDITOR.UI_PANEL,CKEDITOR.ui.panel.handler)}}),CKEDITOR.UI_PANEL="panel",CKEDITOR.ui.panel=function(t,e){e&&CKEDITOR.tools.extend(this,e),CKEDITOR.tools.extend(this,{className:"",css:[]}),this.id=CKEDITOR.tools.getNextId(),this.document=t,this.isFramed=this.forceIFrame||this.css.length,this._={blocks:{}}},CKEDITOR.ui.panel.handler={create:function(t){return new CKEDITOR.ui.panel(t)}};var t=CKEDITOR.addTemplate("panel",'<div lang="{langCode}" id="{id}" dir={dir} class="cke cke_reset_all {editorId} cke_panel cke_panel {cls} cke_{dir}" style="z-index:{z-index}" role="presentation">{frame}</div>'),e=CKEDITOR.addTemplate("panel-frame",'<iframe id="{id}" class="cke_panel_frame" role="presentation" frameborder="0" src="{src}"></iframe>'),i=CKEDITOR.addTemplate("panel-frame-inner",'<!DOCTYPE html><html class="cke_panel_container {env}" dir="{dir}" lang="{langCode}"><head>{css}</head><body class="cke_{dir}" style="margin:0;padding:0" onload="{onload}"></body></html>');CKEDITOR.ui.panel.prototype={render:function(n,a){this.getHolderElement=function(){var t=this._.holder;if(!t){if(this.isFramed){var t=this.document.getById(this.id+"_frame"),e=t.getParent(),t=t.getFrameDocument();CKEDITOR.env.iOS&&e.setStyles({overflow:"scroll","-webkit-overflow-scrolling":"touch"}),e=CKEDITOR.tools.addFunction(CKEDITOR.tools.bind(function(){this.isLoaded=!0,this.onLoad&&this.onLoad()},this)),t.write(i.output(CKEDITOR.tools.extend({css:CKEDITOR.tools.buildStyleHtml(this.css),onload:"window.parent.CKEDITOR.tools.callFunction("+e+");"},o))),t.getWindow().$.CKEDITOR=CKEDITOR,t.on("keydown",function(t){var e=t.data.getKeystroke(),i=this.document.getById(this.id).getAttribute("dir");this._.onKeyDown&&!1===this._.onKeyDown(e)?t.data.preventDefault():(27==e||e==("rtl"==i?39:37))&&this.onEscape&&!1===this.onEscape(e)&&t.data.preventDefault()},this),t=t.getBody(),t.unselectable(),CKEDITOR.env.air&&CKEDITOR.tools.callFunction(e)}else t=this.document.getById(this.id);this._.holder=t}return t};var o={editorId:n.id,id:this.id,langCode:n.langCode,dir:n.lang.dir,cls:this.className,frame:"",env:CKEDITOR.env.cssClass,"z-index":n.config.baseFloatZIndex+1};
if(this.isFramed){var r=CKEDITOR.env.air?"javascript:void(0)":CKEDITOR.env.ie?"javascript:void(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"}())":"";o.frame=e.output({id:this.id+"_frame",src:r})}return r=t.output(o),a&&a.push(r),r},addBlock:function(t,e){return e=this._.blocks[t]=e instanceof CKEDITOR.ui.panel.block?e:new CKEDITOR.ui.panel.block(this.getHolderElement(),e),this._.currentBlock||this.showBlock(t),e},getBlock:function(t){return this._.blocks[t]},showBlock:function(t){var t=this._.blocks[t],e=this._.currentBlock,i=!this.forceIFrame||CKEDITOR.env.ie?this._.holder:this.document.getById(this.id+"_frame");return e&&e.hide(),this._.currentBlock=t,CKEDITOR.fire("ariaWidget",i),t._.focusIndex=-1,this._.onKeyDown=t.onKeyDown&&CKEDITOR.tools.bind(t.onKeyDown,t),t.show(),t},destroy:function(){this.element&&this.element.remove()}},CKEDITOR.ui.panel.block=CKEDITOR.tools.createClass({$:function(t,e){this.element=t.append(t.getDocument().createElement("div",{attributes:{tabindex:-1,"class":"cke_panel_block"},styles:{display:"none"}})),e&&CKEDITOR.tools.extend(this,e),this.element.setAttributes({role:this.attributes.role||"presentation","aria-label":this.attributes["aria-label"],title:this.attributes.title||this.attributes["aria-label"]}),this.keys={},this._.focusIndex=-1,this.element.disableContextMenu()},_:{markItem:function(t){-1!=t&&(t=this.element.getElementsByTag("a").getItem(this._.focusIndex=t),CKEDITOR.env.webkit&&t.getDocument().getWindow().focus(),t.focus(),this.onMark&&this.onMark(t))}},proto:{show:function(){this.element.setStyle("display","")},hide:function(){(!this.onHide||!0!==this.onHide.call(this))&&this.element.setStyle("display","none")},onKeyDown:function(t,e){var i=this.keys[t];switch(i){case"next":for(var n,a=this._.focusIndex,i=this.element.getElementsByTag("a");n=i.getItem(++a);)if(n.getAttribute("_cke_focus")&&n.$.offsetWidth){this._.focusIndex=a,n.focus();break}return n||e?!1:(this._.focusIndex=-1,this.onKeyDown(t,1));case"prev":for(a=this._.focusIndex,i=this.element.getElementsByTag("a");a>0&&(n=i.getItem(--a));){if(n.getAttribute("_cke_focus")&&n.$.offsetWidth){this._.focusIndex=a,n.focus();break}n=null}return n||e?!1:(this._.focusIndex=i.count(),this.onKeyDown(t,1));case"click":case"mouseup":return a=this._.focusIndex,(n=a>=0&&this.element.getElementsByTag("a").getItem(a))&&(n.$[i]?n.$[i]():n.$["on"+i]()),!1}return!0}}})}(),CKEDITOR.plugins.add("floatpanel",{requires:"panel"}),function(){function t(t,i,n,a,o){var o=CKEDITOR.tools.genKey(i.getUniqueId(),n.getUniqueId(),t.lang.dir,t.uiColor||"",a.css||"",o||""),r=e[o];return r||(r=e[o]=new CKEDITOR.ui.panel(i,a),r.element=n.append(CKEDITOR.dom.element.createFromHtml(r.render(t),i)),r.element.setStyles({display:"none",position:"absolute"})),r}var e={};CKEDITOR.ui.floatPanel=CKEDITOR.tools.createClass({$:function(e,i,n,a){function o(){h.hide()}n.forceIFrame=1,n.toolbarRelated&&e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&(i=CKEDITOR.document.getById("cke_"+e.name));var r=i.getDocument(),a=t(e,r,i,n,a||0),s=a.element,l=s.getFirst(),h=this;s.disableContextMenu(),this.element=s,this._={editor:e,panel:a,parentElement:i,definition:n,document:r,iframe:l,children:[],dir:e.lang.dir},e.on("mode",o),e.on("resize",o),CKEDITOR.env.iOS||r.getWindow().on("resize",o)},proto:{addBlock:function(t,e){return this._.panel.addBlock(t,e)},addListBlock:function(t,e){return this._.panel.addListBlock(t,e)},getBlock:function(t){return this._.panel.getBlock(t)},showBlock:function(t,e,i,n,a,o){var r=this._.panel,s=r.showBlock(t);this.allowBlur(!1),t=this._.editor.editable(),this._.returnFocus=t.hasFocus?t:new CKEDITOR.dom.element(CKEDITOR.document.$.activeElement),this._.hideTimeout=0;var l=this.element,t=this._.iframe,t=CKEDITOR.env.ie?t:new CKEDITOR.dom.window(t.$.contentWindow),h=l.getDocument(),c=this._.parentElement.getPositionedAncestor(),u=e.getDocumentPosition(h),h=c?c.getDocumentPosition(h):{x:0,y:0},d="rtl"==this._.dir,f=u.x+(n||0)-h.x,m=u.y+(a||0)-h.y;!d||1!=i&&4!=i?d||2!=i&&3!=i||(f+=e.$.offsetWidth-1):f+=e.$.offsetWidth,(3==i||4==i)&&(m+=e.$.offsetHeight-1),this._.panel._.offsetParentId=e.getId(),l.setStyles({top:m+"px",left:0,display:""}),l.setOpacity(0),l.getFirst().removeStyle("width"),this._.editor.focusManager.add(t),this._.blurSet||(CKEDITOR.event.useCapture=!0,t.on("blur",function(t){function e(){delete this._.returnFocus,this.hide()}this.allowBlur()&&t.data.getPhase()==CKEDITOR.EVENT_PHASE_AT_TARGET&&this.visible&&!this._.activeChild&&(CKEDITOR.env.iOS?this._.hideTimeout||(this._.hideTimeout=CKEDITOR.tools.setTimeout(e,0,this)):e.call(this))},this),t.on("focus",function(){this._.focused=!0,this.hideChild(),this.allowBlur(!0)},this),CKEDITOR.env.iOS&&(t.on("touchstart",function(){clearTimeout(this._.hideTimeout)},this),t.on("touchend",function(){this._.hideTimeout=0,this.focus()},this)),CKEDITOR.event.useCapture=!1,this._.blurSet=1),r.onEscape=CKEDITOR.tools.bind(function(t){return this.onEscape&&this.onEscape(t)===!1?!1:void 0},this),CKEDITOR.tools.setTimeout(function(){var t=CKEDITOR.tools.bind(function(){if(l.removeStyle("width"),s.autoSize){var t=s.element.getDocument(),t=(CKEDITOR.env.webkit?s.element:t.getBody()).$.scrollWidth;CKEDITOR.env.ie&&CKEDITOR.env.quirks&&t>0&&(t+=(l.$.offsetWidth||0)-(l.$.clientWidth||0)+3),l.setStyle("width",t+10+"px"),t=s.element.$.scrollHeight,CKEDITOR.env.ie&&CKEDITOR.env.quirks&&t>0&&(t+=(l.$.offsetHeight||0)-(l.$.clientHeight||0)+3),l.setStyle("height",t+"px"),r._.currentBlock.element.setStyle("display","none").removeStyle("display")}else l.removeStyle("height");d&&(f-=l.$.offsetWidth),l.setStyle("left",f+"px");var e=r.element.getWindow(),t=l.$.getBoundingClientRect(),e=e.getViewPaneSize(),i=t.width||t.right-t.left,n=t.height||t.bottom-t.top,a=d?t.right:e.width-t.left,h=d?e.width-t.right:t.left;d?i>a&&(f=h>i?f+i:e.width>i?f-t.left:f-t.right+e.width):i>a&&(f=h>i?f-i:e.width>i?f-t.right+e.width:f-t.left),i=t.top,e.height-t.top<n&&(m=i>n?m-n:e.height>n?m-t.bottom+e.height:m-t.top),CKEDITOR.env.ie&&(e=t=new CKEDITOR.dom.element(l.$.offsetParent),"html"==e.getName()&&(e=e.getDocument().getBody()),"rtl"==e.getComputedStyle("direction")&&(f=CKEDITOR.env.ie8Compat?f-2*l.getDocument().getDocumentElement().$.scrollLeft:f-(t.$.scrollWidth-t.$.clientWidth)));var c,t=l.getFirst();(c=t.getCustomData("activePanel"))&&c.onHide&&c.onHide.call(this,1),t.setCustomData("activePanel",this),l.setStyles({top:m+"px",left:f+"px"}),l.setOpacity(1),o&&o()},this);r.isLoaded?t():r.onLoad=t,CKEDITOR.tools.setTimeout(function(){var t=CKEDITOR.env.webkit&&CKEDITOR.document.getWindow().getScrollPosition().y;this.focus(),s.element.focus(),CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=t),this.allowBlur(!0),this._.editor.fire("panelShow",this)},0,this)},CKEDITOR.env.air?200:0,this),this.visible=1,this.onShow&&this.onShow.call(this)},focus:function(){if(CKEDITOR.env.webkit){var t=CKEDITOR.document.getActive();t&&!t.equals(this._.iframe)&&t.$.blur()}(this._.lastFocused||this._.iframe.getFrameDocument().getWindow()).focus()},blur:function(){var t=this._.iframe.getFrameDocument().getActive();t&&t.is("a")&&(this._.lastFocused=t)},hide:function(t){!this.visible||this.onHide&&!0===this.onHide.call(this)||(this.hideChild(),CKEDITOR.env.gecko&&this._.iframe.getFrameDocument().$.activeElement.blur(),this.element.setStyle("display","none"),this.visible=0,this.element.getFirst().removeCustomData("activePanel"),(t=t&&this._.returnFocus)&&(CKEDITOR.env.webkit&&t.type&&t.getWindow().$.focus(),t.focus()),delete this._.lastFocused,this._.editor.fire("panelHide",this))},allowBlur:function(t){var e=this._.panel;return void 0!=t&&(e.allowBlur=t),e.allowBlur},showAsChild:function(t,e,i,n,a,o){this._.activeChild==t&&t._.panel._.offsetParentId==i.getId()||(this.hideChild(),t.onHide=CKEDITOR.tools.bind(function(){CKEDITOR.tools.setTimeout(function(){this._.focused||this.hide()},0,this)},this),this._.activeChild=t,this._.focused=!1,t.showBlock(e,i,n,a,o),this.blur(),(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)&&setTimeout(function(){t.element.getChild(0).$.style.cssText+=""},100))},hideChild:function(t){var e=this._.activeChild;e&&(delete e.onHide,delete this._.activeChild,e.hide(),t&&this.focus())}}}),CKEDITOR.on("instanceDestroyed",function(){var t,i=CKEDITOR.tools.isEmpty(CKEDITOR.instances);for(t in e){var n=e[t];i?n.destroy():n.element.hide()}i&&(e={})})}(),CKEDITOR.plugins.add("colorbutton",{requires:"panelbutton,floatpanel",init:function(t){function e(e,n,r,s){var l=new CKEDITOR.style(a["colorButton_"+n+"Style"]),h=CKEDITOR.tools.getNextId()+"_colorBox";t.ui.add(e,CKEDITOR.UI_PANELBUTTON,{label:r,title:r,modes:{wysiwyg:1},editorFocus:0,toolbar:"colors,"+s,allowedContent:l,requiredContent:l,panel:{css:CKEDITOR.skin.getPath("editor"),attributes:{role:"listbox","aria-label":o.panelTitle}},onBlock:function(e,a){a.autoSize=!0,a.element.addClass("cke_colorblock"),a.element.setHtml(i(e,n,h)),a.element.getDocument().getBody().setStyle("overflow","hidden"),CKEDITOR.ui.fire("ready",this);var o=a.keys,r="rtl"==t.lang.dir;o[r?37:39]="next",o[40]="next",o[9]="next",o[r?39:37]="prev",o[38]="prev",o[CKEDITOR.SHIFT+9]="prev",o[32]="click"},refresh:function(){t.activeFilter.check(l)||this.setState(CKEDITOR.TRISTATE_DISABLED)},onOpen:function(){var e,i=t.getSelection(),i=i&&i.getStartElement(),i=t.elementPath(i);if(i){i=i.block||i.blockLimit||t.document.getBody();do e=i&&i.getComputedStyle("back"==n?"background-color":"color")||"transparent";while("back"==n&&"transparent"==e&&i&&(i=i.getParent()));return e&&"transparent"!=e||(e="#ffffff"),this._.panel._.iframe.getFrameDocument().getById(h).setStyle("background-color",e),e}}})}function i(e,i,r){var s=[],l=a.colorButton_colors.split(","),h=t.plugins.colordialog&&!1!==a.colorButton_enableMore,c=l.length+(h?2:1),u=CKEDITOR.tools.addFunction(function(i,o){if("?"==i){var r=arguments.callee,s=function(t){this.removeListener("ok",s),this.removeListener("cancel",s),"ok"==t.name&&r(this.getContentElement("picker","selectedColor").getValue(),o)};t.openDialog("colordialog",function(){this.on("ok",s),this.on("cancel",s)})}else{if(t.focus(),e.hide(),t.fire("saveSnapshot"),t.removeStyle(new CKEDITOR.style(a["colorButton_"+o+"Style"],{color:"inherit"})),i){var l=a["colorButton_"+o+"Style"];l.childRule="back"==o?function(t){return n(t)}:function(t){return!(t.is("a")||t.getElementsByTag("a").count())||n(t)},t.applyStyle(new CKEDITOR.style(l,{color:i}))}t.fire("saveSnapshot")}});for(s.push('<a class="cke_colorauto" _cke_focus=1 hidefocus=true title="',o.auto,'" onclick="CKEDITOR.tools.callFunction(',u,",null,'",i,"');return false;\" href=\"javascript:void('",o.auto,'\')" role="option" aria-posinset="1" aria-setsize="',c,'"><table role="presentation" cellspacing=0 cellpadding=0 width="100%"><tr><td><span class="cke_colorbox" id="',r,'"></span></td><td colspan=7 align=center>',o.auto,'</td></tr></table></a><table role="presentation" cellspacing=0 cellpadding=0 width="100%">'),r=0;r<l.length;r++){0===r%8&&s.push("</tr><tr>");var d=l[r].split("/"),f=d[0],m=d[1]||f;d[1]||(f="#"+f.replace(/^(.)(.)(.)$/,"$1$1$2$2$3$3")),d=t.lang.colorbutton.colors[m]||m,s.push('<td><a class="cke_colorbox" _cke_focus=1 hidefocus=true title="',d,'" onclick="CKEDITOR.tools.callFunction(',u,",'",f,"','",i,"'); return false;\" href=\"javascript:void('",d,'\')" role="option" aria-posinset="',r+2,'" aria-setsize="',c,'"><span class="cke_colorbox" style="background-color:#',m,'"></span></a></td>')}return h&&s.push('</tr><tr><td colspan=8 align=center><a class="cke_colormore" _cke_focus=1 hidefocus=true title="',o.more,'" onclick="CKEDITOR.tools.callFunction(',u,",'?','",i,"');return false;\" href=\"javascript:void('",o.more,"')\"",' role="option" aria-posinset="',c,'" aria-setsize="',c,'">',o.more,"</a></td>"),s.push("</tr></table>"),s.join("")}function n(t){return"false"==t.getAttribute("contentEditable")||t.getAttribute("data-nostyle")}var a=t.config,o=t.lang.colorbutton;CKEDITOR.env.hc||(e("TextColor","fore",o.textColorTitle,10),e("BGColor","back",o.bgColorTitle,20))}}),CKEDITOR.config.colorButton_colors="000,800000,8B4513,2F4F4F,008080,000080,4B0082,696969,B22222,A52A2A,DAA520,006400,40E0D0,0000CD,800080,808080,F00,FF8C00,FFD700,008000,0FF,00F,EE82EE,A9A9A9,FFA07A,FFA500,FFFF00,00FF00,AFEEEE,ADD8E6,DDA0DD,D3D3D3,FFF0F5,FAEBD7,FFFFE0,F0FFF0,F0FFFF,F0F8FF,E6E6FA,FFF",CKEDITOR.config.colorButton_foreStyle={element:"span",styles:{color:"#(color)"},overrides:[{element:"font",attributes:{color:null}}]},CKEDITOR.config.colorButton_backStyle={element:"span",styles:{"background-color":"#(color)"}},CKEDITOR.plugins.colordialog={requires:"dialog",init:function(t){var e=new CKEDITOR.dialogCommand("colordialog");e.editorFocus=!1,t.addCommand("colordialog",e),CKEDITOR.dialog.add("colordialog",this.path+"dialogs/colordialog.js"),t.getColorFromDialog=function(e,i){var n=function(t){this.removeListener("ok",n),this.removeListener("cancel",n),t="ok"==t.name?this.getValueOf("picker","selectedColor"):null,e.call(i,t)},a=function(t){t.on("ok",n),t.on("cancel",n)};t.execCommand("colordialog"),t._.storedDialogs&&t._.storedDialogs.colordialog?a(t._.storedDialogs.colordialog):CKEDITOR.on("dialogDefinition",function(t){if("colordialog"==t.data.name){var e=t.data.definition;t.removeListener(),e.onLoad=CKEDITOR.tools.override(e.onLoad,function(t){return function(){a(this),e.onLoad=t,"function"==typeof t&&t.call(this)}})}})}}},CKEDITOR.plugins.add("colordialog",CKEDITOR.plugins.colordialog),function(){CKEDITOR.plugins.add("templates",{requires:"dialog",init:function(t){CKEDITOR.dialog.add("templates",CKEDITOR.getUrl(this.path+"dialogs/templates.js")),t.addCommand("templates",new CKEDITOR.dialogCommand("templates")),t.ui.addButton&&t.ui.addButton("Templates",{label:t.lang.templates.button,command:"templates",toolbar:"doctools,10"})}});var t={},e={};CKEDITOR.addTemplates=function(e,i){t[e]=i},CKEDITOR.getTemplates=function(e){return t[e]},CKEDITOR.loadTemplates=function(t,i){for(var n=[],a=0,o=t.length;o>a;a++)e[t[a]]||(n.push(t[a]),e[t[a]]=1);n.length?CKEDITOR.scriptLoader.load(n,i):setTimeout(i,0)}}(),CKEDITOR.config.templates_files=[CKEDITOR.getUrl("plugins/templates/templates/default.js")],CKEDITOR.config.templates_replaceContent=!0,CKEDITOR.plugins.add("menu",{requires:"floatpanel",beforeInit:function(t){for(var e=t.config.menu_groups.split(","),i=t._.menuGroups={},n=t._.menuItems={},a=0;a<e.length;a++)i[e[a]]=a+1;t.addMenuGroup=function(t,e){i[t]=e||100},t.addMenuItem=function(t,e){i[e.group]&&(n[t]=new CKEDITOR.menuItem(this,t,e))},t.addMenuItems=function(t){for(var e in t)this.addMenuItem(e,t[e])},t.getMenuItem=function(t){return n[t]},t.removeMenuItem=function(t){delete n[t]}}}),function(){function t(t){t.sort(function(t,e){return t.group<e.group?-1:t.group>e.group?1:t.order<e.order?-1:t.order>e.order?1:0})}var e='<span class="cke_menuitem"><a id="{id}" class="cke_menubutton cke_menubutton__{name} cke_menubutton_{state} {cls}" href="{href}" title="{title}" tabindex="-1"_cke_focus=1 hidefocus="true" role="{role}" aria-haspopup="{hasPopup}" aria-disabled="{disabled}" {ariaChecked}';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(e+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(e+=' onblur="this.style.cssText = this.style.cssText;"');var e=e+(' onmouseover="CKEDITOR.tools.callFunction({hoverFn},{index});" onmouseout="CKEDITOR.tools.callFunction({moveOutFn},{index});" '+(CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick")+'="CKEDITOR.tools.callFunction({clickFn},{index}); return false;">'),i=CKEDITOR.addTemplate("menuItem",e+'<span class="cke_menubutton_inner"><span class="cke_menubutton_icon"><span class="cke_button_icon cke_button__{iconName}_icon" style="{iconStyle}"></span></span><span class="cke_menubutton_label">{label}</span>{arrowHtml}</span></a></span>'),n=CKEDITOR.addTemplate("menuArrow",'<span class="cke_menuarrow"><span>{label}</span></span>');CKEDITOR.menu=CKEDITOR.tools.createClass({$:function(t,e){e=this._.definition=e||{},this.id=CKEDITOR.tools.getNextId(),this.editor=t,this.items=[],this._.listeners=[],this._.level=e.level||1;var i=CKEDITOR.tools.extend({},e.panel,{css:[CKEDITOR.skin.getPath("editor")],level:this._.level-1,block:{}}),n=i.block.attributes=i.attributes||{};!n.role&&(n.role="menu"),this._.panelDefinition=i},_:{onShow:function(){var t=this.editor.getSelection(),e=t&&t.getStartElement(),i=this.editor.elementPath(),n=this._.listeners;this.removeAll();for(var a=0;a<n.length;a++){var o=n[a](e,t,i);if(o)for(var r in o){var s=this.editor.getMenuItem(r);!s||s.command&&!this.editor.getCommand(s.command).state||(s.state=o[r],this.add(s))}}},onClick:function(t){this.hide(),t.onClick?t.onClick():t.command&&this.editor.execCommand(t.command)},onEscape:function(t){var e=this.parent;return e?e._.panel.hideChild(1):27==t&&this.hide(1),!1},onHide:function(){this.onHide&&this.onHide()},showSubMenu:function(t){var e=this._.subMenu,i=this.items[t];if(i=i.getItems&&i.getItems()){e?e.removeAll():(e=this._.subMenu=new CKEDITOR.menu(this.editor,CKEDITOR.tools.extend({},this._.definition,{level:this._.level+1},!0)),e.parent=this,e._.onClick=CKEDITOR.tools.bind(this._.onClick,this));for(var n in i){var a=this.editor.getMenuItem(n);a&&(a.state=i[n],e.add(a))}var o=this._.panel.getBlock(this.id).element.getDocument().getById(this.id+(""+t));setTimeout(function(){e.show(o,2)},0)}else this._.panel.hideChild(1)}},proto:{add:function(t){t.order||(t.order=this.items.length),this.items.push(t)},removeAll:function(){this.items=[]},show:function(e,i,n,a){if(this.parent||(this._.onShow(),this.items.length)){var i=i||("rtl"==this.editor.lang.dir?2:1),o=this.items,r=this.editor,s=this._.panel,l=this._.element;if(!s){s=this._.panel=new CKEDITOR.ui.floatPanel(this.editor,CKEDITOR.document.getBody(),this._.panelDefinition,this._.level),s.onEscape=CKEDITOR.tools.bind(function(t){return!1===this._.onEscape(t)?!1:void 0},this),s.onShow=function(){s._.panel.getHolderElement().getParent().addClass("cke cke_reset_all")},s.onHide=CKEDITOR.tools.bind(function(){this._.onHide&&this._.onHide()},this),l=s.addBlock(this.id,this._.panelDefinition.block),l.autoSize=!0;var h=l.keys;h[40]="next",h[9]="next",h[38]="prev",h[CKEDITOR.SHIFT+9]="prev",h["rtl"==r.lang.dir?37:39]=CKEDITOR.env.ie?"mouseup":"click",h[32]=CKEDITOR.env.ie?"mouseup":"click",CKEDITOR.env.ie&&(h[13]="mouseup"),l=this._.element=l.element,h=l.getDocument(),h.getBody().setStyle("overflow","hidden"),h.getElementsByTag("html").getItem(0).setStyle("overflow","hidden"),this._.itemOverFn=CKEDITOR.tools.addFunction(function(t){clearTimeout(this._.showSubTimeout),this._.showSubTimeout=CKEDITOR.tools.setTimeout(this._.showSubMenu,r.config.menu_subMenuDelay||400,this,[t])},this),this._.itemOutFn=CKEDITOR.tools.addFunction(function(){clearTimeout(this._.showSubTimeout)},this),this._.itemClickFn=CKEDITOR.tools.addFunction(function(t){var e=this.items[t];e.state==CKEDITOR.TRISTATE_DISABLED?this.hide(1):e.getItems?this._.showSubMenu(t):this._.onClick(e)},this)}t(o);for(var h=r.elementPath(),h=['<div class="cke_menu'+(h&&h.direction()!=r.lang.dir?" cke_mixed_dir_content":"")+'" role="presentation">'],c=o.length,u=c&&o[0].group,d=0;c>d;d++){var f=o[d];u!=f.group&&(h.push('<div class="cke_menuseparator" role="separator"></div>'),u=f.group),f.render(this,d,h)}h.push("</div>"),l.setHtml(h.join("")),CKEDITOR.ui.fire("ready",this),this.parent?this.parent._.panel.showAsChild(s,this.id,e,i,n,a):s.showBlock(this.id,e,i,n,a),r.fire("menuShow",[s])}},addListener:function(t){this._.listeners.push(t)},hide:function(t){this._.onHide&&this._.onHide(),this._.panel&&this._.panel.hide(t)}}}),CKEDITOR.menuItem=CKEDITOR.tools.createClass({$:function(t,e,i){CKEDITOR.tools.extend(this,i,{order:0,className:"cke_menubutton__"+e}),this.group=t._.menuGroups[this.group],this.editor=t,this.name=e},proto:{render:function(t,e,a){var o=t.id+(""+e),r="undefined"==typeof this.state?CKEDITOR.TRISTATE_OFF:this.state,s="",l=r==CKEDITOR.TRISTATE_ON?"on":r==CKEDITOR.TRISTATE_DISABLED?"disabled":"off";this.role in{menuitemcheckbox:1,menuitemradio:1}&&(s=' aria-checked="'+(r==CKEDITOR.TRISTATE_ON?"true":"false")+'"');var h=this.getItems,c="&#"+("rtl"==this.editor.lang.dir?"9668":"9658")+";",u=this.name;this.icon&&!/\./.test(this.icon)&&(u=this.icon),t={id:o,name:this.name,iconName:u,label:this.label,cls:this.className||"",state:l,hasPopup:h?"true":"false",disabled:r==CKEDITOR.TRISTATE_DISABLED,title:this.label,href:"javascript:void('"+(this.label||"").replace("'")+"')",hoverFn:t._.itemOverFn,moveOutFn:t._.itemOutFn,clickFn:t._.itemClickFn,index:e,iconStyle:CKEDITOR.skin.getIconStyle(u,"rtl"==this.editor.lang.dir,u==this.icon?null:this.icon,this.iconOffset),arrowHtml:h?n.output({label:c}):"",role:this.role?this.role:"menuitem",ariaChecked:s},i.output(t,a)}}})}(),CKEDITOR.config.menu_groups="clipboard,form,tablecell,tablecellproperties,tablerow,tablecolumn,table,anchor,link,image,flash,checkbox,radio,textfield,hiddenfield,imagebutton,button,select,textarea,div",CKEDITOR.plugins.add("contextmenu",{requires:"menu",onLoad:function(){CKEDITOR.plugins.contextMenu=CKEDITOR.tools.createClass({base:CKEDITOR.menu,$:function(t){this.base.call(this,t,{panel:{className:"cke_menu_panel",attributes:{"aria-label":t.lang.contextmenu.options}}})},proto:{addTarget:function(t,e){if(t.on("contextmenu",function(t){var t=t.data,n=CKEDITOR.env.webkit?i:CKEDITOR.env.mac?t.$.metaKey:t.$.ctrlKey;if(!e||!n){if(t.preventDefault(),CKEDITOR.env.mac&&CKEDITOR.env.webkit){var n=this.editor,a=new CKEDITOR.dom.elementPath(t.getTarget(),n.editable()).contains(function(t){return t.hasAttribute("contenteditable")},!0);a&&"false"==a.getAttribute("contenteditable")&&n.getSelection().fake(a)}var a=t.getTarget().getDocument(),o=t.getTarget().getDocument().getDocumentElement(),n=!a.equals(CKEDITOR.document),a=a.getWindow().getScrollPosition(),r=n?t.$.clientX:t.$.pageX||a.x+t.$.clientX,s=n?t.$.clientY:t.$.pageY||a.y+t.$.clientY;CKEDITOR.tools.setTimeout(function(){this.open(o,null,r,s)},CKEDITOR.env.ie?200:0,this)}},this),CKEDITOR.env.webkit){var i,n=function(){i=0};t.on("keydown",function(t){i=CKEDITOR.env.mac?t.data.$.metaKey:t.data.$.ctrlKey}),t.on("keyup",n),t.on("contextmenu",n)}},open:function(t,e,i,n){this.editor.focus(),t=t||CKEDITOR.document.getDocumentElement(),this.editor.selectionChange(1),this.show(t,e,i,n)}}})},beforeInit:function(t){var e=t.contextMenu=new CKEDITOR.plugins.contextMenu(t);t.on("contentDom",function(){e.addTarget(t.editable(),!1!==t.config.browserContextMenuOnCtrl)}),t.addCommand("contextMenu",{exec:function(){t.contextMenu.open(t.document.getBody())}}),t.setKeystroke(CKEDITOR.SHIFT+121,"contextMenu"),t.setKeystroke(CKEDITOR.CTRL+CKEDITOR.SHIFT+121,"contextMenu")}}),function(){CKEDITOR.plugins.add("div",{requires:"dialog",init:function(t){if(!t.blockless){var e=t.lang.div,i="div(*)";CKEDITOR.dialog.isTabEnabled(t,"editdiv","advanced")&&(i+=";div[dir,id,lang,title]{*}"),t.addCommand("creatediv",new CKEDITOR.dialogCommand("creatediv",{allowedContent:i,requiredContent:"div",contextSensitive:!0,refresh:function(t,e){this.setState("div"in(t.config.div_wrapTable?e.root:e.blockLimit).getDtd()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})),t.addCommand("editdiv",new CKEDITOR.dialogCommand("editdiv",{requiredContent:"div"})),t.addCommand("removediv",{requiredContent:"div",exec:function(t){function e(e){(e=CKEDITOR.plugins.div.getSurroundDiv(t,e))&&!e.data("cke-div-added")&&(r.push(e),e.data("cke-div-added"))}for(var i,n=t.getSelection(),a=n&&n.getRanges(),o=n.createBookmarks(),r=[],s=0;s<a.length;s++)i=a[s],i.collapsed?e(n.getStartElement()):(i=new CKEDITOR.dom.walker(i),i.evaluator=e,i.lastForward());for(s=0;s<r.length;s++)r[s].remove(!0);n.selectBookmarks(o)}}),t.ui.addButton&&t.ui.addButton("CreateDiv",{label:e.toolbar,command:"creatediv",toolbar:"blocks,50"}),t.addMenuItems&&(t.addMenuItems({editdiv:{label:e.edit,command:"editdiv",group:"div",order:1},removediv:{label:e.remove,command:"removediv",group:"div",order:5}}),t.contextMenu&&t.contextMenu.addListener(function(e){return!e||e.isReadOnly()?null:CKEDITOR.plugins.div.getSurroundDiv(t)?{editdiv:CKEDITOR.TRISTATE_OFF,removediv:CKEDITOR.TRISTATE_OFF}:null})),CKEDITOR.dialog.add("creatediv",this.path+"dialogs/div.js"),CKEDITOR.dialog.add("editdiv",this.path+"dialogs/div.js")}}}),CKEDITOR.plugins.div={getSurroundDiv:function(t,e){var i=t.elementPath(e);return t.elementPath(i.blockLimit).contains(function(t){return t.is("div")&&!t.isReadOnly()},1)}}}(),CKEDITOR.plugins.add("resize",{init:function(t){var e,i,n,a,o=t.config,r=t.ui.spaceId("resizer"),s=t.element?t.element.getDirection(1):"ltr";if(!o.resize_dir&&(o.resize_dir="vertical"),void 0==o.resize_maxWidth&&(o.resize_maxWidth=3e3),void 0==o.resize_maxHeight&&(o.resize_maxHeight=3e3),void 0==o.resize_minWidth&&(o.resize_minWidth=750),void 0==o.resize_minHeight&&(o.resize_minHeight=250),!1!==o.resize_enabled){var l=null,h=("both"==o.resize_dir||"horizontal"==o.resize_dir)&&o.resize_minWidth!=o.resize_maxWidth,c=("both"==o.resize_dir||"vertical"==o.resize_dir)&&o.resize_minHeight!=o.resize_maxHeight,u=function(r){var l=e,u=i,d=l+(r.data.$.screenX-n)*("rtl"==s?-1:1),r=u+(r.data.$.screenY-a);h&&(l=Math.max(o.resize_minWidth,Math.min(d,o.resize_maxWidth))),c&&(u=Math.max(o.resize_minHeight,Math.min(r,o.resize_maxHeight))),t.resize(h?l:null,u)},d=function(){CKEDITOR.document.removeListener("mousemove",u),CKEDITOR.document.removeListener("mouseup",d),t.document&&(t.document.removeListener("mousemove",u),t.document.removeListener("mouseup",d))},f=CKEDITOR.tools.addFunction(function(r){l||(l=t.getResizable()),e=l.$.offsetWidth||0,i=l.$.offsetHeight||0,n=r.screenX,a=r.screenY,o.resize_minWidth>e&&(o.resize_minWidth=e),o.resize_minHeight>i&&(o.resize_minHeight=i),CKEDITOR.document.on("mousemove",u),CKEDITOR.document.on("mouseup",d),t.document&&(t.document.on("mousemove",u),t.document.on("mouseup",d)),r.preventDefault&&r.preventDefault()});t.on("destroy",function(){CKEDITOR.tools.removeFunction(f)}),t.on("uiSpace",function(e){if("bottom"==e.data.space){var i="";h&&!c&&(i=" cke_resizer_horizontal"),!h&&c&&(i=" cke_resizer_vertical");var n='<span id="'+r+'" class="cke_resizer'+i+" cke_resizer_"+s+'" title="'+CKEDITOR.tools.htmlEncode(t.lang.common.resize)+'" onmousedown="CKEDITOR.tools.callFunction('+f+', event)">'+("ltr"==s?"\u25e2":"\u25e3")+"</span>";"ltr"==s&&"ltr"==i?e.data.html+=n:e.data.html=n+e.data.html}},t,null,100),t.on("maximize",function(e){t.ui.space("resizer")[e.data==CKEDITOR.TRISTATE_ON?"hide":"show"]()})}}}),function(){function t(t){function i(){for(var i=n(),o=CKEDITOR.tools.clone(t.config.toolbarGroups)||e(t),r=0;r<o.length;r++){var s=o[r];if("/"!=s){"string"==typeof s&&(s=o[r]={name:s});var l,h=s.groups;if(h)for(var c=0;c<h.length;c++)l=h[c],(l=i[l])&&a(s,l);(l=i[s.name])&&a(s,l)}}return o}function n(){var e,i,n,a={};for(e in t.ui.items)i=t.ui.items[e],n=i.toolbar||"others",n=n.split(","),i=n[0],n=parseInt(n[1]||-1,10),a[i]||(a[i]=[]),a[i].push({name:e,order:n});for(i in a)a[i]=a[i].sort(function(t,e){return t.order==e.order?0:0>e.order?-1:0>t.order?1:t.order<e.order?-1:1});return a}function a(e,i){if(i.length){e.items?e.items.push(t.ui.create("-")):e.items=[];for(var n;n=i.shift();)n="string"==typeof n?n:n.name,r&&-1!=CKEDITOR.tools.indexOf(r,n)||(n=t.ui.create(n))&&t.addFeature(n)&&e.items.push(n)}}function o(t){var e,i,n,o=[];for(e=0;e<t.length;++e)i=t[e],n={},"/"==i?o.push(i):CKEDITOR.tools.isArray(i)?(a(n,CKEDITOR.tools.clone(i)),o.push(n)):i.items&&(a(n,CKEDITOR.tools.clone(i.items)),n.name=i.name,o.push(n));return o}var r=t.config.removeButtons,r=r&&r.split(","),s=t.config.toolbar;return"string"==typeof s&&(s=t.config["toolbar_"+s]),t.toolbar=s?o(s):i()}function e(t){return t._.toolbarGroups||(t._.toolbarGroups=[{name:"document",groups:["mode","document","doctools"]},{name:"clipboard",groups:["clipboard","undo"]},{name:"editing",groups:["find","selection","spellchecker"]},{name:"forms"},"/",{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"paragraph",groups:["list","indent","blocks","align","bidi"]},{name:"links"},{name:"insert"},"/",{name:"styles"},{name:"colors"},{name:"tools"},{name:"others"},{name:"about"}])}var i=function(){this.toolbars=[],this.focusCommandExecuted=!1};i.prototype.focus=function(){for(var t,e=0;t=this.toolbars[e++];)for(var i,n=0;i=t.items[n++];)if(i.focus)return void i.focus()};var n={modes:{wysiwyg:1,source:1},readOnly:1,exec:function(t){t.toolbox&&(t.toolbox.focusCommandExecuted=!0,CKEDITOR.env.ie||CKEDITOR.env.air?setTimeout(function(){t.toolbox.focus()},100):t.toolbox.focus())}};CKEDITOR.plugins.add("toolbar",{requires:"button",init:function(e){var a,o=function(t,i){var n,r="rtl"==e.lang.dir,s=e.config.toolbarGroupCycling,l=r?37:39,r=r?39:37,s=void 0===s||s;switch(i){case 9:case CKEDITOR.SHIFT+9:for(;!n||!n.items.length;)if(n=9==i?(n?n.next:t.toolbar.next)||e.toolbox.toolbars[0]:(n?n.previous:t.toolbar.previous)||e.toolbox.toolbars[e.toolbox.toolbars.length-1],n.items.length)for(t=n.items[a?n.items.length-1:0];t&&!t.focus;)(t=a?t.previous:t.next)||(n=0);return t&&t.focus(),!1;case l:n=t;do n=n.next,!n&&s&&(n=t.toolbar.items[0]);while(n&&!n.focus);return n?n.focus():o(t,9),!1;case 40:return t.button&&t.button.hasArrow?(e.once("panelShow",function(t){t.data._.panel._.currentBlock.onKeyDown(40)}),t.execute()):o(t,40==i?l:r),!1;case r:case 38:n=t;do n=n.previous,!n&&s&&(n=t.toolbar.items[t.toolbar.items.length-1]);while(n&&!n.focus);return n?n.focus():(a=1,o(t,CKEDITOR.SHIFT+9),a=0),!1;case 27:return e.focus(),!1;case 13:case 32:return t.execute(),!1}return!0};e.on("uiSpace",function(n){if(n.data.space==e.config.toolbarLocation){n.removeListener(),e.toolbox=new i;var a,r,s=CKEDITOR.tools.getNextId(),l=['<span id="',s,'" class="cke_voice_label">',e.lang.toolbar.toolbars,"</span>",'<span id="'+e.ui.spaceId("toolbox")+'" class="cke_toolbox" role="group" aria-labelledby="',s,'" onmousedown="return false;">'],s=!1!==e.config.toolbarStartupExpanded;e.config.toolbarCanCollapse&&e.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&l.push('<span class="cke_toolbox_main"'+(s?">":' style="display:none">'));for(var h=e.toolbox.toolbars,c=t(e),u=0;u<c.length;u++){var d,f,m,p=0,g=c[u];if(g)if(a&&(l.push("</span>"),r=a=0),"/"===g)l.push('<span class="cke_toolbar_break"></span>');else{m=g.items||g;for(var v=0;v<m.length;v++){var C,E=m[v];if(E)if(E.type==CKEDITOR.UI_SEPARATOR)r=a&&E;else{if(C=!1!==E.canGroup,!p){d=CKEDITOR.tools.getNextId(),p={id:d,items:[]},f=g.name&&(e.lang.toolbar.toolbarGroups[g.name]||g.name),l.push('<span id="',d,'" class="cke_toolbar"',f?' aria-labelledby="'+d+'_label"':"",' role="toolbar">'),f&&l.push('<span id="',d,'_label" class="cke_voice_label">',f,"</span>"),l.push('<span class="cke_toolbar_start"></span>');var b=h.push(p)-1;b>0&&(p.previous=h[b-1],p.previous.next=p)}C?a||(l.push('<span class="cke_toolgroup" role="presentation">'),a=1):a&&(l.push("</span>"),a=0),d=function(t){t=t.render(e,l),b=p.items.push(t)-1,b>0&&(t.previous=p.items[b-1],t.previous.next=t),t.toolbar=p,t.onkey=o,t.onfocus=function(){e.toolbox.focusCommandExecuted||e.focus()}},r&&(d(r),r=0),d(E)}}a&&(l.push("</span>"),r=a=0),p&&l.push('<span class="cke_toolbar_end"></span></span>')}}if(e.config.toolbarCanCollapse&&l.push("</span>"),e.config.toolbarCanCollapse&&e.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var T=CKEDITOR.tools.addFunction(function(){e.execCommand("toolbarCollapse")});e.on("destroy",function(){CKEDITOR.tools.removeFunction(T)}),e.addCommand("toolbarCollapse",{readOnly:1,exec:function(t){var e=t.ui.space("toolbar_collapser"),i=e.getPrevious(),n=t.ui.space("contents"),a=i.getParent(),o=parseInt(n.$.style.height,10),r=a.$.offsetHeight,s=e.hasClass("cke_toolbox_collapser_min");s?(i.show(),e.removeClass("cke_toolbox_collapser_min"),e.setAttribute("title",t.lang.toolbar.toolbarCollapse)):(i.hide(),e.addClass("cke_toolbox_collapser_min"),e.setAttribute("title",t.lang.toolbar.toolbarExpand)),e.getFirst().setText(s?"\u25b2":"\u25c0"),n.setStyle("height",o-(a.$.offsetHeight-r)+"px"),t.fire("resize")},modes:{wysiwyg:1,source:1}}),e.setKeystroke(CKEDITOR.ALT+(CKEDITOR.env.ie||CKEDITOR.env.webkit?189:109),"toolbarCollapse"),l.push('<a title="'+(s?e.lang.toolbar.toolbarCollapse:e.lang.toolbar.toolbarExpand)+'" id="'+e.ui.spaceId("toolbar_collapser")+'" tabIndex="-1" class="cke_toolbox_collapser'),s||l.push(" cke_toolbox_collapser_min"),l.push('" onclick="CKEDITOR.tools.callFunction('+T+')">','<span class="cke_arrow">&#9650;</span>',"</a>")}l.push("</span>"),n.data.html+=l.join("")}}),e.on("destroy",function(){if(this.toolbox){var t,e,i,n,a=0;for(t=this.toolbox.toolbars;a<t.length;a++)for(i=t[a].items,e=0;e<i.length;e++)n=i[e],n.clickFn&&CKEDITOR.tools.removeFunction(n.clickFn),n.keyDownFn&&CKEDITOR.tools.removeFunction(n.keyDownFn)
}}),e.on("uiReady",function(){var t=e.ui.space("toolbox");t&&e.focusManager.add(t,1)}),e.addCommand("toolbarFocus",n),e.setKeystroke(CKEDITOR.ALT+121,"toolbarFocus"),e.ui.add("-",CKEDITOR.UI_SEPARATOR,{}),e.ui.addHandler(CKEDITOR.UI_SEPARATOR,{create:function(){return{render:function(t,e){return e.push('<span class="cke_toolbar_separator" role="separator"></span>'),{}}}}})}}),CKEDITOR.ui.prototype.addToolbarGroup=function(t,i,n){var a=e(this.editor),o=0===i,r={name:t};if(n){if(n=CKEDITOR.tools.search(a,function(t){return t.name==n}))return!n.groups&&(n.groups=[]),i&&(i=CKEDITOR.tools.indexOf(n.groups,i),i>=0)?void n.groups.splice(i+1,0,t):void(o?n.groups.splice(0,0,t):n.groups.push(t));i=null}i&&(i=CKEDITOR.tools.indexOf(a,function(t){return t.name==i})),o?a.splice(0,0,t):"number"==typeof i?a.splice(i+1,0,r):a.push(t)}}(),CKEDITOR.UI_SEPARATOR="separator",CKEDITOR.config.toolbarLocation="top",function(){function t(t,n){function o(e){if(e=h.list[e],e.equals(t.editable())||"true"==e.getAttribute("contenteditable")){var i=t.createRange();i.selectNodeContents(e),i.select()}else t.getSelection().selectElement(e);t.focus()}function r(){s&&s.setHtml(i),delete h.list}var s,l=t.ui.spaceId("path"),h=t._.elementsPath,c=h.idBase;n.html+='<span id="'+l+'_label" class="cke_voice_label">'+t.lang.elementspath.eleLabel+'</span><span id="'+l+'" class="cke_path" role="group" aria-labelledby="'+l+'_label">'+i+"</span>",t.on("uiReady",function(){var e=t.ui.space("path");e&&t.focusManager.add(e,1)}),h.onClick=o;var u=CKEDITOR.tools.addFunction(o),d=CKEDITOR.tools.addFunction(function(e,i){var n,a=h.idBase,i=new CKEDITOR.dom.event(i);switch(n="rtl"==t.lang.dir,i.getKeystroke()){case n?39:37:case 9:return(n=CKEDITOR.document.getById(a+(e+1)))||(n=CKEDITOR.document.getById(a+"0")),n.focus(),!1;case n?37:39:case CKEDITOR.SHIFT+9:return(n=CKEDITOR.document.getById(a+(e-1)))||(n=CKEDITOR.document.getById(a+(h.list.length-1))),n.focus(),!1;case 27:return t.focus(),!1;case 13:case 32:return o(e),!1}return!0});t.on("selectionChange",function(){t.editable();for(var e,n=[],o=h.list=[],r=[],f=h.filters,m=!0,p=t.elementPath().elements,g=p.length;g--;){var v=p[g],C=0;e=v.data("cke-display-name")?v.data("cke-display-name"):v.data("cke-real-element-type")?v.data("cke-real-element-type"):v.getName(),m=v.hasAttribute("contenteditable")?"true"==v.getAttribute("contenteditable"):m,!m&&!v.hasAttribute("contenteditable")&&(C=1);for(var E=0;E<f.length;E++){var b=f[E](v,e);if(!1===b){C=1;break}e=b||e}C||(o.unshift(v),r.unshift(e))}for(o=o.length,f=0;o>f;f++)e=r[f],m=t.lang.elementspath.eleTitle.replace(/%1/,e),e=a.output({id:c+f,label:m,text:e,jsTitle:"javascript:void('"+e+"')",index:f,keyDownFn:d,clickFn:u}),n.unshift(e);s||(s=CKEDITOR.document.getById(l)),r=s,r.setHtml(n.join("")+i),t.fire("elementsPathUpdate",{space:r})}),t.on("readOnly",r),t.on("contentDomUnload",r),t.addCommand("elementsPathFocus",e),t.setKeystroke(CKEDITOR.ALT+122,"elementsPathFocus")}var e;e={editorFocus:!1,readOnly:1,exec:function(t){(t=CKEDITOR.document.getById(t._.elementsPath.idBase+"0"))&&t.focus(CKEDITOR.env.ie||CKEDITOR.env.air)}};var i='<span class="cke_path_empty">&nbsp;</span>',n="";CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(n+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(n+=' onblur="this.style.cssText = this.style.cssText;"');var a=CKEDITOR.addTemplate("pathItem",'<a id="{id}" href="{jsTitle}" tabindex="-1" class="cke_path_item" title="{label}"'+n+' hidefocus="true"  onkeydown="return CKEDITOR.tools.callFunction({keyDownFn},{index}, event );" onclick="CKEDITOR.tools.callFunction({clickFn},{index}); return false;" role="button" aria-label="{label}">{text}</a>');CKEDITOR.plugins.add("elementspath",{init:function(e){e._.elementsPath={idBase:"cke_elementspath_"+CKEDITOR.tools.getNextNumber()+"_",filters:[]},e.on("uiSpace",function(i){"bottom"==i.data.space&&t(e,i.data)})}})}(),function(){function t(t,e,i){i=t.config.forceEnterMode||i,"wysiwyg"==t.mode&&(e||(e=t.activeEnterMode),t.elementPath().isContextFor("p")||(e=CKEDITOR.ENTER_BR,i=1),t.fire("saveSnapshot"),e==CKEDITOR.ENTER_BR?r(t,e,null,i):s(t,e,null,i),t.fire("saveSnapshot"))}function e(t){for(var t=t.getSelection().getRanges(!0),e=t.length-1;e>0;e--)t[e].deleteContents();return t[0]}function i(t){var e=t.startContainer.getAscendant(function(t){return t.type==CKEDITOR.NODE_ELEMENT&&"true"==t.getAttribute("contenteditable")},!0);return t.root.equals(e)?t:(e=new CKEDITOR.dom.range(e),e.moveToRange(t),e)}CKEDITOR.plugins.add("enterkey",{init:function(e){e.addCommand("enter",{modes:{wysiwyg:1},editorFocus:!1,exec:function(e){t(e)}}),e.addCommand("shiftEnter",{modes:{wysiwyg:1},editorFocus:!1,exec:function(e){t(e,e.activeShiftEnterMode,1)}}),e.setKeystroke([[13,"enter"],[CKEDITOR.SHIFT+13,"shiftEnter"]])}});var n=CKEDITOR.dom.walker.whitespaces(),a=CKEDITOR.dom.walker.bookmark();CKEDITOR.plugins.enterkey={enterBlock:function(t,o,s,h){if(s=s||e(t)){var c,s=i(s),u=s.document,d=s.checkStartOfBlock(),f=s.checkEndOfBlock(),m=t.elementPath(s.startContainer),p=m.block,g=o==CKEDITOR.ENTER_DIV?"div":"p";if(d&&f){if(p&&(p.is("li")||p.getParent().is("li"))){p.is("li")||(p=p.getParent()),s=p.getParent(),c=s.getParent();var h=!p.hasPrevious(),v=!p.hasNext(),g=t.getSelection(),C=g.createBookmarks(),d=p.getDirection(1),f=p.getAttribute("class"),E=p.getAttribute("style"),b=c.getDirection(1)!=d,t=t.enterMode!=CKEDITOR.ENTER_BR||b||E||f;if(c.is("li"))h||v?p[h?"insertBefore":"insertAfter"](c):p.breakParent(c);else{if(t)m.block.is("li")?(c=u.createElement(o==CKEDITOR.ENTER_P?"p":"div"),b&&c.setAttribute("dir",d),E&&c.setAttribute("style",E),f&&c.setAttribute("class",f),p.moveChildren(c)):c=m.block,h||v?c[h?"insertBefore":"insertAfter"](s):(p.breakParent(s),c.insertAfter(s));else if(p.appendBogus(!0),h||v)for(;u=p[h?"getFirst":"getLast"]();)u[h?"insertBefore":"insertAfter"](s);else for(p.breakParent(s);u=p.getLast();)u.insertAfter(s);p.remove()}return void g.selectBookmarks(C)}if(p&&p.getParent().is("blockquote"))return p.breakParent(p.getParent()),p.getPrevious().getFirst(CKEDITOR.dom.walker.invisible(1))||p.getPrevious().remove(),p.getNext().getFirst(CKEDITOR.dom.walker.invisible(1))||p.getNext().remove(),s.moveToElementEditStart(p),void s.select()}else if(p&&p.is("pre")&&!f)return void r(t,o,s,h);if(d=s.splitBlock(g)){if(o=d.previousBlock,p=d.nextBlock,m=d.wasStartOfBlock,t=d.wasEndOfBlock,p?(C=p.getParent(),C.is("li")&&(p.breakParent(C),p.move(p.getNext(),1))):o&&(C=o.getParent())&&C.is("li")&&(o.breakParent(C),C=o.getNext(),s.moveToElementEditStart(C),o.move(o.getPrevious())),m||t){if(o?(o.is("li")||!l.test(o.getName())&&!o.is("pre"))&&(c=o.clone()):p&&(c=p.clone()),c?h&&!c.is("li")&&c.renameNode(g):C&&C.is("li")?c=C:(c=u.createElement(g),o&&(v=o.getDirection())&&c.setAttribute("dir",v)),u=d.elementPath)for(h=0,g=u.elements.length;g>h&&(C=u.elements[h],!C.equals(u.block)&&!C.equals(u.blockLimit));h++)CKEDITOR.dtd.$removeEmpty[C.getName()]&&(C=C.clone(),c.moveChildren(C),c.append(C));c.appendBogus(),c.getParent()||s.insertNode(c),c.is("li")&&c.removeAttribute("value"),!CKEDITOR.env.ie||!m||t&&o.getChildCount()||(s.moveToElementEditStart(t?o:c),s.select()),s.moveToElementEditStart(m&&!t?p:c)}else p.is("li")&&(c=s.clone(),c.selectNodeContents(p),c=new CKEDITOR.dom.walker(c),c.evaluator=function(t){return!(a(t)||n(t)||t.type==CKEDITOR.NODE_ELEMENT&&t.getName()in CKEDITOR.dtd.$inline&&!(t.getName()in CKEDITOR.dtd.$empty))},(C=c.next())&&C.type==CKEDITOR.NODE_ELEMENT&&C.is("ul","ol")&&(CKEDITOR.env.needsBrFiller?u.createElement("br"):u.createText("\xa0")).insertBefore(C)),p&&s.moveToElementEditStart(p);s.select(),s.scrollIntoView()}}},enterBr:function(t,i,n,a){if(n=n||e(t)){var o=n.document,r=n.checkEndOfBlock(),h=new CKEDITOR.dom.elementPath(t.getSelection().getStartElement()),c=h.block,u=c&&h.block.getName();a||"li"!=u?(!a&&r&&l.test(u)?(r=c.getDirection())?(o=o.createElement("div"),o.setAttribute("dir",r),o.insertAfter(c),n.setStart(o,0)):(o.createElement("br").insertAfter(c),CKEDITOR.env.gecko&&o.createText("").insertAfter(c),n.setStartAt(c.getNext(),CKEDITOR.env.ie?CKEDITOR.POSITION_BEFORE_START:CKEDITOR.POSITION_AFTER_START)):(t="pre"==u&&CKEDITOR.env.ie&&8>CKEDITOR.env.version?o.createText("\r"):o.createElement("br"),n.deleteContents(),n.insertNode(t),CKEDITOR.env.needsBrFiller?(o.createText("").insertAfter(t),r&&(c||h.blockLimit).appendBogus(),t.getNext().$.nodeValue="",n.setStartAt(t.getNext(),CKEDITOR.POSITION_AFTER_START)):n.setStartAt(t,CKEDITOR.POSITION_AFTER_END)),n.collapse(!0),n.select(),n.scrollIntoView()):s(t,i,n,a)}}};var o=CKEDITOR.plugins.enterkey,r=o.enterBr,s=o.enterBlock,l=/^h[1-6]$/}(),function(){function t(t,e){var i={},n=[],a={nbsp:"\xa0",shy:"\xad",gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},t=t.replace(/\b(nbsp|shy|gt|lt|amp|apos|quot)(?:,|$)/g,function(t,o){var r=e?"&"+o+";":a[o];return i[r]=e?a[o]:"&"+o+";",n.push(r),""});if(!e&&t){var o,t=t.split(","),r=document.createElement("div");for(r.innerHTML="&"+t.join(";&")+";",o=r.innerHTML,r=null,r=0;r<o.length;r++){var s=o.charAt(r);i[s]="&"+t[r]+";",n.push(s)}}return i.regex=n.join(e?"|":""),i}CKEDITOR.plugins.add("entities",{afterInit:function(e){var i=e.config;if(e=(e=e.dataProcessor)&&e.htmlFilter){var n=[];!1!==i.basicEntities&&n.push("nbsp,gt,lt,amp"),i.entities&&(n.length&&n.push("quot,iexcl,cent,pound,curren,yen,brvbar,sect,uml,copy,ordf,laquo,not,shy,reg,macr,deg,plusmn,sup2,sup3,acute,micro,para,middot,cedil,sup1,ordm,raquo,frac14,frac12,frac34,iquest,times,divide,fnof,bull,hellip,prime,Prime,oline,frasl,weierp,image,real,trade,alefsym,larr,uarr,rarr,darr,harr,crarr,lArr,uArr,rArr,dArr,hArr,forall,part,exist,empty,nabla,isin,notin,ni,prod,sum,minus,lowast,radic,prop,infin,ang,and,or,cap,cup,int,there4,sim,cong,asymp,ne,equiv,le,ge,sub,sup,nsub,sube,supe,oplus,otimes,perp,sdot,lceil,rceil,lfloor,rfloor,lang,rang,loz,spades,clubs,hearts,diams,circ,tilde,ensp,emsp,thinsp,zwnj,zwj,lrm,rlm,ndash,mdash,lsquo,rsquo,sbquo,ldquo,rdquo,bdquo,dagger,Dagger,permil,lsaquo,rsaquo,euro"),i.entities_latin&&n.push("Agrave,Aacute,Acirc,Atilde,Auml,Aring,AElig,Ccedil,Egrave,Eacute,Ecirc,Euml,Igrave,Iacute,Icirc,Iuml,ETH,Ntilde,Ograve,Oacute,Ocirc,Otilde,Ouml,Oslash,Ugrave,Uacute,Ucirc,Uuml,Yacute,THORN,szlig,agrave,aacute,acirc,atilde,auml,aring,aelig,ccedil,egrave,eacute,ecirc,euml,igrave,iacute,icirc,iuml,eth,ntilde,ograve,oacute,ocirc,otilde,ouml,oslash,ugrave,uacute,ucirc,uuml,yacute,thorn,yuml,OElig,oelig,Scaron,scaron,Yuml"),i.entities_greek&&n.push("Alpha,Beta,Gamma,Delta,Epsilon,Zeta,Eta,Theta,Iota,Kappa,Lambda,Mu,Nu,Xi,Omicron,Pi,Rho,Sigma,Tau,Upsilon,Phi,Chi,Psi,Omega,alpha,beta,gamma,delta,epsilon,zeta,eta,theta,iota,kappa,lambda,mu,nu,xi,omicron,pi,rho,sigmaf,sigma,tau,upsilon,phi,chi,psi,omega,thetasym,upsih,piv"),i.entities_additional&&n.push(i.entities_additional));var a=t(n.join(",")),o=a.regex?"["+a.regex+"]":"a^";delete a.regex,i.entities&&i.entities_processNumerical&&(o="[^ -~]|"+o);var o=RegExp(o,"g"),r=function(t){return"force"!=i.entities_processNumerical&&a[t]?a[t]:"&#"+t.charCodeAt(0)+";"},s=t("nbsp,gt,lt,amp,shy",!0),l=RegExp(s.regex,"g"),h=function(t){return s[t]};e.addRules({text:function(t){return t.replace(l,h).replace(o,r)}},{applyToAll:!0,excludeNestedEditable:!0})}}})}(),CKEDITOR.config.basicEntities=!0,CKEDITOR.config.entities=!0,CKEDITOR.config.entities_latin=!0,CKEDITOR.config.entities_greek=!0,CKEDITOR.config.entities_additional="#39",CKEDITOR.plugins.add("popup"),CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{popup:function(t,e,i,n){e=e||"80%",i=i||"70%","string"==typeof e&&1<e.length&&"%"==e.substr(e.length-1,1)&&(e=parseInt(window.screen.width*parseInt(e,10)/100,10)),"string"==typeof i&&1<i.length&&"%"==i.substr(i.length-1,1)&&(i=parseInt(window.screen.height*parseInt(i,10)/100,10)),640>e&&(e=640),420>i&&(i=420);var a=parseInt((window.screen.height-i)/2,10),o=parseInt((window.screen.width-e)/2,10),n=(n||"location=no,menubar=no,toolbar=no,dependent=yes,minimizable=no,modal=yes,alwaysRaised=yes,resizable=yes,scrollbars=yes")+",width="+e+",height="+i+",top="+a+",left="+o,r=window.open("",null,n,!0);if(!r)return!1;try{-1==navigator.userAgent.toLowerCase().indexOf(" chrome/")&&(r.moveTo(o,a),r.resizeTo(e,i)),r.focus(),r.location.href=t}catch(s){window.open(t,null,n,!0)}return!0}}),function(){function t(t,e){var i=[];if(!e)return t;for(var n in e)i.push(n+"="+encodeURIComponent(e[n]));return t+(-1!=t.indexOf("?")?"&":"?")+i.join("&")}function e(t){return t+="",t.charAt(0).toUpperCase()+t.substr(1)}function i(){var i=this.getDialog(),n=i.getParentEditor();n._.filebrowserSe=this;var a=n.config["filebrowser"+e(i.getName())+"WindowWidth"]||n.config.filebrowserWindowWidth||"80%",i=n.config["filebrowser"+e(i.getName())+"WindowHeight"]||n.config.filebrowserWindowHeight||"70%",o=this.filebrowser.params||{};o.CKEditor=n.name,o.CKEditorFuncNum=n._.filebrowserFn,o.langCode||(o.langCode=n.langCode),o=t(this.filebrowser.url,o),n.popup(o,a,i,n.config.filebrowserWindowFeatures||n.config.fileBrowserWindowFeatures)}function n(){var t=this.getDialog();return t.getParentEditor()._.filebrowserSe=this,t.getContentElement(this["for"][0],this["for"][1]).getInputElement().$.value&&t.getContentElement(this["for"][0],this["for"][1]).getAction()?!0:!1}function a(e,i,n){var a=n.params||{};a.CKEditor=e.name,a.CKEditorFuncNum=e._.filebrowserFn,a.langCode||(a.langCode=e.langCode),i.action=t(n.url,a),i.filebrowser=n}function o(t,r,s,l){if(l&&l.length)for(var h,c=l.length;c--;)if(h=l[c],("hbox"==h.type||"vbox"==h.type||"fieldset"==h.type)&&o(t,r,s,h.children),h.filebrowser)if("string"==typeof h.filebrowser&&(h.filebrowser={action:"fileButton"==h.type?"QuickUpload":"Browse",target:h.filebrowser}),"Browse"==h.filebrowser.action){var u=h.filebrowser.url;void 0===u&&(u=t.config["filebrowser"+e(r)+"BrowseUrl"],void 0===u&&(u=t.config.filebrowserBrowseUrl)),u&&(h.onClick=i,h.filebrowser.url=u,h.hidden=!1)}else if("QuickUpload"==h.filebrowser.action&&h["for"]&&(u=h.filebrowser.url,void 0===u&&(u=t.config["filebrowser"+e(r)+"UploadUrl"],void 0===u&&(u=t.config.filebrowserUploadUrl)),u)){var d=h.onClick;h.onClick=function(t){var e=t.sender;return d&&d.call(e,t)===!1?!1:n.call(e,t)},h.filebrowser.url=u,h.hidden=!1,a(t,s.getContents(h["for"][0]).get(h["for"][1]),h.filebrowser)}}function r(t,e,i){if(-1!==i.indexOf(";")){for(var i=i.split(";"),n=0;n<i.length;n++)if(r(t,e,i[n]))return!0;return!1}return(t=t.getContents(e).get(i).filebrowser)&&t.url}function s(t,e){var i=this._.filebrowserSe.getDialog(),n=this._.filebrowserSe["for"],a=this._.filebrowserSe.filebrowser.onSelect;n&&i.getContentElement(n[0],n[1]).reset(),"function"==typeof e&&!1===e.call(this._.filebrowserSe)||a&&!1===a.call(this._.filebrowserSe,t,e)||("string"==typeof e&&e&&alert(e),!(t&&(n=this._.filebrowserSe,i=n.getDialog(),n=n.filebrowser.target||null)))||(n=n.split(":"),(a=i.getContentElement(n[0],n[1]))&&(a.setValue(t),i.selectPage(n[0])))}CKEDITOR.plugins.add("filebrowser",{requires:"popup",init:function(t){t._.filebrowserFn=CKEDITOR.tools.addFunction(s,t),t.on("destroy",function(){CKEDITOR.tools.removeFunction(this._.filebrowserFn)})}}),CKEDITOR.on("dialogDefinition",function(t){if(t.editor.plugins.filebrowser)for(var e,i=t.data.definition,n=0;n<i.contents.length;++n)(e=i.contents[n])&&(o(t.editor,t.data.name,i,e.elements),e.hidden&&e.filebrowser&&(e.hidden=!r(i,e.id,e.filebrowser)))})}(),CKEDITOR.plugins.add("find",{requires:"dialog",init:function(t){var e=t.addCommand("find",new CKEDITOR.dialogCommand("find"));e.canUndo=!1,e.readOnly=1,t.addCommand("replace",new CKEDITOR.dialogCommand("replace")).canUndo=!1,t.ui.addButton&&(t.ui.addButton("Find",{label:t.lang.find.find,command:"find",toolbar:"find,10"}),t.ui.addButton("Replace",{label:t.lang.find.replace,command:"replace",toolbar:"find,20"})),CKEDITOR.dialog.add("find",this.path+"dialogs/find.js"),CKEDITOR.dialog.add("replace",this.path+"dialogs/find.js")}}),CKEDITOR.config.find_highlight={element:"span",styles:{"background-color":"#004",color:"#fff"}},function(){function t(t,e){var i=n.exec(t),a=n.exec(e);if(i){if(!i[2]&&"px"==a[2])return a[1];if("px"==i[2]&&!a[2])return a[1]+"px"}return e}var e=CKEDITOR.htmlParser.cssStyle,i=CKEDITOR.tools.cssLength,n=/^((?:\d*(?:\.\d+))|(?:\d+))(.*)?$/i,a={elements:{$:function(i){var n=i.attributes;if((n=(n=(n=n&&n["data-cke-realelement"])&&new CKEDITOR.htmlParser.fragment.fromHtml(decodeURIComponent(n)))&&n.children[0])&&i.attributes["data-cke-resizable"]){var a=new e(i).rules,i=n.attributes,o=a.width,a=a.height;o&&(i.width=t(i.width,o)),a&&(i.height=t(i.height,a))}return n}}};CKEDITOR.plugins.add("fakeobjects",{init:function(t){t.filter.allow("img[!data-cke-realelement,src,alt,title](*){*}","fakeobjects")},afterInit:function(t){(t=(t=t.dataProcessor)&&t.htmlFilter)&&t.addRules(a,{applyToAll:!0})}}),CKEDITOR.editor.prototype.createFakeElement=function(t,n,a,o){var r=this.lang.fakeobjects,r=r[a]||r.unknown,n={"class":n,"data-cke-realelement":encodeURIComponent(t.getOuterHtml()),"data-cke-real-node-type":t.type,alt:r,title:r,align:t.getAttribute("align")||""};return CKEDITOR.env.hc||(n.src=CKEDITOR.tools.transparentImageData),a&&(n["data-cke-real-element-type"]=a),o&&(n["data-cke-resizable"]=o,a=new e,o=t.getAttribute("width"),t=t.getAttribute("height"),o&&(a.rules.width=i(o)),t&&(a.rules.height=i(t)),a.populate(n)),this.document.createElement("img",{attributes:n})},CKEDITOR.editor.prototype.createFakeParserElement=function(t,n,a,o){var r,s=this.lang.fakeobjects,s=s[a]||s.unknown;return r=new CKEDITOR.htmlParser.basicWriter,t.writeHtml(r),r=r.getHtml(),n={"class":n,"data-cke-realelement":encodeURIComponent(r),"data-cke-real-node-type":t.type,alt:s,title:s,align:t.attributes.align||""},CKEDITOR.env.hc||(n.src=CKEDITOR.tools.transparentImageData),a&&(n["data-cke-real-element-type"]=a),o&&(n["data-cke-resizable"]=o,o=t.attributes,t=new e,a=o.width,o=o.height,void 0!=a&&(t.rules.width=i(a)),void 0!=o&&(t.rules.height=i(o)),t.populate(n)),new CKEDITOR.htmlParser.element("img",n)},CKEDITOR.editor.prototype.restoreRealElement=function(e){if(e.data("cke-real-node-type")!=CKEDITOR.NODE_ELEMENT)return null;var i=CKEDITOR.dom.element.createFromHtml(decodeURIComponent(e.data("cke-realelement")),this.document);if(e.data("cke-resizable")){var n=e.getStyle("width"),e=e.getStyle("height");n&&i.setAttribute("width",t(i.getAttribute("width"),n)),e&&i.setAttribute("height",t(i.getAttribute("height"),e))}return i}}(),function(){function t(t){return t=t.attributes,"application/x-shockwave-flash"==t.type||i.test(t.src||"")}function e(t,e){return t.createFakeParserElement(e,"cke_flash","flash",!0)}var i=/\.swf(?:$|\?)/i;CKEDITOR.plugins.add("flash",{requires:"dialog,fakeobjects",onLoad:function(){CKEDITOR.addCss("img.cke_flash{background-image: url("+CKEDITOR.getUrl(this.path+"images/placeholder.png")+");background-position: center center;background-repeat: no-repeat;border: 1px solid #a9a9a9;width: 80px;height: 80px;}")},init:function(t){var e="object[classid,codebase,height,hspace,vspace,width];param[name,value];embed[height,hspace,pluginspage,src,type,vspace,width]";CKEDITOR.dialog.isTabEnabled(t,"flash","properties")&&(e+=";object[align]; embed[allowscriptaccess,quality,scale,wmode]"),CKEDITOR.dialog.isTabEnabled(t,"flash","advanced")&&(e+=";object[id]{*}; embed[bgcolor]{*}(*)"),t.addCommand("flash",new CKEDITOR.dialogCommand("flash",{allowedContent:e,requiredContent:"embed"})),t.ui.addButton&&t.ui.addButton("Flash",{label:t.lang.common.flash,command:"flash",toolbar:"insert,20"}),CKEDITOR.dialog.add("flash",this.path+"dialogs/flash.js"),t.addMenuItems&&t.addMenuItems({flash:{label:t.lang.flash.properties,command:"flash",group:"flash"}}),t.on("doubleclick",function(t){var e=t.data.element;e.is("img")&&"flash"==e.data("cke-real-element-type")&&(t.data.dialog="flash")}),t.contextMenu&&t.contextMenu.addListener(function(t){return t&&t.is("img")&&!t.isReadOnly()&&"flash"==t.data("cke-real-element-type")?{flash:CKEDITOR.TRISTATE_OFF}:void 0})},afterInit:function(i){var n=i.dataProcessor;(n=n&&n.dataFilter)&&n.addRules({elements:{"cke:object":function(n){var a=n.attributes;if(!(a.classid&&(""+a.classid).toLowerCase()||t(n))){for(a=0;a<n.children.length;a++)if("cke:embed"==n.children[a].name){if(!t(n.children[a]))break;return e(i,n)}return null}return e(i,n)},"cke:embed":function(n){return t(n)?e(i,n):null}}},5)}})}(),CKEDITOR.tools.extend(CKEDITOR.config,{flashEmbedTagOnly:!1,flashAddEmbedTag:!0,flashConvertOnEdit:!1}),function(){function t(t){var n=t.config,a=t.fire("uiSpace",{space:"top",html:""}).html,o=function(){function a(t,e,n){s.setStyle(e,i(n)),s.setStyle("position",t)}function r(t){var e=h.getDocumentPosition();switch(t){case"top":a("absolute","top",e.y-f-g);break;case"pin":a("fixed","top",C);break;case"bottom":a("absolute","top",e.y+(u.height||u.bottom-u.top)+g)}l=t}var l,h,c,u,d,f,m,p=n.floatSpaceDockedOffsetX||0,g=n.floatSpaceDockedOffsetY||0,v=n.floatSpacePinnedOffsetX||0,C=n.floatSpacePinnedOffsetY||0;return function(n){if(h=t.editable())if(n&&"focus"==n.name&&s.show(),s.removeStyle("left"),s.removeStyle("right"),c=s.getClientRect(),u=h.getClientRect(),d=e.getViewPaneSize(),f=c.height,m="pageXOffset"in e.$?e.$.pageXOffset:CKEDITOR.document.$.documentElement.scrollLeft,l){r(f+g<=u.top?"top":f+g>d.height-u.bottom?"pin":"bottom");var a,n=d.width/2,n=0<u.left&&u.right<d.width&&u.width>c.width?"rtl"==t.config.contentsLangDirection?"right":"left":n-u.left>u.right-n?"left":"right";c.width>d.width?(n="left",a=0):(a="left"==n?0<u.left?u.left:0:u.right<d.width?d.width-u.right:0,a+c.width>d.width&&(n="left"==n?"right":"left",a=0)),s.setStyle(n,i(("pin"==l?v:p)+a+("pin"==l?0:"left"==n?m:-m)))}else l="pin",r("pin"),o(n)}}();if(a){var r=new CKEDITOR.template('<div id="cke_{name}" class="cke {id} cke_reset_all cke_chrome cke_editor_{name} cke_float cke_{langDir} '+CKEDITOR.env.cssClass+'" dir="{langDir}" title="'+(CKEDITOR.env.gecko?" ":"")+'" lang="{langCode}" role="application" style="{style}"'+(t.title?' aria-labelledby="cke_{name}_arialbl"':" ")+">"+(t.title?'<span id="cke_{name}_arialbl" class="cke_voice_label">{voiceLabel}</span>':" ")+'<div class="cke_inner"><div id="{topId}" class="cke_top" role="presentation">{content}</div></div></div>'),s=CKEDITOR.document.getBody().append(CKEDITOR.dom.element.createFromHtml(r.output({content:a,id:t.id,langDir:t.lang.dir,langCode:t.langCode,name:t.name,style:"display:none;z-index:"+(n.baseFloatZIndex-1),topId:t.ui.spaceId("top"),voiceLabel:t.title}))),l=CKEDITOR.tools.eventsBuffer(500,o),h=CKEDITOR.tools.eventsBuffer(100,o);s.unselectable(),s.on("mousedown",function(t){t=t.data,t.getTarget().hasAscendant("a",1)||t.preventDefault()}),t.on("focus",function(i){o(i),t.on("change",l.input),e.on("scroll",h.input),e.on("resize",h.input)}),t.on("blur",function(){s.hide(),t.removeListener("change",l.input),e.removeListener("scroll",h.input),e.removeListener("resize",h.input)}),t.on("destroy",function(){e.removeListener("scroll",h.input),e.removeListener("resize",h.input),s.clearCustomData(),s.remove()}),t.focusManager.hasFocus&&s.show(),t.focusManager.add(s,1)}}var e=CKEDITOR.document.getWindow(),i=CKEDITOR.tools.cssLength;CKEDITOR.plugins.add("floatingspace",{init:function(e){e.on("loaded",function(){t(this)},null,null,20)}})}(),CKEDITOR.plugins.add("listblock",{requires:"panel",onLoad:function(){var t=CKEDITOR.addTemplate("panel-list",'<ul role="presentation" class="cke_panel_list">{items}</ul>'),e=CKEDITOR.addTemplate("panel-list-item",'<li id="{id}" class="cke_panel_listItem" role=presentation><a id="{id}_option" _cke_focus=1 hidefocus=true title="{title}" href="javascript:void(\'{val}\')"  {onclick}="CKEDITOR.tools.callFunction({clickFn},\'{val}\'); return false;" role="option">{text}</a></li>'),i=CKEDITOR.addTemplate("panel-list-group",'<h1 id="{id}" class="cke_panel_grouptitle" role="presentation" >{label}</h1>'),n=/\'/g;CKEDITOR.ui.panel.prototype.addListBlock=function(t,e){return this.addBlock(t,new CKEDITOR.ui.listBlock(this.getHolderElement(),e))},CKEDITOR.ui.listBlock=CKEDITOR.tools.createClass({base:CKEDITOR.ui.panel.block,$:function(t,e){var e=e||{},i=e.attributes||(e.attributes={});(this.multiSelect=!!e.multiSelect)&&(i["aria-multiselectable"]=!0),!i.role&&(i.role="listbox"),this.base.apply(this,arguments),this.element.setAttribute("role",i.role),i=this.keys,i[40]="next",i[9]="next",i[38]="prev",i[CKEDITOR.SHIFT+9]="prev",i[32]=CKEDITOR.env.ie?"mouseup":"click",CKEDITOR.env.ie&&(i[13]="mouseup"),this._.pendingHtml=[],this._.pendingList=[],this._.items={},this._.groups={}},_:{close:function(){if(this._.started){var e=t.output({items:this._.pendingList.join("")});this._.pendingList=[],this._.pendingHtml.push(e),delete this._.started}},getClick:function(){return this._.click||(this._.click=CKEDITOR.tools.addFunction(function(t){var e=this.toggle(t);this.onClick&&this.onClick(t,e)},this)),this._.click}},proto:{add:function(t,i,a){var o=CKEDITOR.tools.getNextId();this._.started||(this._.started=1,this._.size=this._.size||0),this._.items[t]=o;var r;r=CKEDITOR.tools.htmlEncodeAttr(t).replace(n,"\\'"),t={id:o,val:r,onclick:CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick",clickFn:this._.getClick(),title:CKEDITOR.tools.htmlEncodeAttr(a||t),text:i||t},this._.pendingList.push(e.output(t))},startGroup:function(t){this._.close();var e=CKEDITOR.tools.getNextId();this._.groups[t]=e,this._.pendingHtml.push(i.output({id:e,label:t}))},commit:function(){this._.close(),this.element.appendHtml(this._.pendingHtml.join("")),delete this._.size,this._.pendingHtml=[]},toggle:function(t){var e=this.isMarked(t);return e?this.unmark(t):this.mark(t),!e},hideGroup:function(t){var e=(t=this.element.getDocument().getById(this._.groups[t]))&&t.getNext();t&&(t.setStyle("display","none"),e&&"ul"==e.getName()&&e.setStyle("display","none"))},hideItem:function(t){this.element.getDocument().getById(this._.items[t]).setStyle("display","none")},showAll:function(){var t,e=this._.items,i=this._.groups,n=this.element.getDocument();for(t in e)n.getById(e[t]).setStyle("display","");for(var a in i)e=n.getById(i[a]),t=e.getNext(),e.setStyle("display",""),t&&"ul"==t.getName()&&t.setStyle("display","")},mark:function(t){this.multiSelect||this.unmarkAll();var t=this._.items[t],e=this.element.getDocument().getById(t);e.addClass("cke_selected"),this.element.getDocument().getById(t+"_option").setAttribute("aria-selected",!0),this.onMark&&this.onMark(e)},unmark:function(t){var e=this.element.getDocument(),t=this._.items[t],i=e.getById(t);i.removeClass("cke_selected"),e.getById(t+"_option").removeAttribute("aria-selected"),this.onUnmark&&this.onUnmark(i)},unmarkAll:function(){var t,e=this._.items,i=this.element.getDocument();for(t in e){var n=e[t];i.getById(n).removeClass("cke_selected"),i.getById(n+"_option").removeAttribute("aria-selected")}this.onUnmark&&this.onUnmark()},isMarked:function(t){return this.element.getDocument().getById(this._.items[t]).hasClass("cke_selected")},focus:function(t){this._.focusIndex=-1;var e,i=this.element.getElementsByTag("a"),n=-1;if(t){for(e=this.element.getDocument().getById(this._.items[t]).getFirst();t=i.getItem(++n);)if(t.equals(e)){this._.focusIndex=n;break}}else this.element.focus();e&&setTimeout(function(){e.focus()},0)}}})}}),CKEDITOR.plugins.add("richcombo",{requires:"floatpanel,listblock,button",beforeInit:function(t){t.ui.addHandler(CKEDITOR.UI_RICHCOMBO,CKEDITOR.ui.richCombo.handler)}}),function(){var t='<span id="{id}" class="cke_combo cke_combo__{name} {cls}" role="presentation"><span id="{id}_label" class="cke_combo_label">{label}</span><a class="cke_combo_button" title="{title}" tabindex="-1"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?"":" href=\"javascript:void('{titleJs}')\"")+' hidefocus="true" role="button" aria-labelledby="{id}_label" aria-haspopup="true"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(t+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(t+=' onblur="this.style.cssText = this.style.cssText;"');var t=t+(' onkeydown="return CKEDITOR.tools.callFunction({keydownFn},event,this);" onfocus="return CKEDITOR.tools.callFunction({focusFn},event);" '+(CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick")+'="CKEDITOR.tools.callFunction({clickFn},this);return false;"><span id="{id}_text" class="cke_combo_text cke_combo_inlinelabel">{label}</span><span class="cke_combo_open"><span class="cke_combo_arrow">'+(CKEDITOR.env.hc?"&#9660;":CKEDITOR.env.air?"&nbsp;":"")+"</span></span></a></span>"),e=CKEDITOR.addTemplate("combo",t);CKEDITOR.UI_RICHCOMBO="richcombo",CKEDITOR.ui.richCombo=CKEDITOR.tools.createClass({$:function(t){CKEDITOR.tools.extend(this,t,{canGroup:!1,title:t.label,modes:{wysiwyg:1},editorFocus:1}),t=this.panel||{},delete this.panel,this.id=CKEDITOR.tools.getNextNumber(),this.document=t.parent&&t.parent.getDocument()||CKEDITOR.document,t.className="cke_combopanel",t.block={multiSelect:t.multiSelect,attributes:t.attributes},t.toolbarRelated=!0,this._={panelDefinition:t,items:{}}},proto:{renderHtml:function(t){var e=[];return this.render(t,e),e.join("")},render:function(t,i){function n(){if(this.getState()!=CKEDITOR.TRISTATE_ON){var e=this.modes[t.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED;t.readOnly&&!this.readOnly&&(e=CKEDITOR.TRISTATE_DISABLED),this.setState(e),this.setValue(""),e!=CKEDITOR.TRISTATE_DISABLED&&this.refresh&&this.refresh()}}var a=CKEDITOR.env,o="cke_"+this.id,r=CKEDITOR.tools.addFunction(function(e){u&&(t.unlockSelection(1),u=0),l.execute(e)},this),s=this,l={id:o,combo:this,focus:function(){CKEDITOR.document.getById(o).getChild(1).focus()},execute:function(e){var i=s._;if(i.state!=CKEDITOR.TRISTATE_DISABLED)if(s.createPanel(t),i.on)i.panel.hide();else{s.commit();var n=s.getValue();n?i.list.mark(n):i.list.unmarkAll(),i.panel.showBlock(s.id,new CKEDITOR.dom.element(e),4)}},clickFn:r};t.on("activeFilterChange",n,this),t.on("mode",n,this),t.on("selectionChange",n,this),!this.readOnly&&t.on("readOnly",n,this);var h=CKEDITOR.tools.addFunction(function(e,i){var e=new CKEDITOR.dom.event(e),n=e.getKeystroke();switch(40==n&&t.once("panelShow",function(t){t.data._.panel._.currentBlock.onKeyDown(40)}),n){case 13:case 32:case 40:CKEDITOR.tools.callFunction(r,i);break;default:l.onkey(l,n)}e.preventDefault()}),c=CKEDITOR.tools.addFunction(function(){l.onfocus&&l.onfocus()}),u=0;return l.keyDownFn=h,a={id:o,name:this.name||this.command,label:this.label,title:this.title,cls:this.className||"",titleJs:a.gecko&&!a.hc?"":(this.title||"").replace("'",""),keydownFn:h,focusFn:c,clickFn:r},e.output(a,i),this.onRender&&this.onRender(),l},createPanel:function(t){if(!this._.panel){var e=this._.panelDefinition,i=this._.panelDefinition.block,n=e.parent||CKEDITOR.document.getBody(),a="cke_combopanel__"+this.name,o=new CKEDITOR.ui.floatPanel(t,n,e),r=o.addListBlock(this.id,i),s=this;o.onShow=function(){this.element.addClass(a),s.setState(CKEDITOR.TRISTATE_ON),s._.on=1,s.editorFocus&&!t.focusManager.hasFocus&&t.focus(),s.onOpen&&s.onOpen(),t.once("panelShow",function(){r.focus(!r.multiSelect&&s.getValue())})},o.onHide=function(e){this.element.removeClass(a),s.setState(s.modes&&s.modes[t.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),s._.on=0,!e&&s.onClose&&s.onClose()},o.onEscape=function(){o.hide(1)},r.onClick=function(t,e){s.onClick&&s.onClick.call(s,t,e),o.hide()},this._.panel=o,this._.list=r,o.getBlock(this.id).onHide=function(){s._.on=0,s.setState(CKEDITOR.TRISTATE_OFF)},this.init&&this.init()}},setValue:function(t,e){this._.value=t;var i=this.document.getById("cke_"+this.id+"_text");i&&(t||e?i.removeClass("cke_combo_inlinelabel"):(e=this.label,i.addClass("cke_combo_inlinelabel")),i.setText("undefined"!=typeof e?e:t))},getValue:function(){return this._.value||""},unmarkAll:function(){this._.list.unmarkAll()},mark:function(t){this._.list.mark(t)},hideItem:function(t){this._.list.hideItem(t)},hideGroup:function(t){this._.list.hideGroup(t)},showAll:function(){this._.list.showAll()},add:function(t,e,i){this._.items[t]=i||t,this._.list.add(t,e,i)},startGroup:function(t){this._.list.startGroup(t)},commit:function(){this._.committed||(this._.list.commit(),this._.committed=1,CKEDITOR.ui.fire("ready",this)),this._.committed=1},setState:function(t){if(this._.state!=t){var e=this.document.getById("cke_"+this.id);e.setState(t,"cke_combo"),t==CKEDITOR.TRISTATE_DISABLED?e.setAttribute("aria-disabled",!0):e.removeAttribute("aria-disabled"),this._.state=t}},getState:function(){return this._.state},enable:function(){this._.state==CKEDITOR.TRISTATE_DISABLED&&this.setState(this._.lastState)},disable:function(){this._.state!=CKEDITOR.TRISTATE_DISABLED&&(this._.lastState=this._.state,this.setState(CKEDITOR.TRISTATE_DISABLED))}},statics:{handler:{create:function(t){return new CKEDITOR.ui.richCombo(t)}}}}),CKEDITOR.ui.prototype.addRichCombo=function(t,e){this.add(t,CKEDITOR.UI_RICHCOMBO,e)
}}(),function(){function t(t,i,n,a,o,r,s,l){for(var h=t.config,c=new CKEDITOR.style(s),u=o.split(";"),o=[],d={},f=0;f<u.length;f++){var m=u[f];if(m){var m=m.split("/"),p={},g=u[f]=m[0];p[n]=o[f]=m[1]||g,d[g]=new CKEDITOR.style(s,p),d[g]._.definition.name=g}else u.splice(f--,1)}t.ui.addRichCombo(i,{label:a.label,title:a.panelTitle,toolbar:"styles,"+l,allowedContent:c,requiredContent:c,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(h.contentsCss),multiSelect:!1,attributes:{"aria-label":a.panelTitle}},init:function(){this.startGroup(a.panelTitle);for(var t=0;t<u.length;t++){var e=u[t];this.add(e,d[e].buildPreview(),e)}},onClick:function(i){t.focus(),t.fire("saveSnapshot");var n=this.getValue(),a=d[i];if(n&&i!=n){var o=d[n],r=t.getSelection().getRanges()[0];if(r.collapsed){var s=t.elementPath(),l=s.contains(function(t){return o.checkElementRemovable(t)});if(l){var h=r.checkBoundaryOfElement(l,CKEDITOR.START),c=r.checkBoundaryOfElement(l,CKEDITOR.END);if(h&&c){for(h=r.createBookmark();s=l.getFirst();)s.insertBefore(l);l.remove(),r.moveToBookmark(h)}else h?r.moveToPosition(l,CKEDITOR.POSITION_BEFORE_START):c?r.moveToPosition(l,CKEDITOR.POSITION_AFTER_END):(r.splitElement(l),r.moveToPosition(l,CKEDITOR.POSITION_AFTER_END),e(r,s.elements.slice(),l));t.getSelection().selectRanges([r])}}else t.removeStyle(o)}t[n==i?"removeStyle":"applyStyle"](a),t.fire("saveSnapshot")},onRender:function(){t.on("selectionChange",function(e){for(var i,n=this.getValue(),e=e.data.path.elements,a=0;a<e.length;a++){i=e[a];for(var o in d)if(d[o].checkElementMatch(i,!0,t))return void(o!=n&&this.setValue(o))}this.setValue("",r)},this)},refresh:function(){t.activeFilter.check(c)||this.setState(CKEDITOR.TRISTATE_DISABLED)}})}function e(t,i,n){var a=i.pop();if(a){if(n)return e(t,i,a.equals(n)?null:n);n=a.clone(),t.insertNode(n),t.moveToPosition(n,CKEDITOR.POSITION_AFTER_START),e(t,i)}}CKEDITOR.plugins.add("font",{requires:"richcombo",init:function(e){var i=e.config;t(e,"Font","family",e.lang.font,i.font_names,i.font_defaultLabel,i.font_style,30),t(e,"FontSize","size",e.lang.font.fontSize,i.fontSize_sizes,i.fontSize_defaultLabel,i.fontSize_style,40)}})}(),CKEDITOR.config.font_names="Arial/Arial, Helvetica, sans-serif;Comic Sans MS/Comic Sans MS, cursive;Courier New/Courier New, Courier, monospace;Georgia/Georgia, serif;Lucida Sans Unicode/Lucida Sans Unicode, Lucida Grande, sans-serif;Tahoma/Tahoma, Geneva, sans-serif;Times New Roman/Times New Roman, Times, serif;Trebuchet MS/Trebuchet MS, Helvetica, sans-serif;Verdana/Verdana, Geneva, sans-serif",CKEDITOR.config.font_defaultLabel="",CKEDITOR.config.font_style={element:"span",styles:{"font-family":"#(family)"},overrides:[{element:"font",attributes:{face:null}}]},CKEDITOR.config.fontSize_sizes="8/8px;9/9px;10/10px;11/11px;12/12px;14/14px;16/16px;18/18px;20/20px;22/22px;24/24px;26/26px;28/28px;36/36px;48/48px;72/72px",CKEDITOR.config.fontSize_defaultLabel="",CKEDITOR.config.fontSize_style={element:"span",styles:{"font-size":"#(size)"},overrides:[{element:"font",attributes:{size:null}}]},CKEDITOR.plugins.add("forms",{requires:"dialog,fakeobjects",onLoad:function(){CKEDITOR.addCss(".cke_editable form{border: 1px dotted #FF0000;padding: 2px;}\n"),CKEDITOR.addCss("img.cke_hidden{background-image: url("+CKEDITOR.getUrl(this.path+"images/hiddenfield.gif")+");background-position: center center;background-repeat: no-repeat;border: 1px solid #a9a9a9;width: 16px !important;height: 16px !important;}")},init:function(t){var e=t.lang,i=0,n={email:1,password:1,search:1,tel:1,text:1,url:1},a={checkbox:"input[type,name,checked]",radio:"input[type,name,checked]",textfield:"input[type,name,value,size,maxlength]",textarea:"textarea[cols,rows,name]",select:"select[name,size,multiple]; option[value,selected]",button:"input[type,name,value]",form:"form[action,name,id,enctype,target,method]",hiddenfield:"input[type,name,value]",imagebutton:"input[type,alt,src]{width,height,border,border-width,border-style,margin,float}"},o={checkbox:"input",radio:"input",textfield:"input",textarea:"textarea",select:"select",button:"input",form:"form",hiddenfield:"input",imagebutton:"input"},r=function(n,r,s){var l={allowedContent:a[r],requiredContent:o[r]};"form"==r&&(l.context="form"),t.addCommand(r,new CKEDITOR.dialogCommand(r,l)),t.ui.addButton&&t.ui.addButton(n,{label:e.common[n.charAt(0).toLowerCase()+n.slice(1)],command:r,toolbar:"forms,"+(i+=10)}),CKEDITOR.dialog.add(r,s)},s=this.path+"dialogs/";!t.blockless&&r("Form","form",s+"form.js"),r("Checkbox","checkbox",s+"checkbox.js"),r("Radio","radio",s+"radio.js"),r("TextField","textfield",s+"textfield.js"),r("Textarea","textarea",s+"textarea.js"),r("Select","select",s+"select.js"),r("Button","button",s+"button.js");var l=t.plugins.image;l&&!t.plugins.image2&&r("ImageButton","imagebutton",CKEDITOR.plugins.getPath("image")+"dialogs/image.js"),r("HiddenField","hiddenfield",s+"hiddenfield.js"),t.addMenuItems&&(r={checkbox:{label:e.forms.checkboxAndRadio.checkboxTitle,command:"checkbox",group:"checkbox"},radio:{label:e.forms.checkboxAndRadio.radioTitle,command:"radio",group:"radio"},textfield:{label:e.forms.textfield.title,command:"textfield",group:"textfield"},hiddenfield:{label:e.forms.hidden.title,command:"hiddenfield",group:"hiddenfield"},button:{label:e.forms.button.title,command:"button",group:"button"},select:{label:e.forms.select.title,command:"select",group:"select"},textarea:{label:e.forms.textarea.title,command:"textarea",group:"textarea"}},l&&(r.imagebutton={label:e.image.titleButton,command:"imagebutton",group:"imagebutton"}),!t.blockless&&(r.form={label:e.forms.form.menu,command:"form",group:"form"}),t.addMenuItems(r)),t.contextMenu&&(!t.blockless&&t.contextMenu.addListener(function(t,e,i){return(t=i.contains("form",1))&&!t.isReadOnly()?{form:CKEDITOR.TRISTATE_OFF}:void 0}),t.contextMenu.addListener(function(t){if(t&&!t.isReadOnly()){var e=t.getName();if("select"==e)return{select:CKEDITOR.TRISTATE_OFF};if("textarea"==e)return{textarea:CKEDITOR.TRISTATE_OFF};if("input"==e){var i=t.getAttribute("type")||"text";switch(i){case"button":case"submit":case"reset":return{button:CKEDITOR.TRISTATE_OFF};case"checkbox":return{checkbox:CKEDITOR.TRISTATE_OFF};case"radio":return{radio:CKEDITOR.TRISTATE_OFF};case"image":return l?{imagebutton:CKEDITOR.TRISTATE_OFF}:null}if(n[i])return{textfield:CKEDITOR.TRISTATE_OFF}}if("img"==e&&"hiddenfield"==t.data("cke-real-element-type"))return{hiddenfield:CKEDITOR.TRISTATE_OFF}}})),t.on("doubleclick",function(e){var i=e.data.element;if(!t.blockless&&i.is("form"))e.data.dialog="form";else if(i.is("select"))e.data.dialog="select";else if(i.is("textarea"))e.data.dialog="textarea";else if(i.is("img")&&"hiddenfield"==i.data("cke-real-element-type"))e.data.dialog="hiddenfield";else if(i.is("input")){switch(i=i.getAttribute("type")||"text"){case"button":case"submit":case"reset":e.data.dialog="button";break;case"checkbox":e.data.dialog="checkbox";break;case"radio":e.data.dialog="radio";break;case"image":e.data.dialog="imagebutton"}n[i]&&(e.data.dialog="textfield")}})},afterInit:function(t){var e=t.dataProcessor,i=e&&e.htmlFilter,e=e&&e.dataFilter;CKEDITOR.env.ie&&i&&i.addRules({elements:{input:function(t){var t=t.attributes,e=t.type;e||(t.type="text"),("checkbox"==e||"radio"==e)&&"on"==t.value&&delete t.value}}},{applyToAll:!0}),e&&e.addRules({elements:{input:function(e){return"hidden"==e.attributes.type?t.createFakeParserElement(e,"cke_hidden","hiddenfield"):void 0}}},{applyToAll:!0})}}),CKEDITOR.plugins.add("format",{requires:"richcombo",init:function(t){if(!t.blockless){for(var e=t.config,i=t.lang.format,n=e.format_tags.split(";"),a={},o=0,r=[],s=0;s<n.length;s++){var l=n[s],h=new CKEDITOR.style(e["format_"+l]);(!t.filter.customConfig||t.filter.check(h))&&(o++,a[l]=h,a[l]._.enterMode=t.config.enterMode,r.push(h))}0!==o&&t.ui.addRichCombo("Format",{label:i.label,title:i.panelTitle,toolbar:"styles,20",allowedContent:r,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(e.contentsCss),multiSelect:!1,attributes:{"aria-label":i.panelTitle}},init:function(){this.startGroup(i.panelTitle);for(var t in a){var e=i["tag_"+t];this.add(t,a[t].buildPreview(e),e)}},onClick:function(e){t.focus(),t.fire("saveSnapshot");var e=a[e],i=t.elementPath();t[e.checkActive(i,t)?"removeStyle":"applyStyle"](e),setTimeout(function(){t.fire("saveSnapshot")},0)},onRender:function(){t.on("selectionChange",function(e){var i=this.getValue(),e=e.data.path;this.refresh();for(var n in a)if(a[n].checkActive(e,t))return void(n!=i&&this.setValue(n,t.lang.format["tag_"+n]));this.setValue("")},this)},onOpen:function(){this.showAll();for(var e in a)t.activeFilter.check(a[e])||this.hideItem(e)},refresh:function(){var e=t.elementPath();if(e){if(e.isContextFor("p"))for(var i in a)if(t.activeFilter.check(a[i]))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}}})}}}),CKEDITOR.config.format_tags="p;h1;h2;h3;h4;h5;h6;pre;address;div",CKEDITOR.config.format_p={element:"p"},CKEDITOR.config.format_div={element:"div"},CKEDITOR.config.format_pre={element:"pre"},CKEDITOR.config.format_address={element:"address"},CKEDITOR.config.format_h1={element:"h1"},CKEDITOR.config.format_h2={element:"h2"},CKEDITOR.config.format_h3={element:"h3"},CKEDITOR.config.format_h4={element:"h4"},CKEDITOR.config.format_h5={element:"h5"},CKEDITOR.config.format_h6={element:"h6"},function(){var t={canUndo:!1,exec:function(t){var e=t.document.createElement("hr");t.insertElement(e)},allowedContent:"hr",requiredContent:"hr"};CKEDITOR.plugins.add("horizontalrule",{init:function(e){e.blockless||(e.addCommand("horizontalrule",t),e.ui.addButton&&e.ui.addButton("HorizontalRule",{label:e.lang.horizontalrule.toolbar,command:"horizontalrule",toolbar:"insert,40"}))}})}(),CKEDITOR.plugins.add("htmlwriter",{init:function(t){var e=new CKEDITOR.htmlWriter;e.forceSimpleAmpersand=t.config.forceSimpleAmpersand,e.indentationChars=t.config.dataIndentationChars||"	",t.dataProcessor.writer=e}}),CKEDITOR.htmlWriter=CKEDITOR.tools.createClass({base:CKEDITOR.htmlParser.basicWriter,$:function(){this.base(),this.indentationChars="	",this.selfClosingEnd=" />",this.lineBreakChars="\n",this.sortAttributes=1,this._.indent=0,this._.indentation="",this._.inPre=0,this._.rules={};var t,e=CKEDITOR.dtd;for(t in CKEDITOR.tools.extend({},e.$nonBodyContent,e.$block,e.$listItem,e.$tableContent))this.setRules(t,{indent:!e[t]["#"],breakBeforeOpen:1,breakBeforeClose:!e[t]["#"],breakAfterClose:1,needsSpace:t in e.$block&&!(t in{li:1,dt:1,dd:1})});this.setRules("br",{breakAfterOpen:1}),this.setRules("title",{indent:0,breakAfterOpen:0}),this.setRules("style",{indent:0,breakBeforeClose:1}),this.setRules("pre",{breakAfterOpen:1,indent:0})},proto:{openTag:function(t){var e=this._.rules[t];this._.afterCloser&&e&&e.needsSpace&&this._.needsSpace&&this._.output.push("\n"),this._.indent?this.indentation():e&&e.breakBeforeOpen&&(this.lineBreak(),this.indentation()),this._.output.push("<",t),this._.afterCloser=0},openTagClose:function(t,e){var i=this._.rules[t];e?(this._.output.push(this.selfClosingEnd),i&&i.breakAfterClose&&(this._.needsSpace=i.needsSpace)):(this._.output.push(">"),i&&i.indent&&(this._.indentation+=this.indentationChars)),i&&i.breakAfterOpen&&this.lineBreak(),"pre"==t&&(this._.inPre=1)},attribute:function(t,e){"string"==typeof e&&(this.forceSimpleAmpersand&&(e=e.replace(/&amp;/g,"&")),e=CKEDITOR.tools.htmlEncodeAttr(e)),this._.output.push(" ",t,'="',e,'"')},closeTag:function(t){var e=this._.rules[t];e&&e.indent&&(this._.indentation=this._.indentation.substr(this.indentationChars.length)),this._.indent?this.indentation():e&&e.breakBeforeClose&&(this.lineBreak(),this.indentation()),this._.output.push("</",t,">"),"pre"==t&&(this._.inPre=0),e&&e.breakAfterClose&&(this.lineBreak(),this._.needsSpace=e.needsSpace),this._.afterCloser=1},text:function(t){this._.indent&&(this.indentation(),!this._.inPre&&(t=CKEDITOR.tools.ltrim(t))),this._.output.push(t)},comment:function(t){this._.indent&&this.indentation(),this._.output.push("<!--",t,"-->")},lineBreak:function(){!this._.inPre&&0<this._.output.length&&this._.output.push(this.lineBreakChars),this._.indent=1},indentation:function(){!this._.inPre&&this._.indentation&&this._.output.push(this._.indentation),this._.indent=0},reset:function(){this._.output=[],this._.indent=0,this._.indentation="",this._.afterCloser=0,this._.inPre=0},setRules:function(t,e){var i=this._.rules[t];i?CKEDITOR.tools.extend(i,e,!0):this._.rules[t]=e}}}),function(){CKEDITOR.plugins.add("iframe",{requires:"dialog,fakeobjects",onLoad:function(){CKEDITOR.addCss("img.cke_iframe{background-image: url("+CKEDITOR.getUrl(this.path+"images/placeholder.png")+");background-position: center center;background-repeat: no-repeat;border: 1px solid #a9a9a9;width: 80px;height: 80px;}")},init:function(t){var e=t.lang.iframe,i="iframe[align,longdesc,frameborder,height,name,scrolling,src,title,width]";t.plugins.dialogadvtab&&(i+=";iframe"+t.plugins.dialogadvtab.allowedContent({id:1,classes:1,styles:1})),CKEDITOR.dialog.add("iframe",this.path+"dialogs/iframe.js"),t.addCommand("iframe",new CKEDITOR.dialogCommand("iframe",{allowedContent:i,requiredContent:"iframe"})),t.ui.addButton&&t.ui.addButton("Iframe",{label:e.toolbar,command:"iframe",toolbar:"insert,80"}),t.on("doubleclick",function(t){var e=t.data.element;e.is("img")&&"iframe"==e.data("cke-real-element-type")&&(t.data.dialog="iframe")}),t.addMenuItems&&t.addMenuItems({iframe:{label:e.title,command:"iframe",group:"image"}}),t.contextMenu&&t.contextMenu.addListener(function(t){return t&&t.is("img")&&"iframe"==t.data("cke-real-element-type")?{iframe:CKEDITOR.TRISTATE_OFF}:void 0})},afterInit:function(t){var e=t.dataProcessor;(e=e&&e.dataFilter)&&e.addRules({elements:{iframe:function(e){return t.createFakeParserElement(e,"cke_iframe","iframe",!0)}}})}})}(),function(){function t(t){var i=this.editor,n=t.document,a=n.body,o=n.getElementById("cke_actscrpt");o&&o.parentNode.removeChild(o),(o=n.getElementById("cke_shimscrpt"))&&o.parentNode.removeChild(o),(o=n.getElementById("cke_basetagscrpt"))&&o.parentNode.removeChild(o),a.contentEditable=!0,CKEDITOR.env.ie&&(a.hideFocus=!0,a.disabled=!0,a.removeAttribute("disabled")),delete this._.isLoadingData,this.$=a,n=new CKEDITOR.dom.document(n),this.setup(),this.fixInitialSelection(),CKEDITOR.env.ie&&(n.getDocumentElement().addClass(n.$.compatMode),i.config.enterMode!=CKEDITOR.ENTER_P&&this.attachListener(n,"selectionchange",function(){var t=n.getBody(),e=i.getSelection(),a=e&&e.getRanges()[0];a&&t.getHtml().match(/^<p>(?:&nbsp;|<br>)<\/p>$/i)&&a.startContainer.equals(t)&&setTimeout(function(){a=i.getSelection().getRanges()[0],a.startContainer.equals("body")||(t.getFirst().remove(1),a.moveToElementEditEnd(t),a.select())},0)})),(CKEDITOR.env.webkit||CKEDITOR.env.ie&&10<CKEDITOR.env.version)&&n.getDocumentElement().on("mousedown",function(t){t.data.getTarget().is("html")&&setTimeout(function(){i.editable().focus()})}),e(i);try{i.document.$.execCommand("2D-position",!1,!0)}catch(r){}(CKEDITOR.env.gecko||CKEDITOR.env.ie&&"CSS1Compat"==i.document.$.compatMode)&&this.attachListener(this,"keydown",function(t){var e=t.data.getKeystroke();if(33==e||34==e)if(CKEDITOR.env.ie)setTimeout(function(){i.getSelection().scrollIntoView()},0);else if(i.window.$.innerHeight>this.$.offsetHeight){var n=i.createRange();n[33==e?"moveToElementEditStart":"moveToElementEditEnd"](this),n.select(),t.data.preventDefault()}}),CKEDITOR.env.ie&&this.attachListener(n,"blur",function(){try{n.$.selection.empty()}catch(t){}}),CKEDITOR.env.iOS&&this.attachListener(n,"touchend",function(){t.focus()}),a=i.document.getElementsByTag("title").getItem(0),a.data("cke-title",a.getText()),CKEDITOR.env.ie&&(i.document.$.title=this._.docTitle),CKEDITOR.tools.setTimeout(function(){"unloaded"==this.status&&(this.status="ready"),i.fire("contentDom"),this._.isPendingFocus&&(i.focus(),this._.isPendingFocus=!1),setTimeout(function(){i.fire("dataReady")},0),CKEDITOR.env.ie&&setTimeout(function(){if(i.document){var t=i.document.$.body;t.runtimeStyle.marginBottom="0px",t.runtimeStyle.marginBottom=""}},1e3)},0,this)}function e(t){function e(){var e;t.editable().attachListener(t,"selectionChange",function(){var n=t.getSelection().getSelectedElement();n&&(e&&(e.detachEvent("onresizestart",i),e=null),n.$.attachEvent("onresizestart",i),e=n.$)})}function i(t){t.returnValue=!1}if(CKEDITOR.env.gecko)try{var n=t.document.$;n.execCommand("enableObjectResizing",!1,!t.config.disableObjectResizing),n.execCommand("enableInlineTableEditing",!1,!t.config.disableNativeTableHandles)}catch(a){}else CKEDITOR.env.ie&&11>CKEDITOR.env.version&&t.config.disableObjectResizing&&e(t)}function i(){var t=[];if(8<=CKEDITOR.document.$.documentMode){t.push("html.CSS1Compat [contenteditable=false]{min-height:0 !important}");var e,i=[];for(e in CKEDITOR.dtd.$removeEmpty)i.push("html.CSS1Compat "+e+"[contenteditable=false]");t.push(i.join(",")+"{display:inline-block}")}else CKEDITOR.env.gecko&&(t.push("html{height:100% !important}"),t.push("img:-moz-broken{-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"));return t.push("html{cursor:text;*cursor:auto}"),t.push("img,input,textarea{cursor:default}"),t.join("\n")}CKEDITOR.plugins.add("wysiwygarea",{init:function(t){t.config.fullPage&&t.addFeature({allowedContent:"html head title; style [media,type]; body (*)[id]; meta link [*]",requiredContent:"body"}),t.addMode("wysiwyg",function(e){function i(i){i&&i.removeListener(),t.editable(new n(t,o.$.contentWindow.document.body)),t.setData(t.getData(1),e)}var a="document.open();"+(CKEDITOR.env.ie?"("+CKEDITOR.tools.fixDomain+")();":"")+"document.close();",a=CKEDITOR.env.air?"javascript:void(0)":CKEDITOR.env.ie?"javascript:void(function(){"+encodeURIComponent(a)+"}())":"",o=CKEDITOR.dom.element.createFromHtml('<iframe src="'+a+'" frameBorder="0"></iframe>');o.setStyles({width:"100%",height:"100%"}),o.addClass("cke_wysiwyg_frame cke_reset");var r=t.ui.space("contents");r.append(o),(a=CKEDITOR.env.ie||CKEDITOR.env.gecko)&&o.on("load",i);var s=t.title,l=t.fire("ariaEditorHelpLabel",{}).label;if(s&&(CKEDITOR.env.ie&&l&&(s+=", "+l),o.setAttribute("title",s)),l){var s=CKEDITOR.tools.getNextId(),h=CKEDITOR.dom.element.createFromHtml('<span id="'+s+'" class="cke_voice_label">'+l+"</span>");r.append(h,1),o.setAttribute("aria-describedby",s)}t.on("beforeModeUnload",function(t){t.removeListener(),h&&h.remove()}),o.setAttributes({tabIndex:t.tabIndex,allowTransparency:"true"}),!a&&i(),CKEDITOR.env.webkit&&(a=function(){r.setStyle("width","100%"),o.hide(),o.setSize("width",r.getSize("width")),r.removeStyle("width"),o.show()},o.setCustomData("onResize",a),CKEDITOR.document.getWindow().on("resize",a)),t.fire("ariaWidget",o)})}}),CKEDITOR.editor.prototype.addContentsCss=function(t){var e=this.config,i=e.contentsCss;CKEDITOR.tools.isArray(i)||(e.contentsCss=i?[i]:[]),e.contentsCss.push(t)};var n=CKEDITOR.tools.createClass({$:function(){this.base.apply(this,arguments),this._.frameLoadedHandler=CKEDITOR.tools.addFunction(function(e){CKEDITOR.tools.setTimeout(t,0,this,e)},this),this._.docTitle=this.getWindow().getFrame().getAttribute("title")},base:CKEDITOR.editable,proto:{setData:function(t,e){var n=this.editor;if(e)this.setHtml(t),this.fixInitialSelection(),n.fire("dataReady");else{this._.isLoadingData=!0,n._.dataStore={id:1};var a=n.config,o=a.fullPage,r=a.docType,s=CKEDITOR.tools.buildStyleHtml(i()).replace(/<style>/,'<style data-cke-temp="1">');o||(s+=CKEDITOR.tools.buildStyleHtml(n.config.contentsCss));var l=a.baseHref?'<base href="'+a.baseHref+'" data-cke-temp="1" />':"";o&&(t=t.replace(/<!DOCTYPE[^>]*>/i,function(t){return n.docType=r=t,""}).replace(/<\?xml\s[^\?]*\?>/i,function(t){return n.xmlDeclaration=t,""})),t=n.dataProcessor.toHtml(t),o?(/<body[\s|>]/.test(t)||(t="<body>"+t),/<html[\s|>]/.test(t)||(t="<html>"+t+"</html>"),/<head[\s|>]/.test(t)?/<title[\s|>]/.test(t)||(t=t.replace(/<head[^>]*>/,"$&<title></title>")):t=t.replace(/<html[^>]*>/,"$&<head><title></title></head>"),l&&(t=t.replace(/<head[^>]*?>/,"$&"+l)),t=t.replace(/<\/head\s*>/,s+"$&"),t=r+t):t=a.docType+'<html dir="'+a.contentsLangDirection+'" lang="'+(a.contentsLanguage||n.langCode)+'"><head><title>'+this._.docTitle+"</title>"+l+s+"</head><body"+(a.bodyId?' id="'+a.bodyId+'"':"")+(a.bodyClass?' class="'+a.bodyClass+'"':"")+">"+t+"</body></html>",CKEDITOR.env.gecko&&(t=t.replace(/<body/,'<body contenteditable="true" '),2e4>CKEDITOR.env.version&&(t=t.replace(/<body[^>]*>/,"$&<!-- cke-content-start -->"))),a='<script id="cke_actscrpt" type="text/javascript"'+(CKEDITOR.env.ie?' defer="defer" ':"")+">var wasLoaded=0;function onload(){if(!wasLoaded)window.parent.CKEDITOR.tools.callFunction("+this._.frameLoadedHandler+",window);wasLoaded=1;}"+(CKEDITOR.env.ie?"onload();":'document.addEventListener("DOMContentLoaded", onload, false );')+"</script>",CKEDITOR.env.ie&&9>CKEDITOR.env.version&&(a+='<script id="cke_shimscrpt">window.parent.CKEDITOR.tools.enableHtml5Elements(document)</script>'),l&&CKEDITOR.env.ie&&10>CKEDITOR.env.version&&(a+='<script id="cke_basetagscrpt">var baseTag = document.querySelector( "base" );baseTag.href = baseTag.href;</script>'),t=t.replace(/(?=\s*<\/(:?head)>)/,a),this.clearCustomData(),this.clearListeners(),n.fire("contentDomUnload");var h=this.getDocument();try{h.write(t)}catch(c){setTimeout(function(){h.write(t)},0)}}},getData:function(t){if(t)return this.getHtml();var t=this.editor,e=t.config,i=e.fullPage,n=i&&t.docType,a=i&&t.xmlDeclaration,o=this.getDocument(),i=i?o.getDocumentElement().getOuterHtml():o.getBody().getHtml();return CKEDITOR.env.gecko&&e.enterMode!=CKEDITOR.ENTER_BR&&(i=i.replace(/<br>(?=\s*(:?$|<\/body>))/,"")),i=t.dataProcessor.toDataFormat(i),a&&(i=a+"\n"+i),n&&(i=n+"\n"+i),i},focus:function(){this._.isLoadingData?this._.isPendingFocus=!0:n.baseProto.focus.call(this)},detach:function(){var t=this.editor,e=t.document,t=t.window.getFrame();n.baseProto.detach.call(this),this.clearCustomData(),e.getDocumentElement().clearCustomData(),t.clearCustomData(),CKEDITOR.tools.removeFunction(this._.frameLoadedHandler),(e=t.removeCustomData("onResize"))&&e.removeListener(),t.remove()}}})}(),CKEDITOR.config.disableObjectResizing=!1,CKEDITOR.config.disableNativeTableHandles=!0,CKEDITOR.config.disableNativeSpellChecker=!0,CKEDITOR.config.contentsCss=CKEDITOR.getUrl("contents.css"),function(){function t(t,e){return e||(e=t.getSelection().getSelectedElement()),e&&e.is("img")&&!e.data("cke-realelement")&&!e.isReadOnly()?e:void 0}function e(t){var e=t.getStyle("float");return("inherit"==e||"none"==e)&&(e=0),e||(e=t.getAttribute("align")),e}CKEDITOR.plugins.add("image",{requires:"dialog",init:function(e){if(!e.plugins.image2){CKEDITOR.dialog.add("image",this.path+"dialogs/image.js");var i="img[alt,!src]{border-style,border-width,float,height,margin,margin-bottom,margin-left,margin-right,margin-top,width}";CKEDITOR.dialog.isTabEnabled(e,"image","advanced")&&(i="img[alt,dir,id,lang,longdesc,!src,title]{*}(*)"),e.addCommand("image",new CKEDITOR.dialogCommand("image",{allowedContent:i,requiredContent:"img[alt,src]",contentTransformations:[["img{width}: sizeToStyle","img[width]: sizeToAttribute"],["img{float}: alignmentToStyle","img[align]: alignmentToAttribute"]]})),e.ui.addButton&&e.ui.addButton("Image",{label:e.lang.common.image,command:"image",toolbar:"insert,10"}),e.on("doubleclick",function(t){var e=t.data.element;e.is("img")&&!e.data("cke-realelement")&&!e.isReadOnly()&&(t.data.dialog="image")}),e.addMenuItems&&e.addMenuItems({image:{label:e.lang.image.menu,command:"image",group:"image"}}),e.contextMenu&&e.contextMenu.addListener(function(i){return t(e,i)?{image:CKEDITOR.TRISTATE_OFF}:void 0})}},afterInit:function(i){function n(n){var a=i.getCommand("justify"+n);a&&(("left"==n||"right"==n)&&a.on("exec",function(a){var o,r=t(i);r&&(o=e(r),o==n?(r.removeStyle("float"),n==e(r)&&r.removeAttribute("align")):r.setStyle("float",n),a.cancel())}),a.on("refresh",function(a){var o=t(i);o&&(o=e(o),this.setState(o==n?CKEDITOR.TRISTATE_ON:"right"==n||"left"==n?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),a.cancel())}))}i.plugins.image2||(n("left"),n("right"),n("center"),n("block"))}})}(),CKEDITOR.config.image_removeLinkByEmptyURL=!0,function(){function t(t,n){var a,o;n.on("refresh",function(t){var n,a=[e];for(n in t.data.states)a.push(t.data.states[n]);this.setState(CKEDITOR.tools.search(a,i)?i:e)},n,null,100),n.on("exec",function(e){a=t.getSelection(),o=a.createBookmarks(1),e.data||(e.data={}),e.data.done=!1},n,null,0),n.on("exec",function(){t.forceNextSelectionCheck(),a.selectBookmarks(o)},n,null,100)}var e=CKEDITOR.TRISTATE_DISABLED,i=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indent",{init:function(e){var i=CKEDITOR.plugins.indent.genericDefinition;t(e,e.addCommand("indent",new i(!0))),t(e,e.addCommand("outdent",new i)),e.ui.addButton&&(e.ui.addButton("Indent",{label:e.lang.indent.indent,command:"indent",directional:!0,toolbar:"indent,20"}),e.ui.addButton("Outdent",{label:e.lang.indent.outdent,command:"outdent",directional:!0,toolbar:"indent,10"})),e.on("dirChanged",function(t){var i=e.createRange(),n=t.data.node;i.setStartBefore(n),i.setEndAfter(n);for(var a,o=new CKEDITOR.dom.walker(i);a=o.next();)if(a.type==CKEDITOR.NODE_ELEMENT)if(!a.equals(n)&&a.getDirection())i.setStartAfter(a),o=new CKEDITOR.dom.walker(i);else{var r=e.config.indentClasses;if(r)for(var s="ltr"==t.data.dir?["_rtl",""]:["","_rtl"],l=0;l<r.length;l++)a.hasClass(r[l]+s[0])&&(a.removeClass(r[l]+s[0]),a.addClass(r[l]+s[1]));r=a.getStyle("margin-right"),s=a.getStyle("margin-left"),r?a.setStyle("margin-left",r):a.removeStyle("margin-left"),s?a.setStyle("margin-right",s):a.removeStyle("margin-right")}})}}),CKEDITOR.plugins.indent={genericDefinition:function(t){this.isIndent=!!t,this.startDisabled=!this.isIndent},specificDefinition:function(t,e,i){this.name=e,this.editor=t,this.jobs={},this.enterBr=t.config.enterMode==CKEDITOR.ENTER_BR,this.isIndent=!!i,this.relatedGlobal=i?"indent":"outdent",this.indentKey=i?9:CKEDITOR.SHIFT+9,this.database={}},registerCommands:function(t,e){t.on("pluginsLoaded",function(){for(var t in e)(function(t,e){var i,n=t.getCommand(e.relatedGlobal);for(i in e.jobs)n.on("exec",function(n){n.data.done||(t.fire("lockSnapshot"),e.execJob(t,i)&&(n.data.done=!0),t.fire("unlockSnapshot"),CKEDITOR.dom.element.clearAllMarkers(e.database))},this,null,i),n.on("refresh",function(n){n.data.states||(n.data.states={}),n.data.states[e.name+"@"+i]=e.refreshJob(t,i,n.data.path)},this,null,i);t.addFeature(e)})(this,e[t])})}},CKEDITOR.plugins.indent.genericDefinition.prototype={context:"p",exec:function(){}},CKEDITOR.plugins.indent.specificDefinition.prototype={execJob:function(t,i){var n=this.jobs[i];return n.state!=e?n.exec.call(this,t):void 0},refreshJob:function(t,i,n){return i=this.jobs[i],i.state=t.activeFilter.checkFeature(this)?i.refresh.call(this,t,n):e,i.state},getContext:function(t){return t.contains(this.context)}}}(),function(){function t(t,i,n){if(!t.getCustomData("indent_processed")){var a=this.editor,o=this.isIndent;if(i){if(a=t.$.className.match(this.classNameRegex),n=0,a&&(a=a[1],n=CKEDITOR.tools.indexOf(i,a)+1),0>(n+=o?1:-1))return;n=Math.min(n,i.length),n=Math.max(n,0),t.$.className=CKEDITOR.tools.ltrim(t.$.className.replace(this.classNameRegex,"")),n>0&&t.addClass(i[n-1])}else{var i=e(t,n),n=parseInt(t.getStyle(i),10),r=a.config.indentOffset||40;if(isNaN(n)&&(n=0),n+=(o?1:-1)*r,0>n)return;n=Math.max(n,0),n=Math.ceil(n/r)*r,t.setStyle(i,n?n+(a.config.indentUnit||"px"):""),""===t.getAttribute("style")&&t.removeAttribute("style")}CKEDITOR.dom.element.setMarker(this.database,t,"indent_processed",1)}}function e(t,e){return"ltr"==(e||t.getComputedStyle("direction"))?"margin-left":"margin-right"}var i=CKEDITOR.dtd.$listItem,n=CKEDITOR.dtd.$list,a=CKEDITOR.TRISTATE_DISABLED,o=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indentblock",{requires:"indent",init:function(r){function s(){l.specificDefinition.apply(this,arguments),this.allowedContent={"div h1 h2 h3 h4 h5 h6 ol p pre ul":{propertiesOnly:!0,styles:h?null:"margin-left,margin-right",classes:h||null}},this.enterBr&&(this.allowedContent.div=!0),this.requiredContent=(this.enterBr?"div":"p")+(h?"("+h.join(",")+")":"{margin-left}"),this.jobs={20:{refresh:function(t,n){var r=n.block||n.blockLimit;if(r.is(i)||(r=r.getAscendant(i)||r),r.is(i)&&(r=r.getParent()),!this.enterBr&&!this.getContext(n))return a;if(h){var s;s=h;var r=r.$.className.match(this.classNameRegex),l=this.isIndent;return s=r?l?r[1]!=s.slice(-1):!0:l,s?o:a}return this.isIndent?o:r?CKEDITOR[(parseInt(r.getStyle(e(r)),10)||0)<=0?"TRISTATE_DISABLED":"TRISTATE_OFF"]:a},exec:function(e){var i,a=e.getSelection(),a=a&&a.getRanges()[0];if(i=e.elementPath().contains(n))t.call(this,i,h);else for(a=a.createIterator(),e=e.config.enterMode,a.enforceRealBlocks=!0,a.enlargeBr=e!=CKEDITOR.ENTER_BR;i=a.getNextParagraph(e==CKEDITOR.ENTER_P?"p":"div");)i.isReadOnly()||t.call(this,i,h);return!0}}}}var l=CKEDITOR.plugins.indent,h=r.config.indentClasses;l.registerCommands(r,{indentblock:new s(r,"indentblock",!0),outdentblock:new s(r,"outdentblock")}),CKEDITOR.tools.extend(s.prototype,l.specificDefinition.prototype,{context:{div:1,dl:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ul:1,ol:1,p:1,pre:1,table:1},classNameRegex:h?RegExp("(?:^|\\s+)("+h.join("|")+")(?=$|\\s)"):null})}})}(),function(){function t(t){function n(e){for(var n=a.startContainer,l=a.endContainer;n&&!n.getParent().equals(e);)n=n.getParent();for(;l&&!l.getParent().equals(e);)l=l.getParent();if(!n||!l)return!1;for(var h=n,n=[],c=!1;!c;)h.equals(l)&&(c=!0),n.push(h),h=h.getNext();if(1>n.length)return!1;for(h=e.getParents(!0),l=0;l<h.length;l++)if(h[l].getName&&s[h[l].getName()]){e=h[l];break}for(var h=o.isIndent?1:-1,l=n[0],n=n[n.length-1],c=CKEDITOR.plugins.list.listToArray(e,r),u=c[n.getCustomData("listarray_index")].indent,l=l.getCustomData("listarray_index");l<=n.getCustomData("listarray_index");l++)if(c[l].indent+=h,h>0){var d=c[l].parent;c[l].parent=new CKEDITOR.dom.element(d.getName(),d.getDocument())}for(l=n.getCustomData("listarray_index")+1;l<c.length&&c[l].indent>u;l++)c[l].indent+=h;if(n=CKEDITOR.plugins.list.arrayToList(c,r,null,t.config.enterMode,e.getDirection()),!o.isIndent){var f;if((f=e.getParent())&&f.is("li"))for(var m,h=n.listNode.getChildren(),p=[],l=h.count()-1;l>=0;l--)(m=h.getItem(l))&&m.is&&m.is("li")&&p.push(m)}if(n&&n.listNode.replace(e),p&&p.length)for(l=0;l<p.length;l++){for(m=e=p[l];(m=m.getNext())&&m.is&&m.getName()in s;)CKEDITOR.env.needsNbspFiller&&!e.getFirst(i)&&e.append(a.document.createText("\xa0")),e.append(m);e.insertAfter(f)}return n&&t.fire("contentDomInvalidated"),!0}for(var a,o=this,r=this.database,s=this.context,l=t.getSelection(),l=(l&&l.getRanges()).createIterator();a=l.getNextRange();){for(var h=a.getCommonAncestor();h&&(h.type!=CKEDITOR.NODE_ELEMENT||!s[h.getName()]);)h=h.getParent();if(h||(h=a.startPath().contains(s))&&a.setEndAt(h,CKEDITOR.POSITION_BEFORE_END),!h){var c=a.getEnclosedNode();c&&c.type==CKEDITOR.NODE_ELEMENT&&c.getName()in s&&(a.setStartAt(c,CKEDITOR.POSITION_AFTER_START),a.setEndAt(c,CKEDITOR.POSITION_BEFORE_END),h=c)}if(h&&a.startContainer.type==CKEDITOR.NODE_ELEMENT&&a.startContainer.getName()in s&&(c=new CKEDITOR.dom.walker(a),c.evaluator=e,a.startContainer=c.next()),h&&a.endContainer.type==CKEDITOR.NODE_ELEMENT&&a.endContainer.getName()in s&&(c=new CKEDITOR.dom.walker(a),c.evaluator=e,a.endContainer=c.previous()),h)return n(h)}return 0}function e(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.is("li")}function i(t){return n(t)&&a(t)}var n=CKEDITOR.dom.walker.whitespaces(!0),a=CKEDITOR.dom.walker.bookmark(!1,!0),o=CKEDITOR.TRISTATE_DISABLED,r=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indentlist",{requires:"indent",init:function(e){function i(e){n.specificDefinition.apply(this,arguments),this.requiredContent=["ul","ol"],e.on("key",function(t){if("wysiwyg"==e.mode&&t.data.keyCode==this.indentKey){var i=this.getContext(e.elementPath());!i||this.isIndent&&CKEDITOR.plugins.indentList.firstItemInPath(this.context,e.elementPath(),i)||(e.execCommand(this.relatedGlobal),t.cancel())}},this),this.jobs[this.isIndent?10:30]={refresh:this.isIndent?function(t,e){var i=this.getContext(e),n=CKEDITOR.plugins.indentList.firstItemInPath(this.context,e,i);return i&&this.isIndent&&!n?r:o}:function(t,e){return!this.getContext(e)||this.isIndent?o:r},exec:CKEDITOR.tools.bind(t,this)}}var n=CKEDITOR.plugins.indent;n.registerCommands(e,{indentlist:new i(e,"indentlist",!0),outdentlist:new i(e,"outdentlist")}),CKEDITOR.tools.extend(i.prototype,n.specificDefinition.prototype,{context:{ol:1,ul:1}})}}),CKEDITOR.plugins.indentList={},CKEDITOR.plugins.indentList.firstItemInPath=function(t,i,n){var a=i.contains(e);return n||(n=i.contains(t)),n&&a&&a.equals(n.getFirst(e))}}(),CKEDITOR.plugins.add("smiley",{requires:"dialog",init:function(t){t.config.smiley_path=t.config.smiley_path||this.path+"images/",t.addCommand("smiley",new CKEDITOR.dialogCommand("smiley",{allowedContent:"img[alt,height,!src,title,width]",requiredContent:"img"})),t.ui.addButton&&t.ui.addButton("Smiley",{label:t.lang.smiley.toolbar,command:"smiley",toolbar:"insert,50"}),CKEDITOR.dialog.add("smiley",this.path+"dialogs/smiley.js")
}}),CKEDITOR.config.smiley_images="regular_smile.png sad_smile.png wink_smile.png teeth_smile.png confused_smile.png tongue_smile.png embarrassed_smile.png omg_smile.png whatchutalkingabout_smile.png angry_smile.png angel_smile.png shades_smile.png devil_smile.png cry_smile.png lightbulb.png thumbs_down.png thumbs_up.png heart.png broken_heart.png kiss.png envelope.png".split(" "),CKEDITOR.config.smiley_descriptions="smiley;sad;wink;laugh;frown;cheeky;blush;surprise;indecision;angry;angel;cool;devil;crying;enlightened;no;yes;heart;broken heart;kiss;mail".split(";"),function(){function t(t,e){var i,e=void 0===e||e;if(e)i=t.getComputedStyle("text-align");else{for(;(!t.hasAttribute||!t.hasAttribute("align")&&!t.getStyle("text-align"))&&(i=t.getParent(),i);)t=i;i=t.getStyle("text-align")||t.getAttribute("align")||""}return i&&(i=i.replace(/(?:-(?:moz|webkit)-)?(?:start|auto)/i,"")),!i&&e&&(i="rtl"==t.getComputedStyle("direction")?"right":"left"),i}function e(t,e,i){this.editor=t,this.name=e,this.value=i,this.context="p";var e=t.config.justifyClasses,n=t.config.enterMode==CKEDITOR.ENTER_P?"p":"div";if(e){switch(i){case"left":this.cssClassName=e[0];break;case"center":this.cssClassName=e[1];break;case"right":this.cssClassName=e[2];break;case"justify":this.cssClassName=e[3]}this.cssClassRegex=RegExp("(?:^|\\s+)(?:"+e.join("|")+")(?=$|\\s)"),this.requiredContent=n+"("+this.cssClassName+")"}else this.requiredContent=n+"{text-align}";this.allowedContent={"caption div h1 h2 h3 h4 h5 h6 p pre td th li":{propertiesOnly:!0,styles:this.cssClassName?null:"text-align",classes:this.cssClassName||null}},t.config.enterMode==CKEDITOR.ENTER_BR&&(this.allowedContent.div=!0)}function i(t){var e=t.editor,i=e.createRange();i.setStartBefore(t.data.node),i.setEndAfter(t.data.node);for(var n,a=new CKEDITOR.dom.walker(i);n=a.next();)if(n.type==CKEDITOR.NODE_ELEMENT)if(!n.equals(t.data.node)&&n.getDirection())i.setStartAfter(n),a=new CKEDITOR.dom.walker(i);else{var o=e.config.justifyClasses;o&&(n.hasClass(o[0])?(n.removeClass(o[0]),n.addClass(o[2])):n.hasClass(o[2])&&(n.removeClass(o[2]),n.addClass(o[0]))),o=n.getStyle("text-align"),"left"==o?n.setStyle("text-align","right"):"right"==o&&n.setStyle("text-align","left")}}e.prototype={exec:function(e){var i=e.getSelection(),n=e.config.enterMode;if(i){for(var a,o,r=i.createBookmarks(),s=i.getRanges(),l=this.cssClassName,h=e.config.useComputedState,h=void 0===h||h,c=s.length-1;c>=0;c--)for(a=s[c].createIterator(),a.enlargeBr=n!=CKEDITOR.ENTER_BR;o=a.getNextParagraph(n==CKEDITOR.ENTER_P?"p":"div");)if(!o.isReadOnly()){o.removeAttribute("align"),o.removeStyle("text-align");var u=l&&(o.$.className=CKEDITOR.tools.ltrim(o.$.className.replace(this.cssClassRegex,""))),d=this.state==CKEDITOR.TRISTATE_OFF&&(!h||t(o,!0)!=this.value);l?d?o.addClass(l):u||o.removeAttribute("class"):d&&o.setStyle("text-align",this.value)}e.focus(),e.forceNextSelectionCheck(),i.selectBookmarks(r)}},refresh:function(e,i){var n=i.block||i.blockLimit;this.setState("body"!=n.getName()&&t(n,this.editor.config.useComputedState)==this.value?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)}},CKEDITOR.plugins.add("justify",{init:function(t){if(!t.blockless){var n=new e(t,"justifyleft","left"),a=new e(t,"justifycenter","center"),o=new e(t,"justifyright","right"),r=new e(t,"justifyblock","justify");t.addCommand("justifyleft",n),t.addCommand("justifycenter",a),t.addCommand("justifyright",o),t.addCommand("justifyblock",r),t.ui.addButton&&(t.ui.addButton("JustifyLeft",{label:t.lang.justify.left,command:"justifyleft",toolbar:"align,10"}),t.ui.addButton("JustifyCenter",{label:t.lang.justify.center,command:"justifycenter",toolbar:"align,20"}),t.ui.addButton("JustifyRight",{label:t.lang.justify.right,command:"justifyright",toolbar:"align,30"}),t.ui.addButton("JustifyBlock",{label:t.lang.justify.block,command:"justifyblock",toolbar:"align,40"})),t.on("dirChanged",i)}}})}(),CKEDITOR.plugins.add("menubutton",{requires:"button,menu",onLoad:function(){var t=function(t){var e=this._,i=e.menu;e.state!==CKEDITOR.TRISTATE_DISABLED&&(e.on&&i?i.hide():(e.previousState=e.state,i||(i=e.menu=new CKEDITOR.menu(t,{panel:{className:"cke_menu_panel",attributes:{"aria-label":t.lang.common.options}}}),i.onHide=CKEDITOR.tools.bind(function(){var i=this.command?t.getCommand(this.command).modes:this.modes;this.setState(!i||i[t.mode]?e.previousState:CKEDITOR.TRISTATE_DISABLED),e.on=0},this),this.onMenu&&i.addListener(this.onMenu)),this.setState(CKEDITOR.TRISTATE_ON),e.on=1,setTimeout(function(){i.show(CKEDITOR.document.getById(e.id),4)},0)))};CKEDITOR.ui.menuButton=CKEDITOR.tools.createClass({base:CKEDITOR.ui.button,$:function(e){delete e.panel,this.base(e),this.hasArrow=!0,this.click=t},statics:{handler:{create:function(t){return new CKEDITOR.ui.menuButton(t)}}}})},beforeInit:function(t){t.ui.addHandler(CKEDITOR.UI_MENUBUTTON,CKEDITOR.ui.menuButton.handler)}}),CKEDITOR.UI_MENUBUTTON="menubutton",function(){CKEDITOR.plugins.add("language",{requires:"menubutton",init:function(t){var e,i,n,a,o=t.config.language_list||["ar:Arabic:rtl","fr:French","es:Spanish"],r=this,s=t.lang.language,l={};for(t.addCommand("language",{allowedContent:"span[!lang,!dir]",requiredContent:"span[lang,dir]",contextSensitive:!0,exec:function(t,e){var i=l["language_"+e];i&&t[i.style.checkActive(t.elementPath(),t)?"removeStyle":"applyStyle"](i.style)},refresh:function(t){this.setState(r.getCurrentLangElement(t)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)}}),a=0;a<o.length;a++)e=o[a].split(":"),i=e[0],n="language_"+i,l[n]={label:e[1],langId:i,group:"language",order:a,ltr:"rtl"!=(""+e[2]).toLowerCase(),onClick:function(){t.execCommand("language",this.langId)},role:"menuitemcheckbox"},l[n].style=new CKEDITOR.style({element:"span",attributes:{lang:i,dir:l[n].ltr?"ltr":"rtl"}});l.language_remove={label:s.remove,group:"language_remove",state:CKEDITOR.TRISTATE_DISABLED,order:l.length,onClick:function(){var e=r.getCurrentLangElement(t);e&&t.execCommand("language",e.getAttribute("lang"))}},t.addMenuGroup("language",1),t.addMenuGroup("language_remove"),t.addMenuItems(l),t.ui.add("Language",CKEDITOR.UI_MENUBUTTON,{label:s.button,allowedContent:"span[!lang,!dir]",requiredContent:"span[lang,dir]",toolbar:"bidi,30",command:"language",onMenu:function(){var e,i={},n=r.getCurrentLangElement(t);for(e in l)i[e]=CKEDITOR.TRISTATE_OFF;return i.language_remove=n?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,n&&(i["language_"+n.getAttribute("lang")]=CKEDITOR.TRISTATE_ON),i}})},getCurrentLangElement:function(t){var e,i=t.elementPath(),t=i&&i.elements;if(i)for(var n=0;n<t.length;n++)i=t[n],!e&&"span"==i.getName()&&i.hasAttribute("dir")&&i.hasAttribute("lang")&&(e=i);return e}})}(),function(){function t(t){return t.replace(/'/g,"\\$&")}function e(t){for(var e,i=t.length,n=[],a=0;i>a;a++)e=t.charCodeAt(a),n.push(e);return"String.fromCharCode("+n.join(",")+")"}function i(e,i){var n,a,o=e.plugins.link,r=o.compiledProtectionFunction.params;a=[o.compiledProtectionFunction.name,"("];for(var s=0;s<r.length;s++)o=r[s].toLowerCase(),n=i[o],s>0&&a.push(","),a.push("'",n?t(encodeURIComponent(i[o])):"","'");return a.push(")"),a.join("")}function n(t){var e,t=t.config.emailProtection||"";return t&&"encode"!=t&&(e={},t.replace(/^([^(]+)\(([^)]+)\)$/,function(t,i,n){e.name=i,e.params=[],n.replace(/[^,\s]+/g,function(t){e.params.push(t)})})),e}CKEDITOR.plugins.add("link",{requires:"dialog,fakeobjects",onLoad:function(){function t(t){return i.replace(/%1/g,"rtl"==t?"right":"left").replace(/%2/g,"cke_contents_"+t)}var e="background:url("+CKEDITOR.getUrl(this.path+"images"+(CKEDITOR.env.hidpi?"/hidpi":"")+"/anchor.png")+") no-repeat %1 center;border:1px dotted #00f;background-size:16px;",i=".%2 a.cke_anchor,.%2 a.cke_anchor_empty,.cke_editable.%2 a[name],.cke_editable.%2 a[data-cke-saved-name]{"+e+"padding-%1:18px;cursor:auto;}.%2 img.cke_anchor{"+e+"width:16px;min-height:15px;height:1.15em;vertical-align:text-bottom;}";CKEDITOR.addCss(t("ltr")+t("rtl"))},init:function(t){var e="a[!href]";CKEDITOR.dialog.isTabEnabled(t,"link","advanced")&&(e=e.replace("]",",accesskey,charset,dir,id,lang,name,rel,tabindex,title,type]{*}(*)")),CKEDITOR.dialog.isTabEnabled(t,"link","target")&&(e=e.replace("]",",target,onclick]")),t.addCommand("link",new CKEDITOR.dialogCommand("link",{allowedContent:e,requiredContent:"a[href]"})),t.addCommand("anchor",new CKEDITOR.dialogCommand("anchor",{allowedContent:"a[!name,id]",requiredContent:"a[name]"})),t.addCommand("unlink",new CKEDITOR.unlinkCommand),t.addCommand("removeAnchor",new CKEDITOR.removeAnchorCommand),t.setKeystroke(CKEDITOR.CTRL+76,"link"),t.ui.addButton&&(t.ui.addButton("Link",{label:t.lang.link.toolbar,command:"link",toolbar:"links,10"}),t.ui.addButton("Unlink",{label:t.lang.link.unlink,command:"unlink",toolbar:"links,20"}),t.ui.addButton("Anchor",{label:t.lang.link.anchor.toolbar,command:"anchor",toolbar:"links,30"})),CKEDITOR.dialog.add("link",this.path+"dialogs/link.js"),CKEDITOR.dialog.add("anchor",this.path+"dialogs/anchor.js"),t.on("doubleclick",function(e){var i=CKEDITOR.plugins.link.getSelectedLink(t)||e.data.element;i.isReadOnly()||(i.is("a")?(e.data.dialog=!i.getAttribute("name")||i.getAttribute("href")&&i.getChildCount()?"link":"anchor",e.data.link=i):CKEDITOR.plugins.link.tryRestoreFakeAnchor(t,i)&&(e.data.dialog="anchor"))},null,null,0),t.on("doubleclick",function(e){e.data.dialog in{link:1,anchor:1}&&e.data.link&&t.getSelection().selectElement(e.data.link)},null,null,20),t.addMenuItems&&t.addMenuItems({anchor:{label:t.lang.link.anchor.menu,command:"anchor",group:"anchor",order:1},removeAnchor:{label:t.lang.link.anchor.remove,command:"removeAnchor",group:"anchor",order:5},link:{label:t.lang.link.menu,command:"link",group:"link",order:1},unlink:{label:t.lang.link.unlink,command:"unlink",group:"link",order:5}}),t.contextMenu&&t.contextMenu.addListener(function(e){if(!e||e.isReadOnly())return null;if(e=CKEDITOR.plugins.link.tryRestoreFakeAnchor(t,e),!e&&!(e=CKEDITOR.plugins.link.getSelectedLink(t)))return null;var i={};return e.getAttribute("href")&&e.getChildCount()&&(i={link:CKEDITOR.TRISTATE_OFF,unlink:CKEDITOR.TRISTATE_OFF}),e&&e.hasAttribute("name")&&(i.anchor=i.removeAnchor=CKEDITOR.TRISTATE_OFF),i}),this.compiledProtectionFunction=n(t)},afterInit:function(t){t.dataProcessor.dataFilter.addRules({elements:{a:function(e){return e.attributes.name?e.children.length?null:t.createFakeParserElement(e,"cke_anchor","anchor"):null}}});var e=t._.elementsPath&&t._.elementsPath.filters;e&&e.push(function(e,i){return"a"!=i||!CKEDITOR.plugins.link.tryRestoreFakeAnchor(t,e)&&(!e.getAttribute("name")||e.getAttribute("href")&&e.getChildCount())?void 0:"anchor"})}});var a=/^javascript:/,o=/^mailto:([^?]+)(?:\?(.+))?$/,r=/subject=([^;?:@&=$,\/]*)/,s=/body=([^;?:@&=$,\/]*)/,l=/^#(.*)$/,h=/^((?:http|https|ftp|news):\/\/)?(.*)$/,c=/^(_(?:self|top|parent|blank))$/,u=/^javascript:void\(location\.href='mailto:'\+String\.fromCharCode\(([^)]+)\)(?:\+'(.*)')?\)$/,d=/^javascript:([^(]+)\(([^)]+)\)$/,f=/\s*window.open\(\s*this\.href\s*,\s*(?:'([^']*)'|null)\s*,\s*'([^']*)'\s*\)\s*;\s*return\s*false;*\s*/,m=/(?:^|,)([^=]+)=(\d+|yes|no)/gi,p={id:"advId",dir:"advLangDir",accessKey:"advAccessKey",name:"advName",lang:"advLangCode",tabindex:"advTabIndex",title:"advTitle",type:"advContentType","class":"advCSSClasses",charset:"advCharset",style:"advStyles",rel:"advRel"};CKEDITOR.plugins.link={getSelectedLink:function(t){var e=t.getSelection(),i=e.getSelectedElement();return i&&i.is("a")?i:(e=e.getRanges()[0])?(e.shrink(CKEDITOR.SHRINK_TEXT),t.elementPath(e.getCommonAncestor()).contains("a",1)):null},getEditorAnchors:function(t){for(var e,i=t.editable(),n=i.isInline()&&!t.plugins.divarea?t.document:i,i=n.getElementsByTag("a"),n=n.getElementsByTag("img"),a=[],o=0;e=i.getItem(o++);)(e.data("cke-saved-name")||e.hasAttribute("name"))&&a.push({name:e.data("cke-saved-name")||e.getAttribute("name"),id:e.getAttribute("id")});for(o=0;e=n.getItem(o++);)(e=this.tryRestoreFakeAnchor(t,e))&&a.push({name:e.getAttribute("name"),id:e.getAttribute("id")});return a},fakeAnchor:!0,tryRestoreFakeAnchor:function(t,e){if(e&&e.data("cke-real-element-type")&&"anchor"==e.data("cke-real-element-type")){var i=t.restoreRealElement(e);if(i.data("cke-saved-name"))return i}},parseLinkAttributes:function(t,e){var i,n=e&&(e.data("cke-saved-href")||e.getAttribute("href"))||"",g=t.plugins.link.compiledProtectionFunction,v=t.config.emailProtection,C={};if(n.match(a)&&("encode"==v?n=n.replace(u,function(t,e,i){return"mailto:"+String.fromCharCode.apply(String,e.split(","))+(i&&i.replace(/\\'/g,"'"))}):v&&n.replace(d,function(t,e,i){if(e==g.name){C.type="email";for(var n,a,t=C.email={},e=/(^')|('$)/g,i=i.match(/[^,\s]+/g),o=i.length,r=0;o>r;r++)n=decodeURIComponent,a=i[r].replace(e,"").replace(/\\'/g,"'"),a=n(a),n=g.params[r].toLowerCase(),t[n]=a;t.address=[t.name,t.domain].join("@")}})),!C.type)if(v=n.match(l))C.type="anchor",C.anchor={},C.anchor.name=C.anchor.id=v[1];else if(v=n.match(o)){i=n.match(r),n=n.match(s),C.type="email";var E=C.email={};E.address=v[1],i&&(E.subject=decodeURIComponent(i[1])),n&&(E.body=decodeURIComponent(n[1]))}else n&&(i=n.match(h))&&(C.type="url",C.url={},C.url.protocol=i[1],C.url.url=i[2]);if(e){if(n=e.getAttribute("target"))C.target={type:n.match(c)?n:"frame",name:n};else if(n=(n=e.data("cke-pa-onclick")||e.getAttribute("onclick"))&&n.match(f))for(C.target={type:"popup",name:n[1]};v=m.exec(n[2]);)"yes"!=v[2]&&"1"!=v[2]||v[1]in{height:1,width:1,top:1,left:1}?isFinite(v[2])&&(C.target[v[1]]=v[2]):C.target[v[1]]=!0;var b,n={};for(b in p)(v=e.getAttribute(b))&&(n[p[b]]=v);(b=e.data("cke-saved-name")||n.advName)&&(n.advName=b),CKEDITOR.tools.isEmpty(n)||(C.advanced=n)}return C},getLinkAttributes:function(n,a){var o=n.config.emailProtection||"",r={};switch(a.type){case"url":var o=a.url&&void 0!=a.url.protocol?a.url.protocol:"http://",s=a.url&&CKEDITOR.tools.trim(a.url.url)||"";r["data-cke-saved-href"]=0===s.indexOf("/")?s:o+s;break;case"anchor":o=a.anchor&&a.anchor.id,r["data-cke-saved-href"]="#"+(a.anchor&&a.anchor.name||o||"");break;case"email":var l=a.email,s=l.address;switch(o){case"":case"encode":var h=encodeURIComponent(l.subject||""),c=encodeURIComponent(l.body||""),l=[];h&&l.push("subject="+h),c&&l.push("body="+c),l=l.length?"?"+l.join("&"):"","encode"==o?(o=["javascript:void(location.href='mailto:'+",e(s)],l&&o.push("+'",t(l),"'"),o.push(")")):o=["mailto:",s,l];break;default:o=s.split("@",2),l.name=o[0],l.domain=o[1],o=["javascript:",i(n,l)]}r["data-cke-saved-href"]=o.join("")}if(a.target)if("popup"==a.target.type){for(var o=["window.open(this.href, '",a.target.name||"","', '"],u="resizable status location toolbar menubar fullscreen scrollbars dependent".split(" "),s=u.length,h=function(t){a.target[t]&&u.push(t+"="+a.target[t])},l=0;s>l;l++)u[l]+=a.target[u[l]]?"=yes":"=no";h("width"),h("left"),h("height"),h("top"),o.push(u.join(","),"'); return false;"),r["data-cke-pa-onclick"]=o.join("")}else"notSet"!=a.target.type&&a.target.name&&(r.target=a.target.name);if(a.advanced){for(var d in p)(o=a.advanced[p[d]])&&(r[d]=o);r.name&&(r["data-cke-saved-name"]=r.name)}r["data-cke-saved-href"]&&(r.href=r["data-cke-saved-href"]),d=CKEDITOR.tools.extend({target:1,onclick:1,"data-cke-pa-onclick":1,"data-cke-saved-name":1},p);for(var f in r)delete d[f];return{set:r,removed:CKEDITOR.tools.objectKeys(d)}}},CKEDITOR.unlinkCommand=function(){},CKEDITOR.unlinkCommand.prototype={exec:function(t){var e=new CKEDITOR.style({element:"a",type:CKEDITOR.STYLE_INLINE,alwaysRemoveElement:1});t.removeStyle(e)},refresh:function(t,e){var i=e.lastElement&&e.lastElement.getAscendant("a",!0);this.setState(i&&"a"==i.getName()&&i.getAttribute("href")&&i.getChildCount()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)},contextSensitive:1,startDisabled:1,requiredContent:"a[href]"},CKEDITOR.removeAnchorCommand=function(){},CKEDITOR.removeAnchorCommand.prototype={exec:function(t){var e,i=t.getSelection(),n=i.createBookmarks();i&&(e=i.getSelectedElement())&&(e.getChildCount()?e.is("a"):CKEDITOR.plugins.link.tryRestoreFakeAnchor(t,e))?e.remove(1):(e=CKEDITOR.plugins.link.getSelectedLink(t))&&(e.hasAttribute("href")?(e.removeAttributes({name:1,"data-cke-saved-name":1}),e.removeClass("cke_anchor")):e.remove(1)),i.selectBookmarks(n)},requiredContent:"a[name]"},CKEDITOR.tools.extend(CKEDITOR.config,{linkShowAdvancedTab:!0,linkShowTargetTab:!0})}(),function(){function t(t,e,i){function n(i){!(l=c[i?"getFirst":"getLast"]())||l.is&&l.isBlockBoundary()||!(h=e.root[i?"getPrevious":"getNext"](CKEDITOR.dom.walker.invisible(!0)))||h.is&&h.isBlockBoundary({br:1})||t.document.createElement("br")[i?"insertBefore":"insertAfter"](l)}for(var a=CKEDITOR.plugins.list.listToArray(e.root,i),o=[],r=0;r<e.contents.length;r++){var s=e.contents[r];(s=s.getAscendant("li",!0))&&!s.getCustomData("list_item_processed")&&(o.push(s),CKEDITOR.dom.element.setMarker(i,s,"list_item_processed",!0))}for(s=null,r=0;r<o.length;r++)s=o[r].getCustomData("listarray_index"),a[s].indent=-1;for(r=s+1;r<a.length;r++)if(a[r].indent>a[r-1].indent+1){for(o=a[r-1].indent+1-a[r].indent,s=a[r].indent;a[r]&&a[r].indent>=s;)a[r].indent+=o,r++;r--}var l,h,c=CKEDITOR.plugins.list.arrayToList(a,i,null,t.config.enterMode,e.root.getAttribute("dir")).listNode;n(!0),n(),c.replace(e.root),t.fire("contentDomInvalidated")}function e(t,e){this.name=t,this.context=this.type=e,this.allowedContent=e+" li",this.requiredContent=e}function i(t,e,i,n){for(var a,o;a=t[n?"getLast":"getFirst"](f);)(o=a.getDirection(1))!==e.getDirection(1)&&a.setAttribute("dir",o),a.remove(),i?a[n?"insertBefore":"insertAfter"](i):e.append(a,n)}function n(t){var e;(e=function(e){var n=t[e?"getPrevious":"getNext"](c);n&&n.type==CKEDITOR.NODE_ELEMENT&&n.is(t.getName())&&(i(t,n,null,!e),t.remove(),t=n)})(),e(1)}function a(t){return t.type==CKEDITOR.NODE_ELEMENT&&(t.getName()in CKEDITOR.dtd.$block||t.getName()in CKEDITOR.dtd.$listItem)&&CKEDITOR.dtd[t.getName()]["#"]}function o(t,e,a){t.fire("saveSnapshot"),a.enlarge(CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS);var o=a.extractContents();e.trim(!1,!0);var s=e.createBookmark(),l=new CKEDITOR.dom.elementPath(e.startContainer),h=l.block,l=l.lastElement.getAscendant("li",1)||h,d=new CKEDITOR.dom.elementPath(a.startContainer),f=d.contains(CKEDITOR.dtd.$listItem),d=d.contains(CKEDITOR.dtd.$list);for(h?(h=h.getBogus())&&h.remove():d&&(h=d.getPrevious(c))&&u(h)&&h.remove(),(h=o.getLast())&&h.type==CKEDITOR.NODE_ELEMENT&&h.is("br")&&h.remove(),(h=e.startContainer.getChild(e.startOffset))?o.insertBefore(h):e.startContainer.append(o),f&&(o=r(f))&&(l.contains(f)?(i(o,f.getParent(),f),o.remove()):l.append(o));a.checkStartOfBlock()&&a.checkEndOfBlock()&&(d=a.startPath(),o=d.block,o);)o.is("li")&&(l=o.getParent(),o.equals(l.getLast(c))&&o.equals(l.getFirst(c))&&(o=l)),a.moveToPosition(o,CKEDITOR.POSITION_BEFORE_START),o.remove();a=a.clone(),o=t.editable(),a.setEndAt(o,CKEDITOR.POSITION_BEFORE_END),a=new CKEDITOR.dom.walker(a),a.evaluator=function(t){return c(t)&&!u(t)},(a=a.next())&&a.type==CKEDITOR.NODE_ELEMENT&&a.getName()in CKEDITOR.dtd.$list&&n(a),e.moveToBookmark(s),e.select(),t.fire("saveSnapshot")}function r(t){return(t=t.getLast(c))&&t.type==CKEDITOR.NODE_ELEMENT&&t.getName()in s?t:null}var s={ol:1,ul:1},l=CKEDITOR.dom.walker.whitespaces(),h=CKEDITOR.dom.walker.bookmark(),c=function(t){return!(l(t)||h(t))},u=CKEDITOR.dom.walker.bogus();CKEDITOR.plugins.list={listToArray:function(t,e,i,n,a){if(!s[t.getName()])return[];n||(n=0),i||(i=[]);for(var o=0,r=t.getChildCount();r>o;o++){var l=t.getChild(o);if(l.type==CKEDITOR.NODE_ELEMENT&&l.getName()in CKEDITOR.dtd.$list&&CKEDITOR.plugins.list.listToArray(l,e,i,n+1),"li"==l.$.nodeName.toLowerCase()){var h={parent:t,indent:n,element:l,contents:[]};a?h.grandparent=a:(h.grandparent=t.getParent(),h.grandparent&&"li"==h.grandparent.$.nodeName.toLowerCase()&&(h.grandparent=h.grandparent.getParent())),e&&CKEDITOR.dom.element.setMarker(e,l,"listarray_index",i.length),i.push(h);for(var c,u=0,d=l.getChildCount();d>u;u++)c=l.getChild(u),c.type==CKEDITOR.NODE_ELEMENT&&s[c.getName()]?CKEDITOR.plugins.list.listToArray(c,e,i,n+1,h.grandparent):h.contents.push(c)}}return i},arrayToList:function(t,e,i,n,a){if(i||(i=0),!t||t.length<i+1)return null;for(var o,r,l,u=t[i].parent.getDocument(),d=new CKEDITOR.dom.documentFragment(u),f=null,m=i,p=Math.max(t[i].indent,0),g=null,v=n==CKEDITOR.ENTER_P?"p":"div";;){var C=t[m];if(o=C.grandparent,r=C.element.getDirection(1),C.indent==p){for(f&&t[m].parent.getName()==f.getName()||(f=t[m].parent.clone(!1,1),a&&f.setAttribute("dir",a),d.append(f)),g=f.append(C.element.clone(0,1)),r!=f.getDirection(1)&&g.setAttribute("dir",r),o=0;o<C.contents.length;o++)g.append(C.contents[o].clone(1,1));m++}else if(C.indent==Math.max(p,0)+1)C=t[m-1].element.getDirection(1),m=CKEDITOR.plugins.list.arrayToList(t,null,m,n,C!=r?r:null),!g.getChildCount()&&CKEDITOR.env.needsNbspFiller&&!(7<u.$.documentMode)&&g.append(u.createText("\xa0")),g.append(m.listNode),m=m.nextIndex;else{if(-1!=C.indent||i||!o)return null;s[o.getName()]?(g=C.element.clone(!1,!0),r!=o.getDirection(1)&&g.setAttribute("dir",r)):g=new CKEDITOR.dom.documentFragment(u);var E,b,f=o.getDirection(1)!=r,T=C.element,y=T.getAttribute("class"),D=T.getAttribute("style"),O=g.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&(n!=CKEDITOR.ENTER_BR||f||D||y),I=C.contents.length;for(o=0;I>o;o++)if(E=C.contents[o],h(E)&&I>1)O?b=E.clone(1,1):g.append(E.clone(1,1));else if(E.type==CKEDITOR.NODE_ELEMENT&&E.isBlockBoundary()){f&&!E.getDirection()&&E.setAttribute("dir",r),l=E;var R=T.getAttribute("style");R&&l.setAttribute("style",R.replace(/([^;])$/,"$1;")+(l.getAttribute("style")||"")),y&&E.addClass(y),l=null,b&&(g.append(b),b=null),g.append(E.clone(1,1))}else O?(l||(l=u.createElement(v),g.append(l),f&&l.setAttribute("dir",r)),D&&l.setAttribute("style",D),y&&l.setAttribute("class",y),b&&(l.append(b),b=null),l.append(E.clone(1,1))):g.append(E.clone(1,1));b&&((l||g).append(b),b=null),g.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&m!=t.length-1&&(CKEDITOR.env.needsBrFiller&&(r=g.getLast())&&r.type==CKEDITOR.NODE_ELEMENT&&r.is("br")&&r.remove(),r=g.getLast(c),(!r||!(r.type==CKEDITOR.NODE_ELEMENT&&r.is(CKEDITOR.dtd.$block)))&&g.append(u.createElement("br"))),r=g.$.nodeName.toLowerCase(),("div"==r||"p"==r)&&g.appendBogus(),d.append(g),f=null,m++}if(l=null,t.length<=m||Math.max(t[m].indent,0)<p)break}if(e)for(t=d.getFirst();t;){if(t.type==CKEDITOR.NODE_ELEMENT&&(CKEDITOR.dom.element.clearMarkers(e,t),t.getName()in CKEDITOR.dtd.$listItem&&(i=t,u=a=n=void 0,n=i.getDirection()))){for(a=i.getParent();a&&!(u=a.getDirection());)a=a.getParent();n==u&&i.removeAttribute("dir")}t=t.getNextSourceNode()}return{listNode:d,nextIndex:m}}};var d=/^h[1-6]$/,f=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT);e.prototype={exec:function(e){this.refresh(e,e.elementPath());var i=e.config,a=e.getSelection(),o=a&&a.getRanges();if(this.state==CKEDITOR.TRISTATE_OFF){var r=e.editable();if(r.getFirst(c)){var l=1==o.length&&o[0];(i=l&&l.getEnclosedNode())&&i.is&&this.type==i.getName()&&this.setState(CKEDITOR.TRISTATE_ON)}else i.enterMode==CKEDITOR.ENTER_BR?r.appendBogus():o[0].fixBlock(1,i.enterMode==CKEDITOR.ENTER_P?"p":"div"),a.selectRanges(o)}for(var i=a.createBookmarks(!0),r=[],h={},o=o.createIterator(),u=0;(l=o.getNextRange())&&++u;){var f=l.getBoundaryNodes(),m=f.startNode,p=f.endNode;for(m.type==CKEDITOR.NODE_ELEMENT&&"td"==m.getName()&&l.setStartAt(f.startNode,CKEDITOR.POSITION_AFTER_START),p.type==CKEDITOR.NODE_ELEMENT&&"td"==p.getName()&&l.setEndAt(f.endNode,CKEDITOR.POSITION_BEFORE_END),l=l.createIterator(),l.forceBrBreak=this.state==CKEDITOR.TRISTATE_OFF;f=l.getNextParagraph();)if(!f.getCustomData("list_block")){CKEDITOR.dom.element.setMarker(h,f,"list_block",1);for(var g,v=e.elementPath(f),m=v.elements,p=0,v=v.blockLimit,C=m.length-1;C>=0&&(g=m[C]);C--)if(s[g.getName()]&&v.contains(g)){v.removeCustomData("list_group_object_"+u),(m=g.getCustomData("list_group_object"))?m.contents.push(f):(m={root:g,contents:[f]},r.push(m),CKEDITOR.dom.element.setMarker(h,g,"list_group_object",m)),p=1;break}p||(p=v,p.getCustomData("list_group_object_"+u)?p.getCustomData("list_group_object_"+u).contents.push(f):(m={root:p,contents:[f]},CKEDITOR.dom.element.setMarker(h,p,"list_group_object_"+u,m),r.push(m)))}}for(g=[];0<r.length;)if(m=r.shift(),this.state==CKEDITOR.TRISTATE_OFF)if(s[m.root.getName()]){for(o=e,u=m,m=h,l=g,p=CKEDITOR.plugins.list.listToArray(u.root,m),v=[],f=0;f<u.contents.length;f++)C=u.contents[f],(C=C.getAscendant("li",!0))&&!C.getCustomData("list_item_processed")&&(v.push(C),CKEDITOR.dom.element.setMarker(m,C,"list_item_processed",!0));for(var C=u.root.getDocument(),E=void 0,b=void 0,f=0;f<v.length;f++){var T=v[f].getCustomData("listarray_index"),E=p[T].parent;E.is(this.type)||(b=C.createElement(this.type),E.copyAttributes(b,{start:1,type:1}),b.removeStyle("list-style-type"),p[T].parent=b)}for(m=CKEDITOR.plugins.list.arrayToList(p,m,null,o.config.enterMode),p=void 0,v=m.listNode.getChildCount(),f=0;v>f&&(p=m.listNode.getChild(f));f++)p.getName()==this.type&&l.push(p);m.listNode.replace(u.root),o.fire("contentDomInvalidated")}else{for(p=e,f=m,l=g,v=f.contents,o=f.root.getDocument(),u=[],1==v.length&&v[0].equals(f.root)&&(m=o.createElement("div"),v[0].moveChildren&&v[0].moveChildren(m),v[0].append(m),v[0]=m),f=f.contents[0].getParent(),C=0;C<v.length;C++)f=f.getCommonAncestor(v[C].getParent());for(E=p.config.useComputedState,p=m=void 0,E=void 0===E||E,C=0;C<v.length;C++)for(b=v[C];T=b.getParent();){if(T.equals(f)){u.push(b),!p&&b.getDirection()&&(p=1),b=b.getDirection(E),null!==m&&(m=m&&m!=b?null:b);break}b=T}if(!(1>u.length)){for(v=u[u.length-1].getNext(),C=o.createElement(this.type),l.push(C),E=l=void 0;u.length;)l=u.shift(),E=o.createElement("li"),l.is("pre")||d.test(l.getName())||"false"==l.getAttribute("contenteditable")?l.appendTo(E):(l.copyAttributes(E),m&&l.getDirection()&&(E.removeStyle("direction"),E.removeAttribute("dir")),l.moveChildren(E),l.remove()),E.appendTo(C);m&&p&&C.setAttribute("dir",m),v?C.insertBefore(v):C.appendTo(f)}}else this.state==CKEDITOR.TRISTATE_ON&&s[m.root.getName()]&&t.call(this,e,m,h);for(C=0;C<g.length;C++)n(g[C]);CKEDITOR.dom.element.clearAllMarkers(h),a.selectBookmarks(i),e.focus()},refresh:function(t,e){var i=e.contains(s,1),n=e.blockLimit||e.root;this.setState(i&&n.contains(i)&&i.is(this.type)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)}},CKEDITOR.plugins.add("list",{requires:"indentlist",init:function(t){t.blockless||(t.addCommand("numberedlist",new e("numberedlist","ol")),t.addCommand("bulletedlist",new e("bulletedlist","ul")),t.ui.addButton&&(t.ui.addButton("NumberedList",{label:t.lang.list.numberedlist,command:"numberedlist",directional:!0,toolbar:"list,10"}),t.ui.addButton("BulletedList",{label:t.lang.list.bulletedlist,command:"bulletedlist",directional:!0,toolbar:"list,20"})),t.on("key",function(e){var i=e.data.domEvent.getKey();if("wysiwyg"==t.mode&&i in{8:1,46:1}){var n=t.getSelection().getRanges()[0],l=n&&n.startPath();if(n&&n.collapsed){var h=8==i,d=t.editable(),f=new CKEDITOR.dom.walker(n.clone());if(f.evaluator=function(t){return c(t)&&!u(t)},f.guard=function(t,e){return!(e&&t.type==CKEDITOR.NODE_ELEMENT&&t.is("table"))},i=n.clone(),h){var m,p;(m=l.contains(s))&&n.checkBoundaryOfElement(m,CKEDITOR.START)&&(m=m.getParent())&&m.is("li")&&(m=r(m))?(p=m,m=m.getPrevious(c),i.moveToPosition(m&&u(m)?m:p,CKEDITOR.POSITION_BEFORE_START)):(f.range.setStartAt(d,CKEDITOR.POSITION_AFTER_START),f.range.setEnd(n.startContainer,n.startOffset),(m=f.previous())&&m.type==CKEDITOR.NODE_ELEMENT&&(m.getName()in s||m.is("li"))&&(m.is("li")||(f.range.selectNodeContents(m),f.reset(),f.evaluator=a,m=f.previous()),p=m,i.moveToElementEditEnd(p))),p?(o(t,i,n),e.cancel()):(i=l.contains(s))&&n.checkBoundaryOfElement(i,CKEDITOR.START)&&(p=i.getFirst(c),n.checkBoundaryOfElement(p,CKEDITOR.START)&&(m=i.getPrevious(c),r(p)?m&&(n.moveToElementEditEnd(m),n.select()):t.execCommand("outdent"),e.cancel()))}else(p=l.contains("li"))?(f.range.setEndAt(d,CKEDITOR.POSITION_BEFORE_END),d=(l=p.getLast(c))&&a(l)?l:p,p=0,(m=f.next())&&m.type==CKEDITOR.NODE_ELEMENT&&m.getName()in s&&m.equals(l)?(p=1,m=f.next()):n.checkBoundaryOfElement(d,CKEDITOR.END)&&(p=1),p&&m&&(n=n.clone(),n.moveToElementEditStart(m),o(t,i,n),e.cancel())):(f.range.setEndAt(d,CKEDITOR.POSITION_BEFORE_END),(m=f.next())&&m.type==CKEDITOR.NODE_ELEMENT&&m.is(s)&&(m=m.getFirst(c),l.block&&n.checkStartOfBlock()&&n.checkEndOfBlock()?(l.block.remove(),n.moveToElementEditStart(m),n.select()):r(m)?(n.moveToElementEditStart(m),n.select()):(n=n.clone(),n.moveToElementEditStart(m),o(t,i,n)),e.cancel()));setTimeout(function(){t.selectionChange(1)})}}}))}})}(),function(){CKEDITOR.plugins.liststyle={requires:"dialog,contextmenu",init:function(t){if(!t.blockless){var e;e=new CKEDITOR.dialogCommand("numberedListStyle",{requiredContent:"ol",allowedContent:"ol{list-style-type}[start]"}),e=t.addCommand("numberedListStyle",e),t.addFeature(e),CKEDITOR.dialog.add("numberedListStyle",this.path+"dialogs/liststyle.js"),e=new CKEDITOR.dialogCommand("bulletedListStyle",{requiredContent:"ul",allowedContent:"ul{list-style-type}"}),e=t.addCommand("bulletedListStyle",e),t.addFeature(e),CKEDITOR.dialog.add("bulletedListStyle",this.path+"dialogs/liststyle.js"),t.addMenuGroup("list",108),t.addMenuItems({numberedlist:{label:t.lang.liststyle.numberedTitle,group:"list",command:"numberedListStyle"},bulletedlist:{label:t.lang.liststyle.bulletedTitle,group:"list",command:"bulletedListStyle"}}),t.contextMenu.addListener(function(t){if(!t||t.isReadOnly())return null;for(;t;){var e=t.getName();if("ol"==e)return{numberedlist:CKEDITOR.TRISTATE_OFF};if("ul"==e)return{bulletedlist:CKEDITOR.TRISTATE_OFF};t=t.getParent()}return null})}}},CKEDITOR.plugins.add("liststyle",CKEDITOR.plugins.liststyle)}(),function(){function t(t,e,i){return c(e)&&c(i)&&i.equals(e.getNext(function(t){return!(U(t)||X(t)||u(t))}))}function e(t){this.upper=t[0],this.lower=t[1],this.set.apply(this,t.slice(2))}function i(t){var e=t.element;if(e&&c(e)&&(e=e.getAscendant(t.triggers,!0))&&t.editable.contains(e)){var i=o(e);if("true"==i.getAttribute("contenteditable"))return e;if(i.is(t.triggers))return i}return null}function n(t,e,i){return E(t,e),E(t,i),t=e.size.bottom,i=i.size.top,t&&i?0|(t+i)/2:t||i}function a(t,e,i){return e=e[i?"getPrevious":"getNext"](function(e){return e&&e.type==CKEDITOR.NODE_TEXT&&!U(e)||c(e)&&!u(e)&&!h(t,e)})}function o(t,e){if(t.data("cke-editable"))return null;for(e||(t=t.getParent());t&&!t.data("cke-editable");){if(t.hasAttribute("contenteditable"))return t;t=t.getParent()}return null}function r(t){var e=t.doc,i=I('<span contenteditable="false" style="'+V+"position:absolute;border-top:1px dashed "+t.boxColor+'"></span>',e),n=CKEDITOR.getUrl(this.path+"images/"+(R.hidpi?"hidpi/":"")+"icon"+(t.rtl?"-rtl":"")+".png");for(D(i,{attach:function(){return this.wrap.getParent()||this.wrap.appendTo(t.editable,!0),this},lineChildren:[D(I('<span title="'+t.editor.lang.magicline.title+'" contenteditable="false">&#8629;</span>',e),{base:V+"height:17px;width:17px;"+(t.rtl?"left":"right")+":17px;background:url("+n+") center no-repeat "+t.boxColor+";cursor:pointer;"+(R.hc?"font-size: 15px;line-height:14px;border:1px solid #fff;text-align:center;":"")+(R.hidpi?"background-size: 9px 10px;":""),looks:["top:-8px;"+CKEDITOR.tools.cssVendorPrefix("border-radius","2px",1),"top:-17px;"+CKEDITOR.tools.cssVendorPrefix("border-radius","2px 2px 0px 0px",1),"top:-1px;"+CKEDITOR.tools.cssVendorPrefix("border-radius","0px 0px 2px 2px",1)]}),D(I(G,e),{base:q+"left:0px;border-left-color:"+t.boxColor+";",looks:["border-width:8px 0 8px 8px;top:-8px","border-width:8px 0 0 8px;top:-8px","border-width:0 0 8px 8px;top:0px"]}),D(I(G,e),{base:q+"right:0px;border-right-color:"+t.boxColor+";",looks:["border-width:8px 8px 8px 0;top:-8px","border-width:8px 8px 0 0;top:-8px","border-width:0 8px 8px 0;top:0px"]})],detach:function(){return this.wrap.getParent()&&this.wrap.remove(),this},mouseNear:function(){E(t,this);var e=t.holdDistance,i=this.size;return i&&t.mouse.y>i.top-e&&t.mouse.y<i.bottom+e&&t.mouse.x>i.left-e&&t.mouse.x<i.right+e?!0:!1},place:function(){var e=t.view,i=t.editable,n=t.trigger,a=n.upper,o=n.lower,r=a||o,s=r.getParent(),l={};this.trigger=n,a&&E(t,a,!0),o&&E(t,o,!0),E(t,s,!0),t.inInlineMode&&b(t,!0),s.equals(i)?(l.left=e.scroll.x,l.right=-e.scroll.x,l.width=""):(l.left=r.size.left-r.size.margin.left+e.scroll.x-(t.inInlineMode?e.editable.left+e.editable.border.left:0),l.width=r.size.outerWidth+r.size.margin.left+r.size.margin.right+e.scroll.x,l.right=""),a&&o?l.top=a.size.margin.bottom===o.size.margin.top?0|a.size.bottom+a.size.margin.bottom/2:a.size.margin.bottom<o.size.margin.top?a.size.bottom+a.size.margin.bottom:a.size.bottom+a.size.margin.bottom-o.size.margin.top:a?o||(l.top=a.size.bottom+a.size.margin.bottom):l.top=o.size.top-o.size.margin.top,n.is(F)||l.top>e.scroll.y-15&&l.top<e.scroll.y+5?(l.top=t.inInlineMode?0:e.scroll.y,this.look(F)):n.is(M)||l.top>e.pane.bottom-5&&l.top<e.pane.bottom+15?(l.top=t.inInlineMode?e.editable.height+e.editable.padding.top+e.editable.padding.bottom:e.pane.bottom-1,this.look(M)):(t.inInlineMode&&(l.top-=e.editable.top+e.editable.border.top),this.look(L)),t.inInlineMode&&(l.top--,l.top+=e.editable.scroll.top,l.left+=e.editable.scroll.left);
for(var h in l)l[h]=CKEDITOR.tools.cssLength(l[h]);this.setStyles(l)},look:function(t){if(this.oldLook!=t){for(var e,i=this.lineChildren.length;i--;)(e=this.lineChildren[i]).setAttribute("style",e.base+e.looks[0|t/2]);this.oldLook=t}},wrap:new O("span",t.doc)}),e=i.lineChildren.length;e--;)i.lineChildren[e].appendTo(i);i.look(L),i.appendTo(i.wrap),i.unselectable(),i.lineChildren[0].on("mouseup",function(e){i.detach(),s(t,function(e){var i=t.line.trigger;e[i.is(w)?"insertBefore":"insertAfter"](i.is(w)?i.lower:i.upper)},!0),t.editor.focus(),!R.ie&&t.enterMode!=CKEDITOR.ENTER_BR&&t.hotNode.scrollIntoView(),e.data.preventDefault(!0)}),i.on("mousedown",function(t){t.data.preventDefault(!0)}),t.line=i}function s(t,e,i){var n,a=new CKEDITOR.dom.range(t.doc),r=t.editor;R.ie&&t.enterMode==CKEDITOR.ENTER_BR?n=t.doc.createText(B):(n=(n=o(t.element,!0))&&n.data("cke-enter-mode")||t.enterMode,n=new O(A[n],t.doc),n.is("br")||t.doc.createText(B).appendTo(n)),i&&r.fire("saveSnapshot"),e(n),a.moveToPosition(n,CKEDITOR.POSITION_AFTER_START),r.getSelection().selectRanges([a]),t.hotNode=n,i&&r.fire("saveSnapshot")}function l(t,e){return{canUndo:!0,modes:{wysiwyg:1},exec:function(){function n(i){var n=R.ie&&9>R.version?" ":B,a=t.hotNode&&t.hotNode.getText()==n&&t.element.equals(t.hotNode)&&t.lastCmdDirection===!!e;s(t,function(n){a&&t.hotNode&&t.hotNode.remove(),n[e?"insertAfter":"insertBefore"](i),n.setAttributes({"data-cke-magicline-hot":1,"data-cke-magicline-dir":!!e}),t.lastCmdDirection=!!e}),!R.ie&&t.enterMode!=CKEDITOR.ENTER_BR&&t.hotNode.scrollIntoView(),t.line.detach()}return function(r){var s,r=r.getSelection().getStartElement(),r=r.getAscendant(H,1);if(!m(t,r)&&r&&!r.equals(t.editable)&&!r.contains(t.editable)){(s=o(r))&&"false"==s.getAttribute("contenteditable")&&(r=s),t.element=r,s=a(t,r,!e);var l;c(s)&&s.is(t.triggers)&&s.is(z)&&(!a(t,s,!e)||(l=a(t,s,!e))&&c(l)&&l.is(t.triggers))?n(s):(l=i(t,r),c(l)&&(a(t,l,!e)?(r=a(t,l,!e))&&c(r)&&r.is(t.triggers)&&n(l):n(l)))}}}()}}function h(t,e){if(!e||e.type!=CKEDITOR.NODE_ELEMENT||!e.$)return!1;var i=t.line;return i.wrap.equals(e)||i.wrap.contains(e)}function c(t){return t&&t.type==CKEDITOR.NODE_ELEMENT&&t.$}function u(t){if(!c(t))return!1;var e;return(e=d(t))||(c(t)?(e={left:1,right:1,center:1},e=!(!e[t.getComputedStyle("float")]&&!e[t.getAttribute("align")])):e=!1),e}function d(t){return!!{absolute:1,fixed:1}[t.getComputedStyle("position")]}function f(t,e){return c(e)?e.is(t.triggers):null}function m(t,e){if(!e)return!1;for(var i=e.getParents(1),n=i.length;n--;)for(var a=t.tabuList.length;a--;)if(i[n].hasAttribute(t.tabuList[a]))return!0;return!1}function p(t,e,i){return(e=e[i?"getLast":"getFirst"](function(e){return t.isRelevant(e)&&!e.is($)}))?(E(t,e),i?e.size.top>t.mouse.y:e.size.bottom<t.mouse.y):!1}function g(t){var i=t.editable,n=t.mouse,a=t.view,o=t.triggerOffset;b(t);var r=n.y>(t.inInlineMode?a.editable.top+a.editable.height/2:Math.min(a.editable.height,a.pane.height)/2),i=i[r?"getLast":"getFirst"](function(t){return!(U(t)||X(t))});return i?(h(t,i)&&(i=t.line.wrap[r?"getPrevious":"getNext"](function(t){return!(U(t)||X(t))})),c(i)&&!u(i)&&f(t,i)?(E(t,i),!r&&0<=i.size.top&&0<n.y&&n.y<i.size.top+o?(t=t.inInlineMode||0===a.scroll.y?F:L,new e([null,i,w,_,t])):r&&i.size.bottom<=a.pane.height&&n.y>i.size.bottom-o&&n.y<a.pane.height?(t=t.inInlineMode||i.size.bottom>a.pane.height-o&&i.size.bottom<a.pane.height?M:L,new e([i,null,S,_,t])):null):null):null}function v(t){var n=t.mouse,o=t.view,r=t.triggerOffset,s=i(t);if(!s)return null;E(t,s);var l,h,r=Math.min(r,0|s.size.outerHeight/2),d=[];if(n.y>s.size.top-1&&n.y<s.size.top+r)h=!1;else{if(!(n.y>s.size.bottom-r&&n.y<s.size.bottom+1))return null;h=!0}if(u(s)||p(t,s,h)||s.getParent().is(P))return null;var m=a(t,s,!h);if(m){if(m&&m.type==CKEDITOR.NODE_TEXT)return null;if(c(m)){if(u(m)||!f(t,m)||m.getParent().is(P))return null;d=[m,s][h?"reverse":"concat"]().concat([K,_])}}else s.equals(t.editable[h?"getLast":"getFirst"](t.isRelevant))?(b(t),h&&n.y>s.size.bottom-r&&n.y<o.pane.height&&s.size.bottom>o.pane.height-r&&s.size.bottom<o.pane.height?l=M:0<n.y&&n.y<s.size.top+r&&(l=F)):l=L,d=[null,s][h?"reverse":"concat"]().concat([h?S:w,_,l,s.equals(t.editable[h?"getLast":"getFirst"](t.isRelevant))?h?M:F:L]);return 0 in d?new e(d):null}function C(t,e,i,n){for(var a=function(){var i=R.ie?e.$.currentStyle:t.win.$.getComputedStyle(e.$,"");return R.ie?function(t){return i[CKEDITOR.tools.cssStyleToDomStyle(t)]}:function(t){return i.getPropertyValue(t)}}(),o=e.getDocumentPosition(),r={},s={},l={},h={},c=J.length;c--;)r[J[c]]=parseInt(a("border-"+J[c]+"-width"),10)||0,l[J[c]]=parseInt(a("padding-"+J[c]),10)||0,s[J[c]]=parseInt(a("margin-"+J[c]),10)||0;return(!i||n)&&T(t,n),h.top=o.y-(i?0:t.view.scroll.y),h.left=o.x-(i?0:t.view.scroll.x),h.outerWidth=e.$.offsetWidth,h.outerHeight=e.$.offsetHeight,h.height=h.outerHeight-(l.top+l.bottom+r.top+r.bottom),h.width=h.outerWidth-(l.left+l.right+r.left+r.right),h.bottom=h.top+h.outerHeight,h.right=h.left+h.outerWidth,t.inInlineMode&&(h.scroll={top:e.$.scrollTop,left:e.$.scrollLeft}),D({border:r,padding:l,margin:s,ignoreScroll:i},h,!0)}function E(t,e,i){if(!c(e))return e.size=null;if(e.size){if(e.size.ignoreScroll==i&&e.size.date>new Date-j)return null}else e.size={};return D(e.size,C(t,e,i),{date:+new Date},!0)}function b(t,e){t.view.editable=C(t,t.editable,e,!0)}function T(t,e){t.view||(t.view={});var i=t.view;if(e||!(i&&i.date>new Date-j)){var n=t.win,i=n.getScrollPosition(),n=n.getViewPaneSize();D(t.view,{scroll:{x:i.x,y:i.y,width:t.doc.$.documentElement.scrollWidth-n.width,height:t.doc.$.documentElement.scrollHeight-n.height},pane:{width:n.width,height:n.height,bottom:n.height+i.y},date:+new Date},!0)}}function y(t,i,n,a){for(var o=a,r=a,s=0,l=!1,h=!1,c=t.view.pane.height,u=t.mouse;u.y+s<c&&0<u.y-s&&(l||(l=i(o,a)),h||(h=i(r,a)),!l&&0<u.y-s&&(o=n(t,{x:u.x,y:u.y-s})),!h&&u.y+s<c&&(r=n(t,{x:u.x,y:u.y+s})),!l||!h);)s+=2;return new e([o,r,null,null])}CKEDITOR.plugins.add("magicline",{init:function(t){var n,o,f,p=t.config,E=p.magicline_triggerOffset||30,y={editor:t,enterMode:p.enterMode,triggerOffset:E,holdDistance:0|E*(p.magicline_holdDistance||.5),boxColor:p.magicline_color||"#ff0000",rtl:"rtl"==p.contentsLangDirection,tabuList:["data-cke-hidden-sel"].concat(p.magicline_tabuList||[]),triggers:p.magicline_everywhere?H:{table:1,hr:1,div:1,ul:1,ol:1,dl:1,form:1,blockquote:1}};y.isRelevant=function(t){return c(t)&&!h(y,t)&&!u(t)},t.on("contentDom",function(){var c=t.editable(),u=t.document,E=t.window;D(y,{editable:c,inInlineMode:c.isInline(),doc:u,win:E,hotNode:null},!0),y.boundary=y.inInlineMode?y.editable:y.doc.getDocumentElement(),c.is(k.$inline)||(y.inInlineMode&&!d(c)&&c.setStyles({position:"relative",top:null,left:null}),r.call(this,y),T(y),c.attachListener(t,"beforeUndoImage",function(){y.line.detach()}),c.attachListener(t,"beforeGetData",function(){y.line.wrap.getParent()&&(y.line.detach(),t.once("getData",function(){y.line.attach()},null,null,1e3))},null,null,0),c.attachListener(y.inInlineMode?u:u.getWindow().getFrame(),"mouseout",function(e){if("wysiwyg"==t.mode)if(y.inInlineMode){var i=e.data.$.clientX,e=e.data.$.clientY;T(y),b(y,!0);var n=y.view.editable,a=y.view.scroll;i>n.left-a.x&&i<n.right-a.x&&e>n.top-a.y&&e<n.bottom-a.y||(clearTimeout(f),f=null,y.line.detach())}else clearTimeout(f),f=null,y.line.detach()}),c.attachListener(c,"keyup",function(){y.hiddenMode=0}),c.attachListener(c,"keydown",function(e){if("wysiwyg"==t.mode)switch(e=e.data.getKeystroke(),t.getSelection().getStartElement(),e){case 2228240:case 16:y.hiddenMode=1,y.line.detach()}}),c.attachListener(y.inInlineMode?c:u,"mousemove",function(e){if(o=!0,"wysiwyg"==t.mode&&!t.readOnly&&!f){var i={x:e.data.$.clientX,y:e.data.$.clientY};f=setTimeout(function(){y.mouse=i,f=y.trigger=null,T(y),o&&!y.hiddenMode&&t.focusManager.hasFocus&&!y.line.mouseNear()&&(y.element=W(y,!0))&&((y.trigger=g(y)||v(y)||Y(y))&&!m(y,y.trigger.upper||y.trigger.lower)?y.line.attach().place():(y.trigger=null,y.line.detach()),o=!1)},30)}}),c.attachListener(E,"scroll",function(){"wysiwyg"==t.mode&&(y.line.detach(),R.webkit&&(y.hiddenMode=1,clearTimeout(n),n=setTimeout(function(){y.mouseDown||(y.hiddenMode=0)},50)))}),c.attachListener(x?u:E,"mousedown",function(){"wysiwyg"==t.mode&&(y.line.detach(),y.hiddenMode=1,y.mouseDown=1)}),c.attachListener(x?u:E,"mouseup",function(){y.hiddenMode=0,y.mouseDown=0}),t.addCommand("accessPreviousSpace",l(y)),t.addCommand("accessNextSpace",l(y,!0)),t.setKeystroke([[p.magicline_keystrokePrevious,"accessPreviousSpace"],[p.magicline_keystrokeNext,"accessNextSpace"]]),t.on("loadSnapshot",function(){var e,i,n,a;for(a in{p:1,br:1,div:1})for(e=t.document.getElementsByTag(a),n=e.count();n--;)if((i=e.getItem(n)).data("cke-magicline-hot"))return y.hotNode=i,void(y.lastCmdDirection="true"===i.data("cke-magicline-dir")?!0:!1)}),this.backdoor={accessFocusSpace:s,boxTrigger:e,isLine:h,getAscendantTrigger:i,getNonEmptyNeighbour:a,getSize:C,that:y,triggerEdge:v,triggerEditable:g,triggerExpand:Y})},this)}});var D=CKEDITOR.tools.extend,O=CKEDITOR.dom.element,I=O.createFromHtml,R=CKEDITOR.env,x=CKEDITOR.env.ie&&9>CKEDITOR.env.version,k=CKEDITOR.dtd,A={},w=128,S=64,K=32,_=16,N=8,F=4,M=2,L=1,B="\xa0",P=k.$listItem,$=k.$tableContent,z=D({},k.$nonEditable,k.$empty),H=k.$block,j=100,V="width:0px;height:0px;padding:0px;margin:0px;display:block;z-index:9999;color:#fff;position:absolute;font-size: 0px;line-height:0px;",q=V+"border-color:transparent;display:block;border-style:solid;",G="<span>"+B+"</span>";A[CKEDITOR.ENTER_BR]="br",A[CKEDITOR.ENTER_P]="p",A[CKEDITOR.ENTER_DIV]="div",e.prototype={set:function(t,e,i){return this.properties=t+e+(i||L),this},is:function(t){return(this.properties&t)==t}};var W=function(){function t(t,e){var i=t.$.elementFromPoint(e.x,e.y);return i&&i.nodeType?new CKEDITOR.dom.element(i):null}return function(e,i,n){if(!e.mouse)return null;var a=e.doc,o=e.line.wrap,n=n||e.mouse,r=t(a,n);return i&&h(e,r)&&(o.hide(),r=t(a,n),o.show()),!r||r.type!=CKEDITOR.NODE_ELEMENT||!r.$||R.ie&&9>R.version&&!e.boundary.equals(r)&&!e.boundary.contains(r)?null:r}}(),U=CKEDITOR.dom.walker.whitespaces(),X=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_COMMENT),Y=function(){function e(e){var a,o,r,s=e.element;if(!c(s)||s.contains(e.editable)||s.isReadOnly())return null;if(r=y(e,function(t,e){return!e.equals(t)},function(t,e){return W(t,!0,e)},s),a=r.upper,o=r.lower,t(e,a,o))return r.set(K,N);if(a&&s.contains(a))for(;!a.getParent().equals(s);)a=a.getParent();else a=s.getFirst(function(t){return i(e,t)});if(o&&s.contains(o))for(;!o.getParent().equals(s);)o=o.getParent();else o=s.getLast(function(t){return i(e,t)});if(!a||!o)return null;if(E(e,a),E(e,o),!(e.mouse.y>a.size.top&&e.mouse.y<o.size.bottom))return null;for(var l,h,u,d,s=Number.MAX_VALUE;o&&!o.equals(a)&&(h=a.getNext(e.isRelevant));)l=Math.abs(n(e,a,h)-e.mouse.y),s>l&&(s=l,u=a,d=h),a=h,E(e,a);return u&&d&&e.mouse.y>u.size.top&&e.mouse.y<d.size.bottom?(r.upper=u,r.lower=d,r.set(K,N)):null}function i(t,e){return!(e&&e.type==CKEDITOR.NODE_TEXT||X(e)||u(e)||h(t,e)||e.type==CKEDITOR.NODE_ELEMENT&&e.$&&e.is("br"))}return function(i){var n,a=e(i);if(n=a){n=a.upper;var o=a.lower;n=!n||!o||u(o)||u(n)||o.equals(n)||n.equals(o)||o.contains(n)||n.contains(o)?!1:f(i,n)&&f(i,o)&&t(i,n,o)?!0:!1}return n?a:null}}(),J=["top","left","right","bottom"]}(),CKEDITOR.config.magicline_keystrokePrevious=CKEDITOR.CTRL+CKEDITOR.SHIFT+51,CKEDITOR.config.magicline_keystrokeNext=CKEDITOR.CTRL+CKEDITOR.SHIFT+52,function(){function t(t){if(!t||t.type!=CKEDITOR.NODE_ELEMENT||"form"!=t.getName())return[];for(var e=[],i=["style","className"],n=0;n<i.length;n++){var a=t.$.elements.namedItem(i[n]);a&&(a=new CKEDITOR.dom.element(a),e.push([a,a.nextSibling]),a.remove())}return e}function e(t,e){if(t&&t.type==CKEDITOR.NODE_ELEMENT&&"form"==t.getName()&&0<e.length)for(var i=e.length-1;i>=0;i--){var n=e[i][0],a=e[i][1];a?n.insertBefore(a):n.appendTo(t)}}function i(i,n){var a=t(i),o={},r=i.$;return n||(o["class"]=r.className||"",r.className=""),o.inline=r.style.cssText||"",n||(r.style.cssText="position: static; overflow: visible"),e(a),o}function n(i,n){var a=t(i),o=i.$;"class"in n&&(o.className=n["class"]),"inline"in n&&(o.style.cssText=n.inline),e(a)}function a(t){if(!t.editable().isInline()){var e,i=CKEDITOR.instances;for(e in i){var n=i[e];"wysiwyg"==n.mode&&!n.readOnly&&(n=n.document.getBody(),n.setAttribute("contentEditable",!1),n.setAttribute("contentEditable",!0))}t.editable().hasFocus&&(t.toolbox.focus(),t.focus())}}CKEDITOR.plugins.add("maximize",{init:function(t){function e(){var e=c.getViewPaneSize();t.resize(e.width,e.height,null,!0)}if(t.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var o,r,s,l=t.lang,h=CKEDITOR.document,c=h.getWindow(),u=CKEDITOR.TRISTATE_OFF;t.addCommand("maximize",{modes:{wysiwyg:!CKEDITOR.env.iOS,source:!CKEDITOR.env.iOS},readOnly:1,editorFocus:!1,exec:function(){var d=t.container.getFirst(function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasClass("cke_inner")}),f=t.ui.space("contents");if("wysiwyg"==t.mode){var m=t.getSelection();o=m&&m.getRanges(),r=c.getScrollPosition()}else{var p=t.editable().$;o=!CKEDITOR.env.ie&&[p.selectionStart,p.selectionEnd],r=[p.scrollLeft,p.scrollTop]}if(this.state==CKEDITOR.TRISTATE_OFF){for(c.on("resize",e),s=c.getScrollPosition(),m=t.container;m=m.getParent();)m.setCustomData("maximize_saved_styles",i(m)),m.setStyle("z-index",t.config.baseFloatZIndex-5);f.setCustomData("maximize_saved_styles",i(f,!0)),d.setCustomData("maximize_saved_styles",i(d,!0)),f={overflow:CKEDITOR.env.webkit?"":"hidden",width:0,height:0},h.getDocumentElement().setStyles(f),!CKEDITOR.env.gecko&&h.getDocumentElement().setStyle("position","fixed"),(!CKEDITOR.env.gecko||!CKEDITOR.env.quirks)&&h.getBody().setStyles(f),CKEDITOR.env.ie?setTimeout(function(){c.$.scrollTo(0,0)},0):c.$.scrollTo(0,0),d.setStyle("position",CKEDITOR.env.gecko&&CKEDITOR.env.quirks?"fixed":"absolute"),d.$.offsetLeft,d.setStyles({"z-index":t.config.baseFloatZIndex-5,left:"0px",top:"0px"}),d.addClass("cke_maximized"),e(),f=d.getDocumentPosition(),d.setStyles({left:-1*f.x+"px",top:-1*f.y+"px"}),CKEDITOR.env.gecko&&a(t)}else if(this.state==CKEDITOR.TRISTATE_ON){for(c.removeListener("resize",e),f=[f,d],m=0;m<f.length;m++)n(f[m],f[m].getCustomData("maximize_saved_styles")),f[m].removeCustomData("maximize_saved_styles");for(m=t.container;m=m.getParent();)n(m,m.getCustomData("maximize_saved_styles")),m.removeCustomData("maximize_saved_styles");CKEDITOR.env.ie?setTimeout(function(){c.$.scrollTo(s.x,s.y)},0):c.$.scrollTo(s.x,s.y),d.removeClass("cke_maximized"),CKEDITOR.env.webkit&&(d.setStyle("display","inline"),setTimeout(function(){d.setStyle("display","block")},0)),t.fire("resize")}this.toggleState(),(m=this.uiItems[0])&&(f=this.state==CKEDITOR.TRISTATE_OFF?l.maximize.maximize:l.maximize.minimize,m=CKEDITOR.document.getById(m._.id),m.getChild(1).setHtml(f),m.setAttribute("title",f),m.setAttribute("href",'javascript:void("'+f+'");')),"wysiwyg"==t.mode?o?(CKEDITOR.env.gecko&&a(t),t.getSelection().selectRanges(o),(p=t.getSelection().getStartElement())&&p.scrollIntoView(!0)):c.$.scrollTo(r.x,r.y):(o&&(p.selectionStart=o[0],p.selectionEnd=o[1]),p.scrollLeft=r[0],p.scrollTop=r[1]),o=r=null,u=this.state,t.fire("maximize",this.state)},canUndo:!1}),t.ui.addButton&&t.ui.addButton("Maximize",{label:l.maximize.maximize,command:"maximize",toolbar:"tools,10"}),t.on("mode",function(){var e=t.getCommand("maximize");e.setState(e.state==CKEDITOR.TRISTATE_DISABLED?CKEDITOR.TRISTATE_DISABLED:u)},null,null,100)}}})}(),CKEDITOR.plugins.add("newpage",{init:function(t){t.addCommand("newpage",{modes:{wysiwyg:1,source:1},exec:function(t){var e=this;t.setData(t.config.newpage_html||"",function(){t.focus(),setTimeout(function(){t.fire("afterCommandExec",{name:"newpage",command:e}),t.selectionChange()},200)})},async:!0}),t.ui.addButton&&t.ui.addButton("NewPage",{label:t.lang.newpage.toolbar,command:"newpage",toolbar:"document,20"})}}),function(){function t(t){return{"aria-label":t,"class":"cke_pagebreak",contenteditable:"false","data-cke-display-name":"pagebreak","data-cke-pagebreak":1,style:"page-break-after: always",title:t}}CKEDITOR.plugins.add("pagebreak",{requires:"fakeobjects",onLoad:function(){var t=("background:url("+CKEDITOR.getUrl(this.path+"images/pagebreak.gif")+") no-repeat center center;clear:both;width:100%;border-top:#999 1px dotted;border-bottom:#999 1px dotted;padding:0;height:5px;cursor:default;").replace(/;/g," !important;");CKEDITOR.addCss("div.cke_pagebreak{"+t+"}")},init:function(t){t.blockless||(t.addCommand("pagebreak",CKEDITOR.plugins.pagebreakCmd),t.ui.addButton&&t.ui.addButton("PageBreak",{label:t.lang.pagebreak.toolbar,command:"pagebreak",toolbar:"insert,70"}),CKEDITOR.env.webkit&&t.on("contentDom",function(){t.document.on("click",function(e){e=e.data.getTarget(),e.is("div")&&e.hasClass("cke_pagebreak")&&t.getSelection().selectElement(e)})}))},afterInit:function(e){function i(i){CKEDITOR.tools.extend(i.attributes,t(e.lang.pagebreak.alt),!0),i.children.length=0}var n=e.dataProcessor,a=n&&n.dataFilter,n=n&&n.htmlFilter,o=/page-break-after\s*:\s*always/i,r=/display\s*:\s*none/i;n&&n.addRules({attributes:{"class":function(t,e){var i=t.replace("cke_pagebreak","");if(i!=t){var n=CKEDITOR.htmlParser.fragment.fromHtml('<span style="display: none;">&nbsp;</span>').children[0];e.children.length=0,e.add(n),n=e.attributes,delete n["aria-label"],delete n.contenteditable,delete n.title}return i}}},{applyToAll:!0,priority:5}),a&&a.addRules({elements:{div:function(t){if(t.attributes["data-cke-pagebreak"])i(t);else if(o.test(t.attributes.style)){var e=t.children[0];e&&"span"==e.name&&r.test(e.attributes.style)&&i(t)}}}})}}),CKEDITOR.plugins.pagebreakCmd={exec:function(e){var i=e.document.createElement("div",{attributes:t(e.lang.pagebreak.alt)});e.insertElement(i)},context:"div",allowedContent:{div:{styles:"!page-break-after"},span:{match:function(t){return(t=t.parent)&&"div"==t.name&&t.styles&&t.styles["page-break-after"]},styles:"display"}},requiredContent:"div{page-break-after}"}}(),function(){var t={canUndo:!1,async:!0,exec:function(e){e.getClipboardData({title:e.lang.pastetext.title},function(i){i&&e.fire("paste",{type:"text",dataValue:i.dataValue}),e.fire("afterCommandExec",{name:"pastetext",command:t,returnValue:!!i})})}};CKEDITOR.plugins.add("pastetext",{requires:"clipboard",init:function(e){e.addCommand("pastetext",t),e.ui.addButton&&e.ui.addButton("PasteText",{label:e.lang.pastetext.button,command:"pastetext",toolbar:"clipboard,40"}),e.config.forcePasteAsPlainText&&e.on("beforePaste",function(t){"html"!=t.data.type&&(t.data.type="text")}),e.on("pasteState",function(t){e.getCommand("pastetext").setState(t.data)})}})}(),function(){function t(t,e,i){var n=CKEDITOR.cleanWord;return n?i():(t=CKEDITOR.getUrl(t.config.pasteFromWordCleanupFile||e+"filter/default.js"),CKEDITOR.scriptLoader.load(t,i,null,!0)),!n}function e(t){t.data.type="html"}CKEDITOR.plugins.add("pastefromword",{requires:"clipboard",init:function(i){var n=0,a=this.path;i.addCommand("pastefromword",{canUndo:!1,async:!0,exec:function(t){var i=this;n=1,t.once("beforePaste",e),t.getClipboardData({title:t.lang.pastefromword.title},function(e){e&&t.fire("paste",{type:"html",dataValue:e.dataValue}),t.fire("afterCommandExec",{name:"pastefromword",command:i,returnValue:!!e})})}}),i.ui.addButton&&i.ui.addButton("PasteFromWord",{label:i.lang.pastefromword.toolbar,command:"pastefromword",toolbar:"clipboard,50"}),i.on("pasteState",function(t){i.getCommand("pastefromword").setState(t.data)}),i.on("paste",function(e){var o=e.data,r=o.dataValue;if(r&&(n||/(class=\"?Mso|style=\"[^\"]*\bmso\-|w:WordDocument)/.test(r))){var s=t(i,a,function(){s?i.fire("paste",o):(!i.config.pasteFromWordPromptCleanup||n||confirm(i.lang.pastefromword.confirmCleanup))&&(o.dataValue=CKEDITOR.cleanWord(r,i))});s&&e.cancel()}},null,null,3)}})}(),function(){var t,e={modes:{wysiwyg:1,source:1},canUndo:!1,readOnly:1,exec:function(e){var i,n=e.config,a=n.baseHref?'<base href="'+n.baseHref+'"/>':"";if(n.fullPage)i=e.getData().replace(/<head>/,"$&"+a).replace(/[^>]*(?=<\/title>)/,"$& &mdash; "+e.lang.preview.preview);else{var n="<body ",o=e.document&&e.document.getBody();o&&(o.getAttribute("id")&&(n+='id="'+o.getAttribute("id")+'" '),o.getAttribute("class")&&(n+='class="'+o.getAttribute("class")+'" ')),i=e.config.docType+'<html dir="'+e.config.contentsLangDirection+'"><head>'+a+"<title>"+e.lang.preview.preview+"</title>"+CKEDITOR.tools.buildStyleHtml(e.config.contentsCss)+"</head>"+(n+">")+e.getData()+"</body></html>"}a=640,n=420,o=80;try{var r=window.screen,a=Math.round(.8*r.width),n=Math.round(.7*r.height),o=Math.round(.1*r.width)}catch(s){}if(!1===e.fire("contentPreview",e={dataValue:i}))return!1;var l,r="";return CKEDITOR.env.ie&&(window._cke_htmlToLoad=e.dataValue,l="javascript:void( (function(){document.open();"+("("+CKEDITOR.tools.fixDomain+")();").replace(/\/\/.*?\n/g,"").replace(/parent\./g,"window.opener.")+"document.write( window.opener._cke_htmlToLoad );document.close();window.opener._cke_htmlToLoad = null;})() )",r=""),CKEDITOR.env.gecko&&(window._cke_htmlToLoad=e.dataValue,r=CKEDITOR.getUrl(t+"preview.html")),r=window.open(r,null,"toolbar=yes,location=no,status=yes,menubar=yes,scrollbars=yes,resizable=yes,width="+a+",height="+n+",left="+o),CKEDITOR.env.ie&&r&&(r.location=l),!CKEDITOR.env.ie&&!CKEDITOR.env.gecko&&(l=r.document,l.open(),l.write(e.dataValue),l.close()),!0}};CKEDITOR.plugins.add("preview",{init:function(i){i.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&(t=this.path,i.addCommand("preview",e),i.ui.addButton&&i.ui.addButton("Preview",{label:i.lang.preview.preview,command:"preview",toolbar:"document,40"}))}})}(),CKEDITOR.plugins.add("print",{init:function(t){t.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&(t.addCommand("print",CKEDITOR.plugins.print),t.ui.addButton&&t.ui.addButton("Print",{label:t.lang.print.toolbar,command:"print",toolbar:"document,50"}))}}),CKEDITOR.plugins.print={exec:function(t){CKEDITOR.env.gecko?t.window.$.print():t.document.$.execCommand("Print")},canUndo:!1,readOnly:1,modes:{wysiwyg:1}},CKEDITOR.plugins.add("removeformat",{init:function(t){t.addCommand("removeFormat",CKEDITOR.plugins.removeformat.commands.removeformat),t.ui.addButton&&t.ui.addButton("RemoveFormat",{label:t.lang.removeformat.toolbar,command:"removeFormat",toolbar:"cleanup,10"})}}),CKEDITOR.plugins.removeformat={commands:{removeformat:{exec:function(t){for(var e,i=t._.removeFormatRegex||(t._.removeFormatRegex=RegExp("^(?:"+t.config.removeFormatTags.replace(/,/g,"|")+")$","i")),n=t._.removeAttributes||(t._.removeAttributes=t.config.removeFormatAttributes.split(",")),a=CKEDITOR.plugins.removeformat.filter,o=t.getSelection().getRanges(),r=o.createIterator(),s=function(t){return t.type==CKEDITOR.NODE_ELEMENT};e=r.getNextRange();){e.collapsed||e.enlarge(CKEDITOR.ENLARGE_ELEMENT);var l=e.createBookmark(),h=l.startNode,c=l.endNode,u=function(e){for(var n,o=t.elementPath(e),r=o.elements,s=1;(n=r[s])&&!n.equals(o.block)&&!n.equals(o.blockLimit);s++)i.test(n.getName())&&a(t,n)&&e.breakParent(n)};if(u(h),c)for(u(c),h=h.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT);h&&!h.equals(c);)if(h.isReadOnly()){if(h.getPosition(c)&CKEDITOR.POSITION_CONTAINS)break;h=h.getNext(s)}else u=h.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT),!("img"==h.getName()&&h.data("cke-realelement"))&&a(t,h)&&(i.test(h.getName())?h.remove(1):(h.removeAttributes(n),t.fire("removeFormatCleanup",h))),h=u;e.moveToBookmark(l)}t.forceNextSelectionCheck(),t.getSelection().selectRanges(o)}}},filter:function(t,e){for(var i=t._.removeFormatFilters||[],n=0;n<i.length;n++)if(!1===i[n](e))return!1;return!0}},CKEDITOR.editor.prototype.addRemoveFormatFilter=function(t){this._.removeFormatFilters||(this._.removeFormatFilters=[]),this._.removeFormatFilters.push(t)},CKEDITOR.config.removeFormatTags="b,big,cite,code,del,dfn,em,font,i,ins,kbd,q,s,samp,small,span,strike,strong,sub,sup,tt,u,var",CKEDITOR.config.removeFormatAttributes="class,style,lang,width,height,align,hspace,valign",function(){var t={readOnly:1,exec:function(t){if(t.fire("save")&&(t=t.element.$.form))try{t.submit()}catch(e){t.submit.click&&t.submit.click()}}};CKEDITOR.plugins.add("save",{init:function(e){e.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(e.addCommand("save",t).modes={wysiwyg:!!e.element.$.form},e.ui.addButton&&e.ui.addButton("Save",{label:e.lang.save.toolbar,command:"save",toolbar:"document,10"}))}})}(),function(){CKEDITOR.plugins.add("selectall",{init:function(t){t.addCommand("selectAll",{modes:{wysiwyg:1,source:1},exec:function(t){var e=t.editable();if(e.is("textarea"))t=e.$,CKEDITOR.env.ie?t.createTextRange().execCommand("SelectAll"):(t.selectionStart=0,t.selectionEnd=t.value.length),t.focus();else{if(e.is("body"))t.document.$.execCommand("SelectAll",!1,null);else{var i=t.createRange();i.selectNodeContents(e),i.select()}t.forceNextSelectionCheck(),t.selectionChange()}},canUndo:!1}),t.ui.addButton&&t.ui.addButton("SelectAll",{label:t.lang.selectall.toolbar,command:"selectAll",toolbar:"selection,10"})}})}(),function(){var t={readOnly:1,preserveState:!0,editorFocus:!1,exec:function(t){this.toggleState(),this.refresh(t)},refresh:function(t){if(t.document){var e=this.state!=CKEDITOR.TRISTATE_ON||t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&!t.focusManager.hasFocus?"removeClass":"attachClass";t.editable()[e]("cke_show_blocks")}}};CKEDITOR.plugins.add("showblocks",{onLoad:function(){var t,e,i,n,a,o,r="p div pre address blockquote h1 h2 h3 h4 h5 h6".split(" "),s=CKEDITOR.getUrl(this.path),l=!(CKEDITOR.env.ie&&9>CKEDITOR.env.version),h=l?":not([contenteditable=false]):not(.cke_show_blocks_off)":"";for(t=e=i=n="";a=r.pop();)o=r.length?",":"",t+=".cke_show_blocks "+a+h+o,i+=".cke_show_blocks.cke_contents_ltr "+a+h+o,n+=".cke_show_blocks.cke_contents_rtl "+a+h+o,e+=".cke_show_blocks "+a+h+"{background-image:url("+CKEDITOR.getUrl(s+"images/block_"+a+".png")+")}";CKEDITOR.addCss((t+"{background-repeat:no-repeat;border:1px dotted gray;padding-top:8px}").concat(e,i+"{background-position:top left;padding-left:8px}",n+"{background-position:top right;padding-right:8px}")),l||CKEDITOR.addCss(".cke_show_blocks [contenteditable=false],.cke_show_blocks .cke_show_blocks_off{border:none;padding-top:0;background-image:none}.cke_show_blocks.cke_contents_rtl [contenteditable=false],.cke_show_blocks.cke_contents_rtl .cke_show_blocks_off{padding-right:0}.cke_show_blocks.cke_contents_ltr [contenteditable=false],.cke_show_blocks.cke_contents_ltr .cke_show_blocks_off{padding-left:0}")},init:function(e){function i(){n.refresh(e)}if(!e.blockless){var n=e.addCommand("showblocks",t);n.canUndo=!1,e.config.startupOutlineBlocks&&n.setState(CKEDITOR.TRISTATE_ON),e.ui.addButton&&e.ui.addButton("ShowBlocks",{label:e.lang.showblocks.toolbar,command:"showblocks",toolbar:"tools,20"}),e.on("mode",function(){n.state!=CKEDITOR.TRISTATE_DISABLED&&n.refresh(e)}),e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&(e.on("focus",i),e.on("blur",i)),e.on("contentDom",function(){n.state!=CKEDITOR.TRISTATE_DISABLED&&n.refresh(e)})}}})}(),function(){var t={preserveState:!0,editorFocus:!1,readOnly:1,exec:function(t){this.toggleState(),this.refresh(t)},refresh:function(t){if(t.document){var e=this.state==CKEDITOR.TRISTATE_ON?"attachClass":"removeClass";t.editable()[e]("cke_show_borders")}}};CKEDITOR.plugins.add("showborders",{modes:{wysiwyg:1},onLoad:function(){var t;t=(CKEDITOR.env.ie6Compat?[".%1 table.%2,",".%1 table.%2 td, .%1 table.%2 th","{","border : #d3d3d3 1px dotted","}"]:".%1 table.%2,;.%1 table.%2 > tr > td, .%1 table.%2 > tr > th,;.%1 table.%2 > tbody > tr > td, .%1 table.%2 > tbody > tr > th,;.%1 table.%2 > thead > tr > td, .%1 table.%2 > thead > tr > th,;.%1 table.%2 > tfoot > tr > td, .%1 table.%2 > tfoot > tr > th;{;border : #d3d3d3 1px dotted;}".split(";")).join("").replace(/%2/g,"cke_show_border").replace(/%1/g,"cke_show_borders "),CKEDITOR.addCss(t)},init:function(e){var i=e.addCommand("showborders",t);i.canUndo=!1,!1!==e.config.startupShowBorders&&i.setState(CKEDITOR.TRISTATE_ON),e.on("mode",function(){i.state!=CKEDITOR.TRISTATE_DISABLED&&i.refresh(e)},null,null,100),e.on("contentDom",function(){i.state!=CKEDITOR.TRISTATE_DISABLED&&i.refresh(e)}),e.on("removeFormatCleanup",function(t){t=t.data,e.getCommand("showborders").state==CKEDITOR.TRISTATE_ON&&t.is("table")&&(!t.hasAttribute("border")||0>=parseInt(t.getAttribute("border"),10))&&t.addClass("cke_show_border")})},afterInit:function(t){var e=t.dataProcessor,t=e&&e.dataFilter,e=e&&e.htmlFilter;t&&t.addRules({elements:{table:function(t){var t=t.attributes,e=t["class"],i=parseInt(t.border,10);i&&!(0>=i)||e&&-1!=e.indexOf("cke_show_border")||(t["class"]=(e||"")+" cke_show_border")}}}),e&&e.addRules({elements:{table:function(t){var t=t.attributes,e=t["class"];e&&(t["class"]=e.replace("cke_show_border","").replace(/\s{2}/," ").replace(/^\s+|\s+$/,""))}}})}}),CKEDITOR.on("dialogDefinition",function(t){var e=t.data.name;("table"==e||"tableProperties"==e)&&(t=t.data.definition,e=t.getContents("info").get("txtBorder"),e.commit=CKEDITOR.tools.override(e.commit,function(t){return function(e,i){t.apply(this,arguments);var n=parseInt(this.getValue(),10);i[!n||0>=n?"addClass":"removeClass"]("cke_show_border")}}),(t=(t=t.getContents("advanced"))&&t.get("advCSSClasses"))&&(t.setup=CKEDITOR.tools.override(t.setup,function(t){return function(){t.apply(this,arguments),this.setValue(this.getValue().replace(/cke_show_border/,""))}}),t.commit=CKEDITOR.tools.override(t.commit,function(t){return function(e,i){t.apply(this,arguments),parseInt(i.getAttribute("border"),10)||i.addClass("cke_show_border")}})))})}(),function(){CKEDITOR.plugins.add("sourcearea",{init:function(e){function i(){var t=a&&this.equals(CKEDITOR.document.getActive());this.hide(),this.setStyle("height",this.getParent().$.clientHeight+"px"),this.setStyle("width",this.getParent().$.clientWidth+"px"),this.show(),t&&this.focus()}if(e.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var n=CKEDITOR.plugins.sourcearea;e.addMode("source",function(n){var a=e.ui.space("contents").getDocument().createElement("textarea");a.setStyles(CKEDITOR.tools.extend({width:CKEDITOR.env.ie7Compat?"99%":"100%",height:"100%",resize:"none",outline:"none","text-align":"left"},CKEDITOR.tools.cssVendorPrefix("tab-size",e.config.sourceAreaTabSize||4))),a.setAttribute("dir","ltr"),a.addClass("cke_source cke_reset cke_enable_context_menu"),e.ui.space("contents").append(a),a=e.editable(new t(e,a)),a.setData(e.getData(1)),CKEDITOR.env.ie&&(a.attachListener(e,"resize",i,a),a.attachListener(CKEDITOR.document.getWindow(),"resize",i,a),CKEDITOR.tools.setTimeout(i,0,a)),e.fire("ariaWidget",this),n()}),e.addCommand("source",n.commands.source),e.ui.addButton&&e.ui.addButton("Source",{label:e.lang.sourcearea.toolbar,command:"source",toolbar:"mode,10"}),e.on("mode",function(){e.getCommand("source").setState("source"==e.mode?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)});var a=CKEDITOR.env.ie&&9==CKEDITOR.env.version}}});var t=CKEDITOR.tools.createClass({base:CKEDITOR.editable,proto:{setData:function(t){this.setValue(t),this.status="ready",this.editor.fire("dataReady")},getData:function(){return this.getValue()},insertHtml:function(){},insertElement:function(){},insertText:function(){},setReadOnly:function(t){this[(t?"set":"remove")+"Attribute"]("readOnly","readonly")},detach:function(){t.baseProto.detach.call(this),this.clearCustomData(),this.remove()}}})}(),CKEDITOR.plugins.sourcearea={commands:{source:{modes:{wysiwyg:1,source:1},editorFocus:!1,readOnly:1,exec:function(t){"wysiwyg"==t.mode&&t.fire("saveSnapshot"),t.getCommand("source").setState(CKEDITOR.TRISTATE_DISABLED),t.setMode("source"==t.mode?"wysiwyg":"source")},canUndo:!1}}},CKEDITOR.plugins.add("specialchar",{availableLangs:{af:1,ar:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,el:1,en:1,"en-gb":1,eo:1,es:1,et:1,fa:1,fi:1,fr:1,"fr-ca":1,gl:1,he:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ku:1,lt:1,lv:1,nb:1,nl:1,no:1,pl:1,pt:1,"pt-br":1,ru:1,si:1,sk:1,sl:1,sq:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,"zh-cn":1},requires:"dialog",init:function(t){var e=this;CKEDITOR.dialog.add("specialchar",this.path+"dialogs/specialchar.js"),t.addCommand("specialchar",{exec:function(){var i=t.langCode,i=e.availableLangs[i]?i:e.availableLangs[i.replace(/-.*/,"")]?i.replace(/-.*/,""):"en";CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(e.path+"dialogs/lang/"+i+".js"),function(){CKEDITOR.tools.extend(t.lang.specialchar,e.langEntries[i]),t.openDialog("specialchar")})},modes:{wysiwyg:1},canUndo:!1}),t.ui.addButton&&t.ui.addButton("SpecialChar",{label:t.lang.specialchar.toolbar,command:"specialchar",toolbar:"insert,50"})}}),CKEDITOR.config.specialChars="! &quot; # $ % &amp; ' ( ) * + - . / 0 1 2 3 4 5 6 7 8 9 : ; &lt; = &gt; ? @ A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [ ] ^ _ ` a b c d e f g h i j k l m n o p q r s t u v w x y z { | } ~ &euro; &lsquo; &rsquo; &ldquo; &rdquo; &ndash; &mdash; &iexcl; &cent; &pound; &curren; &yen; &brvbar; &sect; &uml; &copy; &ordf; &laquo; &not; &reg; &macr; &deg; &sup2; &sup3; &acute; &micro; &para; &middot; &cedil; &sup1; &ordm; &raquo; &frac14; &frac12; &frac34; &iquest; &Agrave; &Aacute; &Acirc; &Atilde; &Auml; &Aring; &AElig; &Ccedil; &Egrave; &Eacute; &Ecirc; &Euml; &Igrave; &Iacute; &Icirc; &Iuml; &ETH; &Ntilde; &Ograve; &Oacute; &Ocirc; &Otilde; &Ouml; &times; &Oslash; &Ugrave; &Uacute; &Ucirc; &Uuml; &Yacute; &THORN; &szlig; &agrave; &aacute; &acirc; &atilde; &auml; &aring; &aelig; &ccedil; &egrave; &eacute; &ecirc; &euml; &igrave; &iacute; &icirc; &iuml; &eth; &ntilde; &ograve; &oacute; &ocirc; &otilde; &ouml; &divide; &oslash; &ugrave; &uacute; &ucirc; &uuml; &yacute; &thorn; &yuml; &OElig; &oelig; &#372; &#374 &#373 &#375; &sbquo; &#8219; &bdquo; &hellip; &trade; &#9658; &bull; &rarr; &rArr; &hArr; &diams; &asymp;".split(" "),CKEDITOR.plugins.add("scayt",{requires:"menubutton,dialog",tabToOpen:null,dialogName:"scaytDialog",init:function(t){var e=this,i=CKEDITOR.plugins.scayt;
this.bindEvents(t),this.parseConfig(t),this.addRule(t),CKEDITOR.dialog.add(this.dialogName,CKEDITOR.getUrl(this.path+"dialogs/options.js")),this.addMenuItems(t);var n=t.lang.scayt,a=CKEDITOR.env;t.ui.add("Scayt",CKEDITOR.UI_MENUBUTTON,{label:n.text_title,title:t.plugins.wsc?t.lang.wsc.title:n.text_title,modes:{wysiwyg:!(a.ie&&(8>a.version||a.quirks))},toolbar:"spellchecker,20",refresh:function(){var e=t.ui.instances.Scayt.getState();t.scayt&&(e=i.state[t.name]?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF),t.fire("scaytButtonState",e)},onRender:function(){var e=this;t.on("scaytButtonState",function(t){void 0!==typeof t.data&&e.setState(t.data)})},onMenu:function(){var e=t.scayt;return t.getMenuItem("scaytToggle").label=t.lang.scayt[e&&i.state[t.name]?"btn_disable":"btn_enable"],e={scaytToggle:CKEDITOR.TRISTATE_OFF,scaytOptions:e?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytLangs:e?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytDict:e?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytAbout:e?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,WSC:t.plugins.wsc?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED},t.config.scayt_uiTabs[0]||delete e.scaytOptions,t.config.scayt_uiTabs[1]||delete e.scaytLangs,t.config.scayt_uiTabs[2]||delete e.scaytDict,e}}),t.contextMenu&&t.addMenuItems&&(t.contextMenu.addListener(function(){var i,n=t.scayt;if(n){var a=n.getSelectionNode();(a=a?a.getAttribute(n.getNodeAttribute()):a)&&(i=e.menuGenerator(t,a,e),n.showBanner("."+t.contextMenu._.definition.panel.className.split(" ").join(" .")))}return i}),t.contextMenu._.onHide=CKEDITOR.tools.override(t.contextMenu._.onHide,function(e){return function(){var i=t.scayt;return i&&i.hideBanner(),e.apply(this)}}))},addMenuItems:function(t){var e=this,i=CKEDITOR.plugins.scayt;t.addMenuGroup("scaytButton");var n=t.config.scayt_contextMenuItemsOrder.split("|");if(n&&n.length)for(var a=0;a<n.length;a++)t.addMenuGroup("scayt_"+n[a],a-10);n={scaytToggle:{label:t.lang.scayt.btn_enable,group:"scaytButton",onClick:function(){var e=t.scayt;i.state[t.name]=!i.state[t.name],!0===i.state[t.name]?e||i.createScayt(t):e&&i.destroy(t)}},scaytAbout:{label:t.lang.scayt.btn_about,group:"scaytButton",onClick:function(){t.scayt.tabToOpen="about",t.lockSelection(),t.openDialog(e.dialogName)}},scaytOptions:{label:t.lang.scayt.btn_options,group:"scaytButton",onClick:function(){t.scayt.tabToOpen="options",t.lockSelection(),t.openDialog(e.dialogName)}},scaytLangs:{label:t.lang.scayt.btn_langs,group:"scaytButton",onClick:function(){t.scayt.tabToOpen="langs",t.lockSelection(),t.openDialog(e.dialogName)}},scaytDict:{label:t.lang.scayt.btn_dictionaries,group:"scaytButton",onClick:function(){t.scayt.tabToOpen="dictionaries",t.lockSelection(),t.openDialog(e.dialogName)}}},t.plugins.wsc&&(n.WSC={label:t.lang.wsc.toolbar,group:"scaytButton",onClick:function(){var e=CKEDITOR.plugins.scayt,i=t.scayt,n=t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?t.container.getText():t.document.getBody().getText();(n=n.replace(/\s/g,""))?(i&&e.state[t.name]&&i.setMarkupPaused&&i.setMarkupPaused(!0),t.lockSelection(),t.execCommand("checkspell")):alert("Nothing to check!")}}),t.addMenuItems(n)},bindEvents:function(t){function e(){var e=t.scayt;e&&(e.removeMarkupInSelectionNode(),e.fire("startSpellCheck"))}var i=CKEDITOR.plugins.scayt,n=t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE;CKEDITOR.on("dialogDefinition",function(t){"scaytDialog"===t.data.name&&t.data.definition.dialog.on("cancel",function(){return!1},this,null,-1)});var a=function(){t.scayt&&i.destroy(t)},o=function(){i.state[t.name]&&!t.readOnly&&i.createScayt(t)},r=function(){var e=t.editable();e.attachListener(e,"focus",function(){var e,i,a=CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state[t.name]&&t.scayt;if((n||a)&&t._.savedSelection)for(var a=t._.savedSelection.getSelectedElement(),a=!a&&t._.savedSelection.getRanges(),o=0;o<a.length;o++)i=a[o],e=i.startContainer.getText().length,(e<i.startOffset||e<i.endOffset)&&t.unlockSelection(!1)},this,null,-10)},s=function(){n?(t.on("blur",a),t.on("focus",o),t.focusManager.hasFocus&&o()):o(),r()};t.on("contentDom",s),t.on("beforeCommandExec",function(e){var n;e.data.name in i.options.disablingCommandExec&&"wysiwyg"==t.mode?(n=t.scayt)&&(i.destroy(t),t.fire("scaytButtonState",CKEDITOR.TRISTATE_DISABLED)):("bold"===e.data.name||"italic"===e.data.name||"underline"===e.data.name||"strike"===e.data.name||"subscript"===e.data.name||"superscript"===e.data.name)&&(n=t.scayt)&&(n.removeMarkupInSelectionNode(),setTimeout(function(){n.fire("startSpellCheck")},0))}),t.on("beforeSetMode",function(e){"source"==e.data&&((e=t.scayt)&&(i.destroy(t),t.fire("scaytButtonState",CKEDITOR.TRISTATE_DISABLED)),t.document&&(t.document.getBody().removeAttribute("_jquid"),t.document.getBody().removeAttribute("dir")))}),t.on("afterCommandExec",function(e){var i;"wysiwyg"!=t.mode||"undo"!=e.data.name&&"redo"!=e.data.name||(i=t.scayt)&&setTimeout(function(){i.fire("startSpellCheck")},250)}),t.on("readOnly",function(e){var n;e&&(n=t.scayt,!0===e.editor.readOnly?n&&n.fire("removeMarkupInDocument",{}):n?n.fire("startSpellCheck"):"wysiwyg"==e.editor.mode&&!0===i.state[e.editor.name]&&(i.createScayt(t),e.editor.fire("scaytButtonState",CKEDITOR.TRISTATE_ON)))}),t.on("beforeDestroy",a),t.on("setData",function(){a(),t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&s()},this,null,50),t.on("insertElement",function(){CKEDITOR.env.ie?setTimeout(function(){e()},50):e()},this,null,50),t.on("insertHtml",function(){e()},this,null,50),t.on("insertText",function(){e()},this,null,50),t.on("scaytDialogShown",function(e){e.data.selectPage(t.scayt.tabToOpen)})},parseConfig:function(t){var e=CKEDITOR.plugins.scayt;if(e.replaceOldOptionsNames(t.config),"boolean"!=typeof t.config.scayt_autoStartup&&(t.config.scayt_autoStartup=!1),e.state[t.name]=t.config.scayt_autoStartup,t.config.scayt_contextCommands||(t.config.scayt_contextCommands="ignore|ignoreall|add"),t.config.scayt_contextMenuItemsOrder||(t.config.scayt_contextMenuItemsOrder="suggest|moresuggest|control"),t.config.scayt_sLang||(t.config.scayt_sLang="en_US"),(void 0===t.config.scayt_maxSuggestions||"number"!=typeof t.config.scayt_maxSuggestions||0>t.config.scayt_maxSuggestions)&&(t.config.scayt_maxSuggestions=5),(void 0===t.config.scayt_customDictionaryIds||"string"!=typeof t.config.scayt_customDictionaryIds)&&(t.config.scayt_customDictionaryIds=""),(void 0===t.config.scayt_userDictionaryName||"string"!=typeof t.config.scayt_userDictionaryName)&&(t.config.scayt_userDictionaryName=null),"string"==typeof t.config.scayt_uiTabs&&3===t.config.scayt_uiTabs.split(",").length){var i=[],n=[];t.config.scayt_uiTabs=t.config.scayt_uiTabs.split(","),CKEDITOR.tools.search(t.config.scayt_uiTabs,function(t){1===Number(t)||0===Number(t)?(n.push(!0),i.push(Number(t))):n.push(!1)}),t.config.scayt_uiTabs=null===CKEDITOR.tools.search(n,!1)?i:[1,1,1]}else t.config.scayt_uiTabs=[1,1,1];if("string"!=typeof t.config.scayt_serviceProtocol&&(t.config.scayt_serviceProtocol=null),"string"!=typeof t.config.scayt_serviceHost&&(t.config.scayt_serviceHost=null),"string"!=typeof t.config.scayt_servicePort&&(t.config.scayt_servicePort=null),"string"!=typeof t.config.scayt_servicePath&&(t.config.scayt_servicePath=null),t.config.scayt_moreSuggestions||(t.config.scayt_moreSuggestions="on"),"string"!=typeof t.config.scayt_customerId&&(t.config.scayt_customerId="1:WvF0D4-UtPqN1-43nkD4-NKvUm2-daQqk3-LmNiI-z7Ysb4-mwry24-T8YrS3-Q2tpq2"),"string"!=typeof t.config.scayt_srcUrl&&(e=document.location.protocol,e=-1!=e.search(/https?:/)?e:"http:",t.config.scayt_srcUrl=e+"//svc.webspellchecker.net/spellcheck31/lf/scayt3/ckscayt/ckscayt.js"),"boolean"!=typeof CKEDITOR.config.scayt_handleCheckDirty&&(CKEDITOR.config.scayt_handleCheckDirty=!0),"boolean"!=typeof CKEDITOR.config.scayt_handleUndoRedo&&(CKEDITOR.config.scayt_handleUndoRedo=!0),t.config.scayt_disableOptionsStorage){var e=CKEDITOR.tools.isArray(t.config.scayt_disableOptionsStorage)?t.config.scayt_disableOptionsStorage:"string"==typeof t.config.scayt_disableOptionsStorage?[t.config.scayt_disableOptionsStorage]:void 0,a="all options lang ignore-all-caps-words ignore-domain-names ignore-words-with-mixed-cases ignore-words-with-numbers".split(" "),o=["lang","ignore-all-caps-words","ignore-domain-names","ignore-words-with-mixed-cases","ignore-words-with-numbers"],r=CKEDITOR.tools.search,s=CKEDITOR.tools.indexOf;t.config.scayt_disableOptionsStorage=function(t){for(var e=[],i=0;i<t.length;i++){var n=t[i],l=!!r(t,"options");if(!r(a,n)||l&&r(o,function(t){return"lang"===t?!1:void 0}))return;if(r(o,n)&&o.splice(s(o,n),1),"all"===n||l&&r(t,"lang"))return[];"options"===n&&(o=["lang"])}return e=e.concat(o)}(e)}},addRule:function(t){var e=t.dataProcessor,i=e&&e.htmlFilter,n=t._.elementsPath&&t._.elementsPath.filters,e=e&&e.dataFilter,a=t.addRemoveFormatFilter,o=function(e){var i=CKEDITOR.plugins.scayt;return t.scayt&&e.hasAttribute(i.options.data_attribute_name)?!1:void 0},r=function(e){var i=CKEDITOR.plugins.scayt,n=!0;return t.scayt&&e.hasAttribute(i.options.data_attribute_name)&&(n=!1),n};n&&n.push(o),e&&e.addRules({elements:{span:function(e){var i=CKEDITOR.plugins.scayt;return i&&i.state[t.name]&&e.classes&&CKEDITOR.tools.search(e.classes,i.options.misspelled_word_class)&&(e.classes&&e.parent.type===CKEDITOR.NODE_DOCUMENT_FRAGMENT?(delete e.attributes.style,delete e.name):delete e.classes[CKEDITOR.tools.indexOf(e.classes,i.options.misspelled_word_class)]),e}}}),i&&i.addRules({elements:{span:function(e){var i=CKEDITOR.plugins.scayt;return i&&i.state[t.name]&&e.hasClass(i.options.misspelled_word_class)&&e.attributes[i.options.data_attribute_name]&&(e.removeClass(i.options.misspelled_word_class),delete e.attributes[i.options.data_attribute_name],delete e.name),e}}}),a&&a.call(t,r)},scaytMenuDefinition:function(t){var e=this,t=t.scayt;return{scayt_ignore:{label:t.getLocal("btn_ignore"),group:"scayt_control",order:1,exec:function(t){t.scayt.ignoreWord()}},scayt_ignoreall:{label:t.getLocal("btn_ignoreAll"),group:"scayt_control",order:2,exec:function(t){t.scayt.ignoreAllWords()}},scayt_add:{label:t.getLocal("btn_addWord"),group:"scayt_control",order:3,exec:function(t){var e=t.scayt;setTimeout(function(){e.addWordToUserDictionary()},10)}},option:{label:t.getLocal("btn_options"),group:"scayt_control",order:4,exec:function(t){t.scayt.tabToOpen="options",t.lockSelection(),t.openDialog(e.dialogName)},verification:function(t){return 1==t.config.scayt_uiTabs[0]?!0:!1}},language:{label:t.getLocal("btn_langs"),group:"scayt_control",order:5,exec:function(t){t.scayt.tabToOpen="langs",t.lockSelection(),t.openDialog(e.dialogName)},verification:function(t){return 1==t.config.scayt_uiTabs[1]?!0:!1}},dictionary:{label:t.getLocal("btn_dictionaries"),group:"scayt_control",order:6,exec:function(t){t.scayt.tabToOpen="dictionaries",t.lockSelection(),t.openDialog(e.dialogName)},verification:function(t){return 1==t.config.scayt_uiTabs[2]?!0:!1}},about:{label:t.getLocal("btn_about"),group:"scayt_control",order:7,exec:function(t){t.scayt.tabToOpen="about",t.lockSelection(),t.openDialog(e.dialogName)}}}},buildSuggestionMenuItems:function(t,e){var i={},n={},a=t.scayt;if(0<e.length&&"no_any_suggestions"!==e[0])for(var o=0;o<e.length;o++){var r="scayt_suggest_"+CKEDITOR.plugins.scayt.suggestions[o].replace(" ","_");t.addCommand(r,this.createCommand(CKEDITOR.plugins.scayt.suggestions[o])),o<t.config.scayt_maxSuggestions?(t.addMenuItem(r,{label:e[o],command:r,group:"scayt_suggest",order:o+1}),i[r]=CKEDITOR.TRISTATE_OFF):(t.addMenuItem(r,{label:e[o],command:r,group:"scayt_moresuggest",order:o+1}),n[r]=CKEDITOR.TRISTATE_OFF,"on"===t.config.scayt_moreSuggestions&&(t.addMenuItem("scayt_moresuggest",{label:a.getLocal("btn_moreSuggestions"),group:"scayt_moresuggest",order:10,getItems:function(){return n}}),i.scayt_moresuggest=CKEDITOR.TRISTATE_OFF))}else i.no_scayt_suggest=CKEDITOR.TRISTATE_DISABLED,t.addCommand("no_scayt_suggest",{exec:function(){}}),t.addMenuItem("no_scayt_suggest",{label:a.getLocal("btn_noSuggestions")||"no_scayt_suggest",command:"no_scayt_suggest",group:"scayt_suggest",order:0});return i},menuGenerator:function(t,e){var i=t.scayt,n=this.scaytMenuDefinition(t),a={},o=t.config.scayt_contextCommands.split("|");if(i.fire("getSuggestionsList",{lang:i.getLang(),word:e}),a=this.buildSuggestionMenuItems(t,CKEDITOR.plugins.scayt.suggestions),"off"==t.config.scayt_contextCommands)return a;for(var r in n)-1==CKEDITOR.tools.indexOf(o,r.replace("scayt_",""))&&"all"!=t.config.scayt_contextCommands||(a[r]=CKEDITOR.TRISTATE_OFF,"function"==typeof n[r].verification&&!n[r].verification(t)&&delete a[r],t.addCommand(r,{exec:n[r].exec}),t.addMenuItem(r,{label:t.lang.scayt[n[r].label]||n[r].label,command:r,group:n[r].group,order:n[r].order}));return a},createCommand:function(t){return{exec:function(e){e.scayt.replaceSelectionNode({word:t})}}}}),CKEDITOR.plugins.scayt={state:{},suggestions:[],loadingHelper:{loadOrder:[]},isLoading:!1,options:{disablingCommandExec:{source:!0,newpage:!0,templates:!0},data_attribute_name:"data-scayt-word",misspelled_word_class:"scayt-misspell-word"},backCompatibilityMap:{scayt_service_protocol:"scayt_serviceProtocol",scayt_service_host:"scayt_serviceHost",scayt_service_port:"scayt_servicePort",scayt_service_path:"scayt_servicePath",scayt_customerid:"scayt_customerId"},replaceOldOptionsNames:function(t){for(var e in t)e in this.backCompatibilityMap&&(t[this.backCompatibilityMap[e]]=t[e],delete t[e])},createScayt:function(t){var e=this;this.loadScaytLibrary(t,function(t){var i={lang:t.config.scayt_sLang,container:"BODY"==t.editable().$.nodeName?t.document.getWindow().$.frameElement:t.editable().$,customDictionary:t.config.scayt_customDictionaryIds,userDictionaryName:t.config.scayt_userDictionaryName,localization:t.langCode,customer_id:t.config.scayt_customerId,debug:t.config.scayt_debug,data_attribute_name:e.options.data_attribute_name,misspelled_word_class:e.options.misspelled_word_class,"options-to-restore":t.config.scayt_disableOptionsStorage,focused:t.editable().hasFocus,ignoreElementsRegex:t.config.scayt_elementsToIgnore};t.config.scayt_serviceProtocol&&(i.service_protocol=t.config.scayt_serviceProtocol),t.config.scayt_serviceHost&&(i.service_host=t.config.scayt_serviceHost),t.config.scayt_servicePort&&(i.service_port=t.config.scayt_servicePort),t.config.scayt_servicePath&&(i.service_path=t.config.scayt_servicePath),i=new SCAYT.CKSCAYT(i,function(){},function(){}),i.subscribe("suggestionListSend",function(t){for(var e={},i=[],n=0;n<t.suggestionList.length;n++)e["word_"+t.suggestionList[n]]||(e["word_"+t.suggestionList[n]]=t.suggestionList[n],i.push(t.suggestionList[n]));CKEDITOR.plugins.scayt.suggestions=i}),t.scayt=i,t.fire("scaytButtonState",t.readOnly?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_ON)})},destroy:function(t){t.scayt&&t.scayt.destroy(),delete t.scayt,t.fire("scaytButtonState",CKEDITOR.TRISTATE_OFF)},loadScaytLibrary:function(t,e){var i=this;"undefined"==typeof window.SCAYT||"function"!=typeof window.SCAYT.CKSCAYT?(this.loadingHelper[t.name]=e,this.loadingHelper.loadOrder.push(t.name),CKEDITOR.scriptLoader.load(t.config.scayt_srcUrl,function(){var t;CKEDITOR.fireOnce("scaytReady");for(var e=0;e<i.loadingHelper.loadOrder.length;e++)t=i.loadingHelper.loadOrder[e],"function"==typeof i.loadingHelper[t]&&i.loadingHelper[t](CKEDITOR.instances[t]),delete i.loadingHelper[t];i.loadingHelper.loadOrder=[]})):window.SCAYT&&"function"==typeof window.SCAYT.CKSCAYT&&(CKEDITOR.fireOnce("scaytReady"),t.scayt||"function"==typeof e&&e(t))}},CKEDITOR.on("scaytReady",function(){if(!0===CKEDITOR.config.scayt_handleCheckDirty){var t=CKEDITOR.editor.prototype;t.checkDirty=CKEDITOR.tools.override(t.checkDirty,function(t){return function(){var e=null,i=this.scayt;if(CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state[this.name]&&this.scayt){if(e="ready"==this.status)var n=i.removeMarkupFromString(this.getSnapshot()),i=i.removeMarkupFromString(this._.previousValue),e=e&&i!==n}else e=t.call(this);return e}}),t.resetDirty=CKEDITOR.tools.override(t.resetDirty,function(t){return function(){var e=this.scayt;CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state[this.name]&&this.scayt?this._.previousValue=e.removeMarkupFromString(this.getSnapshot()):t.call(this)}})}if(!0===CKEDITOR.config.scayt_handleUndoRedo){var t=CKEDITOR.plugins.undo.Image.prototype,e="function"==typeof t.equalsContent?"equalsContent":"equals";t[e]=CKEDITOR.tools.override(t[e],function(t){return function(e){var i=e.editor.scayt,n=this.contents,a=e.contents,o=null;return CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state[e.editor.name]&&e.editor.scayt&&(this.contents=i.removeMarkupFromString(n)||"",e.contents=i.removeMarkupFromString(a)||""),o=t.apply(this,arguments),this.contents=n,e.contents=a,o}})}}),function(){CKEDITOR.plugins.add("stylescombo",{requires:"richcombo",init:function(t){var e=t.config,i=t.lang.stylescombo,n={},a=[],o=[];t.on("stylesSet",function(i){if(i=i.data.styles){for(var r,s,l,h=0,c=i.length;c>h;h++)r=i[h],t.blockless&&r.element in CKEDITOR.dtd.$block||(s=r.name,r=new CKEDITOR.style(r),t.filter.customConfig&&!t.filter.check(r))||(r._name=s,r._.enterMode=e.enterMode,r._.type=l=r.assignedTo||r.type,r._.weight=h+1e3*(l==CKEDITOR.STYLE_OBJECT?1:l==CKEDITOR.STYLE_BLOCK?2:3),n[s]=r,a.push(r),o.push(r));a.sort(function(t,e){return t._.weight-e._.weight})}}),t.ui.addRichCombo("Styles",{label:i.label,title:i.panelTitle,toolbar:"styles,10",allowedContent:o,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(e.contentsCss),multiSelect:!0,attributes:{"aria-label":i.panelTitle}},init:function(){var t,e,n,o,r,s;for(r=0,s=a.length;s>r;r++)t=a[r],e=t._name,o=t._.type,o!=n&&(this.startGroup(i["panelTitle"+o]),n=o),this.add(e,t.type==CKEDITOR.STYLE_OBJECT?e:t.buildPreview(),e);this.commit()},onClick:function(e){t.focus(),t.fire("saveSnapshot");var e=n[e],i=t.elementPath();t[e.checkActive(i,t)?"removeStyle":"applyStyle"](e),t.fire("saveSnapshot")},onRender:function(){t.on("selectionChange",function(e){for(var i,a=this.getValue(),e=e.data.path.elements,o=0,r=e.length;r>o;o++){i=e[o];for(var s in n)if(n[s].checkElementRemovable(i,!0,t))return void(s!=a&&this.setValue(s))}this.setValue("")},this)},onOpen:function(){var e=t.getSelection().getSelectedElement(),e=t.elementPath(e),a=[0,0,0,0];this.showAll(),this.unmarkAll();for(var o in n){var r=n[o],s=r._.type;r.checkApplicable(e,t,t.activeFilter)?a[s]++:this.hideItem(o),r.checkActive(e,t)&&this.mark(o)}a[CKEDITOR.STYLE_BLOCK]||this.hideGroup(i["panelTitle"+CKEDITOR.STYLE_BLOCK]),a[CKEDITOR.STYLE_INLINE]||this.hideGroup(i["panelTitle"+CKEDITOR.STYLE_INLINE]),a[CKEDITOR.STYLE_OBJECT]||this.hideGroup(i["panelTitle"+CKEDITOR.STYLE_OBJECT])},refresh:function(){var e=t.elementPath();if(e){for(var i in n)if(n[i].checkApplicable(e,t,t.activeFilter))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}},reset:function(){n={},a=[]}})}})}(),function(){function t(t){return{editorFocus:!1,canUndo:!1,modes:{wysiwyg:1},exec:function(e){if(e.editable().hasFocus){var i,n=e.getSelection();if(i=new CKEDITOR.dom.elementPath(n.getCommonAncestor(),n.root).contains({td:1,th:1},1)){var n=e.createRange(),a=CKEDITOR.tools.tryThese(function(){var e=i.getParent().$.cells[i.$.cellIndex+(t?-1:1)];return e.parentNode.parentNode,e},function(){var e=i.getParent(),e=e.getAscendant("table").$.rows[e.$.rowIndex+(t?-1:1)];return e.cells[t?e.cells.length-1:0]});if(a||t){if(!a)return!0;a=new CKEDITOR.dom.element(a),n.moveToElementEditStart(a),(!n.checkStartOfBlock()||!n.checkEndOfBlock())&&n.selectNodeContents(a)}else{for(var o=i.getAscendant("table").$,a=i.getParent().$.cells,o=new CKEDITOR.dom.element(o.insertRow(-1),e.document),r=0,s=a.length;s>r;r++)o.append(new CKEDITOR.dom.element(a[r],e.document).clone(!1,!1)).appendBogus();n.moveToElementEditStart(o)}return n.select(!0),!0}}return!1}}}var e={editorFocus:!1,modes:{wysiwyg:1,source:1}},i={exec:function(t){t.container.focusNext(!0,t.tabIndex)}},n={exec:function(t){t.container.focusPrevious(!0,t.tabIndex)}};CKEDITOR.plugins.add("tab",{init:function(a){for(var o=!1!==a.config.enableTabKeyTools,r=a.config.tabSpaces||0,s="";r--;)s+="\xa0";s&&a.on("key",function(t){9==t.data.keyCode&&(a.insertHtml(s),t.cancel())}),o&&a.on("key",function(t){(9==t.data.keyCode&&a.execCommand("selectNextCell")||t.data.keyCode==CKEDITOR.SHIFT+9&&a.execCommand("selectPreviousCell"))&&t.cancel()}),a.addCommand("blur",CKEDITOR.tools.extend(i,e)),a.addCommand("blurBack",CKEDITOR.tools.extend(n,e)),a.addCommand("selectNextCell",t()),a.addCommand("selectPreviousCell",t(!0))}})}(),CKEDITOR.dom.element.prototype.focusNext=function(t,e){var i,n,a,o,r,s,l=void 0===e?this.getTabIndex():e;if(0>=l)for(r=this.getNextSourceNode(t,CKEDITOR.NODE_ELEMENT);r;){if(r.isVisible()&&0===r.getTabIndex()){a=r;break}r=r.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT)}else for(r=this.getDocument().getBody().getFirst();r=r.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!i)if(!n&&r.equals(this)){if(n=!0,t){if(!(r=r.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;i=1}}else n&&!this.contains(r)&&(i=1);if(r.isVisible()&&!(0>(s=r.getTabIndex()))){if(i&&s==l){a=r;break}s>l&&(!a||!o||o>s)?(a=r,o=s):!a&&0===s&&(a=r,o=s)}}a&&a.focus()},CKEDITOR.dom.element.prototype.focusPrevious=function(t,e){for(var i,n,a,o,r=void 0===e?this.getTabIndex():e,s=0,l=this.getDocument().getBody().getLast();l=l.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!i)if(!n&&l.equals(this)){if(n=!0,t){if(!(l=l.getPreviousSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;i=1}}else n&&!this.contains(l)&&(i=1);if(l.isVisible()&&!(0>(o=l.getTabIndex())))if(0>=r){if(i&&0===o){a=l;break}o>s&&(a=l,s=o)}else{if(i&&o==r){a=l;break}r>o&&(!a||o>s)&&(a=l,s=o)}}a&&a.focus()},CKEDITOR.plugins.add("table",{requires:"dialog",init:function(t){function e(t){return CKEDITOR.tools.extend(t||{},{contextSensitive:1,refresh:function(t,e){this.setState(e.contains("table",1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}if(!t.blockless){var i=t.lang.table;t.addCommand("table",new CKEDITOR.dialogCommand("table",{context:"table",allowedContent:"table{width,height}[align,border,cellpadding,cellspacing,summary];caption tbody thead tfoot;th td tr[scope];"+(t.plugins.dialogadvtab?"table"+t.plugins.dialogadvtab.allowedContent():""),requiredContent:"table",contentTransformations:[["table{width}: sizeToStyle","table[width]: sizeToAttribute"]]})),t.addCommand("tableProperties",new CKEDITOR.dialogCommand("tableProperties",e())),t.addCommand("tableDelete",e({exec:function(t){var e=t.elementPath().contains("table",1);if(e){var i=e.getParent(),n=t.editable();1==i.getChildCount()&&!i.is("td","th")&&!i.equals(n)&&(e=i),t=t.createRange(),t.moveToPosition(e,CKEDITOR.POSITION_BEFORE_START),e.remove(),t.select()}}})),t.ui.addButton&&t.ui.addButton("Table",{label:i.toolbar,command:"table",toolbar:"insert,30"}),CKEDITOR.dialog.add("table",this.path+"dialogs/table.js"),CKEDITOR.dialog.add("tableProperties",this.path+"dialogs/table.js"),t.addMenuItems&&t.addMenuItems({table:{label:i.menu,command:"tableProperties",group:"table",order:5},tabledelete:{label:i.deleteTable,command:"tableDelete",group:"table",order:1}}),t.on("doubleclick",function(t){t.data.element.is("table")&&(t.data.dialog="tableProperties")}),t.contextMenu&&t.contextMenu.addListener(function(){return{tabledelete:CKEDITOR.TRISTATE_OFF,table:CKEDITOR.TRISTATE_OFF}})}}}),function(){function t(t){function e(t){!(0<i.length)&&t.type==CKEDITOR.NODE_ELEMENT&&d.test(t.getName())&&!t.getCustomData("selected_cell")&&(CKEDITOR.dom.element.setMarker(n,t,"selected_cell",!0),i.push(t))}for(var t=t.getRanges(),i=[],n={},a=0;a<t.length;a++){var o=t[a];if(o.collapsed)o=o.getCommonAncestor(),(o=o.getAscendant("td",!0)||o.getAscendant("th",!0))&&i.push(o);else{var r,o=new CKEDITOR.dom.walker(o);for(o.guard=e;r=o.next();)r.type==CKEDITOR.NODE_ELEMENT&&r.is(CKEDITOR.dtd.table)||(r=r.getAscendant("td",!0)||r.getAscendant("th",!0))&&!r.getCustomData("selected_cell")&&(CKEDITOR.dom.element.setMarker(n,r,"selected_cell",!0),i.push(r))}}return CKEDITOR.dom.element.clearAllMarkers(n),i}function e(e,i){for(var n=t(e),a=n[0],o=a.getAscendant("table"),a=a.getDocument(),r=n[0].getParent(),s=r.$.rowIndex,n=n[n.length-1],l=n.getParent().$.rowIndex+n.$.rowSpan-1,n=new CKEDITOR.dom.element(o.$.rows[l]),s=i?s:l,r=i?r:n,n=CKEDITOR.tools.buildTableMap(o),o=n[s],s=i?n[s-1]:n[s+1],n=n[0].length,a=a.createElement("tr"),l=0;o[l]&&n>l;l++){var h;1<o[l].rowSpan&&s&&o[l]==s[l]?(h=o[l],h.rowSpan+=1):(h=new CKEDITOR.dom.element(o[l]).clone(),h.removeAttribute("rowSpan"),h.appendBogus(),a.append(h),h=h.$),l+=h.colSpan-1}i?a.insertBefore(r):a.insertAfter(r)}function i(e){if(e instanceof CKEDITOR.dom.selection){for(var n=t(e),a=n[0].getAscendant("table"),o=CKEDITOR.tools.buildTableMap(a),e=n[0].getParent().$.rowIndex,n=n[n.length-1],r=n.getParent().$.rowIndex+n.$.rowSpan-1,n=[],s=e;r>=s;s++){for(var l=o[s],h=new CKEDITOR.dom.element(a.$.rows[s]),c=0;c<l.length;c++){var u=new CKEDITOR.dom.element(l[c]),d=u.getParent().$.rowIndex;1==u.$.rowSpan?u.remove():(u.$.rowSpan-=1,d==s&&(d=o[s+1],d[c-1]?u.insertAfter(new CKEDITOR.dom.element(d[c-1])):new CKEDITOR.dom.element(a.$.rows[s+1]).append(u,1))),c+=u.$.colSpan-1}n.push(h)}for(o=a.$.rows,a=new CKEDITOR.dom.element(o[r+1]||(e>0?o[e-1]:null)||a.$.parentNode),s=n.length;s>=0;s--)i(n[s]);return a}return e instanceof CKEDITOR.dom.element&&(a=e.getAscendant("table"),1==a.$.rows.length?a.remove():e.remove()),null}function n(t,e){for(var i=e?1/0:0,n=0;n<t.length;n++){var a;a=t[n];for(var o=e,r=a.getParent().$.cells,s=0,l=0;l<r.length;l++){var h=r[l],s=s+(o?1:h.colSpan);if(h==a.$)break}a=s-1,(e?i>a:a>i)&&(i=a)}return i}function a(e,i){for(var a=t(e),o=a[0].getAscendant("table"),r=n(a,1),a=n(a),r=i?r:a,s=CKEDITOR.tools.buildTableMap(o),o=[],a=[],l=s.length,h=0;l>h;h++)o.push(s[h][r]),a.push(i?s[h][r-1]:s[h][r+1]);for(h=0;l>h;h++)o[h]&&(1<o[h].colSpan&&a[h]==o[h]?(r=o[h],r.colSpan+=1):(r=new CKEDITOR.dom.element(o[h]).clone(),r.removeAttribute("colSpan"),r.appendBogus(),r[i?"insertBefore":"insertAfter"].call(r,new CKEDITOR.dom.element(o[h])),r=r.$),h+=r.rowSpan-1)}function o(t,e){var i=t.getStartElement();if(i=i.getAscendant("td",1)||i.getAscendant("th",1)){var n=i.clone();n.appendBogus(),e?n.insertBefore(i):n.insertAfter(i)}}function r(e){if(e instanceof CKEDITOR.dom.selection){var i,e=t(e),n=e[0]&&e[0].getAscendant("table");t:{var a=0;i=e.length-1;for(var o,l,h={};o=e[a++];)CKEDITOR.dom.element.setMarker(h,o,"delete_cell",!0);for(a=0;o=e[a++];)if((l=o.getPrevious())&&!l.getCustomData("delete_cell")||(l=o.getNext())&&!l.getCustomData("delete_cell")){CKEDITOR.dom.element.clearAllMarkers(h),i=l;break t}CKEDITOR.dom.element.clearAllMarkers(h),l=e[0].getParent(),(l=l.getPrevious())?i=l.getLast():(l=e[i].getParent(),i=(l=l.getNext())?l.getChild(0):null)}for(l=e.length-1;l>=0;l--)r(e[l]);i?s(i,!0):n&&n.remove()}else e instanceof CKEDITOR.dom.element&&(n=e.getParent(),1==n.getChildCount()?n.remove():e.remove())}function s(t,e){var i=t.getDocument(),n=CKEDITOR.document;CKEDITOR.env.ie&&10==CKEDITOR.env.version&&(n.focus(),i.focus()),i=new CKEDITOR.dom.range(i),i["moveToElementEdit"+(e?"End":"Start")](t)||(i.selectNodeContents(t),i.collapse(e?!1:!0)),i.select(!0)}function l(t,e,i){if(t=t[e],"undefined"==typeof i)return t;for(e=0;t&&e<t.length;e++){if(i.is&&t[e]==i.$)return e;if(e==i)return new CKEDITOR.dom.element(t[e])}return i.is?-1:null}function h(e,i,n){var a,o=t(e);if((i?1!=o.length:2>o.length)||(a=e.getCommonAncestor())&&a.type==CKEDITOR.NODE_ELEMENT&&a.is("table"))return!1;var r,e=o[0];a=e.getAscendant("table");var s=CKEDITOR.tools.buildTableMap(a),h=s.length,c=s[0].length,u=e.getParent().$.rowIndex,d=l(s,u,e);if(i){var f;try{var m=parseInt(e.getAttribute("rowspan"),10)||1;r=parseInt(e.getAttribute("colspan"),10)||1,f=s["up"==i?u-m:"down"==i?u+m:u]["left"==i?d-r:"right"==i?d+r:d]}catch(p){return!1}if(!f||e.$==f)return!1;o["up"==i||"left"==i?"unshift":"push"](new CKEDITOR.dom.element(f))}for(var i=e.getDocument(),g=u,m=f=0,v=!n&&new CKEDITOR.dom.documentFragment(i),C=0,i=0;i<o.length;i++){r=o[i];var E=r.getParent(),b=r.getFirst(),T=r.$.colSpan,y=r.$.rowSpan,E=E.$.rowIndex,D=l(s,E,r),C=C+T*y,m=Math.max(m,D-d+T);f=Math.max(f,E-u+y),n||(T=r,(y=T.getBogus())&&y.remove(),T.trim(),r.getChildren().count()&&(E==g||!b||b.isBlockBoundary&&b.isBlockBoundary({br:1})||(g=v.getLast(CKEDITOR.dom.walker.whitespaces(!0)))&&(!g.is||!g.is("br"))&&v.append("br"),r.moveChildren(v)),i?r.remove():r.setHtml("")),g=E}if(n)return f*m==C;for(v.moveChildren(e),e.appendBogus(),m>=c?e.removeAttribute("rowSpan"):e.$.rowSpan=f,f>=h?e.removeAttribute("colSpan"):e.$.colSpan=m,n=new CKEDITOR.dom.nodeList(a.$.rows),o=n.count(),i=o-1;i>=0;i--)a=n.getItem(i),a.$.cells.length||(a.remove(),o++);return e}function c(e,i){var n=t(e);if(1<n.length)return!1;if(i)return!0;var a,n=n[0],o=n.getParent(),r=o.getAscendant("table"),s=CKEDITOR.tools.buildTableMap(r),h=o.$.rowIndex,c=l(s,h,n),u=n.$.rowSpan;if(u>1){a=Math.ceil(u/2);for(var d,u=Math.floor(u/2),o=h+a,r=new CKEDITOR.dom.element(r.$.rows[o]),s=l(s,o),o=n.clone(),h=0;h<s.length;h++){if(d=s[h],d.parentNode==r.$&&h>c){o.insertBefore(new CKEDITOR.dom.element(d));break}d=null}d||r.append(o)}else for(u=a=1,r=o.clone(),r.insertAfter(o),r.append(o=n.clone()),d=l(s,h),c=0;c<d.length;c++)d[c].rowSpan++;return o.appendBogus(),n.$.rowSpan=a,o.$.rowSpan=u,1==a&&n.removeAttribute("rowSpan"),1==u&&o.removeAttribute("rowSpan"),o}function u(e,i){var n=t(e);if(1<n.length)return!1;if(i)return!0;var n=n[0],a=n.getParent(),o=a.getAscendant("table"),o=CKEDITOR.tools.buildTableMap(o),r=l(o,a.$.rowIndex,n),s=n.$.colSpan;if(s>1)a=Math.ceil(s/2),s=Math.floor(s/2);else{for(var s=a=1,h=[],c=0;c<o.length;c++){var u=o[c];h.push(u[r]),1<u[r].rowSpan&&(c+=u[r].rowSpan-1)}for(o=0;o<h.length;o++)h[o].colSpan++}return o=n.clone(),o.insertAfter(n),o.appendBogus(),n.$.colSpan=a,o.$.colSpan=s,1==a&&n.removeAttribute("colSpan"),1==s&&o.removeAttribute("colSpan"),o}var d=/^(?:td|th)$/;CKEDITOR.plugins.tabletools={requires:"table,dialog,contextmenu",init:function(n){function l(t){return CKEDITOR.tools.extend(t||{},{contextSensitive:1,refresh:function(t,e){this.setState(e.contains({td:1,th:1},1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}function d(t,e){var i=n.addCommand(t,e);n.addFeature(i)}var f=n.lang.table;d("cellProperties",new CKEDITOR.dialogCommand("cellProperties",l({allowedContent:"td th{width,height,border-color,background-color,white-space,vertical-align,text-align}[colspan,rowspan]",requiredContent:"table"}))),CKEDITOR.dialog.add("cellProperties",this.path+"dialogs/tableCell.js"),d("rowDelete",l({requiredContent:"table",exec:function(t){t=t.getSelection(),s(i(t))}})),d("rowInsertBefore",l({requiredContent:"table",exec:function(t){t=t.getSelection(),e(t,!0)}})),d("rowInsertAfter",l({requiredContent:"table",exec:function(t){t=t.getSelection(),e(t)}})),d("columnDelete",l({requiredContent:"table",exec:function(e){for(var i,n,e=e.getSelection(),e=t(e),a=e[0],o=e[e.length-1],e=a.getAscendant("table"),r=CKEDITOR.tools.buildTableMap(e),l=[],h=0,c=r.length;c>h;h++)for(var u=0,d=r[h].length;d>u;u++)r[h][u]==a.$&&(i=u),r[h][u]==o.$&&(n=u);for(h=i;n>=h;h++)for(u=0;u<r.length;u++)o=r[u],a=new CKEDITOR.dom.element(e.$.rows[u]),o=new CKEDITOR.dom.element(o[h]),o.$&&(1==o.$.colSpan?o.remove():o.$.colSpan-=1,u+=o.$.rowSpan-1,a.$.cells.length||l.push(a));n=e.$.rows[0]&&e.$.rows[0].cells,i=new CKEDITOR.dom.element(n[i]||(i?n[i-1]:e.$.parentNode)),l.length==c&&e.remove(),i&&s(i,!0)}})),d("columnInsertBefore",l({requiredContent:"table",exec:function(t){t=t.getSelection(),a(t,!0)}})),d("columnInsertAfter",l({requiredContent:"table",exec:function(t){t=t.getSelection(),a(t)}})),d("cellDelete",l({requiredContent:"table",exec:function(t){t=t.getSelection(),r(t)}})),d("cellMerge",l({allowedContent:"td[colspan,rowspan]",requiredContent:"td[colspan,rowspan]",exec:function(t){s(h(t.getSelection()),!0)}})),d("cellMergeRight",l({allowedContent:"td[colspan]",requiredContent:"td[colspan]",exec:function(t){s(h(t.getSelection(),"right"),!0)}})),d("cellMergeDown",l({allowedContent:"td[rowspan]",requiredContent:"td[rowspan]",exec:function(t){s(h(t.getSelection(),"down"),!0)}})),d("cellVerticalSplit",l({allowedContent:"td[rowspan]",requiredContent:"td[rowspan]",exec:function(t){s(c(t.getSelection()))}})),d("cellHorizontalSplit",l({allowedContent:"td[colspan]",requiredContent:"td[colspan]",exec:function(t){s(u(t.getSelection()))}})),d("cellInsertBefore",l({requiredContent:"table",exec:function(t){t=t.getSelection(),o(t,!0)}})),d("cellInsertAfter",l({requiredContent:"table",exec:function(t){t=t.getSelection(),o(t)}})),n.addMenuItems&&n.addMenuItems({tablecell:{label:f.cell.menu,group:"tablecell",order:1,getItems:function(){var e=n.getSelection(),i=t(e);
return{tablecell_insertBefore:CKEDITOR.TRISTATE_OFF,tablecell_insertAfter:CKEDITOR.TRISTATE_OFF,tablecell_delete:CKEDITOR.TRISTATE_OFF,tablecell_merge:h(e,null,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_right:h(e,"right",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_down:h(e,"down",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_vertical:c(e,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_horizontal:u(e,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_properties:0<i.length?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED}}},tablecell_insertBefore:{label:f.cell.insertBefore,group:"tablecell",command:"cellInsertBefore",order:5},tablecell_insertAfter:{label:f.cell.insertAfter,group:"tablecell",command:"cellInsertAfter",order:10},tablecell_delete:{label:f.cell.deleteCell,group:"tablecell",command:"cellDelete",order:15},tablecell_merge:{label:f.cell.merge,group:"tablecell",command:"cellMerge",order:16},tablecell_merge_right:{label:f.cell.mergeRight,group:"tablecell",command:"cellMergeRight",order:17},tablecell_merge_down:{label:f.cell.mergeDown,group:"tablecell",command:"cellMergeDown",order:18},tablecell_split_horizontal:{label:f.cell.splitHorizontal,group:"tablecell",command:"cellHorizontalSplit",order:19},tablecell_split_vertical:{label:f.cell.splitVertical,group:"tablecell",command:"cellVerticalSplit",order:20},tablecell_properties:{label:f.cell.title,group:"tablecellproperties",command:"cellProperties",order:21},tablerow:{label:f.row.menu,group:"tablerow",order:1,getItems:function(){return{tablerow_insertBefore:CKEDITOR.TRISTATE_OFF,tablerow_insertAfter:CKEDITOR.TRISTATE_OFF,tablerow_delete:CKEDITOR.TRISTATE_OFF}}},tablerow_insertBefore:{label:f.row.insertBefore,group:"tablerow",command:"rowInsertBefore",order:5},tablerow_insertAfter:{label:f.row.insertAfter,group:"tablerow",command:"rowInsertAfter",order:10},tablerow_delete:{label:f.row.deleteRow,group:"tablerow",command:"rowDelete",order:15},tablecolumn:{label:f.column.menu,group:"tablecolumn",order:1,getItems:function(){return{tablecolumn_insertBefore:CKEDITOR.TRISTATE_OFF,tablecolumn_insertAfter:CKEDITOR.TRISTATE_OFF,tablecolumn_delete:CKEDITOR.TRISTATE_OFF}}},tablecolumn_insertBefore:{label:f.column.insertBefore,group:"tablecolumn",command:"columnInsertBefore",order:5},tablecolumn_insertAfter:{label:f.column.insertAfter,group:"tablecolumn",command:"columnInsertAfter",order:10},tablecolumn_delete:{label:f.column.deleteColumn,group:"tablecolumn",command:"columnDelete",order:15}}),n.contextMenu&&n.contextMenu.addListener(function(t,e,i){return(t=i.contains({td:1,th:1},1))&&!t.isReadOnly()?{tablecell:CKEDITOR.TRISTATE_OFF,tablerow:CKEDITOR.TRISTATE_OFF,tablecolumn:CKEDITOR.TRISTATE_OFF}:null})},getSelectedCells:t},CKEDITOR.plugins.add("tabletools",CKEDITOR.plugins.tabletools)}(),CKEDITOR.tools.buildTableMap=function(t){for(var t=t.$.rows,e=-1,i=[],n=0;n<t.length;n++){e++,!i[e]&&(i[e]=[]);for(var a=-1,o=0;o<t[n].cells.length;o++){var r=t[n].cells[o];for(a++;i[e][a];)a++;for(var s=isNaN(r.colSpan)?1:r.colSpan,r=isNaN(r.rowSpan)?1:r.rowSpan,l=0;r>l;l++){i[e+l]||(i[e+l]=[]);for(var h=0;s>h;h++)i[e+l][a+h]=t[n].cells[o]}a+=s-1}}return i},function(){var t=[CKEDITOR.CTRL+90,CKEDITOR.CTRL+89,CKEDITOR.CTRL+CKEDITOR.SHIFT+90],e={8:1,46:1};CKEDITOR.plugins.add("undo",{init:function(e){function n(t){r.enabled&&!1!==t.data.command.canUndo&&r.save()}function a(){r.enabled=e.readOnly?!1:"wysiwyg"==e.mode,r.onChange()}var r=e.undoManager=new i(e),s=r.editingHandler=new o(r),l=e.addCommand("undo",{exec:function(){r.undo()&&(e.selectionChange(),this.fire("afterUndo"))},startDisabled:!0,canUndo:!1}),h=e.addCommand("redo",{exec:function(){r.redo()&&(e.selectionChange(),this.fire("afterRedo"))},startDisabled:!0,canUndo:!1});e.setKeystroke([[t[0],"undo"],[t[1],"redo"],[t[2],"redo"]]),r.onChange=function(){l.setState(r.undoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),h.setState(r.redoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)},e.on("beforeCommandExec",n),e.on("afterCommandExec",n),e.on("saveSnapshot",function(t){r.save(t.data&&t.data.contentOnly)}),e.on("contentDom",s.attachListeners,s),e.on("instanceReady",function(){e.fire("saveSnapshot")}),e.on("beforeModeUnload",function(){"wysiwyg"==e.mode&&r.save(!0)}),e.on("mode",a),e.on("readOnly",a),e.ui.addButton&&(e.ui.addButton("Undo",{label:e.lang.undo.undo,command:"undo",toolbar:"undo,10"}),e.ui.addButton("Redo",{label:e.lang.undo.redo,command:"redo",toolbar:"undo,20"})),e.resetUndo=function(){r.reset(),e.fire("saveSnapshot")},e.on("updateSnapshot",function(){r.currentImage&&r.update()}),e.on("lockSnapshot",function(t){t=t.data,r.lock(t&&t.dontUpdate,t&&t.forceUpdate)}),e.on("unlockSnapshot",r.unlock,r)}}),CKEDITOR.plugins.undo={};var i=CKEDITOR.plugins.undo.UndoManager=function(t){this.strokesRecorded=[0,0],this.locked=null,this.previousKeyGroup=-1,this.limit=t.config.undoStackSize||20,this.strokesLimit=25,this.editor=t,this.reset()};i.prototype={type:function(t,e){var n=i.getKeyGroup(t),a=this.strokesRecorded[n]+1,e=e||a>=this.strokesLimit;this.typing||(this.hasUndo=this.typing=!0,this.hasRedo=!1,this.onChange()),e?(a=0,this.editor.fire("saveSnapshot")):this.editor.fire("change"),this.strokesRecorded[n]=a,this.previousKeyGroup=n},keyGroupChanged:function(t){return i.getKeyGroup(t)!=this.previousKeyGroup},reset:function(){this.snapshots=[],this.index=-1,this.currentImage=null,this.hasRedo=this.hasUndo=!1,this.locked=null,this.resetType()},resetType:function(){this.strokesRecorded=[0,0],this.typing=!1,this.previousKeyGroup=-1},refreshState:function(){this.hasUndo=!!this.getNextImage(!0),this.hasRedo=!!this.getNextImage(!1),this.resetType(),this.onChange()},save:function(t,e,i){var a=this.editor;if(this.locked||"ready"!=a.status||"wysiwyg"!=a.mode)return!1;var o=a.editable();if(!o||"ready"!=o.status)return!1;if(o=this.snapshots,e||(e=new n(a)),!1===e.contents)return!1;if(this.currentImage)if(e.equalsContent(this.currentImage)){if(t||e.equalsSelection(this.currentImage))return!1}else!1!==i&&a.fire("change");return o.splice(this.index+1,o.length-this.index-1),o.length==this.limit&&o.shift(),this.index=o.push(e)-1,this.currentImage=e,!1!==i&&this.refreshState(),!0},restoreImage:function(t){var e,i=this.editor;t.bookmarks&&(i.focus(),e=i.getSelection()),this.locked={level:999},this.editor.loadSnapshot(t.contents),t.bookmarks?e.selectBookmarks(t.bookmarks):CKEDITOR.env.ie&&(e=this.editor.document.getBody().$.createTextRange(),e.collapse(!0),e.select()),this.locked=null,this.index=t.index,this.currentImage=this.snapshots[this.index],this.update(),this.refreshState(),i.fire("change")},getNextImage:function(t){var e,i=this.snapshots,n=this.currentImage;if(n)if(t){for(e=this.index-1;e>=0;e--)if(t=i[e],!n.equalsContent(t))return t.index=e,t}else for(e=this.index+1;e<i.length;e++)if(t=i[e],!n.equalsContent(t))return t.index=e,t;return null},redoable:function(){return this.enabled&&this.hasRedo},undoable:function(){return this.enabled&&this.hasUndo},undo:function(){if(this.undoable()){this.save(!0);var t=this.getNextImage(!0);if(t)return this.restoreImage(t),!0}return!1},redo:function(){if(this.redoable()&&(this.save(!0),this.redoable())){var t=this.getNextImage(!1);if(t)return this.restoreImage(t),!0}return!1},update:function(t){if(!this.locked){t||(t=new n(this.editor));for(var e=this.index,i=this.snapshots;e>0&&this.currentImage.equalsContent(i[e-1]);)e-=1;i.splice(e,this.index-e+1,t),this.index=e,this.currentImage=t}},updateSelection:function(t){if(!this.snapshots.length)return!1;var e=this.snapshots,i=e[e.length-1];return i.equalsContent(t)&&!i.equalsSelection(t)?(this.currentImage=e[e.length-1]=t,!0):!1},lock:function(t,e){if(this.locked)this.locked.level++;else if(t)this.locked={level:1};else{var i=null;if(e)i=!0;else{var a=new n(this.editor,!0);this.currentImage&&this.currentImage.equalsContent(a)&&(i=a)}this.locked={update:i,level:1}}},unlock:function(){if(this.locked&&!--this.locked.level){var t=this.locked.update;if(this.locked=null,!0===t)this.update();else if(t){var e=new n(this.editor,!0);t.equalsContent(e)||this.update()}}}},i.navigationKeyCodes={37:1,38:1,39:1,40:1,36:1,35:1,33:1,34:1},i.keyGroups={PRINTABLE:0,FUNCTIONAL:1},i.isNavigationKey=function(t){return!!i.navigationKeyCodes[t]},i.getKeyGroup=function(t){var n=i.keyGroups;return e[t]?n.FUNCTIONAL:n.PRINTABLE},i.getOppositeKeyGroup=function(t){var e=i.keyGroups;return t==e.FUNCTIONAL?e.PRINTABLE:e.FUNCTIONAL},i.ieFunctionalKeysBug=function(t){return CKEDITOR.env.ie&&i.getKeyGroup(t)==i.keyGroups.FUNCTIONAL};var n=CKEDITOR.plugins.undo.Image=function(t,e){this.editor=t,t.fire("beforeUndoImage");var i=t.getSnapshot();CKEDITOR.env.ie&&i&&(i=i.replace(/\s+data-cke-expando=".*?"/g,"")),this.contents=i,e||(this.bookmarks=(i=i&&t.getSelection())&&i.createBookmarks2(!0)),t.fire("afterUndoImage")},a=/\b(?:href|src|name)="[^"]*?"/gi;n.prototype={equalsContent:function(t){var e=this.contents,t=t.contents;return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)&&(e=e.replace(a,""),t=t.replace(a,"")),e!=t?!1:!0},equalsSelection:function(t){var e=this.bookmarks,t=t.bookmarks;if(e||t){if(!e||!t||e.length!=t.length)return!1;for(var i=0;i<e.length;i++){var n=e[i],a=t[i];if(n.startOffset!=a.startOffset||n.endOffset!=a.endOffset||!CKEDITOR.tools.arrayCompare(n.start,a.start)||!CKEDITOR.tools.arrayCompare(n.end,a.end))return!1}}return!0}};var o=CKEDITOR.plugins.undo.NativeEditingHandler=function(t){this.undoManager=t,this.ignoreInputEvent=!1,this.keyEventsStack=new r,this.lastKeydownImage=null};o.prototype={onKeydown:function(e){if(-1<CKEDITOR.tools.indexOf(t,e.data.getKeystroke()))e.data.preventDefault();else{this.keyEventsStack.cleanUp(e);var e=e.data.getKey(),a=this.undoManager;this.keyEventsStack.getLast(e)||this.keyEventsStack.push(e),this.lastKeydownImage=new n(a.editor),(i.isNavigationKey(e)||this.undoManager.keyGroupChanged(e))&&(a.strokesRecorded[0]||a.strokesRecorded[1])&&(a.save(!1,this.lastKeydownImage,!1),a.resetType())}},onInput:function(){if(this.ignoreInputEvent)this.ignoreInputEvent=!1;else{var t=this.keyEventsStack.getLast();t||(t=this.keyEventsStack.push(0)),this.keyEventsStack.increment(t.keyCode),this.keyEventsStack.getTotalInputs()>=this.undoManager.strokesLimit&&(this.undoManager.type(t.keyCode,!0),this.keyEventsStack.resetInputs())}},onKeyup:function(t){var e=this.undoManager,t=t.data.getKey(),a=this.keyEventsStack.getTotalInputs();this.keyEventsStack.remove(t),i.ieFunctionalKeysBug(t)&&this.lastKeydownImage&&this.lastKeydownImage.equalsContent(new n(e.editor,!0))||(a>0?e.type(t):i.isNavigationKey(t)&&this.onNavigationKey(!0))},onNavigationKey:function(t){var e=this.undoManager;(t||!e.save(!0,null,!1))&&e.updateSelection(new n(e.editor)),e.resetType()},ignoreInputEventListener:function(){this.ignoreInputEvent=!0},attachListeners:function(){var t=this.undoManager.editor,e=t.editable(),n=this;e.attachListener(e,"keydown",function(t){n.onKeydown(t),i.ieFunctionalKeysBug(t.data.getKey())&&n.onInput()},null,null,999),e.attachListener(e,CKEDITOR.env.ie?"keypress":"input",n.onInput,n,null,999),e.attachListener(e,"keyup",n.onKeyup,n,null,999),e.attachListener(e,"paste",n.ignoreInputEventListener,n,null,999),e.attachListener(e,"drop",n.ignoreInputEventListener,n,null,999),e.attachListener(e.isInline()?e:t.document.getDocumentElement(),"click",function(){n.onNavigationKey()},null,null,999),e.attachListener(this.undoManager.editor,"blur",function(){n.keyEventsStack.remove(9)},null,null,999)}};var r=CKEDITOR.plugins.undo.KeyEventsStack=function(){this.stack=[]};r.prototype={push:function(t){return this.stack[this.stack.push({keyCode:t,inputs:0})-1]},getLastIndex:function(t){if("number"!=typeof t)return this.stack.length-1;for(var e=this.stack.length;e--;)if(this.stack[e].keyCode==t)return e;return-1},getLast:function(t){return t=this.getLastIndex(t),-1!=t?this.stack[t]:null},increment:function(t){this.getLast(t).inputs++},remove:function(t){t=this.getLastIndex(t),-1!=t&&this.stack.splice(t,1)},resetInputs:function(t){if("number"==typeof t)this.getLast(t).inputs=0;else for(t=this.stack.length;t--;)this.stack[t].inputs=0},getTotalInputs:function(){for(var t=this.stack.length,e=0;t--;)e+=this.stack[t].inputs;return e},cleanUp:function(t){t=t.data.$,!t.ctrlKey&&!t.metaKey&&this.remove(17),t.shiftKey||this.remove(16),t.altKey||this.remove(18)}}}(),CKEDITOR.plugins.add("wsc",{requires:"dialog",parseApi:function(t){t.config.wsc_onFinish="function"==typeof t.config.wsc_onFinish?t.config.wsc_onFinish:function(){},t.config.wsc_onClose="function"==typeof t.config.wsc_onClose?t.config.wsc_onClose:function(){}},parseConfig:function(t){t.config.wsc_customerId=t.config.wsc_customerId||CKEDITOR.config.wsc_customerId||"1:ua3xw1-2XyGJ3-GWruD3-6OFNT1-oXcuB1-nR6Bp4-hgQHc-EcYng3-sdRXG3-NOfFk",t.config.wsc_customDictionaryIds=t.config.wsc_customDictionaryIds||CKEDITOR.config.wsc_customDictionaryIds||"",t.config.wsc_userDictionaryName=t.config.wsc_userDictionaryName||CKEDITOR.config.wsc_userDictionaryName||"",t.config.wsc_customLoaderScript=t.config.wsc_customLoaderScript||CKEDITOR.config.wsc_customLoaderScript,CKEDITOR.config.wsc_cmd=t.config.wsc_cmd||CKEDITOR.config.wsc_cmd||"spell",CKEDITOR.config.wsc_version="v4.3.0-26-g5bcf855",CKEDITOR.config.wsc_removeGlobalVariable=!0},init:function(t){var e=CKEDITOR.env;this.parseConfig(t),this.parseApi(t),t.addCommand("checkspell",new CKEDITOR.dialogCommand("checkspell")).modes={wysiwyg:!(CKEDITOR.env.opera||CKEDITOR.env.air||document.domain!=window.location.hostname||e.ie&&(8>e.version||e.quirks))},"undefined"==typeof t.plugins.scayt&&t.ui.addButton&&t.ui.addButton("SpellChecker",{label:t.lang.wsc.toolbar,click:function(t){var e=t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?t.container.getText():t.document.getBody().getText();(e=e.replace(/\s/g,""))?t.execCommand("checkspell"):alert("Nothing to check!")},toolbar:"spellchecker,10"}),CKEDITOR.dialog.add("checkspell",this.path+(CKEDITOR.env.ie&&7>=CKEDITOR.env.version?"dialogs/wsc_ie.js":window.postMessage?"dialogs/wsc.js":"dialogs/wsc_ie.js"))}}),CKEDITOR.config.plugins="dialogui,dialog,about,a11yhelp,dialogadvtab,basicstyles,bidi,blockquote,clipboard,button,panelbutton,panel,floatpanel,colorbutton,colordialog,templates,menu,contextmenu,div,resize,toolbar,elementspath,enterkey,entities,popup,filebrowser,find,fakeobjects,flash,floatingspace,listblock,richcombo,font,forms,format,horizontalrule,htmlwriter,iframe,wysiwygarea,image,indent,indentblock,indentlist,smiley,justify,menubutton,language,link,list,liststyle,magicline,maximize,newpage,pagebreak,pastetext,pastefromword,preview,print,removeformat,save,selectall,showblocks,showborders,sourcearea,specialchar,scayt,stylescombo,tab,table,tabletools,undo,wsc",CKEDITOR.config.skin="moono",function(){var t=function(t,e){var i=CKEDITOR.getUrl("plugins/"+e);t=t.split(",");for(var n=0;n<t.length;n++)CKEDITOR.skin.icons[t[n]]={path:i,offset:-t[++n],bgsize:t[++n]}};CKEDITOR.env.hidpi?t("about,0,,bold,24,,italic,48,,strike,72,,subscript,96,,superscript,120,,underline,144,,bidiltr,168,,bidirtl,192,,blockquote,216,,copy-rtl,240,,copy,264,,cut-rtl,288,,cut,312,,paste-rtl,336,,paste,360,,bgcolor,384,,textcolor,408,,templates-rtl,432,,templates,456,,creatediv,480,,find-rtl,504,,find,528,,replace,552,,flash,576,,button,600,,checkbox,624,,form,648,,hiddenfield,672,,imagebutton,696,,radio,720,,select-rtl,744,,select,768,,textarea-rtl,792,,textarea,816,,textfield-rtl,840,,textfield,864,,horizontalrule,888,,iframe,912,,image,936,,indent-rtl,960,,indent,984,,outdent-rtl,1008,,outdent,1032,,smiley,1056,,justifyblock,1080,,justifycenter,1104,,justifyleft,1128,,justifyright,1152,,language,1176,,anchor-rtl,1200,,anchor,1224,,link,1248,,unlink,1272,,bulletedlist-rtl,1296,,bulletedlist,1320,,numberedlist-rtl,1344,,numberedlist,1368,,maximize,1392,,newpage-rtl,1416,,newpage,1440,,pagebreak-rtl,1464,,pagebreak,1488,,pastetext-rtl,1512,,pastetext,1536,,pastefromword-rtl,1560,,pastefromword,1584,,preview-rtl,1608,,preview,1632,,print,1656,,removeformat,1680,,save,1704,,selectall,1728,,showblocks-rtl,1752,,showblocks,1776,,source-rtl,1800,,source,1824,,specialchar,1848,,scayt,1872,,table,1896,,redo-rtl,1920,,redo,1944,,undo-rtl,1968,,undo,1992,,spellchecker,2016,","icons_hidpi.png"):t("about,0,auto,bold,24,auto,italic,48,auto,strike,72,auto,subscript,96,auto,superscript,120,auto,underline,144,auto,bidiltr,168,auto,bidirtl,192,auto,blockquote,216,auto,copy-rtl,240,auto,copy,264,auto,cut-rtl,288,auto,cut,312,auto,paste-rtl,336,auto,paste,360,auto,bgcolor,384,auto,textcolor,408,auto,templates-rtl,432,auto,templates,456,auto,creatediv,480,auto,find-rtl,504,auto,find,528,auto,replace,552,auto,flash,576,auto,button,600,auto,checkbox,624,auto,form,648,auto,hiddenfield,672,auto,imagebutton,696,auto,radio,720,auto,select-rtl,744,auto,select,768,auto,textarea-rtl,792,auto,textarea,816,auto,textfield-rtl,840,auto,textfield,864,auto,horizontalrule,888,auto,iframe,912,auto,image,936,auto,indent-rtl,960,auto,indent,984,auto,outdent-rtl,1008,auto,outdent,1032,auto,smiley,1056,auto,justifyblock,1080,auto,justifycenter,1104,auto,justifyleft,1128,auto,justifyright,1152,auto,language,1176,auto,anchor-rtl,1200,auto,anchor,1224,auto,link,1248,auto,unlink,1272,auto,bulletedlist-rtl,1296,auto,bulletedlist,1320,auto,numberedlist-rtl,1344,auto,numberedlist,1368,auto,maximize,1392,auto,newpage-rtl,1416,auto,newpage,1440,auto,pagebreak-rtl,1464,auto,pagebreak,1488,auto,pastetext-rtl,1512,auto,pastetext,1536,auto,pastefromword-rtl,1560,auto,pastefromword,1584,auto,preview-rtl,1608,auto,preview,1632,auto,print,1656,auto,removeformat,1680,auto,save,1704,auto,selectall,1728,auto,showblocks-rtl,1752,auto,showblocks,1776,auto,source-rtl,1800,auto,source,1824,auto,specialchar,1848,auto,scayt,1872,auto,table,1896,auto,redo-rtl,1920,auto,redo,1944,auto,undo-rtl,1968,auto,undo,1992,auto,spellchecker,2016,auto","icons.png")}(),CKEDITOR.lang.languages={af:1,sq:1,ar:1,eu:1,bn:1,bs:1,bg:1,ca:1,"zh-cn":1,zh:1,hr:1,cs:1,da:1,nl:1,en:1,"en-au":1,"en-ca":1,"en-gb":1,eo:1,et:1,fo:1,fi:1,fr:1,"fr-ca":1,gl:1,ka:1,de:1,el:1,gu:1,he:1,hi:1,hu:1,is:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lv:1,lt:1,mk:1,ms:1,mn:1,no:1,nb:1,fa:1,pl:1,"pt-br":1,pt:1,ro:1,ru:1,sr:1,"sr-latn":1,si:1,sk:1,sl:1,es:1,sv:1,tt:1,th:1,tr:1,ug:1,uk:1,vi:1,cy:1})}();var Total=0,OrderNum=1,OrderedItems=[];if(!AmCharts)var AmCharts={themes:{},maps:{},inheriting:{},charts:[],onReadyArray:[],useUTC:!1,updateRate:40,uid:0,lang:{},translations:{},mapTranslations:{}};if(AmCharts.Class=function(t){var e=function(){arguments[0]!==AmCharts.inheriting&&(this.events={},this.construct.apply(this,arguments))};t.inherits?(e.prototype=new t.inherits(AmCharts.inheriting),e.base=t.inherits.prototype,delete t.inherits):(e.prototype.createEvents=function(){for(var t=0,e=arguments.length;e>t;t++)this.events[arguments[t]]=[]},e.prototype.listenTo=function(t,e,i){this.removeListener(t,e,i),t.events[e].push({handler:i,scope:this})},e.prototype.addListener=function(t,e,i){this.removeListener(this,t,e),this.events[t].push({handler:e,scope:i})},e.prototype.removeListener=function(t,e,i){if(t&&t.events)for(t=t.events[e],e=t.length-1;e>=0;e--)t[e].handler===i&&t.splice(e,1)},e.prototype.fire=function(t,e){for(var i=this.events[t],n=0,a=i.length;a>n;n++){var o=i[n];o.handler.call(o.scope,e)}});for(var i in t)e.prototype[i]=t[i];return e},AmCharts.addChart=function(t){AmCharts.charts.push(t)},AmCharts.removeChart=function(t){for(var e=AmCharts.charts,i=e.length-1;i>=0;i--)e[i]==t&&e.splice(i,1)},AmCharts.isModern=!0,AmCharts.getIEVersion=function(){var t=0;if("Microsoft Internet Explorer"==navigator.appName){var e=navigator.userAgent,i=/MSIE ([0-9]{1,}[.0-9]{0,})/;null!=i.exec(e)&&(t=parseFloat(RegExp.$1))}else"Netscape"==navigator.appName&&(e=navigator.userAgent,i=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/,null!=i.exec(e)&&(t=parseFloat(RegExp.$1)));return t},AmCharts.applyLang=function(t){var e=AmCharts.translations;e&&(t=e[t])&&(AmCharts.lang=t,t.monthNames&&(AmCharts.dayNames=t.dayNames,AmCharts.shortDayNames=t.shortDayNames,AmCharts.monthNames=t.monthNames,AmCharts.shortMonthNames=t.shortMonthNames))},AmCharts.IEversion=AmCharts.getIEVersion(),9>AmCharts.IEversion&&0<AmCharts.IEversion&&(AmCharts.isModern=!1,AmCharts.isIE=!0),AmCharts.dx=0,AmCharts.dy=0,(document.addEventListener||window.opera)&&(AmCharts.isNN=!0,AmCharts.isIE=!1,AmCharts.dx=.5,AmCharts.dy=.5),document.attachEvent&&(AmCharts.isNN=!1,AmCharts.isIE=!0,AmCharts.isModern||(AmCharts.dx=0,AmCharts.dy=0)),window.chrome&&(AmCharts.chrome=!0),AmCharts.handleResize=function(){for(var t=AmCharts.charts,e=0;e<t.length;e++){var i=t[e];i&&i.div&&i.handleResize()}},AmCharts.handleMouseUp=function(t){for(var e=AmCharts.charts,i=0;i<e.length;i++){var n=e[i];n&&n.handleReleaseOutside(t)}},AmCharts.handleMouseMove=function(t){for(var e=AmCharts.charts,i=0;i<e.length;i++){var n=e[i];n&&n.handleMouseMove(t)}},AmCharts.resetMouseOver=function(){for(var t=AmCharts.charts,e=0;e<t.length;e++){var i=t[e];i&&(i.mouseIsOver=!1)}},AmCharts.ready=function(t){AmCharts.onReadyArray.push(t)},AmCharts.handleLoad=function(){AmCharts.isReady=!0;for(var t=AmCharts.onReadyArray,e=0;e<t.length;e++){var i=t[e];isNaN(AmCharts.processDelay)?i():setTimeout(i,AmCharts.processDelay*e)}},AmCharts.getUniqueId=function(){return AmCharts.uid++,"AmChartsEl-"+AmCharts.uid},AmCharts.isNN&&(document.addEventListener("mousemove",AmCharts.handleMouseMove,!0),window.addEventListener("resize",AmCharts.handleResize,!0),document.addEventListener("mouseup",AmCharts.handleMouseUp,!0),window.addEventListener("load",AmCharts.handleLoad,!0)),AmCharts.isIE&&(document.attachEvent("onmousemove",AmCharts.handleMouseMove),window.attachEvent("onresize",AmCharts.handleResize),document.attachEvent("onmouseup",AmCharts.handleMouseUp),window.attachEvent("onload",AmCharts.handleLoad)),AmCharts.clear=function(){var t=AmCharts.charts;if(t)for(var e=0;e<t.length;e++)t[e].clear();AmCharts.charts=null,AmCharts.isNN&&(document.removeEventListener("mousemove",AmCharts.handleMouseMove,!0),window.removeEventListener("resize",AmCharts.handleResize,!0),document.removeEventListener("mouseup",AmCharts.handleMouseUp,!0),window.removeEventListener("load",AmCharts.handleLoad,!0)),AmCharts.isIE&&(document.detachEvent("onmousemove",AmCharts.handleMouseMove),window.detachEvent("onresize",AmCharts.handleResize),document.detachEvent("onmouseup",AmCharts.handleMouseUp),window.detachEvent("onload",AmCharts.handleLoad))},AmCharts.makeChart=function(t,e,i){var n=e.type,a=e.theme;AmCharts.isString(a)&&(a=AmCharts.themes[a],e.theme=a);var o;switch(n){case"serial":o=new AmCharts.AmSerialChart(a);break;case"xy":o=new AmCharts.AmXYChart(a);break;case"pie":o=new AmCharts.AmPieChart(a);break;case"radar":o=new AmCharts.AmRadarChart(a);break;case"gauge":o=new AmCharts.AmAngularGauge(a);break;case"funnel":o=new AmCharts.AmFunnelChart(a);break;case"map":o=new AmCharts.AmMap(a);break;case"stock":o=new AmCharts.AmStockChart(a)}return AmCharts.extend(o,e),AmCharts.isReady?isNaN(i)?o.write(t):setTimeout(function(){AmCharts.realWrite(o,t)},i):AmCharts.ready(function(){isNaN(i)?o.write(t):setTimeout(function(){AmCharts.realWrite(o,t)},i)}),o},AmCharts.realWrite=function(t,e){t.write(e)},AmCharts.toBoolean=function(t,e){if(void 0===t)return e;switch(String(t).toLowerCase()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return Boolean(t)}},AmCharts.removeFromArray=function(t,e){var i;for(i=t.length-1;i>=0;i--)t[i]==e&&t.splice(i,1)},AmCharts.getDecimals=function(t){var e=0;return isNaN(t)||(t=String(t),-1!=t.indexOf("e-")?e=Number(t.split("-")[1]):-1!=t.indexOf(".")&&(e=t.split(".")[1].length)),e},AmCharts.wrappedText=function(t,e,i,n,a,o,r,s,l){var h=AmCharts.text(t,e,i,n,a,o,r),c="\n";if(AmCharts.isModern||(c="<br>"),l>10)return h;if(h){var u=h.getBBox();if(u.width>s){h.remove();for(var h=[],d=0;-1<(index=e.indexOf(" ",d));)h.push(index),d=index+1;for(var f,m=Math.round(e.length/2),p=1e3,d=0;d<h.length;d++){var g=Math.abs(h[d]-m);p>g&&(f=h[d],p=g)}if(isNaN(f)){for(s=Math.ceil(u.width/s),d=1;s>d;d++)f=Math.round(e.length/s*d),e=e.substr(0,f)+c+e.substr(f);return AmCharts.text(t,e,i,n,a,o,r)}return e=e.substr(0,f)+c+e.substr(f+1),AmCharts.wrappedText(t,e,i,n,a,o,r,s,l+1)}return h}},AmCharts.getStyle=function(t,e){var i="";return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(t,"").getPropertyValue(e):t.currentStyle&&(e=e.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()}),i=t.currentStyle[e]),i},AmCharts.removePx=function(t){return void 0!=t?Number(t.substring(0,t.length-2)):void 0},AmCharts.getURL=function(t,e){if(t)if("_self"!=e&&e)if("_top"==e&&window.top)window.top.location.href=t;else if("_parent"==e&&window.parent)window.parent.location.href=t;else{var i=document.getElementsByName(e)[0];i?i.src=t:window.open(t)}else window.location.href=t},AmCharts.ifArray=function(t){return t&&0<t.length?!0:!1},AmCharts.callMethod=function(t,e){var i;for(i=0;i<e.length;i++){var n=e[i];if(n){n[t]&&n[t]();var a=n.length;if(a>0){var o;for(o=0;a>o;o++){var r=n[o];r&&r[t]&&r[t]()}}}}},AmCharts.toNumber=function(t){return"number"==typeof t?t:Number(String(t).replace(/[^0-9\-.]+/g,""))},AmCharts.toColor=function(t){if(""!==t&&void 0!==t)if(-1!=t.indexOf(",")){t=t.split(",");var e;for(e=0;e<t.length;e++){var i=t[e].substring(t[e].length-6,t[e].length);t[e]="#"+i}}else t=t.substring(t.length-6,t.length),t="#"+t;return t},AmCharts.toCoordinate=function(t,e,i){var n;return void 0!==t&&(t=String(t),i&&e>i&&(e=i),n=Number(t),-1!=t.indexOf("!")&&(n=e-Number(t.substr(1))),-1!=t.indexOf("%")&&(n=e*Number(t.substr(0,t.length-1))/100)),n},AmCharts.fitToBounds=function(t,e,i){return e>t&&(t=e),t>i&&(t=i),t},AmCharts.isDefined=function(t){return void 0===t?!1:!0},AmCharts.stripNumbers=function(t){return t.replace(/[0-9]+/g,"")},AmCharts.roundTo=function(t,e){if(0>e)return t;var i=Math.pow(10,e);return Math.round(t*i)/i},AmCharts.toFixed=function(t,e){var i=String(Math.round(t*Math.pow(10,e)));if(e>0){var n=i.length;if(e>n){var a;for(a=0;e-n>a;a++)i="0"+i}return n=i.substring(0,i.length-e),""===n&&(n=0),n+"."+i.substring(i.length-e,i.length)}return String(i)},AmCharts.formatDuration=function(t,e,i,n,a,o){var r=AmCharts.intervals,s=o.decimalSeparator;if(t>=r[e].contains){var l=t-Math.floor(t/r[e].contains)*r[e].contains;return"ss"==e&&(l=AmCharts.formatNumber(l,o),1==l.split(s)[0].length&&(l="0"+l)),("mm"==e||"hh"==e)&&10>l&&(l="0"+l),i=l+""+n[e]+i,t=Math.floor(t/r[e].contains),e=r[e].nextInterval,AmCharts.formatDuration(t,e,i,n,a,o)}if("ss"==e&&(t=AmCharts.formatNumber(t,o),1==t.split(s)[0].length&&(t="0"+t)),("mm"==e||"hh"==e)&&10>t&&(t="0"+t),i=t+""+n[e]+i,r[a].count>r[e].count)for(t=r[e].count;t<r[a].count;t++)e=r[e].nextInterval,"ss"==e||"mm"==e||"hh"==e?i="00"+n[e]+i:"DD"==e&&(i="0"+n[e]+i);return":"==i.charAt(i.length-1)&&(i=i.substring(0,i.length-1)),i},AmCharts.formatNumber=function(t,e,i,n,a){t=AmCharts.roundTo(t,e.precision),isNaN(i)&&(i=e.precision);var o=e.decimalSeparator;e=e.thousandsSeparator;var r;r=0>t?"-":"",t=Math.abs(t);var s=String(t),l=!1;-1!=s.indexOf("e")&&(l=!0),i>=0&&!l&&(s=AmCharts.toFixed(t,i));var h="";if(l)h=s;else{var c,s=s.split("."),l=String(s[0]);for(c=l.length;c>=0;c-=3)h=c!=l.length?0!==c?l.substring(c-3,c)+e+h:l.substring(c-3,c)+h:l.substring(c-3,c);void 0!==s[1]&&(h=h+o+s[1]),void 0!==i&&i>0&&"0"!=h&&(h=AmCharts.addZeroes(h,o,i))}return h=r+h,""===r&&!0===n&&0!==t&&(h="+"+h),!0===a&&(h+="%"),h},AmCharts.addZeroes=function(t,e,i){return t=t.split(e),void 0===t[1]&&i>0&&(t[1]="0"),t[1].length<i?(t[1]+="0",AmCharts.addZeroes(t[0]+e+t[1],e,i)):void 0!==t[1]?t[0]+e+t[1]:t[0]},AmCharts.scientificToNormal=function(t){var e;t=String(t).split("e");var i;if("-"==t[1].substr(0,1)){for(e="0.",i=0;i<Math.abs(Number(t[1]))-1;i++)e+="0";e+=t[0].split(".").join("")}else{var n=0;for(e=t[0].split("."),e[1]&&(n=e[1].length),e=t[0].split(".").join(""),i=0;i<Math.abs(Number(t[1]))-n;i++)e+="0"}return e},AmCharts.toScientific=function(t,e){if(0===t)return"0";var i=Math.floor(Math.log(Math.abs(t))*Math.LOG10E);return Math.pow(10,i),mantissa=String(mantissa).split(".").join(e),String(mantissa)+"e"+i},AmCharts.randomColor=function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6)},AmCharts.hitTest=function(t,e,i){var n=!1,a=t.x,o=t.x+t.width,r=t.y,s=t.y+t.height,l=AmCharts.isInRectangle;return n||(n=l(a,r,e)),n||(n=l(a,s,e)),n||(n=l(o,r,e)),n||(n=l(o,s,e)),n||!0===i||(n=AmCharts.hitTest(e,t,!0)),n},AmCharts.isInRectangle=function(t,e,i){return t>=i.x-5&&t<=i.x+i.width+5&&e>=i.y-5&&e<=i.y+i.height+5?!0:!1},AmCharts.isPercents=function(t){return-1!=String(t).indexOf("%")?!0:void 0},AmCharts.findPosX=function(t){var e=t,i=t.offsetLeft;if(t.offsetParent){for(;t=t.offsetParent;)i+=t.offsetLeft;for(;(e=e.parentNode)&&e!=document.body;)i-=e.scrollLeft||0}return i},AmCharts.findPosY=function(t){var e=t,i=t.offsetTop;if(t.offsetParent){for(;t=t.offsetParent;)i+=t.offsetTop;for(;(e=e.parentNode)&&e!=document.body;)i-=e.scrollTop||0}return i},AmCharts.findIfFixed=function(t){if(t.offsetParent)for(;t=t.offsetParent;)if("fixed"==AmCharts.getStyle(t,"position"))return!0;return!1},AmCharts.findIfAuto=function(t){return t.style&&"auto"==AmCharts.getStyle(t,"overflow")?!0:t.parentNode?AmCharts.findIfAuto(t.parentNode):!1},AmCharts.findScrollLeft=function(t,e){return t.scrollLeft&&(e+=t.scrollLeft),t.parentNode?AmCharts.findScrollLeft(t.parentNode,e):e},AmCharts.findScrollTop=function(t,e){return t.scrollTop&&(e+=t.scrollTop),t.parentNode?AmCharts.findScrollTop(t.parentNode,e):e},AmCharts.formatValue=function(t,e,i,n,a,o,r,s){if(e){void 0===a&&(a="");var l;for(l=0;l<i.length;l++){var h=i[l],c=e[h];void 0!==c&&(c=o?AmCharts.addPrefix(c,s,r,n):AmCharts.formatNumber(c,n),t=t.replace(new RegExp("\\[\\["+a+h+"\\]\\]","g"),c))}}return t},AmCharts.formatDataContextValue=function(t,e){if(t){var i,n=t.match(/\[\[.*?\]\]/g);for(i=0;i<n.length;i++){var a=n[i],a=a.substr(2,a.length-4);void 0!==e[a]&&(t=t.replace(new RegExp("\\[\\["+a+"\\]\\]","g"),e[a]))}}return t},AmCharts.massReplace=function(t,e){for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];void 0===n&&(n=""),t=t.replace(i,n)}return t},AmCharts.cleanFromEmpty=function(t){return t.replace(/\[\[[^\]]*\]\]/g,"")},AmCharts.addPrefix=function(t,e,i,n,a){var o,r,s,l=AmCharts.formatNumber(t,n),h="";if(0===t)return"0";if(0>t&&(h="-"),t=Math.abs(t),t>1){for(o=e.length-1;o>-1;o--)if(t>=e[o].number&&(r=t/e[o].number,s=Number(n.precision),1>s&&(s=1),i=AmCharts.roundTo(r,s),s=AmCharts.formatNumber(i,{precision:-1,decimalSeparator:n.decimalSeparator,thousandsSeparator:n.thousandsSeparator}),!a||r==i)){l=h+""+s+e[o].prefix;break}}else for(o=0;o<i.length;o++)if(t<=i[o].number){r=t/i[o].number,s=Math.abs(Math.round(Math.log(r)*Math.LOG10E)),r=AmCharts.roundTo(r,s),l=h+""+r+i[o].prefix;break}return l},AmCharts.remove=function(t){t&&t.remove()},AmCharts.recommended=function(){var t="js";return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")||swfobject&&swfobject.hasFlashPlayerVersion("8")&&(t="flash"),t},AmCharts.getEffect=function(t){return">"==t&&(t="easeOutSine"),"<"==t&&(t="easeInSine"),"elastic"==t&&(t="easeOutElastic"),t},AmCharts.getObjById=function(t,e){var i,n;for(n=0;n<t.length;n++){var a=t[n];a.id==e&&(i=a)}return i},AmCharts.applyTheme=function(t,e,i){e||(e=AmCharts.theme),e&&e[i]&&AmCharts.extend(t,e[i])},AmCharts.isString=function(t){return"string"==typeof t?!0:!1},AmCharts.extend=function(t,e,i){for(var n in e)i?t.hasOwnProperty(n)||(t[n]=e[n]):t[n]=e[n];return t},AmCharts.copyProperties=function(t,e){for(var i in t)t.hasOwnProperty(i)&&"events"!=i&&void 0!==t[i]&&"function"!=typeof t[i]&&"cname"!=i&&(e[i]=t[i])},AmCharts.processObject=function(t,e,i){return!1==t instanceof e&&(t=AmCharts.extend(new e(i),t)),t},AmCharts.fixNewLines=function(t){var e=RegExp("\\n","g");return t&&(t=t.replace(e,"<br />")),t},AmCharts.fixBrakes=function(t){if(AmCharts.isModern){var e=RegExp("<br>","g");t&&(t=t.replace(e,"\n"))}else t=AmCharts.fixNewLines(t);return t},AmCharts.deleteObject=function(t,e){if(t&&((void 0===e||null===e)&&(e=20),0!==e))if("[object Array]"===Object.prototype.toString.call(t))for(var i=0;i<t.length;i++)AmCharts.deleteObject(t[i],e-1),t[i]=null;else if(t&&!t.tagName)try{for(i in t)t[i]&&("object"==typeof t[i]&&AmCharts.deleteObject(t[i],e-1),"function"!=typeof t[i]&&(t[i]=null))}catch(n){}},AmCharts.bounce=function(t,e,i,n,a){return(e/=a)<1/2.75?7.5625*n*e*e+i:2/2.75>e?n*(7.5625*(e-=1.5/2.75)*e+.75)+i:2.5/2.75>e?n*(7.5625*(e-=2.25/2.75)*e+.9375)+i:n*(7.5625*(e-=2.625/2.75)*e+.984375)+i
},AmCharts.easeInSine=function(t,e,i,n,a){return-n*Math.cos(e/a*(Math.PI/2))+n+i},AmCharts.easeOutSine=function(t,e,i,n,a){return n*Math.sin(e/a*(Math.PI/2))+i},AmCharts.easeOutElastic=function(t,e,i,n,a){t=1.70158;var o=0,r=n;return 0===e?i:1==(e/=a)?i+n:(o||(o=.3*a),r<Math.abs(n)?(r=n,t=o/4):t=o/(2*Math.PI)*Math.asin(n/r),r*Math.pow(2,-10*e)*Math.sin(2*(e*a-t)*Math.PI/o)+n+i)},AmCharts.AxisBase=AmCharts.Class({construct:function(t){this.createEvents("clickItem","rollOverItem","rollOutItem"),this.viY=this.viX=this.y=this.x=this.dy=this.dx=0,this.axisThickness=1,this.axisColor="#000000",this.axisAlpha=1,this.gridCount=this.tickLength=5,this.gridAlpha=.15,this.gridThickness=1,this.gridColor="#000000",this.dashLength=0,this.labelFrequency=1,this.showLastLabel=this.showFirstLabel=!0,this.fillColor="#FFFFFF",this.fillAlpha=0,this.labelsEnabled=!0,this.labelRotation=0,this.autoGridCount=!0,this.valueRollOverColor="#CC0000",this.offset=0,this.guides=[],this.visible=!0,this.counter=0,this.guides=[],this.ignoreAxisWidth=this.inside=!1,this.minHorizontalGap=75,this.minVerticalGap=35,this.titleBold=!0,this.minorGridEnabled=!1,this.minorGridAlpha=.07,this.autoWrap=!1,this.titleAlign="middle",this.labelOffset=0,AmCharts.applyTheme(this,t,"AxisBase")},zoom:function(t,e){this.start=t,this.end=e,this.dataChanged=!0,this.draw()},fixAxisPosition:function(){var t=this.position;"H"==this.orientation?("left"==t&&(t="bottom"),"right"==t&&(t="top")):("bottom"==t&&(t="left"),"top"==t&&(t="right")),this.position=t},draw:function(){var t=this.chart;this.allLabels=[],this.counter=0,this.destroy(),this.fixAxisPosition(),this.labels=[];var e=t.container,i=e.set();t.gridSet.push(i),this.set=i,e=e.set(),t.axesLabelsSet.push(e),this.labelsSet=e,this.axisLine=new this.axisRenderer(this),this.autoGridCount?("V"==this.orientation?(t=this.height/this.minVerticalGap,3>t&&(t=3)):t=this.width/this.minHorizontalGap,this.gridCountR=Math.max(t,1)):this.gridCountR=this.gridCount,this.axisWidth=this.axisLine.axisWidth,this.addTitle()},setOrientation:function(t){this.orientation=t?"H":"V"},addTitle:function(){var t=this.title;if(t){var e=this.chart,i=this.titleColor;void 0===i&&(i=e.color);var n=this.titleFontSize;isNaN(n)&&(n=e.fontSize+1),this.titleLabel=AmCharts.text(e.container,t,i,e.fontFamily,n,this.titleAlign,this.titleBold)}},positionTitle:function(){var t=this.titleLabel;if(t){var e,i,n=this.labelsSet,a={};0<n.length()?a=n.getBBox():(a.x=0,a.y=0,a.width=this.viW,a.height=this.viH),n.push(t);var n=a.x,o=a.y;AmCharts.VML&&(this.rotate?n-=this.x:o-=this.y);var r=a.width,a=a.height,s=this.viW,l=this.viH,h=0,c=t.getBBox().height/2,u=this.inside,d=this.titleAlign;switch(this.position){case"top":e="left"==d?-1:"right"==d?s:s/2,i=o-10-c;break;case"bottom":e="left"==d?-1:"right"==d?s:s/2,i=o+a+10+c;break;case"left":e=n-10-c,u&&(e-=5),i="left"==d?l+1:"right"==d?-1:l/2,h=-90;break;case"right":e=n+r+10+c-3,u&&(e+=7),i="left"==d?l+2:"right"==d?-2:l/2,h=-90}this.marginsChanged?(t.translate(e,i),this.tx=e,this.ty=i):t.translate(this.tx,this.ty),this.marginsChanged=!1,0!==h&&t.rotate(h)}},pushAxisItem:function(t,e){var i=this,n=t.graphics();0<n.length()&&(e?i.labelsSet.push(n):i.set.push(n)),(n=t.getLabel())&&(this.labelsSet.push(n),n.click(function(e){i.handleMouse(e,t,"clickItem")}).mouseover(function(e){i.handleMouse(e,t,"rollOverItem")}).mouseout(function(e){i.handleMouse(e,t,"rollOutItem")}))},handleMouse:function(t,e,i){this.fire(i,{type:i,value:e.value,serialDataItem:e.serialDataItem,axis:this,target:e.label,chart:this.chart,event:t})},addGuide:function(t){for(var e=this.guides,i=!1,n=0;n<e.length;n++)e[n]==t&&(i=!0);i||e.push(t)},removeGuide:function(t){var e,i=this.guides;for(e=0;e<i.length;e++)i[e]==t&&i.splice(e,1)},handleGuideOver:function(t){clearTimeout(this.chart.hoverInt);var e=t.graphics.getBBox(),i=e.x+e.width/2,e=e.y+e.height/2,n=t.fillColor;void 0===n&&(n=t.lineColor),this.chart.showBalloon(t.balloonText,n,!0,i,e)},handleGuideOut:function(){this.chart.hideBalloon()},addEventListeners:function(t,e){var i=this;t.mouseover(function(){i.handleGuideOver(e)}),t.mouseout(function(){i.handleGuideOut(e)})},getBBox:function(){var t=this.labelsSet.getBBox();return AmCharts.VML||(t={x:t.x+this.x,y:t.y+this.y,width:t.width,height:t.height}),t},destroy:function(){AmCharts.remove(this.set),AmCharts.remove(this.labelsSet);var t=this.axisLine;t&&AmCharts.remove(t.set),AmCharts.remove(this.grid0)}}),AmCharts.ValueAxis=AmCharts.Class({inherits:AmCharts.AxisBase,construct:function(t){this.cname="ValueAxis",this.createEvents("axisChanged","logarithmicAxisFailed","axisSelfZoomed","axisZoomed"),AmCharts.ValueAxis.base.construct.call(this,t),this.dataChanged=!0,this.stackType="none",this.position="left",this.unitPosition="right",this.recalculateToPercents=this.includeHidden=this.includeGuidesInMinMax=this.integersOnly=!1,this.durationUnits={DD:"d. ",hh:":",mm:":",ss:""},this.scrollbar=!1,this.baseValue=0,this.radarCategoriesEnabled=!0,this.gridType="polygons",this.useScientificNotation=!1,this.axisTitleOffset=10,this.minMaxMultiplier=1,this.logGridLimit=2,AmCharts.applyTheme(this,t,this.cname)},updateData:function(){0>=this.gridCountR&&(this.gridCountR=1),this.totals=[],this.data=this.chart.chartData;var t=this.chart;"xy"!=t.type&&(this.stackGraphs("smoothedLine"),this.stackGraphs("line"),this.stackGraphs("column"),this.stackGraphs("step")),this.recalculateToPercents&&this.recalculate(),this.synchronizationMultiplier&&this.synchronizeWith?(AmCharts.isString(this.synchronizeWith)&&(this.synchronizeWith=t.getValueAxisById(this.synchronizeWith)),this.synchronizeWith&&(this.synchronizeWithAxis(this.synchronizeWith),this.foundGraphs=!0)):(this.foundGraphs=!1,this.getMinMax())},draw:function(){AmCharts.ValueAxis.base.draw.call(this);var t=this.chart,e=this.set;if("duration"==this.type&&(this.duration="ss"),!0===this.dataChanged&&(this.updateData(),this.dataChanged=!1),this.logarithmic&&(0>=this.getMin(0,this.data.length-1)||0>=this.minimum))this.fire("logarithmicAxisFailed",{type:"logarithmicAxisFailed",chart:t});else{this.grid0=null;var i,n,a=t.dx,o=t.dy,r=!1,s=this.logarithmic;if(isNaN(this.min)||isNaN(this.max)||!this.foundGraphs||1/0==this.min||-1/0==this.max)r=!0;else{var l,h=this.labelFrequency,c=this.showFirstLabel,u=this.showLastLabel,d=1,f=0,m=Math.round((this.max-this.min)/this.step)+1;!0===s?(l=Math.log(this.max)*Math.LOG10E-Math.log(this.minReal)*Math.LOG10E,this.stepWidth=this.axisWidth/l,l>this.logGridLimit&&(m=Math.ceil(Math.log(this.max)*Math.LOG10E)+1,f=Math.round(Math.log(this.minReal)*Math.LOG10E),m>this.gridCountR&&(d=Math.ceil(m/this.gridCountR)))):this.stepWidth=this.axisWidth/(this.max-this.min);var p=0;1>this.step&&-1<this.step&&(p=AmCharts.getDecimals(this.step)),this.integersOnly&&(p=0),p>this.maxDecCount&&(p=this.maxDecCount);var g=this.precision;isNaN(g)||(p=g),this.max=AmCharts.roundTo(this.max,this.maxDecCount),this.min=AmCharts.roundTo(this.min,this.maxDecCount);var v={};v.precision=p,v.decimalSeparator=t.nf.decimalSeparator,v.thousandsSeparator=t.nf.thousandsSeparator,this.numberFormatter=v;var C,E=this.guides,b=E.length;if(b>0){for(i=this.fillAlpha,n=this.fillAlpha=0;b>n;n++){var T=E[n],y=0/0,D=T.above;isNaN(T.toValue)||(y=this.getCoordinate(T.toValue),C=new this.axisItemRenderer(this,y,"",!0,0/0,0/0,T),this.pushAxisItem(C,D));var O=0/0;isNaN(T.value)||(O=this.getCoordinate(T.value),C=new this.axisItemRenderer(this,O,T.label,!0,0/0,(y-O)/2,T),this.pushAxisItem(C,D)),isNaN(y-O)||(C=new this.guideFillRenderer(this,O,y,T),this.pushAxisItem(C,D),C=C.graphics(),T.graphics=C,T.balloonText&&this.addEventListeners(C,T))}this.fillAlpha=i}for(E=!1,n=f;m>n;n+=d)b=AmCharts.roundTo(this.step*n+this.min,p),-1!=String(b).indexOf("e")&&(E=!0,String(b).split("e"));this.duration&&(this.maxInterval=AmCharts.getMaxInterval(this.max,this.duration));var I,p=this.step,b=this.minorGridAlpha;for(this.minorGridEnabled&&(I=this.getMinorGridStep(p,this.stepWidth*p)),n=f;m>n;n+=d)if(f=p*n+this.min,s&&this.max-this.min>5*this.min&&(f-=this.min),f=AmCharts.roundTo(f,this.maxDecCount+1),!(this.integersOnly&&Math.round(f)!=f||!isNaN(g)&&Number(AmCharts.toFixed(f,g))!=f)){if(!0===s&&(0===f&&(f=this.minReal),l>this.logGridLimit&&(f=Math.pow(10,n)),E=-1!=String(f).indexOf("e")?!0:!1),this.useScientificNotation&&(E=!0),this.usePrefixes&&(E=!1),E?(C=-1==String(f).indexOf("e")?f.toExponential(15):String(f),i=C.split("e"),C=Number(i[0]),i=Number(i[1]),C=AmCharts.roundTo(C,14),10==C&&(C=1,i+=1),C=C+"e"+i,0===f&&(C="0"),1==f&&(C="1")):(s&&(C=String(f).split("."),C[1]?(v.precision=C[1].length,0>n&&(v.precision=Math.abs(n))):v.precision=-1),C=this.usePrefixes?AmCharts.addPrefix(f,t.prefixesOfBigNumbers,t.prefixesOfSmallNumbers,v,!0):AmCharts.formatNumber(f,v,v.precision)),this.duration&&(C=AmCharts.formatDuration(f,this.duration,"",this.durationUnits,this.maxInterval,v)),this.recalculateToPercents?C+="%":(i=this.unit)&&(C="left"==this.unitPosition?i+C:C+i),Math.round(n/h)!=n/h&&(C=void 0),(0===n&&!c||n==m-1&&!u)&&(C=" "),i=this.getCoordinate(f),this.labelFunction&&(C=this.labelFunction(f,C,this).toString()),C=new this.axisItemRenderer(this,i,C,void 0,void 0,void 0,void 0,this.boldLabels),this.pushAxisItem(C),f==this.baseValue&&"radar"!=t.type){var R,x,D=this.viW,y=this.viH;C=this.viX,T=this.viY,"H"==this.orientation?i>=0&&D+1>=i&&(R=[i,i,i+a],x=[y,0,o]):i>=0&&y+1>=i&&(R=[0,D,D+a],x=[i,i,i+o]),R&&(i=AmCharts.fitToBounds(2*this.gridAlpha,0,1),i=AmCharts.line(t.container,R,x,this.gridColor,i,1,this.dashLength),i.translate(C,T),this.grid0=i,t.axesSet.push(i),i.toBack())}if(!isNaN(I)&&b>0&&m-1>n){for(C=this.gridAlpha,this.gridAlpha=this.minorGridAlpha,i=1;p/I>i;i++)T=this.getCoordinate(f+I*i),T=new this.axisItemRenderer(this,T,"",!1,0,0,!1,!1,0,!0),this.pushAxisItem(T);this.gridAlpha=C}}n=this.baseValue,this.min>this.baseValue&&this.max>this.baseValue&&(n=this.min),this.min<this.baseValue&&this.max<this.baseValue&&(n=this.max),s&&n<this.minReal&&(n=this.minReal),this.baseCoord=this.getCoordinate(n),n={type:"axisChanged",target:this,chart:t},n.min=s?this.minReal:this.min,n.max=this.max,this.fire("axisChanged",n),this.axisCreated=!0}s=this.axisLine.set,n=this.labelsSet,this.positionTitle(),"radar"!=t.type?(t=this.viX,a=this.viY,e.translate(t,a),n.translate(t,a)):s.toFront(),!this.visible||r?(e.hide(),s.hide(),n.hide()):(e.show(),s.show(),n.show()),this.axisY=this.y-this.viY,this.axisX=this.x-this.viX}},getMinorGridStep:function(t,e){var i=[5,4,2];60>e&&i.shift();for(var n=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),a=0;a<i.length;a++){var o=t/i[a],r=Math.floor(Math.log(Math.abs(o))*Math.LOG10E);if(!(0<Math.abs(n-r)))if(1>t){if(r=Math.pow(10,-r)*o,r==Math.round(r))return o}else if(o==Math.round(o))return o}},stackGraphs:function(t){var e=this.stackType;"stacked"==e&&(e="regular"),"line"==e&&(e="none"),"100% stacked"==e&&(e="100%"),this.stackType=e;var i,n,a,o,r,s=[],l=[],h=[],c=[],u=this.chart.graphs,d=this.baseValue,f=!1;if(("line"==t||"step"==t||"smoothedLine"==t)&&(f=!0),f&&("regular"==e||"100%"==e))for(r=0;r<u.length;r++)o=u[r],o.hidden||(a=o.type,o.chart==this.chart&&o.valueAxis==this&&t==a&&o.stackable&&(n&&(o.stackGraph=n),n=o));for(n=this.start;n<=this.end;n++){var m=0;for(r=0;r<u.length;r++)if(o=u[r],o.hidden)o.newStack&&(h[n]=0/0,l[n]=0/0);else if(a=o.type,o.chart==this.chart&&o.valueAxis==this&&t==a&&o.stackable&&(a=this.data[n].axes[this.id].graphs[o.id],i=a.values.value,!isNaN(i))){var p=AmCharts.getDecimals(i);p>m&&(m=p),isNaN(c[n])?c[n]=Math.abs(i):c[n]+=Math.abs(i),c[n]=AmCharts.roundTo(c[n],m),p=o.fillToGraph,f&&p&&(p=this.data[n].axes[this.id].graphs[p.id])&&(a.values.open=p.values.value),"regular"==e&&(f&&(isNaN(s[n])?(s[n]=i,a.values.close=i,a.values.open=this.baseValue):(a.values.close=isNaN(i)?s[n]:i+s[n],a.values.open=s[n],s[n]=a.values.close)),"column"!=t||isNaN(i)||(o.newStack&&(h[n]=0/0,l[n]=0/0),a.values.close=i,0>i?(a.values.close=i,isNaN(l[n])?a.values.open=d:(a.values.close+=l[n],a.values.open=l[n]),l[n]=a.values.close):(a.values.close=i,isNaN(h[n])?a.values.open=d:(a.values.close+=h[n],a.values.open=h[n]),h[n]=a.values.close)))}}for(n=this.start;n<=this.end;n++)for(r=0;r<u.length;r++)o=u[r],o.hidden?o.newStack&&(h[n]=0/0,l[n]=0/0):(a=o.type,o.chart==this.chart&&o.valueAxis==this&&t==a&&o.stackable&&(a=this.data[n].axes[this.id].graphs[o.id],i=a.values.value,isNaN(i)||(s=i/c[n]*100,a.values.percents=s,a.values.total=c[n],o.newStack&&(h[n]=0/0,l[n]=0/0),"100%"==e&&(isNaN(l[n])&&(l[n]=0),isNaN(h[n])&&(h[n]=0),0>s?(a.values.close=AmCharts.fitToBounds(s+l[n],-100,100),a.values.open=l[n],l[n]=a.values.close):(a.values.close=AmCharts.fitToBounds(s+h[n],-100,100),a.values.open=h[n],h[n]=a.values.close)))))},recalculate:function(){var t,e=this.chart,i=e.graphs;for(t=0;t<i.length;t++){var n=i[t];if(n.valueAxis==this){var a="value";("candlestick"==n.type||"ohlc"==n.type)&&(a="open");var o,r,s=this.end+2,s=AmCharts.fitToBounds(this.end+1,0,this.data.length-1),l=this.start;l>0&&l--;var h;if(r=this.start,n.compareFromStart&&(r=0),!isNaN(e.startTime)&&(h=e.categoryAxis)){minDuration=h.minDuration();var c=new Date(e.startTime+minDuration/2),u=AmCharts.resetDateToMin(new Date(e.startTime),h.minPeriod).getTime();AmCharts.resetDateToMin(new Date(c),h.minPeriod).getTime()>u&&r++}for((h=e.recalculateFromDate)&&(e.dataDateFormat&&(h=AmCharts.stringToDate(h,e.dataDateFormat)),r=e.getClosestIndex(e.chartData,"time",h.getTime(),!0,0,e.chartData.length),s=e.chartData.length-1),h=r;s>=h&&(r=this.data[h].axes[this.id].graphs[n.id],o=r.values[a],isNaN(o));h++);for(this.recBaseValue=o,a=l;s>=a;a++){r=this.data[a].axes[this.id].graphs[n.id],r.percents={};var d,l=r.values;for(d in l)r.percents[d]="percents"!=d?l[d]/o*100-100:l[d]}}}},getMinMax:function(){var t,e=!1,i=this.chart,n=i.graphs;for(t=0;t<n.length;t++){var a=n[t].type;("line"==a||"step"==a||"smoothedLine"==a)&&this.expandMinMax&&(e=!0)}if(e&&(0<this.start&&this.start--,this.end<this.data.length-1&&this.end++),"serial"==i.type&&(!0!==i.categoryAxis.parseDates||e||this.end<this.data.length-1&&this.end++),e=this.minMaxMultiplier,this.min=this.getMin(this.start,this.end),this.max=this.getMax(),e=(this.max-this.min)*(e-1),this.min-=e,this.max+=e,e=this.guides.length,this.includeGuidesInMinMax&&e>0)for(i=0;e>i;i++)n=this.guides[i],n.toValue<this.min&&(this.min=n.toValue),n.value<this.min&&(this.min=n.value),n.toValue>this.max&&(this.max=n.toValue),n.value>this.max&&(this.max=n.value);isNaN(this.minimum)||(this.min=this.minimum),isNaN(this.maximum)||(this.max=this.maximum),this.min>this.max&&(e=this.max,this.max=this.min,this.min=e),isNaN(this.minTemp)||(this.min=this.minTemp),isNaN(this.maxTemp)||(this.max=this.maxTemp),this.minReal=this.min,this.maxReal=this.max,0===this.min&&0===this.max&&(this.max=9),this.min>this.max&&(this.min=this.max-1),e=this.min,i=this.max,n=this.max-this.min,t=0===n?Math.pow(10,Math.floor(Math.log(Math.abs(this.max))*Math.LOG10E))/10:Math.pow(10,Math.floor(Math.log(Math.abs(n))*Math.LOG10E))/10,isNaN(this.maximum)&&isNaN(this.maxTemp)&&(this.max=Math.ceil(this.max/t)*t+t),isNaN(this.minimum)&&isNaN(this.minTemp)&&(this.min=Math.floor(this.min/t)*t-t),0>this.min&&e>=0&&(this.min=0),0<this.max&&0>=i&&(this.max=0),"100%"==this.stackType&&(this.min=0>this.min?-100:0,this.max=0>this.max?0:100),n=this.max-this.min,t=Math.pow(10,Math.floor(Math.log(Math.abs(n))*Math.LOG10E))/10,this.step=Math.ceil(n/this.gridCountR/t)*t,n=Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E)),n=this.fixStepE(n),t=Math.ceil(this.step/n),t>5&&(t=10),5>=t&&t>2&&(t=5),this.step=Math.ceil(this.step/(n*t))*n*t,1>n?(this.maxDecCount=Math.abs(Math.log(Math.abs(n))*Math.LOG10E),this.maxDecCount=Math.round(this.maxDecCount),this.step=AmCharts.roundTo(this.step,this.maxDecCount+1)):this.maxDecCount=0,this.min=this.step*Math.floor(this.min/this.step),this.max=this.step*Math.ceil(this.max/this.step),0>this.min&&e>=0&&(this.min=0),0<this.max&&0>=i&&(this.max=0),1<this.minReal&&1<this.max-this.minReal&&(this.minReal=Math.floor(this.minReal)),n=Math.pow(10,Math.floor(Math.log(Math.abs(this.minReal))*Math.LOG10E)),0===this.min&&(this.minReal=n),0===this.min&&1<this.minReal&&(this.minReal=1),0<this.min&&0<this.minReal-this.step&&(this.minReal=this.min+this.step<this.minReal?this.min+this.step:this.min),n=Math.log(i)*Math.LOG10E-Math.log(e)*Math.LOG10E,this.logarithmic&&(n>2?(this.minReal=this.min=Math.pow(10,Math.floor(Math.log(Math.abs(e))*Math.LOG10E)),this.max=Math.pow(10,Math.ceil(Math.log(Math.abs(i))*Math.LOG10E))):(i=Math.pow(10,Math.floor(Math.log(Math.abs(this.min))*Math.LOG10E))/10,e=Math.pow(10,Math.floor(Math.log(Math.abs(e))*Math.LOG10E))/10,e>i&&(this.minReal=this.min=10*e)))},fixStepE:function(t){t=t.toExponential(0).split("e");var e=Number(t[1]);return 9==Number(t[0])&&e++,this.generateNumber(1,e)},generateNumber:function(t,e){var i,n="";i=0>e?Math.abs(e)-1:Math.abs(e);var a;for(a=0;i>a;a++)n+="0";return Number(0>e?"0."+n+String(t):String(t)+n)},getMin:function(t,e){var i,n;for(n=t;e>=n;n++){var a,o=this.data[n].axes[this.id].graphs;for(a in o)if(o.hasOwnProperty(a)){var r=this.chart.getGraphById(a);if(r.includeInMinMax&&(!r.hidden||this.includeHidden)){isNaN(i)&&(i=1/0),this.foundGraphs=!0,r=o[a].values,this.recalculateToPercents&&(r=o[a].percents);var s;if(this.minMaxField)s=r[this.minMaxField],i>s&&(i=s);else for(var l in r)r.hasOwnProperty(l)&&"percents"!=l&&"total"!=l&&(s=r[l],i>s&&(i=s))}}}return i},getMax:function(){var t,e;for(e=this.start;e<=this.end;e++){var i,n=this.data[e].axes[this.id].graphs;for(i in n)if(n.hasOwnProperty(i)){var a=this.chart.getGraphById(i);if(a.includeInMinMax&&(!a.hidden||this.includeHidden)){isNaN(t)&&(t=-1/0),this.foundGraphs=!0,a=n[i].values,this.recalculateToPercents&&(a=n[i].percents);var o;if(this.minMaxField)o=a[this.minMaxField],o>t&&(t=o);else for(var r in a)a.hasOwnProperty(r)&&"percents"!=r&&"total"!=r&&(o=a[r],o>t&&(t=o))}}}return t},dispatchZoomEvent:function(t,e){var i={type:"axisZoomed",startValue:t,endValue:e,target:this,chart:this.chart};this.fire(i.type,i)},zoomToValues:function(t,e){if(t>e){var i=e;e=t,t=i}t<this.min&&(t=this.min),e>this.max&&(e=this.max),i={type:"axisSelfZoomed"},i.chart=this.chart,i.valueAxis=this,i.multiplier=this.axisWidth/Math.abs(this.getCoordinate(e)-this.getCoordinate(t)),i.position=this.getCoordinate("V"==this.orientation?this.reversed?t:e:this.reversed?e:t),this.fire(i.type,i)},coordinateToValue:function(t){if(isNaN(t))return 0/0;var e=this.axisWidth,i=this.stepWidth,n=this.reversed,a=this.rotate,o=this.min,r=this.minReal;return!0===this.logarithmic?Math.pow(10,(a?!0===n?(e-t)/i:t/i:!0===n?t/i:(e-t)/i)+Math.log(r)*Math.LOG10E):!0===n?a?o-(t-e)/i:t/i+o:a?t/i+o:o-(t-e)/i},getCoordinate:function(t){if(isNaN(t))return 0/0;var e=this.rotate,i=this.reversed,n=this.axisWidth,a=this.stepWidth,o=this.min,r=this.minReal;return!0===this.logarithmic?(t=Math.log(t)*Math.LOG10E-Math.log(r)*Math.LOG10E,e=e?!0===i?n-a*t:a*t:!0===i?a*t:n-a*t):e=!0===i?e?n-a*(t-o):a*(t-o):e?a*(t-o):n-a*(t-o),e=this.rotate?e+(this.x-this.viX):e+(this.y-this.viY),1e7<Math.abs(e)&&(e=1e7*(e/Math.abs(e))),Math.round(e)},synchronizeWithAxis:function(t){this.synchronizeWith=t,this.listenTo(this.synchronizeWith,"axisChanged",this.handleSynchronization)},handleSynchronization:function(t){var e=this.synchronizeWith;t=e.min;var i=e.max,e=e.step,n=this.synchronizationMultiplier;n&&(this.min=t*n,this.max=i*n,this.step=e*n,t=Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E)),t=Math.abs(Math.log(Math.abs(t))*Math.LOG10E),this.maxDecCount=t=Math.round(t),this.draw())}}),AmCharts.RecAxis=AmCharts.Class({construct:function(t){var e=t.chart,i=t.axisThickness,n=t.axisColor,a=t.axisAlpha,o=t.offset,r=t.dx,s=t.dy,l=t.viX,h=t.viY,c=t.viH,u=t.viW,d=e.container;"H"==t.orientation?(n=AmCharts.line(d,[0,u],[0,0],n,a,i),this.axisWidth=t.width,"bottom"==t.position?(t=i/2+o+c+h-1,i=l):(t=-i/2-o+h+s,i=r+l)):(this.axisWidth=t.height,"right"==t.position?(n=AmCharts.line(d,[0,0,-r],[0,c,c-s],n,a,i),t=h+s,i=i/2+o+r+u+l-1):(n=AmCharts.line(d,[0,0],[0,c],n,a,i),t=h,i=-i/2-o+l)),n.translate(i,t),e.axesSet.push(n),this.set=n}}),AmCharts.RecItem=AmCharts.Class({construct:function(t,e,i,n,a,o,r,s,l,h,c){e=Math.round(e),this.value=i,void 0==i&&(i=""),l||(l=0),void 0==n&&(n=!0);var u=t.chart.fontFamily,d=t.fontSize;void 0==d&&(d=t.chart.fontSize);var f=t.color;void 0==f&&(f=t.chart.color),void 0!==c&&(f=c);var m=t.chart.container,p=m.set();this.set=p;var g=t.axisThickness,v=t.axisColor,C=t.axisAlpha,E=t.tickLength,b=t.gridAlpha,T=t.gridThickness,y=t.gridColor,D=t.dashLength,O=t.fillColor,I=t.fillAlpha,R=t.labelsEnabled;c=t.labelRotation;var x,k,A=t.counter,w=t.inside,S=t.labelOffset,K=t.dx,_=t.dy,N=t.orientation,F=t.position,M=t.previousCoord,L=t.viH,B=t.viW,P=t.offset;r?(R=!0,isNaN(r.tickLength)||(E=r.tickLength),void 0!=r.lineColor&&(y=r.lineColor),void 0!=r.color&&(f=r.color),isNaN(r.lineAlpha)||(b=r.lineAlpha),isNaN(r.dashLength)||(D=r.dashLength),isNaN(r.lineThickness)||(T=r.lineThickness),!0===r.inside&&(w=!0),isNaN(r.labelRotation)||(c=r.labelRotation),isNaN(r.fontSize)||(d=r.fontSize),r.position&&(F=r.position),void 0!==r.boldLabel&&(s=r.boldLabel),isNaN(r.labelOffset)||(S=r.labelOffset)):""===i&&(E=0),k="start",a&&(k="middle");var $,z=c*Math.PI/180,H=0,j=0,V=0,q=$=0,G=0;"V"==N&&(c=0);var W;R&&(W=t.autoWrap&&0===c?AmCharts.wrappedText(m,i,f,u,d,k,s,a,0):AmCharts.text(m,i,f,u,d,k,s),k=W.getBBox(),q=k.width,G=k.height),"H"==N?(e>=0&&B+1>=e&&(E>0&&C>0&&B+1>=e+l&&(x=AmCharts.line(m,[e+l,e+l],[0,E],v,C,T),p.push(x)),b>0&&(k=AmCharts.line(m,[e,e+K,e+K],[L,L+_,_],y,b,T,D),p.push(k))),j=0,H=e,r&&90==c&&w&&(H-=d),!1===n?(k="start",j="bottom"==F?w?j+E:j-E:w?j-E:j+E,H+=3,a&&(H+=a/2-3,k="middle"),c>0&&(k="middle")):k="middle",1==A&&I>0&&!r&&!h&&B>M&&(n=AmCharts.fitToBounds(e,0,B),M=AmCharts.fitToBounds(M,0,B),$=n-M,$>0&&(fill=AmCharts.rect(m,$,t.height,O,I),fill.translate(n-$+K,_),p.push(fill))),"bottom"==F?(j+=L+d/2+P,w?(c>0?(j=L-q/2*Math.sin(z)-E-3,H+=q/2*Math.cos(z)-4+2):0>c?(j=L+q*Math.sin(z)-E-3+2,H+=-q*Math.cos(z)-G*Math.sin(z)-4):j-=E+d+3+3,j-=S):(c>0?(j=L+q/2*Math.sin(z)+E+3,H-=q/2*Math.cos(z)):0>c?(j=L+E+3-q/2*Math.sin(z)+2,H+=q/2*Math.cos(z)):j+=E+g+3+3,j+=S)):(j+=_+d/2-P,H+=K,w?(c>0?(j=q/2*Math.sin(z)+E+3,H-=q/2*Math.cos(z)):j+=E+3,j+=S):(c>0?(j=-(q/2)*Math.sin(z)-E-6,H+=q/2*Math.cos(z)):j-=E+d+3+g+3,j-=S)),"bottom"==F?$=(w?L-E-1:L+g-1)+P:(V=K,$=(w?_:_-E-g+1)-P),o&&(H+=o),o=H,c>0&&(o+=q/2*Math.cos(z)),W&&(d=0,w&&(d=q/2*Math.cos(z)),o+d>B+2||0>o)&&(W.remove(),W=null)):(e>=0&&L+1>=e&&(E>0&&C>0&&L+1>=e+l&&(x=AmCharts.line(m,[0,E],[e+l,e+l],v,C,T),p.push(x)),b>0&&(k=AmCharts.line(m,[0,K,B+K],[e,e+_,e+_],y,b,T,D),p.push(k))),k="end",(!0===w&&"left"==F||!1===w&&"right"==F)&&(k="start"),j=e-d/2,1==A&&I>0&&!r&&!h&&(n=AmCharts.fitToBounds(e,0,L),M=AmCharts.fitToBounds(M,0,L),z=n-M,fill=AmCharts.polygon(m,[0,t.width,t.width,0],[0,0,z,z],O,I),fill.translate(K,n-z+_),p.push(fill)),j+=d/2,"right"==F?(H+=K+B+P,j+=_,w?(o||(j-=d/2+3),H=H-(E+4)-S):(H+=E+4+g,j-=2,H+=S)):w?(H+=E+4-P,o||(j-=d/2+3),r&&(H+=K,j+=_),H+=S):(H+=-E-g-4-2-P,j-=2,H-=S),x&&("right"==F?(V+=K+P+B,$+=_,V=w?V-g:V+g):(V-=P,w||(V-=E+g))),o&&(j+=o),w=-3,"right"==F&&(w+=_),W&&(j>L+1||w>j)&&(W.remove(),W=null)),x&&x.translate(V,$),!1===t.visible&&(x&&x.remove(),W&&(W.remove(),W=null)),W&&(W.attr({"text-anchor":k}),W.translate(H,j),0!==c&&W.rotate(-c,t.chart.backgroundColor),t.allLabels.push(W)," "!=i&&(this.label=W)),h||(t.counter=0===A?1:0,t.previousCoord=e),0===this.set.node.childNodes.length&&this.set.remove()},graphics:function(){return this.set},getLabel:function(){return this.label}}),AmCharts.RecFill=AmCharts.Class({construct:function(t,e,i,n){var a=t.dx,o=t.dy,r=t.orientation,s=0;if(e>i){var l=e;e=i,i=l}var h=n.fillAlpha;isNaN(h)&&(h=0),l=t.chart.container,n=n.fillColor,"V"==r?(e=AmCharts.fitToBounds(e,0,t.viH),i=AmCharts.fitToBounds(i,0,t.viH)):(e=AmCharts.fitToBounds(e,0,t.viW),i=AmCharts.fitToBounds(i,0,t.viW)),i-=e,isNaN(i)&&(i=4,s=2,h=0),0>i&&"object"==typeof n&&(n=n.join(",").split(",").reverse()),"V"==r?(t=AmCharts.rect(l,t.width,i,n,h),t.translate(a,e-s+o)):(t=AmCharts.rect(l,i,t.height,n,h),t.translate(e-s+a,o)),this.set=l.set([t])},graphics:function(){return this.set},getLabel:function(){}}),AmCharts.AmChart=AmCharts.Class({construct:function(t){this.theme=t,this.version="3.10.0C",AmCharts.addChart(this),this.createEvents("dataUpdated","init","rendered","drawn"),this.height=this.width="100%",this.dataChanged=!0,this.chartCreated=!1,this.previousWidth=this.previousHeight=0,this.backgroundColor="#FFFFFF",this.borderAlpha=this.backgroundAlpha=0,this.color=this.borderColor="#000000",this.fontFamily="Verdana",this.fontSize=11,this.usePrefixes=!1,this.precision=-1,this.percentPrecision=2,this.decimalSeparator=".",this.thousandsSeparator=",",this.labels=[],this.allLabels=[],this.titles=[],this.marginRight=this.marginLeft=this.autoMarginOffset=0,this.timeOuts=[],this.creditsPosition="top-left";var e=document.createElement("div"),i=e.style;i.overflow="hidden",i.position="relative",i.textAlign="left",this.chartDiv=e,e=document.createElement("div"),i=e.style,i.overflow="hidden",i.position="relative",i.textAlign="left",this.legendDiv=e,this.titleHeight=0,this.hideBalloonTime=150,this.handDrawScatter=2,this.handDrawThickness=1,this.prefixesOfBigNumbers=[{number:1e3,prefix:"k"},{number:1e6,prefix:"M"},{number:1e9,prefix:"G"},{number:1e12,prefix:"T"},{number:1e15,prefix:"P"},{number:1e18,prefix:"E"},{number:1e21,prefix:"Z"},{number:1e24,prefix:"Y"}],this.prefixesOfSmallNumbers=[{number:1e-24,prefix:"y"},{number:1e-21,prefix:"z"},{number:1e-18,prefix:"a"},{number:1e-15,prefix:"f"},{number:1e-12,prefix:"p"},{number:1e-9,prefix:"n"},{number:1e-6,prefix:"\u03bc"},{number:.001,prefix:"m"}],this.panEventsEnabled=!0,AmCharts.bezierX=3,AmCharts.bezierY=6,this.product="amcharts",this.animations=[],this.balloon=new AmCharts.AmBalloon(this.theme),this.balloon.chart=this,AmCharts.applyTheme(this,t,"AmChart")},drawChart:function(){this.drawBackground(),this.redrawLabels(),this.drawTitles(),this.brr()},drawBackground:function(){AmCharts.remove(this.background);var t=this.container,e=this.backgroundColor,i=this.backgroundAlpha,n=this.set;AmCharts.isModern||0!==i||(i=.001);var a=this.updateWidth();this.realWidth=a;var o=this.updateHeight();this.realHeight=o,this.background=e=AmCharts.polygon(t,[0,a-1,a-1,0],[0,0,o-1,o-1],e,i,1,this.borderColor,this.borderAlpha),n.push(e),(e=this.backgroundImage)&&(this.path&&(e=this.path+e),this.bgImg=t=t.image(e,0,0,a,o),n.push(t))},drawTitles:function(){var t=this.titles;if(AmCharts.ifArray(t)){var e,i=20;for(e=0;e<t.length;e++){var n=t[e],a=n.color;void 0===a&&(a=this.color);var o=n.size;isNaN(o)&&(o=this.fontSize+2),isNaN(n.alpha);var r=this.marginLeft,a=AmCharts.text(this.container,n.text,a,this.fontFamily,o);a.translate(r+(this.realWidth-this.marginRight-r)/2,i),r=!0,void 0!==n.bold&&(r=n.bold),r&&a.attr({"font-weight":"bold"}),a.attr({opacity:n.alpha}),i+=o+6,this.freeLabelsSet.push(a)}}},write:function(t){if(t="object"!=typeof t?document.getElementById(t):t){t.innerHTML="",this.div=t,t.style.overflow="hidden",t.style.textAlign="left";var e=this.chartDiv,i=this.legendDiv,n=this.legend,a=i.style,o=e.style;this.measure();var r,s=document.createElement("div");r=s.style,r.position="relative",this.containerDiv=s,t.appendChild(s);var l=this.exportConfig;if(l&&AmCharts.AmExport&&!this.AmExport&&(this.AmExport=new AmCharts.AmExport(this,l)),this.amExport&&AmCharts.AmExport&&(this.AmExport=AmCharts.extend(this.amExport,new AmCharts.AmExport(this),!0)),this.AmExport&&this.AmExport.init&&this.AmExport.init(),n)switch(n=this.addLegend(n,n.divId),n.position){case"bottom":s.appendChild(e),s.appendChild(i);break;case"top":s.appendChild(i),s.appendChild(e);break;case"absolute":r.width=t.style.width,r.height=t.style.height,a.position="absolute",o.position="absolute",void 0!==n.left&&(a.left=n.left+"px"),void 0!==n.right&&(a.right=n.right+"px"),void 0!==n.top&&(a.top=n.top+"px"),void 0!==n.bottom&&(a.bottom=n.bottom+"px"),n.marginLeft=0,n.marginRight=0,s.appendChild(e),s.appendChild(i);break;case"right":r.width=t.style.width,r.height=t.style.height,a.position="relative",o.position="absolute",s.appendChild(e),s.appendChild(i);break;case"left":r.width=t.style.width,r.height=t.style.height,a.position="absolute",o.position="relative",s.appendChild(e),s.appendChild(i);break;case"outside":s.appendChild(e)}else s.appendChild(e);this.listenersAdded||(this.addListeners(),this.listenersAdded=!0),this.initChart()}},createLabelsSet:function(){AmCharts.remove(this.labelsSet),this.labelsSet=this.container.set(),this.freeLabelsSet.push(this.labelsSet)},initChart:function(){AmCharts.applyLang(this.language);var t=this.numberFormatter;t&&(isNaN(t.precision)||(this.precision=t.precision),void 0!==t.thousandsSeparator&&(this.thousandsSeparator=t.thousandsSeparator),void 0!==t.decimalSeparator&&(this.decimalSeparator=t.decimalSeparator)),(t=this.percentFormatter)&&!isNaN(t.precision)&&(this.percentPrecision=t.precision),this.nf={precision:this.precision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator},this.pf={precision:this.percentPrecision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator},this.divIsFixed=AmCharts.findIfFixed(this.chartDiv),this.previousHeight=this.divRealHeight,this.previousWidth=this.divRealWidth,this.destroy(),this.startInterval(),t=0,document.attachEvent&&!window.opera&&(t=1),this.dmouseX=this.dmouseY=0;var e=document.getElementsByTagName("html")[0];e&&window.getComputedStyle&&(e=window.getComputedStyle(e,null))&&(this.dmouseY=AmCharts.removePx(e.getPropertyValue("margin-top")),this.dmouseX=AmCharts.removePx(e.getPropertyValue("margin-left"))),this.mouseMode=t,(t=this.container)?(t.container.innerHTML="",this.chartDiv.appendChild(t.container),t.setSize(this.realWidth,this.realHeight)):t=new AmCharts.AmDraw(this.chartDiv,this.realWidth,this.realHeight,this),(AmCharts.VML||AmCharts.SVG)&&(t.handDrawn=this.handDrawn,t.handDrawScatter=this.handDrawScatter,t.handDrawThickness=this.handDrawThickness,this.container=t,this.set&&this.set.remove(),this.set=t.set(),this.gridSet&&this.gridSet.remove(),this.gridSet=t.set(),this.cursorLineSet&&this.cursorLineSet.remove(),this.cursorLineSet=t.set(),this.graphsBehindSet&&this.graphsBehindSet.remove(),this.graphsBehindSet=t.set(),this.bulletBehindSet&&this.bulletBehindSet.remove(),this.bulletBehindSet=t.set(),this.columnSet&&this.columnSet.remove(),this.columnSet=t.set(),this.graphsSet&&this.graphsSet.remove(),this.graphsSet=t.set(),this.trendLinesSet&&this.trendLinesSet.remove(),this.trendLinesSet=t.set(),this.axesLabelsSet&&this.axesLabelsSet.remove(),this.axesLabelsSet=t.set(),this.axesSet&&this.axesSet.remove(),this.axesSet=t.set(),this.cursorSet&&this.cursorSet.remove(),this.cursorSet=t.set(),this.scrollbarsSet&&this.scrollbarsSet.remove(),this.scrollbarsSet=t.set(),this.bulletSet&&this.bulletSet.remove(),this.bulletSet=t.set(),this.freeLabelsSet&&this.freeLabelsSet.remove(),this.freeLabelsSet=t.set(),this.balloonsSet&&this.balloonsSet.remove(),this.balloonsSet=t.set(),this.zoomButtonSet&&this.zoomButtonSet.remove(),this.zoomButtonSet=t.set(),this.linkSet&&this.linkSet.remove(),this.linkSet=t.set(),this.renderFix())},measure:function(){var t=this.div;if(t){var e=this.chartDiv,i=t.offsetWidth,n=t.offsetHeight,a=this.container;t.clientHeight&&(i=t.clientWidth,n=t.clientHeight);var o=AmCharts.removePx(AmCharts.getStyle(t,"padding-left")),r=AmCharts.removePx(AmCharts.getStyle(t,"padding-right")),s=AmCharts.removePx(AmCharts.getStyle(t,"padding-top")),l=AmCharts.removePx(AmCharts.getStyle(t,"padding-bottom"));isNaN(o)||(i-=o),isNaN(r)||(i-=r),isNaN(s)||(n-=s),isNaN(l)||(n-=l),o=t.style,t=o.width,o=o.height,-1!=t.indexOf("px")&&(i=AmCharts.removePx(t)),-1!=o.indexOf("px")&&(n=AmCharts.removePx(o)),t=AmCharts.toCoordinate(this.width,i),o=AmCharts.toCoordinate(this.height,n),this.balloon=AmCharts.processObject(this.balloon,AmCharts.AmBalloon,this.theme),this.balloon.chart=this,(t!=this.previousWidth||o!=this.previousHeight)&&t>0&&o>0&&(e.style.width=t+"px",e.style.height=o+"px",a&&a.setSize(t,o)),this.balloon.setBounds(2,2,t-2,o),this.realWidth=t,this.realHeight=o,this.divRealWidth=i,this.divRealHeight=n}},destroy:function(){this.chartDiv.innerHTML="",this.clearTimeOuts(),this.interval&&clearInterval(this.interval),this.interval=0/0},clearTimeOuts:function(){var t=this.timeOuts;if(t){var e;for(e=0;e<t.length;e++)clearTimeout(t[e])}this.timeOuts=[]},clear:function(t){AmCharts.callMethod("clear",[this.chartScrollbar,this.scrollbarV,this.scrollbarH,this.chartCursor]),this.chartCursor=this.scrollbarH=this.scrollbarV=this.chartScrollbar=null,this.clearTimeOuts(),this.interval&&clearInterval(this.interval),this.container&&(this.container.remove(this.chartDiv),this.container.remove(this.legendDiv)),t||AmCharts.removeChart(this)
},setMouseCursor:function(t){"auto"==t&&AmCharts.isNN&&(t="default"),this.chartDiv.style.cursor=t,this.legendDiv.style.cursor=t},redrawLabels:function(){this.labels=[];var t=this.allLabels;this.createLabelsSet();var e;for(e=0;e<t.length;e++)this.drawLabel(t[e])},drawLabel:function(t){if(this.container){var e=t.y,i=t.text,n=t.align,a=t.size,o=t.color,r=t.rotation,s=t.alpha,l=t.bold,h=AmCharts.toCoordinate(t.x,this.realWidth),e=AmCharts.toCoordinate(e,this.realHeight);h||(h=0),e||(e=0),void 0===o&&(o=this.color),isNaN(a)&&(a=this.fontSize),n||(n="start"),"left"==n&&(n="start"),"right"==n&&(n="end"),"center"==n&&(n="middle",r?e=this.realHeight-e+e/2:h=this.realWidth/2-h),void 0===s&&(s=1),void 0===r&&(r=0),e+=a/2,i=AmCharts.text(this.container,i,o,this.fontFamily,a,n,l,s),i.translate(h,e),0!==r&&i.rotate(r),t.url&&(i.setAttr("cursor","pointer"),i.click(function(){AmCharts.getURL(t.url)})),this.labelsSet.push(i),this.labels.push(i)}},addLabel:function(t,e,i,n,a,o,r,s,l,h){t={x:t,y:e,text:i,align:n,size:a,color:o,alpha:s,rotation:r,bold:l,url:h},this.container&&this.drawLabel(t),this.allLabels.push(t)},clearLabels:function(){var t,e=this.labels;for(t=e.length-1;t>=0;t--)e[t].remove();this.labels=[],this.allLabels=[]},updateHeight:function(){var t=this.divRealHeight,e=this.legend;if(e){var i=this.legendDiv.offsetHeight,e=e.position;("top"==e||"bottom"==e)&&(t-=i,(0>t||isNaN(t))&&(t=0),this.chartDiv.style.height=t+"px")}return t},updateWidth:function(){var t=this.divRealWidth,e=this.divRealHeight,i=this.legend;if(i){var n=this.legendDiv,a=n.offsetWidth;isNaN(i.width)||(a=i.width);var o=n.offsetHeight,n=n.style,r=this.chartDiv.style,i=i.position;("right"==i||"left"==i)&&(t-=a,(0>t||isNaN(t))&&(t=0),r.width=t+"px","left"==i?r.left=a+"px":n.left=t+"px",n.top=(e-o)/2+"px")}return t},getTitleHeight:function(){var t=0,e=this.titles;if(0<e.length){var i,t=15;for(i=0;i<e.length;i++){var n=e[i].size;isNaN(n)&&(n=this.fontSize+2),t+=n+6}}return t},addTitle:function(t,e,i,n,a){return isNaN(e)&&(e=this.fontSize+2),t={text:t,size:e,color:i,alpha:n,bold:a},this.titles.push(t),t},addMouseWheel:function(){var t=this;window.addEventListener&&!t.wheelAdded&&(window.addEventListener("DOMMouseScroll",function(e){t.handleWheel.call(t,e)},!1),document.addEventListener("mousewheel",function(e){t.handleWheel.call(t,e)},!1),t.wheelAdded=!0)},handleWheel:function(t){if(this.mouseIsOver){var e=0;t||(t=window.event),t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),e&&this.handleWheelReal(e,t.shiftKey),t.preventDefault&&t.preventDefault()}},handleWheelReal:function(){},addListeners:function(){var t=this,e=t.chartDiv;document.addEventListener?(t.panEventsEnabled&&"ontouchstart"in document.documentElement&&(e.addEventListener("touchstart",function(e){t.handleTouchMove.call(t,e),t.handleTouchStart.call(t,e)},!0),e.addEventListener("touchmove",function(e){t.handleTouchMove.call(t,e)},!0),e.addEventListener("touchend",function(e){t.handleTouchEnd.call(t,e)},!0)),e.addEventListener("mousedown",function(e){t.handleMouseDown.call(t,e)},!0),e.addEventListener("mouseover",function(e){t.handleMouseOver.call(t,e)},!0),e.addEventListener("mouseout",function(e){t.handleMouseOut.call(t,e)},!0)):(e.attachEvent("onmousedown",function(e){t.handleMouseDown.call(t,e)}),e.attachEvent("onmouseover",function(e){t.handleMouseOver.call(t,e)}),e.attachEvent("onmouseout",function(e){t.handleMouseOut.call(t,e)}))},dispDUpd:function(){var t;this.dispatchDataUpdated&&(this.dispatchDataUpdated=!1,t="dataUpdated",this.fire(t,{type:t,chart:this})),this.chartCreated||(t="init",this.fire(t,{type:t,chart:this})),this.chartRendered||(t="rendered",this.fire(t,{type:t,chart:this}),this.chartRendered=!0),t="drawn",this.fire(t,{type:t,chart:this})},validateSize:function(){var t=this;t.measure();var e=t.legend;if((t.realWidth!=t.previousWidth||t.realHeight!=t.previousHeight)&&0<t.realWidth&&0<t.realHeight){if(t.sizeChanged=!0,e){clearTimeout(t.legendInitTO);var i=setTimeout(function(){e.invalidateSize()},100);t.timeOuts.push(i),t.legendInitTO=i}t.marginsUpdated="xy"!=t.type?!1:!0,clearTimeout(t.initTO),i=setTimeout(function(){t.initChart()},150),t.timeOuts.push(i),t.initTO=i}t.renderFix(),e&&e.renderFix()},invalidateSize:function(){this.previousHeight=this.previousWidth=0/0,this.invalidateSizeReal()},invalidateSizeReal:function(){var t=this;t.marginsUpdated=!1,clearTimeout(t.validateTO);var e=setTimeout(function(){t.validateSize()},5);t.timeOuts.push(e),t.validateTO=e},validateData:function(t){this.chartCreated&&(this.dataChanged=!0,this.marginsUpdated="xy"!=this.type?!1:!0,this.initChart(t))},validateNow:function(){this.chartRendered=this.listenersAdded=!1,this.write(this.div)},showItem:function(t){t.hidden=!1,this.initChart()},hideItem:function(t){t.hidden=!0,this.initChart()},hideBalloon:function(){var t=this;clearInterval(t.hoverInt),clearTimeout(t.balloonTO),t.hoverInt=setTimeout(function(){t.hideBalloonReal.call(t)},t.hideBalloonTime)},cleanChart:function(){},hideBalloonReal:function(){var t=this.balloon;t&&t.hide()},showBalloon:function(t,e,i,n,a){var o=this;clearTimeout(o.balloonTO),clearInterval(o.hoverInt),o.balloonTO=setTimeout(function(){o.showBalloonReal.call(o,t,e,i,n,a)},1)},showBalloonReal:function(t,e,i,n,a){this.handleMouseMove();var o=this.balloon;o.enabled&&(o.followCursor(!1),o.changeColor(e),!i||o.fixedPosition?(o.setPosition(n,a),o.followCursor(!1)):o.followCursor(!0),t&&o.showBalloon(t))},handleTouchMove:function(t){this.hideBalloon();var e=this.chartDiv;t.touches&&(t=t.touches.item(0),this.mouseX=t.pageX-AmCharts.findPosX(e),this.mouseY=t.pageY-AmCharts.findPosY(e))},handleMouseOver:function(){AmCharts.resetMouseOver(),this.mouseIsOver=!0},handleMouseOut:function(){AmCharts.resetMouseOver(),this.mouseIsOver=!1},handleMouseMove:function(t){if(this.mouseIsOver){var e=this.chartDiv;t||(t=window.event);var i,n;if(t){switch(this.posX=AmCharts.findPosX(e),this.posY=AmCharts.findPosY(e),this.mouseMode){case 1:if(i=t.clientX-this.posX,n=t.clientY-this.posY,!this.divIsFixed){var a,o,e=document.body;e&&(a=e.scrollLeft,y1=e.scrollTop),(e=document.documentElement)&&(o=e.scrollLeft,y2=e.scrollTop),a=Math.max(a,o),o=Math.max(y1,y2),i+=a,n+=o}break;case 0:this.divIsFixed?(i=t.clientX-this.posX,n=t.clientY-this.posY):(i=t.pageX-this.posX,n=t.pageY-this.posY)}t.touches&&(t=t.touches.item(0),i=t.pageX-this.posX,n=t.pageY-this.posY),this.mouseX=i-this.dmouseX,this.mouseY=n-this.dmouseY}}},handleTouchStart:function(t){this.handleMouseDown(t)},handleTouchEnd:function(t){AmCharts.resetMouseOver(),this.handleReleaseOutside(t)},handleReleaseOutside:function(){},handleMouseDown:function(t){AmCharts.resetMouseOver(),this.mouseIsOver=!0,t&&t.preventDefault&&t.preventDefault()},addLegend:function(t,e){t=AmCharts.processObject(t,AmCharts.AmLegend,this.theme),t.divId=e;var i;return i="object"!=typeof e&&e?document.getElementById(e):e,this.legend=t,t.chart=this,i?(t.div=i,t.position="outside",t.autoMargins=!1):t.div=this.legendDiv,i=this.handleLegendEvent,this.listenTo(t,"showItem",i),this.listenTo(t,"hideItem",i),this.listenTo(t,"clickMarker",i),this.listenTo(t,"rollOverItem",i),this.listenTo(t,"rollOutItem",i),this.listenTo(t,"rollOverMarker",i),this.listenTo(t,"rollOutMarker",i),this.listenTo(t,"clickLabel",i),t},removeLegend:function(){this.legend=void 0,this.legendDiv.innerHTML=""},handleResize:function(){(AmCharts.isPercents(this.width)||AmCharts.isPercents(this.height))&&this.invalidateSizeReal(),this.renderFix()},renderFix:function(){if(!AmCharts.VML){var t=this.container;t&&t.renderFix()}},getSVG:function(){return AmCharts.hasSVG?this.container:void 0},animate:function(t,e,i,n,a,o,r){return t["an_"+e]&&AmCharts.removeFromArray(this.animations,t["an_"+e]),i={obj:t,frame:0,attribute:e,from:i,to:n,time:a,effect:o,suffix:r},t["an_"+e]=i,this.animations.push(i),i},setLegendData:function(t){var e=this.legend;e&&e.setData(t)},startInterval:function(){var t=this;clearInterval(t.interval),t.interval=setInterval(function(){t.updateAnimations.call(t)},AmCharts.updateRate)},stopAnim:function(t){AmCharts.removeFromArray(this.animations,t)},updateAnimations:function(){var t;for(this.container&&this.container.update(),t=this.animations.length-1;t>=0;t--){var e=this.animations[t],i=1e3*e.time/AmCharts.updateRate,n=e.frame+1,a=e.obj,o=e.attribute;if(i>=n){e.frame++;var r=Number(e.from),s=Number(e.to)-r,i=AmCharts[e.effect](0,n,r,s,i);0===s?(this.animations.splice(t,1),a.node.style[o]=Number(e.to)+e.suffix):a.node.style[o]=i+e.suffix}else a.node.style[o]=Number(e.to)+e.suffix,this.animations.splice(t,1)}},inIframe:function(){try{return window.self!==window.top}catch(t){return!0}},brr:function(){}}),AmCharts.Slice=AmCharts.Class({construct:function(){}}),AmCharts.SerialDataItem=AmCharts.Class({construct:function(){}}),AmCharts.GraphDataItem=AmCharts.Class({construct:function(){}}),AmCharts.Guide=AmCharts.Class({construct:function(t){this.cname="Guide",AmCharts.applyTheme(this,t,this.cname)}}),AmCharts.AmGraph=AmCharts.Class({construct:function(t){this.cname="AmGraph",this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph"),this.type="line",this.stackable=!0,this.columnCount=1,this.columnIndex=0,this.centerCustomBullets=this.showBalloon=!0,this.maxBulletSize=50,this.minBulletSize=4,this.balloonText="[[value]]",this.hidden=this.scrollbar=this.animationPlayed=!1,this.pointPosition="middle",this.depthCount=1,this.includeInMinMax=!0,this.negativeBase=0,this.visibleInLegend=!0,this.showAllValueLabels=!1,this.showBulletsAt=this.showBalloonAt="close",this.lineThickness=1,this.dashLength=0,this.connect=!0,this.lineAlpha=1,this.bullet="none",this.bulletBorderThickness=2,this.bulletBorderAlpha=0,this.bulletAlpha=1,this.bulletSize=8,this.hideBulletsCount=this.bulletOffset=0,this.labelPosition="top",this.cornerRadiusTop=0,this.cursorBulletAlpha=1,this.gradientOrientation="vertical",this.dy=this.dx=0,this.periodValue="",this.clustered=!0,this.periodSpan=1,this.y=this.x=0,this.switchable=!0,this.tcc=this.minDistance=1,AmCharts.applyTheme(this,t,this.cname)},draw:function(){var t=this.chart;isNaN(this.precision)||(this.numberFormatter?this.numberFormatter.precision=this.precision:this.numberFormatter={precision:this.precision,decimalSeparator:t.decimalSeparator,thousandsSeparator:t.thousandsSeparator});var e=t.container;this.container=e,this.destroy();var i=e.set(),n=e.set();this.behindColumns?(t.graphsBehindSet.push(i),t.bulletBehindSet.push(n)):(t.graphsSet.push(i),t.bulletSet.push(n));var a=this.bulletAxis;AmCharts.isString(a)&&(this.bulletAxis=t.getValueAxisById(a)),this.bulletSet=n,this.scrollbar||(a=t.marginLeftReal,t=t.marginTopReal,i.translate(a,t),n.translate(a,t)),e=e.set(),AmCharts.remove(this.columnsSet),i.push(e),this.set=i,this.columnsSet=e,this.columnsArray=[],this.ownColumns=[],this.allBullets=[],this.animationArray=[],AmCharts.ifArray(this.data)&&(i=!1,"xy"==this.chart.type?this.xAxis.axisCreated&&this.yAxis.axisCreated&&(i=!0):this.valueAxis.axisCreated&&(i=!0),!this.hidden&&i&&this.createGraph())},createGraph:function(){var t=this,e=t.chart;if("inside"==t.labelPosition&&"column"!=t.type&&(t.labelPosition="bottom"),t.startAlpha=e.startAlpha,t.seqAn=e.sequencedAnimation,t.baseCoord=t.valueAxis.baseCoord,void 0===t.fillAlphas&&(t.fillAlphas=0),t.bulletColorR=t.bulletColor,void 0===t.bulletColorR&&(t.bulletColorR=t.lineColorR,t.bulletColorNegative=t.negativeLineColor),void 0===t.bulletAlpha&&(t.bulletAlpha=t.lineAlpha),clearTimeout(t.playedTO),!isNaN(t.valueAxis.min)&&!isNaN(t.valueAxis.max)){switch(e.type){case"serial":t.categoryAxis&&(t.createSerialGraph(),"candlestick"==t.type&&1>t.valueAxis.minMaxMultiplier&&t.positiveClip(t.set));break;case"radar":t.createRadarGraph();break;case"xy":t.createXYGraph(),t.positiveClip(t.set)}t.playedTO=setTimeout(function(){t.setAnimationPlayed.call(t)},500*t.chart.startDuration)}},setAnimationPlayed:function(){this.animationPlayed=!0},createXYGraph:function(){var t=[],e=[],i=this.xAxis,n=this.yAxis;this.pmh=n.viH+1,this.pmw=i.viW+1,this.pmy=this.pmx=0;var a;for(a=this.start;a<=this.end;a++){var o=this.data[a].axes[i.id].graphs[this.id],r=o.values,s=r.x,l=r.y,r=i.getCoordinate(s),h=n.getCoordinate(l);!isNaN(s)&&!isNaN(l)&&(t.push(r),e.push(h),(s=this.createBullet(o,r,h,a))||(s=0),l=this.labelText)&&(o=this.createLabel(o,r,h,l),this.allBullets.push(o),this.positionLabel(r,h,o,this.labelPosition,s))}this.drawLineGraph(t,e),this.launchAnimation()},createRadarGraph:function(){var t,e,i,n=this.valueAxis.stackType,a=[],o=[];for(i=this.start;i<=this.end;i++){var r,s=this.data[i].axes[this.valueAxis.id].graphs[this.id];if(r="none"==n||"3d"==n?s.values.value:s.values.close,isNaN(r))this.drawLineGraph(a,o),a=[],o=[];else{var l=this.y-(this.valueAxis.getCoordinate(r)-this.height),h=180-360/(this.end-this.start+1)*i;r=l*Math.sin(h/180*Math.PI),l*=Math.cos(h/180*Math.PI),a.push(r),o.push(l),(h=this.createBullet(s,r,l,i))||(h=0);var c=this.labelText;c&&(s=this.createLabel(s,r,l,c),this.allBullets.push(s),this.positionLabel(r,l,s,this.labelPosition,h)),isNaN(t)&&(t=r),isNaN(e)&&(e=l)}}a.push(t),o.push(e),this.drawLineGraph(a,o),this.launchAnimation()},positionLabel:function(t,e,i,n,a){var o=i.getBBox();switch(n){case"left":t-=(o.width+a)/2+2;break;case"top":e-=(a+o.height)/2+1;break;case"right":t+=(o.width+a)/2+2;break;case"bottom":e+=(a+o.height)/2+1}i.translate(t,e)},getGradRotation:function(){var t=270;return"horizontal"==this.gradientOrientation&&(t=0),this.gradientRotation=t},createSerialGraph:function(){this.dashLengthSwitched=this.fillColorsSwitched=this.lineColorSwitched=void 0;var t=this.chart,e=this.id,i=this.index,n=this.data,a=this.chart.container,o=this.valueAxis,r=this.type,s=this.columnWidthReal,l=this.showBulletsAt;isNaN(this.columnWidth)||(s=this.columnWidth),isNaN(s)&&(s=.8);var h,c,u,d,f,m=this.useNegativeColorIfDown,p=this.width,g=this.height,v=this.y,C=this.rotate,E=this.columnCount,b=AmCharts.toCoordinate(this.cornerRadiusTop,s/2),T=this.connect,y=[],D=[],O=this.chart.graphs.length,I=this.dx/this.tcc,R=this.dy/this.tcc,x=o.stackType,k=this.labelPosition,A=this.start,w=this.end,S=this.scrollbar,K=this.categoryAxis,_=this.baseCoord,N=this.negativeBase,F=this.columnIndex,M=this.lineThickness,L=this.lineAlpha,B=this.lineColorR,P=this.dashLength,$=this.set,z=k,H=this.getGradRotation(),j=this.chart.columnSpacing,V=K.cellWidth,q=(V*s-E)/E;j>q&&(j=q);var G,W,U,X,Y,J,Z,Q=g+1,te=p+1,ee=0,ie=0,ne=this.fillColorsR,ae=this.negativeFillColors,oe=this.negativeLineColor,re=this.fillAlphas,se=this.negativeFillAlphas;"object"==typeof re&&(re=re[0]),"object"==typeof se&&(se=se[0]);var le=o.getCoordinate(o.min);if(o.logarithmic&&(le=o.getCoordinate(o.minReal)),this.minCoord=le,this.resetBullet&&(this.bullet="none"),!(S||"line"!=r&&"smoothedLine"!=r&&"step"!=r||(1==n.length&&"step"!=r&&"none"==this.bullet&&(this.bullet="round",this.resetBullet=!0),!ae&&void 0==oe||m))){var he=N;he>o.max&&(he=o.max),he<o.min&&(he=o.min),o.logarithmic&&(he=o.minReal);var ce=o.getCoordinate(he),ue=o.getCoordinate(o.max);C?(Q=g,te=Math.abs(ue-ce),X=g,Y=Math.abs(le-ce),Z=ie=0,o.reversed?(ee=0,J=ce):(ee=ce,J=0)):(te=p,Q=Math.abs(ue-ce),Y=p,X=Math.abs(le-ce),J=ee=0,o.reversed?(Z=v,ie=ce):Z=ce+1)}var de=Math.round;this.pmx=de(ee),this.pmy=de(ie),this.pmh=de(Q),this.pmw=de(te),this.nmx=de(J),this.nmy=de(Z),this.nmh=de(X),this.nmw=de(Y),AmCharts.isModern||(this.nmy=this.nmx=0,this.nmh=this.height),s="column"==r?(V*s-j*(E-1))/E:V*s,1>s&&(s=1);var fe;if("line"==r||"step"==r||"smoothedLine"==r){if(A>0){for(fe=A-1;fe>-1;fe--)if(G=n[fe],W=G.axes[o.id].graphs[e],U=W.values.value,!isNaN(U)){A=fe;break}if(this.lineColorField)for(fe=A;fe>-1;fe--)if(G=n[fe],W=G.axes[o.id].graphs[e],W.lineColor){this.bulletColorSwitched=this.lineColorSwitched=W.lineColor;break}if(this.fillColorsField)for(fe=A;fe>-1;fe--)if(G=n[fe],W=G.axes[o.id].graphs[e],W.fillColors){this.fillColorsSwitched=W.fillColors;break}if(this.dashLengthField)for(fe=A;fe>-1;fe--)if(G=n[fe],W=G.axes[o.id].graphs[e],!isNaN(W.dashLength)){this.dashLengthSwitched=W.dashLength;break}}if(w<n.length-1)for(fe=w+1;fe<n.length;fe++)if(G=n[fe],W=G.axes[o.id].graphs[e],U=W.values.value,!isNaN(U)){w=fe;break}}w<n.length-1&&w++;var me=[],pe=[],ge=!1;("line"==r||"step"==r||"smoothedLine"==r)&&(this.stackable&&"regular"==x||"100%"==x||this.fillToGraph)&&(ge=!0);var ve=this.noStepRisers,Ce=-1e3,Ee=-1e3,be=this.minDistance,Te=!0,ye=!1;for(fe=A;w>=fe;fe++){G=n[fe],W=G.axes[o.id].graphs[e],W.index=fe;var De,Oe=0/0;if(m&&void 0==this.openField)for(var Ie=fe+1;Ie<n.length&&(!n[Ie]||!(De=n[fe+1].axes[o.id].graphs[e])||!De.values||(Oe=De.values.value,isNaN(Oe)));Ie++);var Re,xe,ke,Ae,we,Se,Ke=0/0,_e=0/0,Ne=0/0,Fe=0/0,Me=0/0,Le=0/0,Be=0/0,Pe=0/0,$e=0/0,ze=0/0,He=0/0,je=0/0,Ve=0/0,qe=0/0,Ge=0/0,We=0/0,Ue=0/0,Xe=void 0,Ye=ne,Je=re,Ze=B,Qe=this.pattern;void 0!=W.pattern&&(Qe=W.pattern),void 0!=W.color&&(Ye=W.color),W.fillColors&&(Ye=W.fillColors),isNaN(W.alpha)||(Je=W.alpha),isNaN(W.dashLength)||(P=W.dashLength);var ti=W.values;if(o.recalculateToPercents&&(ti=W.percents),ti){if(qe=this.stackable&&"none"!=x&&"3d"!=x?ti.close:ti.value,("candlestick"==r||"ohlc"==r)&&(qe=ti.close,We=ti.low,Be=o.getCoordinate(We),Ge=ti.high,$e=o.getCoordinate(Ge)),Ue=ti.open,Ne=o.getCoordinate(qe),isNaN(Ue)||(Me=o.getCoordinate(Ue),m&&(Oe=Ue,Ue=Me=0/0)),m&&(void 0==this.openField?De&&(De.isNegative=qe>Oe?!0:!1):W.isNegative=Oe>qe?!0:!1),!S)switch(this.showBalloonAt){case"close":W.y=Ne;break;case"open":W.y=Me;break;case"high":W.y=$e;break;case"low":W.y=Be}var Ke=G.x[K.id],ei=this.periodSpan-1,ii=Math.floor(V/2)+Math.floor(ei*V/2),ni=ii,ai=0;if("left"==this.stepDirection&&(ai=(2*V+ei*V)/2,Ke-=ai),"start"==this.pointPosition&&(Ke-=V/2+Math.floor(ei*V/2),ii=0,ni=Math.floor(V)+Math.floor(ei*V)),"end"==this.pointPosition&&(Ke+=V/2+Math.floor(ei*V/2),ii=Math.floor(V)+Math.floor(ei*V),ni=0),ve){var oi=this.columnWidth;isNaN(oi)||(ii*=oi,ni*=oi)}switch(S||(W.x=Ke),-1e5>Ke&&(Ke=-1e5),Ke>p+1e5&&(Ke=p+1e5),C?(_e=Ne,Fe=Me,Me=Ne=Ke,isNaN(Ue)&&!this.fillToGraph&&(Fe=_),Le=Be,Pe=$e):(Fe=_e=Ke,isNaN(Ue)&&!this.fillToGraph&&(Me=_)),Ue>qe&&(W.isNegative=!0,ae&&(Ye=ae),se&&(Je=se),void 0!=oe&&(Ze=oe)),ye=!1,isNaN(qe)||(m?qe>Oe?(Te&&(ye=!0),Te=!1):(Te||(ye=!0),Te=!0):W.isNegative=N>qe?!0:!1),r){case"line":isNaN(qe)?T||(this.drawLineGraph(y,D,me,pe),y=[],D=[],me=[],pe=[]):((Math.abs(_e-Ce)>=be||Math.abs(Ne-Ee)>=be)&&(y.push(_e),D.push(Ne),Ce=_e,Ee=Ne),ze=_e,He=Ne,je=_e,Ve=Ne,!ge||isNaN(Me)||isNaN(Fe)||(me.push(Fe),pe.push(Me)),(ye||void 0!=W.lineColor||void 0!=W.fillColors||!isNaN(W.dashLength))&&(this.drawLineGraph(y,D,me,pe),y=[_e],D=[Ne],me=[],pe=[],!ge||isNaN(Me)||isNaN(Fe)||(me.push(Fe),pe.push(Me)),m?Te?(this.lineColorSwitched=B,this.fillColorsSwitched=ne):(this.lineColorSwitched=oe,this.fillColorsSwitched=ae):(this.lineColorSwitched=W.lineColor,this.fillColorsSwitched=W.fillColors),this.dashLengthSwitched=W.dashLength),W.gap&&(this.drawLineGraph(y,D,me,pe),y=[],D=[],me=[],pe=[]));break;case"smoothedLine":isNaN(qe)?T||(this.drawSmoothedGraph(y,D,me,pe),y=[],D=[],me=[],pe=[]):((Math.abs(_e-Ce)>=be||Math.abs(Ne-Ee)>=be)&&(y.push(_e),D.push(Ne),Ce=_e,Ee=Ne),ze=_e,He=Ne,je=_e,Ve=Ne,!ge||isNaN(Me)||isNaN(Fe)||(me.push(Fe),pe.push(Me)),void 0==W.lineColor&&void 0==W.fillColors&&isNaN(W.dashLength)||(this.drawSmoothedGraph(y,D,me,pe),y=[_e],D=[Ne],me=[],pe=[],!ge||isNaN(Me)||isNaN(Fe)||(me.push(Fe),pe.push(Me)),this.lineColorSwitched=W.lineColor,this.fillColorsSwitched=W.fillColors,this.dashLengthSwitched=W.dashLength),W.gap&&(this.drawSmoothedGraph(y,D,me,pe),y=[],D=[],me=[],pe=[]));break;case"step":isNaN(qe)?T||((1>=this.periodSpan||1<this.periodSpan&&_e-h>ii+ni)&&(h=c=0/0),this.drawLineGraph(y,D,me,pe),y=[],D=[],me=[],pe=[]):(void 0==W.lineColor&&void 0==W.fillColors&&isNaN(W.dashLength)||(this.drawLineGraph(y,D,me,pe),y=[],D=[],me=[],pe=[],this.lineColorSwitched=W.lineColor,this.fillColorsSwitched=W.fillColors,this.dashLengthSwitched=W.dashLength),C?(isNaN(h)||(y.push(h),D.push(Ne-ii)),D.push(Ne-ii),y.push(_e),D.push(Ne+ni),y.push(_e),!ge||isNaN(Me)||isNaN(Fe)||(me.push(u),pe.push(Me-ii),me.push(Fe),pe.push(Me-ii),me.push(Fe),pe.push(Me+ni))):(isNaN(c)||(D.push(c),y.push(h),D.push(c),y.push(_e-ii)),y.push(_e-ii),D.push(Ne),y.push(_e+ni),D.push(Ne),!ge||isNaN(Me)||isNaN(Fe)||(me.push(Fe-ii),pe.push(d),me.push(Fe-ii),pe.push(Me),me.push(Fe+ni),pe.push(Me))),h=_e,c=Ne,u=Fe,d=Me,ze=_e,He=Ne,je=_e,Ve=Ne,ye&&(this.drawLineGraph(y,D,me,pe),y=[],D=[],me=[],pe=[],m&&(Te?(this.lineColorSwitched=B,this.fillColorsSwitched=ne):(this.lineColorSwitched=oe,this.fillColorsSwitched=ae))),(ve||W.gap)&&(h=c=0/0,this.drawLineGraph(y,D,me,pe),y=[],D=[],me=[],pe=[]));break;case"column":if(we=Ze,void 0!=W.lineColor&&(we=W.lineColor),!isNaN(qe)){m||(W.isNegative=N>qe?!0:!1),W.isNegative&&(ae&&(Ye=ae),void 0!=oe&&(we=oe));var ri=o.min,si=o.max;if(!(ri>qe&&ri>Ue||qe>si&&Ue>si))if(C){"3d"==x?(xe=Ne-(E/2-this.depthCount+1)*(s+j)+j/2+R*F,Re=Fe+I*F):(xe=Math.floor(Ne-(E/2-F)*(s+j)+j/2),Re=Fe),ke=s,ze=_e,He=xe+s/2,je=_e,Ve=xe+s/2,xe+ke>g&&(ke=g-xe),0>xe&&(ke+=xe,xe=0),Ae=_e-Fe;var li=Re;Re=AmCharts.fitToBounds(Re,0,p),Ae+=li-Re,Ae=AmCharts.fitToBounds(Ae,-Re,p-Re+I*F),g>xe&&ke>0&&(Xe=new AmCharts.Cuboid(a,Ae,ke,I-t.d3x,R-t.d3y,Ye,Je,M,we,L,H,b,C,P,Qe),"bottom"!=k&&"inside"!=k&&"middle"!=k&&(k=o.reversed?"left":"right",0>qe&&(k=o.reversed?"right":"left")),"regular"==x||"100%"==x)&&(ze+=this.dx)}else{"3d"==x?(Re=_e-(E/2-this.depthCount+1)*(s+j)+j/2+I*F,xe=Me+R*F):(Re=_e-(E/2-F)*(s+j)+j/2,xe=Me),ke=s,ze=Re+s/2,He=Ne,je=Re+s/2,Ve=Ne,Re+ke>p+F*I&&(ke=p-Re+F*I),0>Re&&(ke+=Re,Re=0),Ae=Ne-Me;var hi=xe;xe=AmCharts.fitToBounds(xe,this.dy,g),Ae+=hi-xe,Ae=AmCharts.fitToBounds(Ae,-xe+R*F,g-xe),p+F*I>Re&&ke>0&&(Xe=new AmCharts.Cuboid(a,ke,Ae,I-t.d3x,R-t.d3y,Ye,Je,M,we,this.lineAlpha,H,b,C,P,Qe),0>qe&&"middle"!=k&&"inside"!=k?k="bottom":(k=z,("regular"==x||"100%"==x)&&(He+=this.dy)))}Xe&&(Se=Xe.set,W.columnGraphics=Se,Se.translate(Re,xe),this.columnsSet.push(Se),(W.url||this.showHandOnHover)&&Se.setAttr("cursor","pointer"),!S)&&("none"==x&&(f=C?(this.end+1-fe)*O-i:O*fe+i),"3d"==x&&(C?(f=(this.end+1-fe)*O-i-1e3*this.depthCount,ze+=I*this.columnIndex,je+=I*this.columnIndex,W.y+=I*this.columnIndex):(f=(O-i)*(fe+1)+1e3*this.depthCount,ze+=3,He+=R*this.columnIndex+7,Ve+=R*this.columnIndex,W.y+=R*this.columnIndex)),("regular"==x||"100%"==x)&&("inside"!=k&&(k="middle"),f=C?0<ti.value?(this.end+1-fe)*O+i:(this.end+1-fe)*O-i:0<ti.value?O*fe+i:O*fe-i),this.columnsArray.push({column:Xe,depth:f}),W.x=C?xe+ke/2:Re+ke/2,this.ownColumns.push(Xe),this.animateColumns(Xe,fe,_e,Fe,Ne,Me),this.addListeners(Se,W))}break;case"candlestick":if(!isNaN(Ue)&&!isNaN(qe)){var ci,ui;if(we=Ze,void 0!=W.lineColor&&(we=W.lineColor),C){if(xe=Ne-s/2,Re=Fe,ke=s,xe+ke>g&&(ke=g-xe),0>xe&&(ke+=xe,xe=0),g>xe&&ke>0){var di,fi;qe>Ue?(di=[_e,Pe],fi=[Fe,Le]):(di=[Fe,Pe],fi=[_e,Le]),!isNaN(Pe)&&!isNaN(Le)&&g>Ne&&Ne>0&&(ci=AmCharts.line(a,di,[Ne,Ne],we,L,M),ui=AmCharts.line(a,fi,[Ne,Ne],we,L,M)),Ae=_e-Fe,Xe=new AmCharts.Cuboid(a,Ae,ke,I,R,Ye,re,M,we,L,H,b,C,P,Qe)}}else if(Re=_e-s/2,xe=Me+M/2,ke=s,Re+ke>p&&(ke=p-Re),0>Re&&(ke+=Re,Re=0),Ae=Ne-Me,p>Re&&ke>0){var mi,pi,Xe=new AmCharts.Cuboid(a,ke,Ae,I,R,Ye,Je,M,we,L,H,b,C,P,Qe);qe>Ue?(mi=[Ne,$e],pi=[Me,Be]):(mi=[Me,$e],pi=[Ne,Be]),!isNaN($e)&&!isNaN(Be)&&p>_e&&_e>0&&(ci=AmCharts.line(a,[_e,_e],mi,we,L,M),ui=AmCharts.line(a,[_e,_e],pi,we,L,M))}Xe&&(Se=Xe.set,W.columnGraphics=Se,$.push(Se),Se.translate(Re,xe-M/2),(W.url||this.showHandOnHover)&&Se.setAttr("cursor","pointer"),ci&&($.push(ci),$.push(ui)),ze=_e,He=Ne,C?(Ve=Ne,je=_e,"open"==l&&(je=Fe),"high"==l&&(je=Pe),"low"==l&&(je=Le)):(Ve=Ne,"open"==l&&(Ve=Me),"high"==l&&(Ve=$e),"low"==l&&(Ve=Be),je=_e),S||(W.x=C?xe+ke/2:Re+ke/2,this.animateColumns(Xe,fe,_e,Fe,Ne,Me),this.addListeners(Se,W)))}break;case"ohlc":if(!(isNaN(Ue)||isNaN(Ge)||isNaN(We)||isNaN(qe))){Ue>qe&&(W.isNegative=!0,void 0!=oe&&(Ze=oe));var gi,vi,Ci;if(C){var Ei=Ne-s/2,Ei=AmCharts.fitToBounds(Ei,0,g),bi=AmCharts.fitToBounds(Ne,0,g),Ti=Ne+s/2,Ti=AmCharts.fitToBounds(Ti,0,g);vi=AmCharts.line(a,[Fe,Fe],[Ei,bi],Ze,L,M,P),Ne>0&&g>Ne&&(gi=AmCharts.line(a,[Le,Pe],[Ne,Ne],Ze,L,M,P)),Ci=AmCharts.line(a,[_e,_e],[bi,Ti],Ze,L,M,P),Ve=Ne,je=_e,"open"==l&&(je=Fe),"high"==l&&(je=Pe),"low"==l&&(je=Le)}else{var yi=_e-s/2,yi=AmCharts.fitToBounds(yi,0,p),Di=AmCharts.fitToBounds(_e,0,p),Oi=_e+s/2,Oi=AmCharts.fitToBounds(Oi,0,p);vi=AmCharts.line(a,[yi,Di],[Me,Me],Ze,L,M,P),_e>0&&p>_e&&(gi=AmCharts.line(a,[_e,_e],[Be,$e],Ze,L,M,P)),Ci=AmCharts.line(a,[Di,Oi],[Ne,Ne],Ze,L,M,P),Ve=Ne,"open"==l&&(Ve=Me),"high"==l&&(Ve=$e),"low"==l&&(Ve=Be),je=_e}$.push(vi),$.push(gi),$.push(Ci),ze=_e,He=Ne}}if(!S&&!isNaN(qe)){var Ii=this.hideBulletsCount;if(this.end-this.start<=Ii||0===Ii){var Ri=this.createBullet(W,je,Ve,fe);Ri||(Ri=0);var xi=this.labelText;if(xi){var ki=this.createLabel(W,0,0,xi),Ai=0,wi=0,Si=ki.getBBox(),Ki=Si.width,_i=Si.height;switch(k){case"left":Ai=-(Ki/2+Ri/2+3);break;case"top":wi=-(_i/2+Ri/2+3);break;case"right":Ai=Ri/2+2+Ki/2;break;case"bottom":C&&"column"==r?(ze=_,0>qe||qe>0&&o.reversed?(Ai=-6,ki.attr({"text-anchor":"end"})):(Ai=6,ki.attr({"text-anchor":"start"}))):(wi=Ri/2+_i/2,ki.x=-(Ki/2+2));break;case"middle":"column"==r&&(C?(wi=-(_i/2)+this.fontSize/2,Ai=-(_e-Fe)/2-I,Math.abs(_e-Fe)<Ki&&!this.showAllValueLabels&&(ki.remove(),ki=null)):(wi=-(Ne-Me)/2-R,Math.abs(Ne-Me)<_i&&!this.showAllValueLabels&&(ki.remove(),ki=null)));break;case"inside":C?(wi=-(_i/2)+this.fontSize/2,Ai=0>Ae?Ki/2+6:-Ki/2-6):wi=0>Ae?_i:-_i}if(ki){if(isNaN(He)||isNaN(ze))ki.remove(),ki=null;else if(ze+=Ai,He+=wi,ki.translate(ze,He),C)(0>He||He>g)&&(ki.remove(),ki=null);else{var Ni=0;"3d"==x&&(Ni=I*F),(0>ze||ze>p+Ni)&&(ki.remove(),ki=null)}ki&&this.allBullets.push(ki)}}if("regular"==x||"100%"==x){var Fi=o.totalText;if(Fi){var Mi=this.createLabel(W,0,0,Fi,o.totalTextColor);this.allBullets.push(Mi);var Li,Bi,Pi=Mi.getBBox(),$i=Pi.width,zi=Pi.height,Hi=o.totals[fe];Hi&&Hi.remove();var ji=0;"column"!=r&&(ji=Ri),C?(Bi=Ne,Li=0>qe?_e-$i/2-2-ji:_e+$i/2+3+ji):(Li=_e,Bi=0>qe?Ne+zi/2+ji:Ne-zi/2-3-ji),Mi.translate(Li,Bi),o.totals[fe]=Mi,C?(0>Bi||Bi>g)&&Mi.remove():(0>Li||Li>p)&&Mi.remove()}}}}}}("line"==r||"step"==r||"smoothedLine"==r)&&("smoothedLine"==r?this.drawSmoothedGraph(y,D,me,pe):this.drawLineGraph(y,D,me,pe),S||this.launchAnimation()),this.bulletsHidden&&this.hideBullets()},animateColumns:function(t,e,i){var n=this;i=n.chart.startDuration,i>0&&!n.animationPlayed&&(n.seqAn?(t.set.hide(),n.animationArray.push(t),t=setTimeout(function(){n.animate.call(n)},i/(n.end-n.start+1)*(e-n.start)*1e3),n.timeOuts.push(t)):n.animate(t))},createLabel:function(t,e,i,n,a){var o=this.chart,r=t.labelColor;r||(r=this.color),r||(r=o.color),a&&(r=a),a=this.fontSize,void 0===a&&(this.fontSize=a=o.fontSize);var s=this.labelFunction;return n=o.formatString(n,t),n=AmCharts.cleanFromEmpty(n),s&&(n=s(t,n)),t=AmCharts.text(this.container,n,r,o.fontFamily,a),t.node.style.pointerEvents="none",t.translate(e,i),this.bulletSet.push(t),t},positiveClip:function(t){t.clipRect(this.pmx,this.pmy,this.pmw,this.pmh)},negativeClip:function(t){t.clipRect(this.nmx,this.nmy,this.nmw,this.nmh)},drawLineGraph:function(t,e,i,n){var a=this;if(1<t.length){var o=a.set,r=a.chart,s=a.container,l=s.set(),h=s.set();o.push(h),o.push(l);var c=a.lineAlpha,u=a.lineThickness,o=a.fillAlphas,d=a.lineColorR,f=a.negativeLineAlpha;isNaN(f)&&(f=c);var m=a.lineColorSwitched;m&&(d=m);var m=a.fillColorsR,p=a.fillColorsSwitched;p&&(m=p);var g=a.dashLength;(p=a.dashLengthSwitched)&&(g=p);var p=a.negativeLineColor,v=a.negativeFillColors,C=a.negativeFillAlphas,E=a.baseCoord;0!==a.negativeBase&&(E=a.valueAxis.getCoordinate(a.negativeBase)),c=AmCharts.line(s,t,e,d,c,u,g,!1,!0),l.push(c),l.click(function(t){a.handleGraphEvent(t,"clickGraph")}).mouseover(function(t){a.handleGraphEvent(t,"rollOverGraph")}).mouseout(function(t){a.handleGraphEvent(t,"rollOutGraph")}),void 0===p||a.useNegativeColorIfDown||(u=AmCharts.line(s,t,e,p,f,u,g,!1,!0),h.push(u)),(o>0||C>0)&&(u=t.join(";").split(";"),f=e.join(";").split(";"),c=r.type,"serial"==c?0<i.length?(i.reverse(),n.reverse(),u=t.concat(i),f=e.concat(n)):a.rotate?(f.push(f[f.length-1]),u.push(E),f.push(f[0]),u.push(E),f.push(f[0]),u.push(u[0])):(u.push(u[u.length-1]),f.push(E),u.push(u[0]),f.push(E),u.push(t[0]),f.push(f[0])):"xy"==c&&(e=a.fillToAxis)&&(AmCharts.isString(e)&&(e=r.getValueAxisById(e)),"H"==e.orientation?(E="top"==e.position?0:e.viH,u.push(u[u.length-1]),f.push(E),u.push(u[0]),f.push(E),u.push(t[0]),f.push(f[0])):(E="left"==e.position?0:e.viW,f.push(f[f.length-1]),u.push(E),f.push(f[0]),u.push(E),f.push(f[0]),u.push(u[0]))),t=a.gradientRotation,o>0&&(r=AmCharts.polygon(s,u,f,m,o,1,"#000",0,t),r.pattern(a.pattern),l.push(r)),(v||void 0!==p)&&(isNaN(C)&&(C=o),v||(v=p),s=AmCharts.polygon(s,u,f,v,C,1,"#000",0,t),s.pattern(a.pattern),h.push(s),h.click(function(t){a.handleGraphEvent(t,"clickGraph")}).mouseover(function(t){a.handleGraphEvent(t,"rollOverGraph")}).mouseout(function(t){a.handleGraphEvent(t,"rollOutGraph")}))),a.applyMask(h,l)}},applyMask:function(t,e){var i=t.length();"serial"!=this.chart.type||this.scrollbar||(this.positiveClip(e),i>0&&this.negativeClip(t))},drawSmoothedGraph:function(t,e,i,n){if(1<t.length){var a=this.set,o=this.container,r=o.set(),s=o.set();a.push(s),a.push(r);var l=this.lineAlpha,h=this.lineThickness,a=this.dashLength,c=this.fillAlphas,u=this.lineColorR,d=this.fillColorsR,f=this.negativeLineColor,m=this.negativeFillColors,p=this.negativeFillAlphas,g=this.baseCoord,v=this.lineColorSwitched;v&&(u=v),(v=this.fillColorsSwitched)&&(d=v),v=this.negativeLineAlpha,isNaN(v)&&(v=l),l=new AmCharts.Bezier(o,t,e,u,l,h,d,0,a),r.push(l.path),void 0!==f&&(h=new AmCharts.Bezier(o,t,e,f,v,h,d,0,a),s.push(h.path)),c>0&&(l=t.join(";").split(";"),u=e.join(";").split(";"),h="",0<i.length?(i.push("M"),n.push("M"),i.reverse(),n.reverse(),l=t.concat(i),u=e.concat(n)):(this.rotate?(h+=" L"+g+","+e[e.length-1],h+=" L"+g+","+e[0]):(h+=" L"+t[t.length-1]+","+g,h+=" L"+t[0]+","+g),h+=" L"+t[0]+","+e[0]),i=new AmCharts.Bezier(o,l,u,0/0,0,0,d,c,a,h),i.path.pattern(this.pattern),r.push(i.path),m||void 0!==f)&&(p||(p=c),m||(m=f),t=new AmCharts.Bezier(o,t,e,0/0,0,0,m,p,a,h),t.path.pattern(this.pattern),s.push(t.path)),this.applyMask(s,r)}},launchAnimation:function(){var t=this,e=t.chart.startDuration;if(e>0&&!t.animationPlayed){var i=t.set,n=t.bulletSet;AmCharts.VML||(i.attr({opacity:t.startAlpha}),n.attr({opacity:t.startAlpha})),i.hide(),n.hide(),t.seqAn?(e=setTimeout(function(){t.animateGraphs.call(t)},t.index*e*1e3),t.timeOuts.push(e)):t.animateGraphs()}},animateGraphs:function(){var t=this.chart,e=this.set,i=this.bulletSet,n=this.x,a=this.y;e.show(),i.show();var o=t.startDuration,t=t.startEffect;e&&(this.rotate?(e.translate(-1e3,a),i.translate(-1e3,a)):(e.translate(n,-1e3),i.translate(n,-1e3)),e.animate({opacity:1,translate:n+","+a},o,t),i.animate({opacity:1,translate:n+","+a},o,t))},animate:function(t){var e=this.chart,i=this.animationArray;!t&&0<i.length&&(t=i[0],i.shift()),i=AmCharts[AmCharts.getEffect(e.startEffect)],e=e.startDuration,t&&(this.rotate?t.animateWidth(e,i):t.animateHeight(e,i),t.set.show())},legendKeyColor:function(){var t=this.legendColor,e=this.lineAlpha;return void 0===t&&(t=this.lineColorR,0===e&&(e=this.fillColorsR)&&(t="object"==typeof e?e[0]:e)),t},legendKeyAlpha:function(){var t=this.legendAlpha;return void 0===t&&(t=this.lineAlpha,this.fillAlphas>t&&(t=this.fillAlphas),0===t&&(t=this.bulletAlpha),0===t&&(t=1)),t},createBullet:function(t,e,i,n){n=this.container;var a=this.bulletOffset,o=this.bulletSize;isNaN(t.bulletSize)||(o=t.bulletSize);var r=t.values.value,s=this.maxValue,l=this.minValue,h=this.maxBulletSize,c=this.minBulletSize;isNaN(s)||(isNaN(r)||(o=(r-l)/(s-l)*(h-c)+c),l==s&&(o=h)),s=o,this.bulletAxis&&(o=t.values.error,isNaN(o)||(r=o),o=this.bulletAxis.stepWidth*r),o<this.minBulletSize&&(o=this.minBulletSize),this.rotate?e=t.isNegative?e-a:e+a:i=t.isNegative?i+a:i-a;var u,c=this.bulletColorR;t.lineColor&&(this.bulletColorSwitched=t.lineColor),this.bulletColorSwitched&&(c=this.bulletColorSwitched),t.isNegative&&void 0!==this.bulletColorNegative&&(c=this.bulletColorNegative),void 0!==t.color&&(c=t.color);var d;"xy"==this.chart.type&&this.valueField&&(d=this.pattern,t.pattern&&(d=t.pattern)),a=this.bullet,t.bullet&&(a=t.bullet);var r=this.bulletBorderThickness,l=this.bulletBorderColorR,h=this.bulletBorderAlpha,f=this.bulletAlpha;l||(l=c),this.useLineColorForBulletBorder&&(l=this.lineColorR);var m=t.alpha;return isNaN(m)||(f=m),("none"!=this.bullet||t.bullet)&&(u=AmCharts.bullet(n,a,o,c,f,r,l,h,s,0,d)),(this.customBullet||t.customBullet)&&(d=this.customBullet,t.customBullet&&(d=t.customBullet),d&&(u&&u.remove(),"function"==typeof d?(u=new d,u.chart=this.chart,t.bulletConfig&&(u.availableSpace=i,u.graph=this,u.graphDataItem=t,u.bulletY=i,t.bulletConfig.minCoord=this.minCoord-i,u.bulletConfig=t.bulletConfig),u.write(n),u=u.set):(this.chart.path&&(d=this.chart.path+d),u=n.set(),n=n.image(d,0,0,o,o),u.push(n),this.centerCustomBullets&&n.translate(-o/2,-o/2)))),u&&((t.url||this.showHandOnHover)&&u.setAttr("cursor","pointer"),"serial"==this.chart.type&&(0>e-0||e-0>this.width||-o/2>i||i-0>this.height)&&(u.remove(),u=null),u&&(this.bulletSet.push(u),u.translate(e,i),this.addListeners(u,t),this.allBullets.push(u)),t.bx=e,t.by=i),t.bulletGraphics=u,o
},showBullets:function(){var t,e=this.allBullets;for(this.bulletsHidden=!1,t=0;t<e.length;t++)e[t].show()},hideBullets:function(){var t,e=this.allBullets;for(this.bulletsHidden=!0,t=0;t<e.length;t++)e[t].hide()},addListeners:function(t,e){var i=this;t.mouseover(function(t){i.handleRollOver(e,t)}).mouseout(function(t){i.handleRollOut(e,t)}).touchend(function(t){i.handleRollOver(e,t),i.chart.panEventsEnabled&&i.handleClick(e,t)}).touchstart(function(t){i.handleRollOver(e,t)}).click(function(t){i.handleClick(e,t)}).dblclick(function(t){i.handleDoubleClick(e,t)}).contextmenu(function(t){i.handleRightClick(e,t)})},handleRollOver:function(t,e){if(t){var i=this.chart,n={type:"rollOverGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:e};if(this.fire("rollOverGraphItem",n),i.fire("rollOverGraphItem",n),clearTimeout(i.hoverInt),n=this.showBalloon,i.chartCursor&&"serial"==i.type&&(n=!1,!i.chartCursor.valueBalloonsEnabled&&this.showBalloon&&(n=!0)),n){var n=i.formatString(this.balloonText,t,!0),a=this.balloonFunction;a&&(n=a(t,t.graph)),n=AmCharts.cleanFromEmpty(n),a=i.getBalloonColor(this,t),i.balloon.showBullet=!1,i.balloon.pointerOrientation="V";var o=t.x,r=t.y;i.rotate&&(o=t.y,r=t.x),i.showBalloon(n,a,!0,o+i.marginLeftReal,r+i.marginTopReal)}}this.handleGraphEvent(e,"rollOverGraph")},handleRollOut:function(t,e){if(this.chart.hideBalloon(),t){var i={type:"rollOutGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:e};this.fire("rollOutGraphItem",i),this.chart.fire("rollOutGraphItem",i)}this.handleGraphEvent(e,"rollOutGraph")},handleClick:function(t,e){if(t){var i={type:"clickGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:e};this.fire("clickGraphItem",i),this.chart.fire("clickGraphItem",i),AmCharts.getURL(t.url,this.urlTarget)}this.handleGraphEvent(e,"clickGraph")},handleGraphEvent:function(t,e){var i={type:e,graph:this,target:this,chart:this.chart,event:t};this.fire(e,i),this.chart.fire(e,i)},handleRightClick:function(t,e){if(t){var i={type:"rightClickGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:e};this.fire("rightClickGraphItem",i),this.chart.fire("rightClickGraphItem",i)}},handleDoubleClick:function(t,e){if(t){var i={type:"doubleClickGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:e};this.fire("doubleClickGraphItem",i),this.chart.fire("doubleClickGraphItem",i)}},zoom:function(t,e){this.start=t,this.end=e,this.draw()},changeOpacity:function(t){var e=this.set;if(e&&e.setAttr("opacity",t),e=this.ownColumns){var i;for(i=0;i<e.length;i++){var n=e[i].set;n&&n.setAttr("opacity",t)}}(e=this.bulletSet)&&e.setAttr("opacity",t)},destroy:function(){AmCharts.remove(this.set),AmCharts.remove(this.bulletSet);var t=this.timeOuts;if(t){var e;for(e=0;e<t.length;e++)clearTimeout(t[e])}this.timeOuts=[]}}),AmCharts.ChartCursor=AmCharts.Class({construct:function(t){this.cname="ChartCursor",this.createEvents("changed","zoomed","onHideCursor","draw","selected","moved"),this.enabled=!0,this.cursorAlpha=1,this.selectionAlpha=.2,this.cursorColor="#CC0000",this.categoryBalloonAlpha=1,this.color="#FFFFFF",this.type="cursor",this.zoomed=!1,this.zoomable=!0,this.pan=!1,this.categoryBalloonDateFormat="MMM DD, YYYY",this.categoryBalloonEnabled=this.valueBalloonsEnabled=!0,this.rolledOver=!1,this.cursorPosition="middle",this.bulletsEnabled=this.skipZoomDispatch=!1,this.bulletSize=8,this.selectWithoutZooming=this.oneBalloonOnly=!1,this.graphBulletSize=1.7,this.animationDuration=.3,this.zooming=!1,this.adjustment=0,this.avoidBalloonOverlapping=!0,AmCharts.applyTheme(this,t,this.cname)},draw:function(){var t=this;t.destroy();var e=t.chart,i=e.container;t.rotate=e.rotate,t.container=i,i=i.set(),i.translate(t.x,t.y),t.set=i,e.cursorSet.push(i),i=new AmCharts.AmBalloon,i.chart=e,t.categoryBalloon=i,AmCharts.copyProperties(e.balloon,i),i.cornerRadius=0,i.shadowAlpha=0,i.borderThickness=1,i.borderAlpha=1,i.showBullet=!1;var n=t.categoryBalloonColor;if(void 0===n&&(n=t.cursorColor),i.fillColor=n,i.fillAlpha=t.categoryBalloonAlpha,i.borderColor=n,i.color=t.color,t.rotate&&(i.pointerOrientation="H"),t.extraWidth=0,t.prevX=[],t.prevY=[],t.prevTX=[],t.prevTY=[],t.valueBalloonsEnabled)for(i=0;i<e.graphs.length;i++)n=new AmCharts.AmBalloon,n.chart=e,AmCharts.copyProperties(e.balloon,n),e.graphs[i].valueBalloon=n;"cursor"==t.type?t.createCursor():t.createCrosshair(),t.interval=setInterval(function(){t.detectMovement.call(t)},40)},updateData:function(){var t=this.chart;this.data=t.chartData,this.firstTime=t.firstTime,this.lastTime=t.lastTime},createCursor:function(){var t,e,i=this.chart,n=this.cursorAlpha,a=i.categoryAxis,o=a.position,r=a.inside,s=a.axisThickness,l=this.categoryBalloon,h=i.dx,c=i.dy,u=this.x,d=this.y,f=this.width,m=this.height,i=i.rotate,p=a.tickLength;l.pointerWidth=p,i?(t=[0,f,f+h],e=[0,0,c]):(t=[h,0,0],e=[c,0,m]),this.line=n=AmCharts.line(this.container,t,e,this.cursorColor,n,1),(t=this.fullRectSet)?(t.push(n),t.translate(this.x,this.y)):this.set.push(n),i?(r&&(l.pointerWidth=0),"right"==o?r?l.setBounds(u,d+c,u+f+h,d+m+c):l.setBounds(u+f+h+s,d+c,u+f+1e3,d+m+c):r?l.setBounds(u,d,f+u,m+d):l.setBounds(-1e3,-1e3,u-p-s,d+m+15)):(l.maxWidth=f,a.parseDates&&(p=0,l.pointerWidth=0),"top"==o?r?l.setBounds(u+h,d+c,f+h+u,m+d):l.setBounds(u+h,-1e3,f+h+u,d+c-p-s):r?l.setBounds(u,d,f+u,m+d-p):l.setBounds(u,d+m+p+s-1,u+f,d+m+p+s)),this.hideCursor()},createCrosshair:function(){var t=this.cursorAlpha,e=this.container,i=AmCharts.line(e,[0,0],[0,this.height],this.cursorColor,t,1),t=AmCharts.line(e,[0,this.width],[0,0],this.cursorColor,t,1);this.set.push(i),this.set.push(t),this.vLine=i,this.hLine=t,this.hideCursor()},detectMovement:function(){var t=this.chart;if(t.mouseIsOver){var e=t.mouseX-this.x,i=t.mouseY-this.y;e>-.5&&e<this.width+1&&i>0&&i<this.height?(this.drawing?this.rolledOver||t.setMouseCursor("crosshair"):this.pan&&(this.rolledOver||t.setMouseCursor("move")),this.rolledOver=!0,this.setPosition()):this.rolledOver&&(this.handleMouseOut(),this.rolledOver=!1)}else this.rolledOver&&(this.handleMouseOut(),this.rolledOver=!1)},getMousePosition:function(){var t,e=this.width,i=this.height;return t=this.chart,this.rotate?(t=t.mouseY-this.y,0>t&&(t=0),t>i&&(t=i)):(t=t.mouseX-this.x-1,0>t&&(t=0),t>e&&(t=e)),t},updateCrosshair:function(){var t=this.chart,e=t.mouseX-this.x,i=t.mouseY-this.y,n=this.vLine,a=this.hLine,e=AmCharts.fitToBounds(e,0,this.width),i=AmCharts.fitToBounds(i,0,this.height);0<this.cursorAlpha&&(n.show(),a.show(),n.translate(e,0),a.translate(0,i)),this.zooming&&(t.hideXScrollbar&&(e=0/0),t.hideYScrollbar&&(i=0/0),this.updateSelectionSize(e,i)),this.fireMoved(),t.mouseIsOver||this.zooming||this.hideCursor()},fireMoved:function(){var t=this.chart,e={type:"moved",target:this};e.chart=t,e.zooming=this.zooming,e.x=t.mouseX-this.x,e.y=t.mouseY-this.y,this.fire("moved",e)},updateSelectionSize:function(t,e){AmCharts.remove(this.selection);var i=this.selectionPosX,n=this.selectionPosY,a=0,o=0,r=this.width,s=this.height;isNaN(t)||(i>t&&(a=t,r=i-t),t>i&&(a=i,r=t-i),i==t&&(a=t,r=0),r+=this.extraWidth,a-=this.extraWidth/2),isNaN(e)||(n>e&&(o=e,s=n-e),e>n&&(o=n,s=e-n),n==e&&(o=e,s=0),s+=this.extraWidth,o-=this.extraWidth/2),r>0&&s>0&&(i=AmCharts.rect(this.container,r,s,this.cursorColor,this.selectionAlpha),i.translate(a+this.x,o+this.y),this.selection=i)},arrangeBalloons:function(){var t=this.valueBalloons,e=this.x,i=this.y,n=this.height+i;t.sort(this.compareY);var a;for(a=0;a<t.length;a++){var o=t[a].balloon;o.setBounds(e,i,e+this.width,n),o.prevX=this.prevX[a],o.prevY=this.prevY[a],o.prevTX=this.prevTX[a],o.prevTY=this.prevTY[a],o.draw(),n=o.yPos-3}this.arrangeBalloons2()},compareY:function(t,e){return t.yy<e.yy?1:-1},arrangeBalloons2:function(){var t=this.valueBalloons;t.reverse();var e,i,n,a=this.x,o=t.length;for(n=0;o>n;n++){var r=t[n].balloon;e=r.bottom;var s=r.bottom-r.yPos,l=o-n-1;n>0&&i+3>e-s&&(r.setBounds(a,i+3,a+this.width,i+s+3),r.prevX=this.prevX[l],r.prevY=this.prevY[l],r.prevTX=this.prevTX[l],r.prevTY=this.prevTY[l],r.draw()),r.set&&r.set.show(),this.prevX[l]=r.prevX,this.prevY[l]=r.prevY,this.prevTX[l]=r.prevTX,this.prevTY[l]=r.prevTY,i=r.bottom}},showBullets:function(){AmCharts.remove(this.allBullets);var t=this.container,e=t.set();this.set.push(e),this.set.show(),this.allBullets=e;var i,e=this.chart.graphs;for(i=0;i<e.length;i++){var n=e[i];if(!n.hidden&&n.balloonText){var a=this.data[this.index].axes[n.valueAxis.id].graphs[n.id],o=a.y;if(!isNaN(o)){var r,s;r=a.x,this.rotate?(s=o,o=r):s=r,n=AmCharts.circle(t,this.bulletSize/2,this.chart.getBalloonColor(n,a,!0),n.cursorBulletAlpha),n.translate(s,o),this.allBullets.push(n)}}}},destroy:function(){this.clear(),AmCharts.remove(this.selection),this.selection=null;var t=this.categoryBalloon;t&&t.destroy(),this.destroyValueBalloons(),AmCharts.remove(this.set)},clear:function(){clearInterval(this.interval)},destroyValueBalloons:function(){var t=this.valueBalloons;if(t){var e;for(e=0;e<t.length;e++)t[e].balloon.hide()}},zoom:function(t,e,i,n){var a=this.chart;this.destroyValueBalloons(),this.zooming=!1;var o;this.rotate?this.selectionPosY=o=a.mouseY:this.selectionPosX=o=a.mouseX,this.start=t,this.end=e,this.startTime=i,this.endTime=n,this.zoomed=!0,n=a.categoryAxis,a=this.rotate,e=this.width,i=this.height,t=n.stepWidth,this.fullWidth&&(o=1,n.parseDates&&!n.equalSpacing&&(o=n.minDuration()),a?this.extraWidth=i=t*o:(this.extraWidth=e=t*o,this.categoryBalloon.minWidth=e),this.line&&this.line.remove(),this.line=AmCharts.rect(this.container,e,i,this.cursorColor,this.cursorAlpha,0),this.fullRectSet&&this.fullRectSet.push(this.line)),this.stepWidth=t,this.tempVal=this.valueBalloonsEnabled,this.valueBalloonsEnabled=!1,this.setPosition(),this.valueBalloonsEnabled=this.tempVal,this.hideCursor()},hideObj:function(t){t&&t.hide()},hideCursor:function(t){void 0===t&&(t=!0),this.hideObj(this.set),this.hideObj(this.categoryBalloon),this.hideObj(this.line),this.hideObj(this.vLine),this.hideObj(this.hLine),this.hideObj(this.allBullets),this.destroyValueBalloons(),this.selectWithoutZooming||AmCharts.remove(this.selection),this.previousIndex=0/0,t&&this.fire("onHideCursor",{type:"onHideCursor",chart:this.chart,target:this}),this.drawing||this.chart.setMouseCursor("auto"),this.normalizeBulletSize()},setPosition:function(t,e,i){void 0===e&&(e=!0),"cursor"==this.type?(this.tempPosition=0/0,AmCharts.ifArray(this.data)&&(isNaN(t)&&(t=this.getMousePosition()),(t!=this.previousMousePosition||!0===this.zoomed||this.oneBalloonOnly)&&!isNaN(t)&&("mouse"==this.cursorPosition&&(this.tempPosition=t),isNaN(i)&&(i=this.chart.categoryAxis.xToIndex(t)),i!=this.previousIndex||this.zoomed||"mouse"==this.cursorPosition||this.oneBalloonOnly)&&(this.updateCursor(i,e),this.zoomed=!1),this.previousMousePosition=t)):this.updateCrosshair()},normalizeBulletSize:function(){var t=this.resizedBullets;if(t)for(var e=0;e<t.length;e++){var i=t[e],n=i.bulletGraphics;n&&(n.translate(i.bx,i.by,1),i=i.graph,isNaN(this.graphBulletAlpha)||(n.setAttr("fill-opacity",i.bulletAlpha),n.setAttr("stroke-opacity",i.bulletBorderAlpha)))}},updateCursor:function(t,e){var i=this.chart,n=this.fullWidth,a=i.mouseX-this.x,o=i.mouseY-this.y;if(this.drawingNow&&(AmCharts.remove(this.drawingLine),this.drawingLine=AmCharts.line(this.container,[this.x+this.drawStartX,this.x+a],[this.y+this.drawStartY,this.y+o],this.cursorColor,1,1)),this.enabled){void 0===e&&(e=!0),this.index=t+=this.adjustment;var r=i.categoryAxis,s=i.dx,l=i.dy,h=this.x+1,c=this.y+1,u=this.width,d=this.height,f=this.data[t];if(this.fireMoved(),f){var m=f.x[r.id],p=i.rotate,g=r.inside,v=this.stepWidth,C=this.categoryBalloon,E=this.firstTime,b=this.lastTime,T=this.cursorPosition,y=r.position,D=this.zooming,O=this.panning,I=i.graphs,R=r.axisThickness;if(i.mouseIsOver||D||O||this.forceShow)if(this.forceShow=!1,O){var s=this.panClickPos,i=this.panClickEndTime,D=this.panClickStartTime,x=this.panClickEnd,h=this.panClickStart,a=(p?s-o:s-a)/v;(!r.parseDates||r.equalSpacing)&&(a=Math.round(a)),0!==a&&(s={type:"zoomed",target:this},s.chart=this.chart,r.parseDates&&!r.equalSpacing?(i+a>b&&(a=b-i),E>D+a&&(a=E-D),s.start=Math.round(D+a),s.end=Math.round(i+a),this.fire(s.type,s)):x+a>=this.data.length||0>h+a||(s.start=h+a,s.end=x+a,this.fire(s.type,s)))}else{if("start"==T?m-=r.cellWidth/2:"mouse"==T&&(i.mouseIsOver?m=p?o-2:a-2:isNaN(this.tempPosition)||(m=this.tempPosition-2)),p){if(0>m){if(!D)return void this.hideCursor();m=0}if(m>d+1){if(!D)return void this.hideCursor();m=d+1}}else{if(0>m){if(!D)return void this.hideCursor();m=0}if(m>u){if(!D)return void this.hideCursor();m=u}}if(0<this.cursorAlpha){var k=this.line;p?(E=0,b=m+l,n&&(b-=r.cellWidth/2)):(E=m,b=0,n&&(E-=r.cellWidth/2)),v=this.animationDuration,v>0&&!this.zooming?isNaN(this.previousX)?k.translate(E,b):(k.translate(this.previousX,this.previousY),k.animate({translate:E+","+b},v,"easeOutSine")):k.translate(E,b),this.previousX=E,this.previousY=b,k.show()}if(this.linePos=p?m+l:m,D&&(n&&k.hide(),p?this.updateSelectionSize(0/0,m):this.updateSelectionSize(m,0/0)),v=!0,D&&(v=!1),this.categoryBalloonEnabled&&v?(p?(g&&("right"==y?C.setBounds(h,c+l,h+u+s,c+m+l):C.setBounds(h,c+l,h+u+s,c+m)),"right"==y?g?C.setPosition(h+u+s,c+m+l):C.setPosition(h+u+s+R,c+m+l):g?C.setPosition(h,c+m):C.setPosition(h-R,c+m)):"top"==y?g?C.setPosition(h+m+s,c+l):C.setPosition(h+m+s,c+l-R+1):g?C.setPosition(h+m,c+d):C.setPosition(h+m,c+d+R-1),(E=this.categoryBalloonFunction)?C.showBalloon(E(f.category)):r.parseDates?(r=AmCharts.formatDate(f.category,this.categoryBalloonDateFormat),-1!=r.indexOf("fff")&&(r=AmCharts.formatMilliseconds(r,f.category)),C.showBalloon(r)):C.showBalloon(AmCharts.fixNewLines(f.category))):C.hide(),I&&this.bulletsEnabled&&this.showBullets(),this.oneBalloonOnly){for(l=1/0,r=0;r<I.length;r++)E=I[r],E.showBalloon&&!E.hidden&&E.balloonText&&(b=f.axes[E.valueAxis.id].graphs[E.id],C=b.y,isNaN(C)||(p?Math.abs(a-C)<l&&(l=Math.abs(a-C),x=E):Math.abs(o-C)<l&&(l=Math.abs(o-C),x=E)));this.mostCloseGraph&&(x=this.mostCloseGraph)}if((t!=this.previousIndex||x!=this.previousMostCloseGraph)&&(this.normalizeBulletSize(),this.destroyValueBalloons(),this.resizedBullets=[],I&&this.valueBalloonsEnabled&&v&&i.balloon.enabled)){for(this.valueBalloons=v=[],r=0;r<I.length;r++)if(E=I[r],C=0/0,(!this.oneBalloonOnly||E==x)&&E.showBalloon&&!E.hidden&&E.balloonText&&("step"==E.type&&"left"==E.stepDirection&&(f=this.data[t+1]),f)){if((b=f.axes[E.valueAxis.id].graphs[E.id])&&(C=b.y),this.showNextAvailable&&isNaN(C)&&t+1<this.data.length)for(l=t+1;l<this.data.length&&(!(m=this.data[l])||(b=m.axes[E.valueAxis.id].graphs[E.id],C=b.y,isNaN(C)));l++);isNaN(C)||(m=b.x,g=!0,p?(l=C,(0>m||m>d)&&(g=!1)):(l=m,m=C,(0>l||l>u+s+1)&&(g=!1)),g&&(1!=this.graphBulletSize&&AmCharts.isModern&&(g=b.bulletGraphics)&&(g.getBBox(),g.translate(b.bx,b.by,this.graphBulletSize),this.resizedBullets.push(b),y=this.graphBulletAlpha,isNaN(y)||(g.setAttr("fill-opacity",y),g.setAttr("stroke-opacity",y))),g=E.valueBalloon,y=i.getBalloonColor(E,b),g.setBounds(h,c,h+u,c+d),g.pointerOrientation="H",R=this.balloonPointerOrientation,"vertical"==R&&(g.pointerOrientation="V"),"horizontal"==R&&(g.pointerOrientation="H"),g.changeColor(y),void 0!==E.balloonAlpha&&(g.fillAlpha=E.balloonAlpha),void 0!==E.balloonTextColor&&(g.color=E.balloonTextColor),g.setPosition(l+h,m+c),l=i.formatString(E.balloonText,b,!0),(m=E.balloonFunction)&&(l=m(b,E).toString()),""!==l&&(p?g.showBalloon(l):(g.text=l,g.show=!0),v.push({yy:C,balloon:g})),!p&&g.set&&(g.set.hide(),E=g.textDiv)&&(E.style.visibility="hidden")))}this.avoidBalloonOverlapping&&this.arrangeBalloons()}e?(s={type:"changed"},s.index=t,s.chart=this.chart,s.zooming=D,s.mostCloseGraph=x,s.position=p?o:a,s.target=this,i.fire("changed",s),this.fire("changed",s),this.skipZoomDispatch=!1):(this.skipZoomDispatch=!0,i.updateLegendValues(t)),this.previousIndex=t,this.previousMostCloseGraph=x}}}else this.hideCursor()},enableDrawing:function(t){this.enabled=!t,this.hideCursor(),this.rolledOver=!1,this.drawing=t},isZooming:function(t){t&&t!=this.zooming&&this.handleMouseDown("fake"),t||t==this.zooming||this.handleMouseUp()},handleMouseOut:function(){if(this.enabled)if(this.zooming)this.setPosition();else{this.index=void 0;var t={type:"changed",index:void 0,target:this};t.chart=this.chart,this.fire("changed",t),this.hideCursor()}},handleReleaseOutside:function(){this.handleMouseUp()},handleMouseUp:function(){var t,e=this.chart,i=this.data;if(e){var n=e.mouseX-this.x,a=e.mouseY-this.y;if(this.drawingNow){this.drawingNow=!1,AmCharts.remove(this.drawingLine),t=this.drawStartX;var o=this.drawStartY;(2<Math.abs(t-n)||2<Math.abs(o-a))&&(t={type:"draw",target:this,chart:e,initialX:t,initialY:o,finalX:n,finalY:a},this.fire(t.type,t))}if(this.enabled&&0<i.length){if(this.pan)this.rolledOver=!1;else if(this.zoomable&&this.zooming){if(t=this.selectWithoutZooming?{type:"selected"}:{type:"zoomed"},t.target=this,t.chart=e,"cursor"==this.type)this.rotate?this.selectionPosY=a:this.selectionPosX=a=n,2>Math.abs(a-this.initialMouse)&&this.fromIndex==this.index||(this.index<this.fromIndex?(t.end=this.fromIndex,t.start=this.index):(t.end=this.index,t.start=this.fromIndex),a=e.categoryAxis,a.parseDates&&!a.equalSpacing&&(t.start=i[t.start].time,t.end=e.getEndTime(i[t.end].time)),this.skipZoomDispatch||this.fire(t.type,t));else{var r=this.initialMouseX,s=this.initialMouseY;3>Math.abs(n-r)&&3>Math.abs(a-s)||(i=Math.min(r,n),o=Math.min(s,a),n=Math.abs(r-n),a=Math.abs(s-a),e.hideXScrollbar&&(i=0,n=this.width),e.hideYScrollbar&&(o=0,a=this.height),t.selectionHeight=a,t.selectionWidth=n,t.selectionY=o,t.selectionX=i,this.skipZoomDispatch||this.fire(t.type,t))}this.selectWithoutZooming||AmCharts.remove(this.selection)}this.panning=this.zooming=this.skipZoomDispatch=!1}}},showCursorAt:function(t){var e=this.chart.categoryAxis;t=e.parseDates?e.dateToCoordinate(t):e.categoryToCoordinate(t),this.previousMousePosition=0/0,this.forceShow=!0,this.setPosition(t,!1)},clearSelection:function(){AmCharts.remove(this.selection)},handleMouseDown:function(t){if(this.zoomable||this.pan||this.drawing){var e=this.rotate,i=this.chart,n=i.mouseX-this.x,a=i.mouseY-this.y;(n>0&&n<this.width&&a>0&&a<this.height||"fake"==t)&&(this.setPosition(),this.selectWithoutZooming&&AmCharts.remove(this.selection),this.drawing?(this.drawStartY=a,this.drawStartX=n,this.drawingNow=!0):this.pan?(this.zoomable=!1,i.setMouseCursor("move"),this.panning=!0,this.panClickPos=e?a:n,this.panClickStart=this.start,this.panClickEnd=this.end,this.panClickStartTime=this.startTime,this.panClickEndTime=this.endTime):this.zoomable&&("cursor"==this.type?(this.fromIndex=this.index,e?(this.initialMouse=a,this.selectionPosY=this.linePos):(this.initialMouse=n,this.selectionPosX=this.linePos)):(this.initialMouseX=n,this.initialMouseY=a,this.selectionPosX=n,this.selectionPosY=a),this.zooming=!0))}}}),AmCharts.SimpleChartScrollbar=AmCharts.Class({construct:function(t){this.createEvents("zoomed"),this.backgroundColor="#D4D4D4",this.backgroundAlpha=1,this.selectedBackgroundColor="#EFEFEF",this.scrollDuration=this.selectedBackgroundAlpha=1,this.resizeEnabled=!0,this.hideResizeGrips=!1,this.scrollbarHeight=20,this.updateOnReleaseOnly=!1,9>document.documentMode&&(this.updateOnReleaseOnly=!0),this.dragIconWidth=18,this.dragIconHeight=25,AmCharts.applyTheme(this,t,"SimpleChartScrollbar")},draw:function(){var t=this;t.destroy(),t.interval=setInterval(function(){t.updateScrollbar.call(t)},40);var e=t.chart.container,i=t.rotate,n=t.chart,a=e.set();t.set=a,n.scrollbarsSet.push(a);var o,r;if(i?(o=t.scrollbarHeight,r=n.plotAreaHeight):(r=t.scrollbarHeight,o=n.plotAreaWidth),t.width=o,(t.height=r)&&o){var s=AmCharts.rect(e,o,r,t.backgroundColor,t.backgroundAlpha,1,t.backgroundColor,t.backgroundAlpha);t.bg=s,a.push(s),s=AmCharts.rect(e,o,r,"#000",.005),a.push(s),t.invisibleBg=s,s.click(function(){t.handleBgClick()}).mouseover(function(){t.handleMouseOver()}).mouseout(function(){t.handleMouseOut()}).touchend(function(){t.handleBgClick()}),s=AmCharts.rect(e,o,r,t.selectedBackgroundColor,t.selectedBackgroundAlpha),t.selectedBG=s,a.push(s),o=AmCharts.rect(e,o,r,"#000",.005),t.dragger=o,a.push(o),o.mousedown(function(e){t.handleDragStart(e)}).mouseup(function(){t.handleDragStop()}).mouseover(function(){t.handleDraggerOver()}).mouseout(function(){t.handleMouseOut()}).touchstart(function(e){t.handleDragStart(e)}).touchend(function(){t.handleDragStop()}),o=n.pathToImages,i?(s=o+"dragIconH.gif",o=t.dragIconWidth,i=t.dragIconHeight):(s=o+"dragIcon.gif",i=t.dragIconWidth,o=t.dragIconHeight),r=e.image(s,0,0,i,o);var s=e.image(s,0,0,i,o),l=10,h=20;n.panEventsEnabled&&(l=25,h=t.scrollbarHeight);var c=AmCharts.rect(e,l,h,"#000",.005),u=AmCharts.rect(e,l,h,"#000",.005);u.translate(-(l-i)/2,-(h-o)/2),c.translate(-(l-i)/2,-(h-o)/2),i=e.set([r,u]),e=e.set([s,c]),t.iconLeft=i,t.iconRight=e,i.mousedown(function(){t.leftDragStart()}).mouseup(function(){t.leftDragStop()}).mouseover(function(){t.iconRollOver()}).mouseout(function(){t.iconRollOut()}).touchstart(function(){t.leftDragStart()}).touchend(function(){t.leftDragStop()}),e.mousedown(function(){t.rightDragStart()}).mouseup(function(){t.rightDragStop()}).mouseover(function(){t.iconRollOver()}).mouseout(function(){t.iconRollOut()}).touchstart(function(){t.rightDragStart()}).touchend(function(){t.rightDragStop()}),AmCharts.ifArray(n.chartData)?a.show():a.hide(),t.hideDragIcons(),t.clipDragger(!1)}a.translate(t.x,t.y)},updateScrollbarSize:function(t,e){var i,n,a,o,r=this.dragger;this.rotate?(i=0,n=t,a=this.width+1,o=e-t,r.setAttr("height",e-t),r.setAttr("y",n)):(i=t,n=0,a=e-t,o=this.height+1,r.setAttr("width",e-t),r.setAttr("x",i)),this.clipAndUpdate(i,n,a,o)},updateScrollbar:function(){var t,e,i,n=!1,a=this.x,o=this.y,r=this.dragger,s=this.getDBox();e=s.x+a,i=s.y+o;var l=s.width,s=s.height,h=this.rotate,c=this.chart,u=this.width,d=this.height,f=c.mouseX,m=c.mouseY;t=this.initialMouse,c.mouseIsOver&&(this.dragging&&(c=this.initialCoord,h?(t=c+(m-t),0>t&&(t=0),c=d-s,t>c&&(t=c),r.setAttr("y",t)):(t=c+(f-t),0>t&&(t=0),c=u-l,t>c&&(t=c),r.setAttr("x",t))),this.resizingRight&&(h?(t=m-i,t+i>d+o&&(t=d-i+o),0>t?(this.resizingRight=!1,n=this.resizingLeft=!0):(0===t&&(t=.1),r.setAttr("height",t))):(t=f-e,t+e>u+a&&(t=u-e+a),0>t?(this.resizingRight=!1,n=this.resizingLeft=!0):(0===t&&(t=.1),r.setAttr("width",t)))),this.resizingLeft&&(h?(e=i,i=m,o>i&&(i=o),i>d+o&&(i=d+o),t=!0===n?e-i:s+e-i,0>t?(this.resizingRight=!0,this.resizingLeft=!1,r.setAttr("y",e+s-o)):(0===t&&(t=.1),r.setAttr("y",i-o),r.setAttr("height",t))):(i=f,a>i&&(i=a),i>u+a&&(i=u+a),t=!0===n?e-i:l+e-i,0>t?(this.resizingRight=!0,this.resizingLeft=!1,r.setAttr("x",e+l-a)):(0===t&&(t=.1),r.setAttr("x",i-a),r.setAttr("width",t)))),this.clipDragger(!0))},clipDragger:function(t){var e=this.getDBox();if(e){var i=e.x,n=e.y,a=e.width,e=e.height,o=!1;this.rotate?(i=0,a=this.width+1,(this.clipY!=n||this.clipH!=e)&&(o=!0)):(n=0,e=this.height+1,(this.clipX!=i||this.clipW!=a)&&(o=!0)),o&&(this.clipAndUpdate(i,n,a,e),t&&(this.updateOnReleaseOnly||this.dispatchScrollbarEvent()))}},maskGraphs:function(){},clipAndUpdate:function(t,e,i,n){this.clipX=t,this.clipY=e,this.clipW=i,this.clipH=n,this.selectedBG.clipRect(t,e,i,n),this.updateDragIconPositions(),this.maskGraphs(t,e,i,n)},dispatchScrollbarEvent:function(){if(this.skipEvent)this.skipEvent=!1;else{var t=this.chart;t.hideBalloon();var e=this.getDBox(),i=e.x,n=e.y,a=e.width,e=e.height;this.rotate?(i=n,a=this.height/e):a=this.width/a,t={type:"zoomed",position:i,chart:t,target:this,multiplier:a},this.fire(t.type,t)}},updateDragIconPositions:function(){var t,e,i=this.getDBox(),n=i.x,a=i.y,o=this.iconLeft,r=this.iconRight,s=this.scrollbarHeight;this.rotate?(t=this.dragIconWidth,e=this.dragIconHeight,o.translate(this.x+(s-e)/2,this.y+a-t/2),r.translate(this.x+(s-e)/2,this.y+a+i.height-t/2)):(t=this.dragIconHeight,e=this.dragIconWidth,o.translate(this.x+n-e/2,this.y+(s-t)/2),r.translate(this.x+n-e/2+i.width,this.y+(s-t)/2))},showDragIcons:function(){this.resizeEnabled&&(this.iconLeft.show(),this.iconRight.show())},hideDragIcons:function(){this.resizingLeft||this.resizingRight||this.dragging||((this.hideResizeGrips||!this.resizeEnabled)&&(this.iconLeft.hide(),this.iconRight.hide()),this.removeCursors())},removeCursors:function(){this.chart.setMouseCursor("auto")},relativeZoom:function(t,e){this.dragger.stop(),this.multiplier=t,this.position=e,this.updateScrollbarSize(e,this.rotate?e+this.height/t:e+this.width/t)},destroy:function(){this.clear(),AmCharts.remove(this.set),AmCharts.remove(this.iconRight),AmCharts.remove(this.iconLeft)},clear:function(){clearInterval(this.interval)},handleDragStart:function(){var t=this.chart;this.dragger.stop(),this.removeCursors(),this.dragging=!0;var e=this.getDBox();this.rotate?(this.initialCoord=e.y,this.initialMouse=t.mouseY):(this.initialCoord=e.x,this.initialMouse=t.mouseX)},handleDragStop:function(){this.updateOnReleaseOnly&&(this.updateScrollbar(),this.skipEvent=!1,this.dispatchScrollbarEvent()),this.dragging=!1,this.mouseIsOver&&this.removeCursors(),this.updateScrollbar()},handleDraggerOver:function(){this.handleMouseOver()},leftDragStart:function(){this.dragger.stop(),this.resizingLeft=!0},leftDragStop:function(){this.resizingLeft=!1,this.mouseIsOver||this.removeCursors(),this.updateOnRelease()},rightDragStart:function(){this.dragger.stop(),this.resizingRight=!0},rightDragStop:function(){this.resizingRight=!1,this.mouseIsOver||this.removeCursors(),this.updateOnRelease()},iconRollOut:function(){this.removeCursors()},iconRollOver:function(){this.chart.setMouseCursor(this.rotate?"n-resize":"e-resize"),this.handleMouseOver()},getDBox:function(){return this.dragger?this.dragger.getBBox():void 0},handleBgClick:function(){if(!this.resizingRight&&!this.resizingLeft){this.zooming=!0;var t,e,i=this.scrollDuration,n=this.dragger;t=this.getDBox();var a=t.height,o=t.width;e=this.chart;var r=this.y,s=this.x,l=this.rotate;l?(t="y",e=e.mouseY-a/2-r,e=AmCharts.fitToBounds(e,0,this.height-a)):(t="x",e=e.mouseX-o/2-s,e=AmCharts.fitToBounds(e,0,this.width-o)),this.updateOnReleaseOnly?(this.skipEvent=!1,n.setAttr(t,e),this.dispatchScrollbarEvent(),this.clipDragger()):(e=Math.round(e),l?n.animate({y:e},i,">"):n.animate({x:e},i,">"))}},updateOnRelease:function(){this.updateOnReleaseOnly&&(this.updateScrollbar(),this.skipEvent=!1,this.dispatchScrollbarEvent())},handleReleaseOutside:function(){this.set&&((this.resizingLeft||this.resizingRight||this.dragging)&&(this.updateOnRelease(),this.removeCursors()),this.mouseIsOver=this.dragging=this.resizingRight=this.resizingLeft=!1,this.hideDragIcons(),this.updateScrollbar())},handleMouseOver:function(){this.mouseIsOver=!0,this.showDragIcons()},handleMouseOut:function(){this.mouseIsOver=!1,this.hideDragIcons()}}),AmCharts.ChartScrollbar=AmCharts.Class({inherits:AmCharts.SimpleChartScrollbar,construct:function(t){this.cname="ChartScrollbar",AmCharts.ChartScrollbar.base.construct.call(this,t),this.graphLineColor="#BBBBBB",this.graphLineAlpha=0,this.graphFillColor="#BBBBBB",this.graphFillAlpha=1,this.selectedGraphLineColor="#888888",this.selectedGraphLineAlpha=0,this.selectedGraphFillColor="#888888",this.selectedGraphFillAlpha=1,this.gridCount=0,this.gridColor="#FFFFFF",this.gridAlpha=.7,this.skipEvent=this.autoGridCount=!1,this.color="#FFFFFF",this.scrollbarCreated=!1,this.offset=0,AmCharts.applyTheme(this,t,this.cname)},init:function(){var t=this.categoryAxis,e=this.chart;if(t||(this.categoryAxis=t=new AmCharts.CategoryAxis),t.chart=e,t.id="scrollbar",t.dateFormats=e.categoryAxis.dateFormats,t.markPeriodChange=e.categoryAxis.markPeriodChange,t.boldPeriodBeginning=e.categoryAxis.boldPeriodBeginning,t.axisItemRenderer=AmCharts.RecItem,t.axisRenderer=AmCharts.RecAxis,t.guideFillRenderer=AmCharts.RecFill,t.inside=!0,t.fontSize=this.fontSize,t.tickLength=0,t.axisAlpha=0,AmCharts.isString(this.graph)&&(this.graph=AmCharts.getObjById(e.graphs,this.graph)),t=this.graph){var i=this.valueAxis;i||(this.valueAxis=i=new AmCharts.ValueAxis,i.visible=!1,i.scrollbar=!0,i.axisItemRenderer=AmCharts.RecItem,i.axisRenderer=AmCharts.RecAxis,i.guideFillRenderer=AmCharts.RecFill,i.labelsEnabled=!1,i.chart=e),e=this.unselectedGraph,e||(e=new AmCharts.AmGraph,e.scrollbar=!0,this.unselectedGraph=e,e.negativeBase=t.negativeBase,e.noStepRisers=t.noStepRisers),e=this.selectedGraph,e||(e=new AmCharts.AmGraph,e.scrollbar=!0,this.selectedGraph=e,e.negativeBase=t.negativeBase,e.noStepRisers=t.noStepRisers)}this.scrollbarCreated=!0},draw:function(){var t=this;AmCharts.ChartScrollbar.base.draw.call(t),t.scrollbarCreated||t.init();var e=t.chart,i=e.chartData,n=t.categoryAxis,a=t.rotate,o=t.x,r=t.y,s=t.width,l=t.height,h=e.categoryAxis,c=t.set;if(n.setOrientation(!a),n.parseDates=h.parseDates,n.rotate=a,n.equalSpacing=h.equalSpacing,n.minPeriod=h.minPeriod,n.startOnAxis=h.startOnAxis,n.viW=s,n.viH=l,n.width=s,n.height=l,n.gridCount=t.gridCount,n.gridColor=t.gridColor,n.gridAlpha=t.gridAlpha,n.color=t.color,n.tickLength=0,n.axisAlpha=0,n.autoGridCount=t.autoGridCount,n.parseDates&&!n.equalSpacing&&n.timeZoom(e.firstTime,e.lastTime),n.zoom(0,i.length-1),h=t.graph){var u=t.valueAxis,d=h.valueAxis;u.id=d.id,u.rotate=a,u.setOrientation(a),u.width=s,u.height=l,u.viW=s,u.viH=l,u.dataProvider=i,u.reversed=d.reversed,u.logarithmic=d.logarithmic,u.gridAlpha=0,u.axisAlpha=0,c.push(u.set),a?(u.y=r,u.x=0):(u.x=o,u.y=0);var f,o=1/0,r=-1/0;for(f=0;f<i.length;f++){var m,p=i[f].axes[d.id].graphs[h.id].values;for(m in p)if(p.hasOwnProperty(m)&&"percents"!=m&&"total"!=m){var g=p[m];o>g&&(o=g),g>r&&(r=g)}}1/0!=o&&(u.minimum=o),-1/0!=r&&(u.maximum=r+.1*(r-o)),o==r&&(u.minimum-=1,u.maximum+=1),void 0!==t.minimum&&(u.minimum=t.minimum),void 0!==t.maximum&&(u.maximum=t.maximum),u.zoom(0,i.length-1),m=t.unselectedGraph,m.id=h.id,m.rotate=a,m.chart=e,m.data=i,m.valueAxis=u,m.chart=h.chart,m.categoryAxis=t.categoryAxis,m.periodSpan=h.periodSpan,m.valueField=h.valueField,m.openField=h.openField,m.closeField=h.closeField,m.highField=h.highField,m.lowField=h.lowField,m.lineAlpha=t.graphLineAlpha,m.lineColorR=t.graphLineColor,m.fillAlphas=t.graphFillAlpha,m.fillColorsR=t.graphFillColor,m.connect=h.connect,m.hidden=h.hidden,m.width=s,m.height=l,m.pointPosition=h.pointPosition,m.stepDirection=h.stepDirection,m.periodSpan=h.periodSpan,d=t.selectedGraph,d.id=h.id,d.rotate=a,d.chart=e,d.data=i,d.valueAxis=u,d.chart=h.chart,d.categoryAxis=n,d.periodSpan=h.periodSpan,d.valueField=h.valueField,d.openField=h.openField,d.closeField=h.closeField,d.highField=h.highField,d.lowField=h.lowField,d.lineAlpha=t.selectedGraphLineAlpha,d.lineColorR=t.selectedGraphLineColor,d.fillAlphas=t.selectedGraphFillAlpha,d.fillColorsR=t.selectedGraphFillColor,d.connect=h.connect,d.hidden=h.hidden,d.width=s,d.height=l,d.pointPosition=h.pointPosition,d.stepDirection=h.stepDirection,d.periodSpan=h.periodSpan,e=t.graphType,e||(e=h.type),m.type=e,d.type=e,i=i.length-1,m.zoom(0,i),d.zoom(0,i),d.set.click(function(){t.handleBackgroundClick()}).mouseover(function(){t.handleMouseOver()}).mouseout(function(){t.handleMouseOut()}),m.set.click(function(){t.handleBackgroundClick()}).mouseover(function(){t.handleMouseOver()}).mouseout(function(){t.handleMouseOut()}),c.push(m.set),c.push(d.set)}c.push(n.set),c.push(n.labelsSet),t.bg.toBack(),t.invisibleBg.toFront(),t.dragger.toFront(),t.iconLeft.toFront(),t.iconRight.toFront()},timeZoom:function(t,e,i){this.startTime=t,this.endTime=e,this.timeDifference=e-t,this.skipEvent=!AmCharts.toBoolean(i),this.zoomScrollbar(),this.skipEvent||this.dispatchScrollbarEvent()},zoom:function(t,e){this.start=t,this.end=e,this.skipEvent=!0,this.zoomScrollbar()},dispatchScrollbarEvent:function(){if(this.skipEvent)this.skipEvent=!1;else{var t,e,i=this.chart.chartData,n=this.dragger.getBBox();t=n.x;var a=n.y,o=n.width;e=n.height,n=this.chart,this.rotate?t=a:e=o,o={type:"zoomed",target:this},o.chart=n;var r=this.categoryAxis,s=this.stepWidth,a=n.minSelectedTime;r.parseDates&&!r.equalSpacing?(i=n.lastTime,n=n.firstTime,r.minDuration(),r=Math.round(t/s)+n,t=this.dragging?r+this.timeDifference:Math.round((t+e)/s)+n,r>t&&(r=t),a>0&&a>t-r&&(t=Math.round(r+(t-r)/2),e=Math.round(a/2),r=t-e,t+=e),t>i&&(t=i),r>t-a&&(r=t-a),n>r&&(r=n),r+a>t&&(t=r+a),(r!=this.startTime||t!=this.endTime)&&(this.startTime=r,this.endTime=t,o.start=r,o.end=t,o.startDate=new Date(r),o.endDate=new Date(t),this.fire(o.type,o))):(r.startOnAxis||(t+=s/2),e-=this.stepWidth/2,a=r.xToIndex(t),t=r.xToIndex(t+e),(a!=this.start||this.end!=t)&&(r.startOnAxis&&(this.resizingRight&&a==t&&t++,this.resizingLeft&&a==t&&(a>0?a--:t=1)),this.start=a,this.end=this.dragging?this.start+this.difference:t,o.start=this.start,o.end=this.end,r.parseDates&&(i[this.start]&&(o.startDate=new Date(i[this.start].time)),i[this.end]&&(o.endDate=new Date(i[this.end].time))),this.fire(o.type,o)))
}this.zoomScrollbar()},zoomScrollbar:function(){var t,e;t=this.chart;var i=t.chartData,n=this.categoryAxis;n.parseDates&&!n.equalSpacing?(i=n.stepWidth,n=t.firstTime,t=i*(this.startTime-n),e=i*(this.endTime-n)):(t=i[this.start].x[n.id],e=i[this.end].x[n.id],i=n.stepWidth,n.startOnAxis||(n=i/2,t-=n,e+=n)),this.stepWidth=i,this.updateScrollbarSize(t,e)},maskGraphs:function(t,e,i,n){var a=this.selectedGraph;a&&a.set.clipRect(t,e,i,n)},handleDragStart:function(){AmCharts.ChartScrollbar.base.handleDragStart.call(this),this.difference=this.end-this.start,this.timeDifference=this.endTime-this.startTime,0>this.timeDifference&&(this.timeDifference=0)},handleBackgroundClick:function(){AmCharts.ChartScrollbar.base.handleBackgroundClick.call(this),this.dragging||(this.difference=this.end-this.start,this.timeDifference=this.endTime-this.startTime,0>this.timeDifference&&(this.timeDifference=0))}}),AmCharts.AmBalloon=AmCharts.Class({construct:function(t){this.cname="AmBalloon",this.enabled=!0,this.fillColor="#FFFFFF",this.fillAlpha=.8,this.borderThickness=2,this.borderColor="#FFFFFF",this.borderAlpha=1,this.cornerRadius=0,this.maximumWidth=220,this.horizontalPadding=8,this.verticalPadding=4,this.pointerWidth=6,this.pointerOrientation="V",this.color="#000000",this.adjustBorderColor=!0,this.show=this.follow=this.showBullet=!1,this.bulletSize=3,this.shadowAlpha=.4,this.shadowColor="#000000",this.fadeOutDuration=this.animationDuration=.3,this.fixedPosition=!1,this.offsetY=6,this.offsetX=1,this.textAlign="center",AmCharts.isModern||(this.offsetY*=1.5),AmCharts.applyTheme(this,t,this.cname)},draw:function(){var t=this.pointToX,e=this.pointToY;this.deltaSignX=this.deltaSignY=1;var i=this.chart;if(AmCharts.VML&&(this.fadeOutDuration=0),this.xAnim&&i.stopAnim(this.xAnim),this.yAnim&&i.stopAnim(this.yAnim),!isNaN(t)){var n=this.follow,a=i.container,o=this.set;if(AmCharts.remove(o),this.removeDiv(),o=a.set(),o.node.style.pointerEvents="none",this.set=o,i.balloonsSet.push(o),this.show){var r=this.l,s=this.t,l=this.r,h=this.b,c=this.balloonColor,u=this.fillColor,d=this.borderColor,f=u;void 0!=c&&(this.adjustBorderColor?f=d=c:u=c);var m=this.horizontalPadding,p=this.verticalPadding,g=this.pointerWidth,v=this.pointerOrientation,C=this.cornerRadius,E=i.fontFamily,b=this.fontSize;void 0==b&&(b=i.fontSize);var c=document.createElement("div"),T=c.style;T.pointerEvents="none",T.position="absolute";var y=this.minWidth,D="";isNaN(y)||(D="min-width:"+(y-2*m)+"px; "),c.innerHTML='<div style="text-align:'+this.textAlign+"; "+D+"max-width:"+this.maxWidth+"px; font-size:"+b+"px; color:"+this.color+"; font-family:"+E+'">'+this.text+"</div>",i.chartDiv.appendChild(c),this.textDiv=c,b=c.offsetWidth,E=c.offsetHeight,c.clientHeight&&(b=c.clientWidth,E=c.clientHeight),E+=2*p,D=b+2*m,!isNaN(y)&&y>D&&(D=y),window.opera&&(E+=2);var O=!1,b=this.offsetY;i.handDrawn&&(b+=i.handDrawScatter+2),"H"!=v?(y=t-D/2,s+E+10>e&&"down"!=v?(O=!0,n&&(e+=b),b=e+g,this.deltaSignY=-1):(n&&(e-=b),b=e-E-g,this.deltaSignY=1)):(2*g>E&&(g=E/2),b=e-E/2,r+(l-r)/2>t?(y=t+g,this.deltaSignX=-1):(y=t-D-g,this.deltaSignX=1)),b+E>=h&&(b=h-E),s>b&&(b=s),r>y&&(y=r),y+D>l&&(y=l-D);var I,s=b+p,h=y+m,p=this.shadowAlpha,R=this.shadowColor,m=this.borderThickness,x=this.bulletSize;C>0||0===g?(p>0&&(t=AmCharts.rect(a,D,E,u,0,m+1,R,p,this.cornerRadius),AmCharts.isModern?t.translate(1,1):t.translate(4,4),o.push(t)),u=AmCharts.rect(a,D,E,u,this.fillAlpha,m,d,this.borderAlpha,this.cornerRadius),this.showBullet&&(I=AmCharts.circle(a,x,f,this.fillAlpha),o.push(I))):(f=[],C=[],"H"!=v?(r=t-y,r>D-g&&(r=D-g),g>r&&(r=g),f=[0,r-g,t-y,r+g,D,D,0,0],C=O?[0,0,e-b,0,0,E,E,0]:[E,E,e-b,E,E,0,0,E]):(f=e-b,f>E-g&&(f=E-g),g>f&&(f=g),C=[0,f-g,e-b,f+g,E,E,0,0],f=r+(l-r)/2>t?[0,0,t>y?0:t-y,0,0,D,D,0]:[D,D,y+D>t?D:t-y,D,D,0,0,D]),p>0&&(t=AmCharts.polygon(a,f,C,u,0,m,R,p),t.translate(1,1),o.push(t)),u=AmCharts.polygon(a,f,C,u,this.fillAlpha,m,d,this.borderAlpha)),this.bg=u,o.push(u),u.toFront(),a=1*this.deltaSignX,T.left=h+"px",T.top=s+"px",o.translate(y-a,b),u=u.getBBox(),this.bottom=b+E+1,this.yPos=u.y+b,I&&I.translate(this.pointToX-y+a,e-b),e=this.animationDuration,0<this.animationDuration&&!n&&!isNaN(this.prevX)&&(o.translate(this.prevX,this.prevY),o.animate({translate:y-a+","+b},e,"easeOutSine"),c&&(T.left=this.prevTX+"px",T.top=this.prevTY+"px",this.xAnim=i.animate({node:c},"left",this.prevTX,h,e,"easeOutSine","px"),this.yAnim=i.animate({node:c},"top",this.prevTY,s,e,"easeOutSine","px"))),this.prevX=y-a,this.prevY=b,this.prevTX=h,this.prevTY=s}}},followMouse:function(){if(this.follow&&this.show){var t=this.chart.mouseX-this.offsetX*this.deltaSignX,e=this.chart.mouseY;if(this.pointToX=t,this.pointToY=e,t!=this.previousX||e!=this.previousY)if(this.previousX=t,this.previousY=e,0===this.cornerRadius)this.draw();else{var i=this.set;if(i){var n=i.getBBox(),t=t-n.width/2,a=e-n.height-10;t<this.l&&(t=this.l),t>this.r-n.width&&(t=this.r-n.width),a<this.t&&(a=e+10),i.translate(t,a),e=this.textDiv.style,e.left=t+this.horizontalPadding+"px",e.top=a+this.verticalPadding+"px"}}}},changeColor:function(t){this.balloonColor=t},setBounds:function(t,e,i,n){this.l=t,this.t=e,this.r=i,this.b=n,this.destroyTO&&clearTimeout(this.destroyTO)},showBalloon:function(t){this.text=t,this.show=!0,this.destroyTO&&clearTimeout(this.destroyTO),t=this.chart,this.fadeAnim1&&t.stopAnim(this.fadeAnim1),this.fadeAnim2&&t.stopAnim(this.fadeAnim2),this.draw()},hide:function(){var t=this,e=t.fadeOutDuration,i=t.chart;if(e>0){t.destroyTO=setTimeout(function(){t.destroy.call(t)},1e3*e),t.follow=!1,t.show=!1;var n=t.set;n&&(n.setAttr("opacity",t.fillAlpha),t.fadeAnim1=n.animate({opacity:0},e,"easeInSine")),t.textDiv&&(t.fadeAnim2=i.animate({node:t.textDiv},"opacity",1,0,e,"easeInSine",""))}else t.show=!1,t.follow=!1,t.destroy()},setPosition:function(t,e,i){this.pointToX=t,this.pointToY=e,i&&(t==this.previousX&&e==this.previousY||this.draw()),this.previousX=t,this.previousY=e},followCursor:function(t){var e=this;(e.follow=t)?(e.pShowBullet=e.showBullet,e.showBullet=!1):void 0!==e.pShowBullet&&(e.showBullet=e.pShowBullet),clearInterval(e.interval);var i=e.chart.mouseX,n=e.chart.mouseY;!isNaN(i)&&t&&(e.pointToX=i-e.offsetX*e.deltaSignX,e.pointToY=n,e.followMouse(),e.interval=setInterval(function(){e.followMouse.call(e)},40))},removeDiv:function(){if(this.textDiv){var t=this.textDiv.parentNode;t&&t.removeChild(this.textDiv)}},destroy:function(){clearInterval(this.interval),AmCharts.remove(this.set),this.removeDiv(),this.set=null}}),AmCharts.AmCoordinateChart=AmCharts.Class({inherits:AmCharts.AmChart,construct:function(t){AmCharts.AmCoordinateChart.base.construct.call(this,t),this.theme=t,this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph"),this.startAlpha=1,this.startDuration=0,this.startEffect="elastic",this.sequencedAnimation=!0,this.colors="#FF6600 #FCD202 #B0DE09 #0D8ECF #2A0CD0 #CD0D74 #CC0000 #00CC00 #0000CC #DDDDDD #999999 #333333 #990000".split(" "),this.balloonDateFormat="MMM DD, YYYY",this.valueAxes=[],this.graphs=[],this.guides=[],this.gridAboveGraphs=!1,AmCharts.applyTheme(this,t,"AmCoordinateChart")},initChart:function(){AmCharts.AmCoordinateChart.base.initChart.call(this);var t=this.categoryAxis;t&&(this.categoryAxis=AmCharts.processObject(t,AmCharts.CategoryAxis,this.theme)),this.processValueAxes(),this.createValueAxes(),this.processGraphs(),this.processGuides(),AmCharts.VML&&(this.startAlpha=1),this.setLegendData(this.graphs),this.gridAboveGraphs&&this.gridSet.toFront()},createValueAxes:function(){if(0===this.valueAxes.length){var t=new AmCharts.ValueAxis;this.addValueAxis(t)}},parseData:function(){this.processValueAxes(),this.processGraphs()},parseSerialData:function(){var t,e=this.graphs,i={},n=this.seriesIdField;n||(n=this.categoryField),this.chartData=[];var a=this.dataProvider;if(a){var o,r,s,l=!1,h=this.categoryAxis;h&&(l=h.parseDates,r=h.forceShowField,s=h.labelColorField,o=h.categoryFunction);var c,u,d,f={};l&&(t=AmCharts.extractPeriod(h.minPeriod),c=t.period,u=t.count,d=AmCharts.getPeriodDuration(c,u));var m={};this.lookupTable=m;var p,g=this.dataDateFormat,v={};for(p=0;p<a.length;p++){var C={},E=a[p];if(t=E[this.categoryField],C.dataContext=E,C.category=o?o(t,E,h):String(t),r&&(C.forceShow=E[r]),s&&(C.labelColor=E[s]),m[E[n]]=C,!l||(t=h.categoryFunction?h.categoryFunction(t,E,h):t instanceof Date?AmCharts.newDate(t,h.minPeriod):g?AmCharts.stringToDate(t,g):new Date(t),t=AmCharts.resetDateToMin(t,c,u,h.firstDayOfWeek),C.category=t,C.time=t.getTime(),!isNaN(C.time))){var b=this.valueAxes;C.axes={},C.x={};var T;for(T=0;T<b.length;T++){var y=b[T].id;C.axes[y]={},C.axes[y].graphs={};var D;for(D=0;D<e.length;D++){t=e[D];var O=t.id,I=t.periodValue;if(t.valueAxis.id==y){C.axes[y].graphs[O]={};var R={};R.index=p;var x=E;t.dataProvider&&(x=i),R.values=this.processValues(x,t,I),!t.connect&&v&&v[O]&&C.time-f[O]>1.1*d&&(v[O].gap=!0),this.processFields(t,R,x),R.category=C.category,R.serialDataItem=C,R.graph=t,C.axes[y].graphs[O]=R}f[O]=C.time,v[O]=R}}this.chartData[p]=C}}}for(i=0;i<e.length;i++)t=e[i],t.dataProvider&&this.parseGraphData(t)},processValues:function(t,e,i){var n,a={},o=!1;return"candlestick"!=e.type&&"ohlc"!=e.type||""===i||(o=!0),n=Number(t[e.valueField+i]),isNaN(n)||(a.value=n),n=Number(t[e.errorField+i]),isNaN(n)||(a.error=n),o&&(i="Open"),n=Number(t[e.openField+i]),isNaN(n)||(a.open=n),o&&(i="Close"),n=Number(t[e.closeField+i]),isNaN(n)||(a.close=n),o&&(i="Low"),n=Number(t[e.lowField+i]),isNaN(n)||(a.low=n),o&&(i="High"),n=Number(t[e.highField+i]),isNaN(n)||(a.high=n),a},parseGraphData:function(t){var e=t.dataProvider,i=t.seriesIdField;i||(i=this.seriesIdField),i||(i=this.categoryField);var n;for(n=0;n<e.length;n++){var a=e[n],o=this.lookupTable[String(a[i])],r=t.valueAxis.id;o&&(r=o.axes[r].graphs[t.id],r.serialDataItem=o,r.values=this.processValues(a,t,t.periodValue),this.processFields(t,r,a))}},addValueAxis:function(t){t.chart=this,this.valueAxes.push(t),this.validateData()},removeValueAxesAndGraphs:function(){var t,e=this.valueAxes;for(t=e.length-1;t>-1;t--)this.removeValueAxis(e[t])},removeValueAxis:function(t){var e,i=this.graphs;for(e=i.length-1;e>=0;e--){var n=i[e];n&&n.valueAxis==t&&this.removeGraph(n)}for(i=this.valueAxes,e=i.length-1;e>=0;e--)i[e]==t&&i.splice(e,1);this.validateData()},addGraph:function(t){this.graphs.push(t),this.chooseGraphColor(t,this.graphs.length-1),this.validateData()},removeGraph:function(t){var e,i=this.graphs;for(e=i.length-1;e>=0;e--)i[e]==t&&(i.splice(e,1),t.destroy());this.validateData()},processValueAxes:function(){var t,e=this.valueAxes;for(t=0;t<e.length;t++){var i=e[t],i=AmCharts.processObject(i,AmCharts.ValueAxis,this.theme);e[t]=i,i.chart=this,i.id||(i.id="valueAxisAuto"+t+"_"+(new Date).getTime()),void 0===i.usePrefixes&&(i.usePrefixes=this.usePrefixes)}},processGuides:function(){var t=this.guides,e=this.categoryAxis;if(t)for(var i=0;i<t.length;i++){var n=t[i];(void 0!==n.category||void 0!==n.date)&&e&&e.addGuide(n);var a=n.valueAxis;a?(AmCharts.isString(a)&&(a=this.getValueAxisById(a)),a?a.addGuide(n):this.valueAxes[0].addGuide(n)):isNaN(n.value)||this.valueAxes[0].addGuide(n)}},processGraphs:function(){var t,e=this.graphs;for(t=0;t<e.length;t++){var i=e[t],i=AmCharts.processObject(i,AmCharts.AmGraph,this.theme);e[t]=i,this.chooseGraphColor(i,t),i.chart=this,AmCharts.isString(i.valueAxis)&&(i.valueAxis=this.getValueAxisById(i.valueAxis)),i.valueAxis||(i.valueAxis=this.valueAxes[0]),i.id||(i.id="graphAuto"+t+"_"+(new Date).getTime())}},formatString:function(t,e,i){var n=e.graph,a=n.valueAxis;return a.duration&&e.values.value&&(a=AmCharts.formatDuration(e.values.value,a.duration,"",a.durationUnits,a.maxInterval,a.numberFormatter),t=t.split("[[value]]").join(a)),t=AmCharts.massReplace(t,{"[[title]]":n.title,"[[description]]":e.description}),t=i?AmCharts.fixNewLines(t):AmCharts.fixBrakes(t),t=AmCharts.cleanFromEmpty(t)},getBalloonColor:function(t,e,i){var n=t.lineColor,a=t.balloonColor;return i&&(a=n),i=t.fillColorsR,"object"==typeof i?n=i[0]:void 0!==i&&(n=i),e.isNegative&&(i=t.negativeLineColor,t=t.negativeFillColors,"object"==typeof t?i=t[0]:void 0!==t&&(i=t),void 0!==i&&(n=i)),void 0!==e.color&&(n=e.color),void 0===a&&(a=n),a},getGraphById:function(t){return AmCharts.getObjById(this.graphs,t)},getValueAxisById:function(t){return AmCharts.getObjById(this.valueAxes,t)},processFields:function(t,e,i){if(t.itemColors){var n=t.itemColors,a=e.index;e.color=a<n.length?n[a]:AmCharts.randomColor()}for(n="lineColor color alpha fillColors description bullet customBullet bulletSize bulletConfig url labelColor dashLength pattern".split(" "),a=0;a<n.length;a++){var o=n[a],r=t[o+"Field"];r&&(r=i[r],AmCharts.isDefined(r)&&(e[o]=r))}e.dataContext=i},chooseGraphColor:function(t,e){if(t.lineColor)t.lineColorR=t.lineColor;else{var i;i=this.colors.length>e?this.colors[e]:AmCharts.randomColor(),t.lineColorR=i}t.fillColorsR=t.fillColors?t.fillColors:t.lineColorR,t.bulletBorderColorR=t.bulletBorderColor?t.bulletBorderColor:t.useLineColorForBulletBorder?t.lineColorR:t.bulletColor,t.bulletColorR=t.bulletColor?t.bulletColor:t.lineColorR,(i=this.patterns)&&(t.pattern=i[e])},handleLegendEvent:function(t){var e=t.type;if(t=t.dataItem,!this.legend.data&&t){var i=t.hidden,n=t.showBalloon;switch(e){case"clickMarker":this.textClickEnabled&&(n?this.hideGraphsBalloon(t):this.showGraphsBalloon(t));break;case"clickLabel":n?this.hideGraphsBalloon(t):this.showGraphsBalloon(t);break;case"rollOverItem":i||this.highlightGraph(t);break;case"rollOutItem":i||this.unhighlightGraph();break;case"hideItem":this.hideGraph(t);break;case"showItem":this.showGraph(t)}}},highlightGraph:function(t){var e,i=this.graphs,n=.2;if(this.legend&&(n=this.legend.rollOverGraphAlpha),1!=n)for(e=0;e<i.length;e++){var a=i[e];a!=t&&a.changeOpacity(n)}},unhighlightGraph:function(){var t;if(this.legend&&(t=this.legend.rollOverGraphAlpha),1!=t){t=this.graphs;var e;for(e=0;e<t.length;e++)t[e].changeOpacity(1)}},showGraph:function(t){t.switchable&&(t.hidden=!1,this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),this.chartCreated&&this.initChart())},hideGraph:function(t){t.switchable&&(this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),t.hidden=!0,this.chartCreated&&this.initChart())},hideGraphsBalloon:function(t){t.showBalloon=!1,this.updateLegend()},showGraphsBalloon:function(t){t.showBalloon=!0,this.updateLegend()},updateLegend:function(){this.legend&&this.legend.invalidateSize()},resetAnimation:function(){var t=this.graphs;if(t){var e;for(e=0;e<t.length;e++)t[e].animationPlayed=!1}},animateAgain:function(){this.resetAnimation(),this.validateNow()}}),AmCharts.AmSlicedChart=AmCharts.Class({inherits:AmCharts.AmChart,construct:function(t){this.createEvents("rollOverSlice","rollOutSlice","clickSlice","pullOutSlice","pullInSlice","rightClickSlice"),AmCharts.AmSlicedChart.base.construct.call(this,t),this.colors="#FF0F00 #FF6600 #FF9E01 #FCD202 #F8FF01 #B0DE09 #04D215 #0D8ECF #0D52D1 #2A0CD0 #8A0CCF #CD0D74 #754DEB #DDDDDD #999999 #333333 #000000 #57032A #CA9726 #990000 #4B0C25".split(" "),this.alpha=1,this.groupPercent=0,this.groupedTitle="Other",this.groupedPulled=!1,this.groupedAlpha=1,this.marginLeft=0,this.marginBottom=this.marginTop=10,this.marginRight=0,this.hoverAlpha=1,this.outlineColor="#FFFFFF",this.outlineAlpha=0,this.outlineThickness=1,this.startAlpha=0,this.startDuration=1,this.startEffect="bounce",this.sequencedAnimation=!0,this.pullOutDuration=1,this.pullOutEffect="bounce",this.pullOnHover=this.pullOutOnlyOne=!1,this.labelsEnabled=!0,this.labelTickColor="#000000",this.labelTickAlpha=.2,this.hideLabelsPercent=0,this.urlTarget="_self",this.autoMarginOffset=10,this.gradientRatio=[],this.maxLabelWidth=200,AmCharts.applyTheme(this,t,"AmSlicedChart")},initChart:function(){AmCharts.AmSlicedChart.base.initChart.call(this),this.dataChanged&&(this.parseData(),this.dispatchDataUpdated=!0,this.dataChanged=!1,this.setLegendData(this.chartData)),this.drawChart()},handleLegendEvent:function(t){var e=t.type;if(t=t.dataItem,!this.legend.data&&t){var i=t.hidden;switch(e){case"clickMarker":i||this.clickSlice(t);break;case"clickLabel":i||this.clickSlice(t);break;case"rollOverItem":i||this.rollOverSlice(t,!1);break;case"rollOutItem":i||this.rollOutSlice(t);break;case"hideItem":this.hideSlice(t);break;case"showItem":this.showSlice(t)}}},invalidateVisibility:function(){this.recalculatePercents(),this.initChart();var t=this.legend;t&&t.invalidateSize()},addEventListeners:function(t,e){var i=this;t.mouseover(function(t){i.rollOverSlice(e,!0,t)}).mouseout(function(t){i.rollOutSlice(e,t)}).touchend(function(t){i.rollOverSlice(e,t),i.panEventsEnabled&&i.clickSlice(e,t)}).touchstart(function(t){i.rollOverSlice(e,t)}).click(function(t){i.clickSlice(e,t)}).contextmenu(function(t){i.handleRightClick(e,t)})},formatString:function(t,e,i){return t=AmCharts.formatValue(t,e,["value"],this.nf,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),t=AmCharts.formatValue(t,e,["percents"],this.pf),t=AmCharts.massReplace(t,{"[[title]]":e.title,"[[description]]":e.description}),-1!=t.indexOf("[[")&&(t=AmCharts.formatDataContextValue(t,e.dataContext)),t=i?AmCharts.fixNewLines(t):AmCharts.fixBrakes(t),t=AmCharts.cleanFromEmpty(t)},startSlices:function(){var t;for(t=0;t<this.chartData.length;t++)0<this.startDuration&&this.sequencedAnimation?this.setStartTO(t):this.startSlice(this.chartData[t])},setStartTO:function(t){var e=this;t=setTimeout(function(){e.startSequenced.call(e)},e.startDuration/e.chartData.length*500*t),e.timeOuts.push(t)},pullSlices:function(t){var e,i=this.chartData;for(e=0;e<i.length;e++){var n=i[e];n.pulled&&this.pullSlice(n,1,t)}},startSequenced:function(){var t,e=this.chartData;for(t=0;t<e.length;t++)if(!e[t].started){this.startSlice(this.chartData[t]);break}},startSlice:function(t){t.started=!0;var e=t.wedge,i=this.startDuration;e&&i>0&&(0<t.alpha&&e.show(),e.translate(t.startX,t.startY),e.animate({opacity:1,translate:"0,0"},i,this.startEffect))},showLabels:function(){var t,e=this.chartData;for(t=0;t<e.length;t++){var i=e[t];if(0<i.alpha){var n=i.label;n&&n.show(),(i=i.tick)&&i.show()}}},showSlice:function(t){isNaN(t)?t.hidden=!1:this.chartData[t].hidden=!1,this.invalidateVisibility()},hideSlice:function(t){isNaN(t)?t.hidden=!0:this.chartData[t].hidden=!0,this.hideBalloon(),this.invalidateVisibility()},rollOverSlice:function(t,e,i){if(isNaN(t)||(t=this.chartData[t]),clearTimeout(this.hoverInt),!t.hidden){this.pullOnHover&&this.pullSlice(t,1),1>this.hoverAlpha&&t.wedge&&t.wedge.attr({opacity:this.hoverAlpha});var n=t.balloonX,a=t.balloonY;t.pulled&&(n+=t.pullX,a+=t.pullY);var o=this.formatString(this.balloonText,t,!0),r=this.balloonFunction;r&&(o=r(t,o)),r=AmCharts.adjustLuminosity(t.color,-.15),this.showBalloon(o,r,e,n,a),t={type:"rollOverSlice",dataItem:t,chart:this,event:i},this.fire(t.type,t)}},rollOutSlice:function(t,e){isNaN(t)||(t=this.chartData[t]),t.wedge&&t.wedge.attr({opacity:1}),this.hideBalloon();var i={type:"rollOutSlice",dataItem:t,chart:this,event:e};this.fire(i.type,i)},clickSlice:function(t,e){isNaN(t)||(t=this.chartData[t]),t.pulled?this.pullSlice(t,0):this.pullSlice(t,1),AmCharts.getURL(t.url,this.urlTarget);var i={type:"clickSlice",dataItem:t,chart:this,event:e};this.fire(i.type,i)},handleRightClick:function(t,e){isNaN(t)||(t=this.chartData[t]);var i={type:"rightClickSlice",dataItem:t,chart:this,event:e};this.fire(i.type,i)},drawTicks:function(){var t,e=this.chartData;for(t=0;t<e.length;t++){var i=e[t];if(i.label){var n=i.ty,n=AmCharts.line(this.container,[i.tx0,i.tx,i.tx2],[i.ty0,n,n],this.labelTickColor,this.labelTickAlpha);i.tick=n,i.wedge.push(n)}}},initialStart:function(){var t=this,e=t.startDuration,i=setTimeout(function(){t.showLabels.call(t)},1e3*e);t.timeOuts.push(i),t.chartCreated?t.pullSlices(!0):(t.startSlices(),e>0?(e=setTimeout(function(){t.pullSlices.call(t)},1200*e),t.timeOuts.push(e)):t.pullSlices(!0))},pullSlice:function(t,e,i){var n=this.pullOutDuration;!0===i&&(n=0),(i=t.wedge)&&(n>0?i.animate({translate:e*t.pullX+","+e*t.pullY},n,this.pullOutEffect):i.translate(e*t.pullX,e*t.pullY)),1==e?(t.pulled=!0,this.pullOutOnlyOne&&this.pullInAll(t.index),t={type:"pullOutSlice",dataItem:t,chart:this}):(t.pulled=!1,t={type:"pullInSlice",dataItem:t,chart:this}),this.fire(t.type,t)},pullInAll:function(t){var e,i=this.chartData;for(e=0;e<this.chartData.length;e++)e!=t&&i[e].pulled&&this.pullSlice(i[e],0)},pullOutAll:function(t){t=this.chartData;var e;for(e=0;e<t.length;e++)t[e].pulled||this.pullSlice(t[e],1)},parseData:function(){var t=[];this.chartData=t;var e=this.dataProvider;if(isNaN(this.pieAlpha)||(this.alpha=this.pieAlpha),void 0!==e){var i,n,a,o=e.length,r=0;for(i=0;o>i;i++){n={};var s=e[i];n.dataContext=s,n.value=Number(s[this.valueField]),(a=s[this.titleField])||(a=""),n.title=a,n.pulled=AmCharts.toBoolean(s[this.pulledField],!1),(a=s[this.descriptionField])||(a=""),n.description=a,n.labelRadius=Number(s[this.labelRadiusField]),n.switchable=!0,n.url=s[this.urlField],a=s[this.patternField],!a&&this.patterns&&(a=this.patterns[i]),n.pattern=a,n.visibleInLegend=AmCharts.toBoolean(s[this.visibleInLegendField],!0),a=s[this.alphaField],n.alpha=void 0!==a?Number(a):this.alpha,a=s[this.colorField],void 0!==a&&(n.color=AmCharts.toColor(a)),n.labelColor=AmCharts.toColor(s[this.labelColorField]),r+=n.value,n.hidden=!1,t[i]=n}for(i=e=0;o>i;i++)n=t[i],n.percents=n.value/r*100,n.percents<this.groupPercent&&e++;for(e>1&&(this.groupValue=0,this.removeSmallSlices(),t.push({title:this.groupedTitle,value:this.groupValue,percents:this.groupValue/r*100,pulled:this.groupedPulled,color:this.groupedColor,url:this.groupedUrl,description:this.groupedDescription,alpha:this.groupedAlpha,pattern:this.groupedPattern,dataContext:{}})),o=this.baseColor,o||(o=this.pieBaseColor),r=this.brightnessStep,r||(r=this.pieBrightnessStep),i=0;i<t.length;i++)o?a=AmCharts.adjustLuminosity(o,i*r/100):(a=this.colors[i],void 0===a&&(a=AmCharts.randomColor())),void 0===t[i].color&&(t[i].color=a);this.recalculatePercents()}},recalculatePercents:function(){var t,e,i=this.chartData,n=0;for(t=0;t<i.length;t++)e=i[t],!e.hidden&&0<e.value&&(n+=e.value);for(t=0;t<i.length;t++)e=this.chartData[t],e.percents=!e.hidden&&0<e.value?100*e.value/n:0},removeSmallSlices:function(){var t,e=this.chartData;for(t=e.length-1;t>=0;t--)e[t].percents<this.groupPercent&&(this.groupValue+=e[t].value,e.splice(t,1))},animateAgain:function(){var t=this;t.startSlices();for(var e=0;e<t.chartData.length;e++){var i=t.chartData[e];i.started=!1;var n=i.wedge;n&&n.translate(i.startX,i.startY)}e=t.startDuration,e>0?(e=setTimeout(function(){t.pullSlices.call(t)},1200*e),t.timeOuts.push(e)):t.pullSlices()},measureMaxLabel:function(){var t,e=this.chartData,i=0;for(t=0;t<e.length;t++){var n=e[t],a=this.formatString(this.labelText,n),o=this.labelFunction;o&&(a=o(n,a)),n=AmCharts.text(this.container,a,this.color,this.fontFamily,this.fontSize),a=n.getBBox().width,a>i&&(i=a),n.remove()}return i}}),AmCharts.AmRectangularChart=AmCharts.Class({inherits:AmCharts.AmCoordinateChart,construct:function(t){AmCharts.AmRectangularChart.base.construct.call(this,t),this.theme=t,this.createEvents("zoomed"),this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=20,this.verticalPosition=this.horizontalPosition=this.depth3D=this.angle=0,this.heightMultiplier=this.widthMultiplier=1,this.plotAreaFillColors="#FFFFFF",this.plotAreaFillAlphas=0,this.plotAreaBorderColor="#000000",this.plotAreaBorderAlpha=0,this.zoomOutButtonImageSize=17,this.zoomOutButtonImage="lens.png",this.zoomOutText="Show all",this.zoomOutButtonColor="#e5e5e5",this.zoomOutButtonAlpha=0,this.zoomOutButtonRollOverAlpha=1,this.zoomOutButtonPadding=8,this.trendLines=[],this.autoMargins=!0,this.marginsUpdated=!1,this.autoMarginOffset=10,AmCharts.applyTheme(this,t,"AmRectangularChart")},initChart:function(){AmCharts.AmRectangularChart.base.initChart.call(this),this.updateDxy();var t=!0;!this.marginsUpdated&&this.autoMargins&&(this.resetMargins(),t=!1),this.processScrollbars(),this.updateMargins(),this.updatePlotArea(),this.updateScrollbars(),this.updateTrendLines(),this.updateChartCursor(),this.updateValueAxes(),t&&(this.scrollbarOnly||this.updateGraphs())},drawChart:function(){if(AmCharts.AmRectangularChart.base.drawChart.call(this),this.drawPlotArea(),AmCharts.ifArray(this.chartData)){var t=this.chartCursor;t&&t.draw(),t=this.zoomOutText,""!==t&&t&&this.drawZoomOutButton()}},resetMargins:function(){var t,e={};if("serial"==this.type){var i=this.valueAxes;for(t=0;t<i.length;t++){var n=i[t];n.ignoreAxisWidth||(n.setOrientation(this.rotate),n.fixAxisPosition(),e[n.position]=!0)}(t=this.categoryAxis)&&!t.ignoreAxisWidth&&(t.setOrientation(!this.rotate),t.fixAxisPosition(),t.fixAxisPosition(),e[t.position]=!0)}else{for(n=this.xAxes,i=this.yAxes,t=0;t<n.length;t++){var a=n[t];a.ignoreAxisWidth||(a.setOrientation(!0),a.fixAxisPosition(),e[a.position]=!0)}for(t=0;t<i.length;t++)n=i[t],n.ignoreAxisWidth||(n.setOrientation(!1),n.fixAxisPosition(),e[n.position]=!0)}e.left&&(this.marginLeft=0),e.right&&(this.marginRight=0),e.top&&(this.marginTop=0),e.bottom&&(this.marginBottom=0),this.fixMargins=e},measureMargins:function(){var t,e=this.valueAxes,i=this.autoMarginOffset,n=this.fixMargins,a=this.realWidth,o=this.realHeight,r=i,s=i,l=a;t=o;var h;for(h=0;h<e.length;h++)t=this.getAxisBounds(e[h],r,l,s,t),r=Math.round(t.l),l=Math.round(t.r),s=Math.round(t.t),t=Math.round(t.b);(e=this.categoryAxis)&&(t=this.getAxisBounds(e,r,l,s,t),r=Math.round(t.l),l=Math.round(t.r),s=Math.round(t.t),t=Math.round(t.b)),n.left&&i>r&&(this.marginLeft=Math.round(-r+i)),n.right&&l>=a-i&&(this.marginRight=Math.round(l-a+i)),n.top&&s<i+this.titleHeight&&(this.marginTop=Math.round(this.marginTop-s+i+this.titleHeight)),n.bottom&&t>o-i&&(this.marginBottom=Math.round(this.marginBottom+t-o+i)),this.initChart()},getAxisBounds:function(t,e,i,n,a){if(!t.ignoreAxisWidth){var o=t.labelsSet,r=t.tickLength;if(t.inside&&(r=0),o)switch(o=t.getBBox(),t.position){case"top":t=o.y,n>t&&(n=t);break;case"bottom":t=o.y+o.height,t>a&&(a=t);break;case"right":t=o.x+o.width+r+3,t>i&&(i=t);break;case"left":t=o.x-r,e>t&&(e=t)}}return{l:e,t:n,r:i,b:a}},drawZoomOutButton:function(){var t=this,e=t.container.set();t.zoomButtonSet.push(e);var i=t.color,n=t.fontSize,a=t.zoomOutButtonImageSize,o=t.zoomOutButtonImage,r=AmCharts.lang.zoomOutText||t.zoomOutText,s=t.zoomOutButtonColor,l=t.zoomOutButtonAlpha,h=t.zoomOutButtonFontSize,c=t.zoomOutButtonPadding;isNaN(h)||(n=h),(h=t.zoomOutButtonFontColor)&&(i=h);var u,h=t.zoomOutButton;h&&(h.fontSize&&(n=h.fontSize),h.color&&(i=h.color),h.backgroundColor&&(s=h.backgroundColor),isNaN(h.backgroundAlpha)||(t.zoomOutButtonRollOverAlpha=h.backgroundAlpha));var d=h=0;for(void 0!==t.pathToImages&&o&&(u=t.container.image(t.pathToImages+o,0,0,a,a),e.push(u),u=u.getBBox(),h=u.width+5),void 0!==r&&(i=AmCharts.text(t.container,r,i,t.fontFamily,n,"start"),n=i.getBBox(),d=u?u.height/2-3:n.height/2,i.translate(h,d),e.push(i)),u=e.getBBox(),i=1,AmCharts.isModern||(i=0),s=AmCharts.rect(t.container,u.width+2*c+5,u.height+2*c-2,s,1,1,s,i),s.setAttr("opacity",l),s.translate(-c,-c),e.push(s),s.toBack(),t.zbBG=s,u=s.getBBox(),e.translate(t.marginLeftReal+t.plotAreaWidth-u.width+c,t.marginTopReal+c),e.hide(),e.mouseover(function(){t.rollOverZB()}).mouseout(function(){t.rollOutZB()}).click(function(){t.clickZB()}).touchstart(function(){t.rollOverZB()}).touchend(function(){t.rollOutZB(),t.clickZB()}),l=0;l<e.length;l++)e[l].attr({cursor:"pointer"});t.zbSet=e},rollOverZB:function(){this.zbBG.setAttr("opacity",this.zoomOutButtonRollOverAlpha)},rollOutZB:function(){this.zbBG.setAttr("opacity",this.zoomOutButtonAlpha)},clickZB:function(){this.zoomOut()},zoomOut:function(){this.updateScrollbar=!0,this.zoom()},drawPlotArea:function(){var t=this.dx,e=this.dy,i=this.marginLeftReal,n=this.marginTopReal,a=this.plotAreaWidth-1,o=this.plotAreaHeight-1,r=this.plotAreaFillColors,s=this.plotAreaFillAlphas,l=this.plotAreaBorderColor,h=this.plotAreaBorderAlpha;this.trendLinesSet.clipRect(i,n,a,o),"object"==typeof s&&(s=s[0]),r=AmCharts.polygon(this.container,[0,a,a,0,0],[0,0,o,o,0],r,s,1,l,h,this.plotAreaGradientAngle),r.translate(i+t,n+e),this.set.push(r),0!==t&&0!==e&&(r=this.plotAreaFillColors,"object"==typeof r&&(r=r[0]),r=AmCharts.adjustLuminosity(r,-.15),a=AmCharts.polygon(this.container,[0,t,a+t,a,0],[0,e,e,0,0],r,s,1,l,h),a.translate(i,n+o),this.set.push(a),t=AmCharts.polygon(this.container,[0,0,t,t,0],[0,o,o+e,e,0],r,s,1,l,h),t.translate(i,n),this.set.push(t)),(i=this.bbset)&&this.scrollbarOnly&&i.remove()},updatePlotArea:function(){var t=this.updateWidth(),e=this.updateHeight(),i=this.container;this.realWidth=t,this.realWidth=e,i&&this.container.setSize(t,e),t=t-this.marginLeftReal-this.marginRightReal-this.dx,e=e-this.marginTopReal-this.marginBottomReal,1>t&&(t=1),1>e&&(e=1),this.plotAreaWidth=Math.round(t),this.plotAreaHeight=Math.round(e)},updateDxy:function(){this.dx=Math.round(this.depth3D*Math.cos(this.angle*Math.PI/180)),this.dy=Math.round(-this.depth3D*Math.sin(this.angle*Math.PI/180)),this.d3x=Math.round(this.columnSpacing3D*Math.cos(this.angle*Math.PI/180)),this.d3y=Math.round(-this.columnSpacing3D*Math.sin(this.angle*Math.PI/180))},updateMargins:function(){var t=this.getTitleHeight();this.titleHeight=t,this.marginTopReal=this.marginTop-this.dy+t,this.marginBottomReal=this.marginBottom,this.marginLeftReal=this.marginLeft,this.marginRightReal=this.marginRight},updateValueAxes:function(){var t,e=this.valueAxes,i=this.marginLeftReal,n=this.marginTopReal,a=this.plotAreaHeight,o=this.plotAreaWidth;for(t=0;t<e.length;t++){var r=e[t];r.axisRenderer=AmCharts.RecAxis,r.guideFillRenderer=AmCharts.RecFill,r.axisItemRenderer=AmCharts.RecItem,r.dx=this.dx,r.dy=this.dy,r.viW=o-1,r.viH=a-1,r.marginsChanged=!0,r.viX=i,r.viY=n,this.updateObjectSize(r)}},updateObjectSize:function(t){t.width=(this.plotAreaWidth-1)*this.widthMultiplier,t.height=(this.plotAreaHeight-1)*this.heightMultiplier,t.x=this.marginLeftReal+this.horizontalPosition,t.y=this.marginTopReal+this.verticalPosition},updateGraphs:function(){var t,e=this.graphs;for(t=0;t<e.length;t++){var i=e[t];i.x=this.marginLeftReal+this.horizontalPosition,i.y=this.marginTopReal+this.verticalPosition,i.width=this.plotAreaWidth*this.widthMultiplier,i.height=this.plotAreaHeight*this.heightMultiplier,i.index=t,i.dx=this.dx,i.dy=this.dy,i.rotate=this.rotate}},updateChartCursor:function(){var t=this.chartCursor;t&&(t=AmCharts.processObject(t,AmCharts.ChartCursor,this.theme),this.addChartCursor(t),t.x=this.marginLeftReal,t.y=this.marginTopReal,t.width=this.plotAreaWidth-1,t.height=this.plotAreaHeight-1,t.chart=this)},processScrollbars:function(){var t=this.chartScrollbar;t&&(t=AmCharts.processObject(t,AmCharts.ChartScrollbar,this.theme),this.addChartScrollbar(t))},updateScrollbars:function(){},addChartCursor:function(t){AmCharts.callMethod("destroy",[this.chartCursor]),t&&(this.listenTo(t,"changed",this.handleCursorChange),this.listenTo(t,"zoomed",this.handleCursorZoom)),this.chartCursor=t},removeChartCursor:function(){AmCharts.callMethod("destroy",[this.chartCursor]),this.chartCursor=null},zoomTrendLines:function(){var t,e=this.trendLines;for(t=0;t<e.length;t++){var i=e[t];i.valueAxis.recalculateToPercents?i.set&&i.set.hide():(i.x=this.marginLeftReal+this.horizontalPosition,i.y=this.marginTopReal+this.verticalPosition,i.draw())}},addTrendLine:function(t){this.trendLines.push(t)},removeTrendLine:function(t){var e,i=this.trendLines;for(e=i.length-1;e>=0;e--)i[e]==t&&i.splice(e,1)},adjustMargins:function(t,e){var i=t.scrollbarHeight+t.offset;"top"==t.position?e?this.marginLeftReal+=i:this.marginTopReal+=i:e?this.marginRightReal+=i:this.marginBottomReal+=i},getScrollbarPosition:function(t,e,i){t.position=e?"bottom"==i||"left"==i?"bottom":"top":"top"==i||"right"==i?"bottom":"top"},updateChartScrollbar:function(t,e){if(t){t.rotate=e;var i=this.marginTopReal,n=this.marginLeftReal,a=t.scrollbarHeight,o=this.dx,r=this.dy,s=t.offset;"top"==t.position?e?(t.y=i,t.x=n-a-s):(t.y=i-a+r-1-s,t.x=n+o):e?(t.y=i+r,t.x=n+this.plotAreaWidth+o+s):(t.y=i+this.plotAreaHeight+s,t.x=this.marginLeftReal)}},showZB:function(t){var e=this.zbSet;e&&(t?e.show():e.hide(),this.rollOutZB())},handleReleaseOutside:function(t){AmCharts.AmRectangularChart.base.handleReleaseOutside.call(this,t),(t=this.chartCursor)&&t.handleReleaseOutside()},handleMouseDown:function(t){AmCharts.AmRectangularChart.base.handleMouseDown.call(this,t);var e=this.chartCursor;e&&e.handleMouseDown(t)},handleCursorChange:function(){}}),AmCharts.TrendLine=AmCharts.Class({construct:function(t){this.cname="TrendLine",this.createEvents("click"),this.isProtected=!1,this.dashLength=0,this.lineColor="#00CC00",this.lineThickness=this.lineAlpha=1,AmCharts.applyTheme(this,t,this.cname)
},draw:function(){var t=this;t.destroy();var e,i,n,a,o=t.chart,r=o.container,s=t.categoryAxis,l=t.initialDate,h=t.initialCategory,c=t.finalDate,u=t.finalCategory,d=t.valueAxis,f=t.valueAxisX,m=t.initialXValue,p=t.finalXValue,g=t.initialValue,v=t.finalValue,C=d.recalculateToPercents,E=o.dataDateFormat;s&&(l&&(l instanceof Date||(l=E?AmCharts.stringToDate(l,E):new Date(l)),t.initialDate=l,e=s.dateToCoordinate(l)),h&&(e=s.categoryToCoordinate(h)),c&&(c instanceof Date||(c=E?AmCharts.stringToDate(c,E):new Date(c)),t.finalDate=c,i=s.dateToCoordinate(c)),u&&(i=s.categoryToCoordinate(u))),f&&!C&&(isNaN(m)||(e=f.getCoordinate(m)),isNaN(p)||(i=f.getCoordinate(p))),d&&!C&&(isNaN(g)||(n=d.getCoordinate(g)),isNaN(v)||(a=d.getCoordinate(v))),isNaN(e)||isNaN(i)||isNaN(n)||isNaN(n)||(o.rotate?(s=[n,a],i=[e,i]):(s=[e,i],i=[n,a]),n=t.lineColor,e=AmCharts.line(r,s,i,n,t.lineAlpha,t.lineThickness,t.dashLength),a=s,l=i,u=s[1]-s[0],d=i[1]-i[0],0===u&&(u=.01),0===d&&(d=.01),h=u/Math.abs(u),c=d/Math.abs(d),d=u*d/Math.abs(u*d)*Math.sqrt(Math.pow(u,2)+Math.pow(d,2)),u=Math.asin(u/d),d=90*Math.PI/180-u,u=Math.abs(5*Math.cos(d)),d=Math.abs(5*Math.sin(d)),a.push(s[1]-h*d,s[0]-h*d),l.push(i[1]+c*u,i[0]+c*u),s=AmCharts.polygon(r,a,l,n,.005,0),r=r.set([s,e]),r.translate(o.marginLeftReal,o.marginTopReal),o.trendLinesSet.push(r),t.line=e,t.set=r,s.mouseup(function(){t.handleLineClick()}).mouseover(function(){t.handleLineOver()}).mouseout(function(){t.handleLineOut()}),s.touchend&&s.touchend(function(){t.handleLineClick()}))},handleLineClick:function(){var t={type:"click",trendLine:this,chart:this.chart};this.fire(t.type,t)},handleLineOver:function(){var t=this.rollOverColor;void 0!==t&&this.line.attr({stroke:t})},handleLineOut:function(){this.line.attr({stroke:this.lineColor})},destroy:function(){AmCharts.remove(this.set)}}),AmCharts.circle=function(t,e,i,n,a,o,r,s){return(void 0==a||0===a)&&(a=.01),void 0===o&&(o="#000000"),void 0===r&&(r=0),n={fill:i,stroke:o,"fill-opacity":n,"stroke-width":a,"stroke-opacity":r},t=t.circle(0,0,e).attr(n),s&&t.gradient("radialGradient",[i,AmCharts.adjustLuminosity(i,-.6)]),t},AmCharts.text=function(t,e,i,n,a,o,r,s){return o||(o="middle"),"right"==o&&(o="end"),isNaN(s)&&(s=1),void 0!==e&&(e=String(e),AmCharts.isIE&&!AmCharts.isModern&&(e=e.replace("&amp;","&"),e=e.replace("&","&amp;"))),i={fill:i,"font-family":n,"font-size":a,opacity:s},!0===r&&(i["font-weight"]="bold"),i["text-anchor"]=o,t.text(e,i)},AmCharts.polygon=function(t,e,i,n,a,o,r,s,l,h,c){isNaN(o)&&(o=.01),isNaN(s)&&(s=a);var u=n,d=!1;for("object"==typeof u&&1<u.length&&(d=!0,u=u[0]),void 0===r&&(r=u),a={fill:u,stroke:r,"fill-opacity":a,"stroke-width":o,"stroke-opacity":s},void 0!==c&&c>0&&(a["stroke-dasharray"]=c),c=AmCharts.dx,o=AmCharts.dy,t.handDrawn&&(i=AmCharts.makeHD(e,i,t.handDrawScatter),e=i[0],i=i[1]),r=Math.round,h&&(r=AmCharts.doNothing),h="M"+(r(e[0])+c)+","+(r(i[0])+o),s=1;s<e.length;s++)h+=" L"+(r(e[s])+c)+","+(r(i[s])+o);return t=t.path(h+" Z").attr(a),d&&t.gradient("linearGradient",n,l),t},AmCharts.rect=function(t,e,i,n,a,o,r,s,l,h,c){isNaN(o)&&(o=0),void 0===l&&(l=0),void 0===h&&(h=270),isNaN(a)&&(a=0);var u=n,d=!1;"object"==typeof u&&(u=u[0],d=!0),void 0===r&&(r=u),void 0===s&&(s=a),e=Math.round(e),i=Math.round(i);var f=0,m=0;return 0>e&&(e=Math.abs(e),f=-e),0>i&&(i=Math.abs(i),m=-i),f+=AmCharts.dx,m+=AmCharts.dy,a={fill:u,stroke:r,"fill-opacity":a,"stroke-opacity":s},void 0!==c&&c>0&&(a["stroke-dasharray"]=c),t=t.rect(f,m,e,i,l,o).attr(a),d&&t.gradient("linearGradient",n,h),t},AmCharts.bullet=function(t,e,i,n,a,o,r,s,l,h,c){var u;switch("circle"==e&&(e="round"),e){case"round":u=AmCharts.circle(t,i/2,n,a,o,r,s);break;case"square":u=AmCharts.polygon(t,[-i/2,i/2,i/2,-i/2],[i/2,i/2,-i/2,-i/2],n,a,o,r,s,h-180);break;case"rectangle":u=AmCharts.polygon(t,[-i,i,i,-i],[i/2,i/2,-i/2,-i/2],n,a,o,r,s,h-180);break;case"diamond":u=AmCharts.polygon(t,[-i/2,0,i/2,0],[0,-i/2,0,i/2],n,a,o,r,s);break;case"triangleUp":u=AmCharts.triangle(t,i,0,n,a,o,r,s);break;case"triangleDown":u=AmCharts.triangle(t,i,180,n,a,o,r,s);break;case"triangleLeft":u=AmCharts.triangle(t,i,270,n,a,o,r,s);break;case"triangleRight":u=AmCharts.triangle(t,i,90,n,a,o,r,s);break;case"bubble":u=AmCharts.circle(t,i/2,n,a,o,r,s,!0);break;case"line":u=AmCharts.line(t,[-i/2,i/2],[0,0],n,a,o,r,s);break;case"yError":u=t.set(),u.push(AmCharts.line(t,[0,0],[-i/2,i/2],n,a,o)),u.push(AmCharts.line(t,[-l,l],[-i/2,-i/2],n,a,o)),u.push(AmCharts.line(t,[-l,l],[i/2,i/2],n,a,o));break;case"xError":u=t.set(),u.push(AmCharts.line(t,[-i/2,i/2],[0,0],n,a,o)),u.push(AmCharts.line(t,[-i/2,-i/2],[-l,l],n,a,o)),u.push(AmCharts.line(t,[i/2,i/2],[-l,l],n,a,o))}return u&&u.pattern(c),u},AmCharts.triangle=function(t,e,i,n,a,o,r,s){(void 0===o||0===o)&&(o=1),void 0===r&&(r="#000"),void 0===s&&(s=0),n={fill:n,stroke:r,"fill-opacity":a,"stroke-width":o,"stroke-opacity":s},e/=2;var l;return 0===i&&(l=" M"+-e+","+e+" L0,"+-e+" L"+e+","+e+" Z"),180==i&&(l=" M"+-e+","+-e+" L0,"+e+" L"+e+","+-e+" Z"),90==i&&(l=" M"+-e+","+-e+" L"+e+",0 L"+-e+","+e+" Z"),270==i&&(l=" M"+-e+",0 L"+e+","+e+" L"+e+","+-e+" Z"),t.path(l).attr(n)},AmCharts.line=function(t,e,i,n,a,o,r,s,l,h,c){if(t.handDrawn&&!c)return AmCharts.handDrawnLine(t,e,i,n,a,o,r,s,l,h,c);for(o={fill:"none","stroke-width":o},void 0!==r&&r>0&&(o["stroke-dasharray"]=r),isNaN(a)||(o["stroke-opacity"]=a),n&&(o.stroke=n),n=Math.round,h&&(n=AmCharts.doNothing),h=AmCharts.dx,a=AmCharts.dy,r="M"+(n(e[0])+h)+","+(n(i[0])+a),s=1;s<e.length;s++)r+=" L"+(n(e[s])+h)+","+(n(i[s])+a);return AmCharts.VML?t.path(r,void 0,!0).attr(o):(l&&(r+=" M0,0 L0,0"),t.path(r).attr(o))},AmCharts.makeHD=function(t,e,i){for(var n=[],a=[],o=1;o<t.length;o++)for(var r=Number(t[o-1]),s=Number(e[o-1]),l=Number(t[o]),h=Number(e[o]),c=Math.sqrt(Math.pow(l-r,2)+Math.pow(h-s,2)),c=Math.round(c/50)+1,l=(l-r)/c,h=(h-s)/c,u=0;c>=u;u++){var d=r+u*l+Math.random()*i,f=s+u*h+Math.random()*i;n.push(d),a.push(f)}return[n,a]},AmCharts.handDrawnLine=function(t,e,i,n,a,o,r,s,l,h,c){var u=t.set();for(c=1;c<e.length;c++)for(var d=[e[c-1],e[c]],f=[i[c-1],i[c]],f=AmCharts.makeHD(d,f,t.handDrawScatter),d=f[0],f=f[1],m=1;m<d.length;m++)u.push(AmCharts.line(t,[d[m-1],d[m]],[f[m-1],f[m]],n,a,o+Math.random()*t.handDrawThickness-t.handDrawThickness/2,r,s,l,h,!0));return u},AmCharts.doNothing=function(t){return t},AmCharts.wedge=function(t,e,i,n,a,o,r,s,l,h,c,u){var d=Math.round;o=d(o),r=d(r),s=d(s);var f=d(r/o*s),m=AmCharts.VML,p=359.5+o/100;p>359.94&&(p=359.94),a>=p&&(a=p);var g=1/180*Math.PI,p=e+Math.sin(n*g)*s,v=i-Math.cos(n*g)*f,C=e+Math.sin(n*g)*o,E=i-Math.cos(n*g)*r,b=e+Math.sin((n+a)*g)*o,T=i-Math.cos((n+a)*g)*r,y=e+Math.sin((n+a)*g)*s,g=i-Math.cos((n+a)*g)*f,D={fill:AmCharts.adjustLuminosity(h.fill,-.2),"stroke-opacity":0,"fill-opacity":h["fill-opacity"]},O=0;180<Math.abs(a)&&(O=1),n=t.set();var I;m&&(p=d(10*p),C=d(10*C),b=d(10*b),y=d(10*y),v=d(10*v),E=d(10*E),T=d(10*T),g=d(10*g),e=d(10*e),l=d(10*l),i=d(10*i),o*=10,r*=10,s*=10,f*=10,1>Math.abs(a)&&1>=Math.abs(b-C)&&1>=Math.abs(T-E)&&(I=!0)),a="";var R;if(u&&(D["fill-opacity"]=0,D["stroke-opacity"]=h["stroke-opacity"]/2,D.stroke=h.stroke),l>0&&(m?(R=" M"+p+","+(v+l)+" L"+C+","+(E+l),I||(R+=" A"+(e-o)+","+(l+i-r)+","+(e+o)+","+(l+i+r)+","+C+","+(E+l)+","+b+","+(T+l)),R+=" L"+y+","+(g+l),s>0&&(I||(R+=" B"+(e-s)+","+(l+i-f)+","+(e+s)+","+(l+i+f)+","+y+","+(l+g)+","+p+","+(l+v)))):(R=" M"+p+","+(v+l)+" L"+C+","+(E+l)+(" A"+o+","+r+",0,"+O+",1,"+b+","+(T+l)+" L"+y+","+(g+l)),s>0&&(R+=" A"+s+","+f+",0,"+O+",0,"+p+","+(v+l))),R+=" Z",R=t.path(R,void 0,void 0,"1000,1000").attr(D),n.push(R),R=t.path(" M"+p+","+v+" L"+p+","+(v+l)+" L"+C+","+(E+l)+" L"+C+","+E+" L"+p+","+v+" Z",void 0,void 0,"1000,1000").attr(D),l=t.path(" M"+b+","+T+" L"+b+","+(T+l)+" L"+y+","+(g+l)+" L"+y+","+g+" L"+b+","+T+" Z",void 0,void 0,"1000,1000").attr(D),n.push(R),n.push(l)),m?(I||(a=" A"+d(e-o)+","+d(i-r)+","+d(e+o)+","+d(i+r)+","+d(C)+","+d(E)+","+d(b)+","+d(T)),o=" M"+d(p)+","+d(v)+" L"+d(C)+","+d(E)+a+" L"+d(y)+","+d(g)):o=" M"+p+","+v+" L"+C+","+E+(" A"+o+","+r+",0,"+O+",1,"+b+","+T)+" L"+y+","+g,s>0&&(m?I||(o+=" B"+(e-s)+","+(i-f)+","+(e+s)+","+(i+f)+","+y+","+g+","+p+","+v):o+=" A"+s+","+f+",0,"+O+",0,"+p+","+v),t.handDrawn&&(e=AmCharts.line(t,[p,C],[v,E],h.stroke,h.thickness*Math.random()*t.handDrawThickness,h["stroke-opacity"]),n.push(e)),t=t.path(o+" Z",void 0,void 0,"1000,1000").attr(h),c){for(e=[],i=0;i<c.length;i++)e.push(AmCharts.adjustLuminosity(h.fill,c[i]));0<e.length&&t.gradient("linearGradient",e)}return t.pattern(u),n.push(t),n},AmCharts.adjustLuminosity=function(t,e){t=String(t).replace(/[^0-9a-f]/gi,""),6>t.length&&(t=String(t[0])+String(t[0])+String(t[1])+String(t[1])+String(t[2])+String(t[2])),e=e||0;var i,n,a="#";for(n=0;3>n;n++)i=parseInt(t.substr(2*n,2),16),i=Math.round(Math.min(Math.max(0,i+i*e),255)).toString(16),a+=("00"+i).substr(i.length);return a},AmCharts.Bezier=AmCharts.Class({construct:function(t,e,i,n,a,o,r,s,l,h){for("object"==typeof r&&(r=r[0]),"object"==typeof s&&(s=s[0]),o={fill:r,"fill-opacity":s,"stroke-width":o},void 0!==l&&l>0&&(o["stroke-dasharray"]=l),isNaN(a)||(o["stroke-opacity"]=a),n&&(o.stroke=n),n="M"+Math.round(e[0])+","+Math.round(i[0]),a=[],l=0;l<e.length;l++)a.push({x:Number(e[l]),y:Number(i[l])});1<a.length&&(e=this.interpolate(a),n+=this.drawBeziers(e)),h?n+=h:AmCharts.VML||(n+="M0,0 L0,0"),this.path=t.path(n).attr(o)},interpolate:function(t){var e=[];e.push({x:t[0].x,y:t[0].y});var i=t[1].x-t[0].x,n=t[1].y-t[0].y,a=AmCharts.bezierX,o=AmCharts.bezierY;e.push({x:t[0].x+i/a,y:t[0].y+n/o});var r;for(r=1;r<t.length-1;r++){var s=t[r-1],l=t[r],n=t[r+1];isNaN(n.x)&&(n=l),isNaN(l.x)&&(l=s),isNaN(s.x)&&(s=l),i=n.x-l.x,n=n.y-s.y,s=l.x-s.x,s>i&&(s=i),e.push({x:l.x-s/a,y:l.y-n/o}),e.push({x:l.x,y:l.y}),e.push({x:l.x+s/a,y:l.y+n/o})}return n=t[t.length-1].y-t[t.length-2].y,i=t[t.length-1].x-t[t.length-2].x,e.push({x:t[t.length-1].x-i/a,y:t[t.length-1].y-n/o}),e.push({x:t[t.length-1].x,y:t[t.length-1].y}),e},drawBeziers:function(t){var e,i="";for(e=0;e<(t.length-1)/3;e++)i+=this.drawBezierMidpoint(t[3*e],t[3*e+1],t[3*e+2],t[3*e+3]);return i},drawBezierMidpoint:function(t,e,i,n){var a=Math.round,o=this.getPointOnSegment(t,e,.75),r=this.getPointOnSegment(n,i,.75),s=(n.x-t.x)/16,l=(n.y-t.y)/16,h=this.getPointOnSegment(t,e,.375);return t=this.getPointOnSegment(o,r,.375),t.x-=s,t.y-=l,e=this.getPointOnSegment(r,o,.375),e.x+=s,e.y+=l,i=this.getPointOnSegment(n,i,.375),s=this.getMiddle(h,t),o=this.getMiddle(o,r),r=this.getMiddle(e,i),h=" Q"+a(h.x)+","+a(h.y)+","+a(s.x)+","+a(s.y),h+=" Q"+a(t.x)+","+a(t.y)+","+a(o.x)+","+a(o.y),h+=" Q"+a(e.x)+","+a(e.y)+","+a(r.x)+","+a(r.y),h+=" Q"+a(i.x)+","+a(i.y)+","+a(n.x)+","+a(n.y)},getMiddle:function(t,e){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}},getPointOnSegment:function(t,e,i){return{x:t.x+(e.x-t.x)*i,y:t.y+(e.y-t.y)*i}}}),AmCharts.AmDraw=AmCharts.Class({construct:function(t,e,i,n){if(AmCharts.SVG_NS="http://www.w3.org/2000/svg",AmCharts.SVG_XLINK="http://www.w3.org/1999/xlink",AmCharts.hasSVG=!!document.createElementNS&&!!document.createElementNS(AmCharts.SVG_NS,"svg").createSVGRect,1>e&&(e=10),1>i&&(i=10),this.div=t,this.width=e,this.height=i,this.rBin=document.createElement("div"),AmCharts.hasSVG){AmCharts.SVG=!0;var a=this.createSvgElement("svg");a.style.position="absolute",a.style.width=e+"px",a.style.height=i+"px",e=this.createSvgElement("desc"),e.appendChild(document.createTextNode("JavaScript chart by amCharts "+n.version)),a.appendChild(e),AmCharts.rtl&&(a.setAttribute("direction","rtl"),a.style.left="auto",a.style.right="0px"),a.setAttribute("version","1.1"),t.appendChild(a),this.container=a,this.R=new AmCharts.SVGRenderer(this)}else AmCharts.isIE&&AmCharts.VMLRenderer&&(AmCharts.VML=!0,AmCharts.vmlStyleSheet||(document.namespaces.add("amvml","urn:schemas-microsoft-com:vml"),31>document.styleSheets.length?(a=document.createStyleSheet(),a.addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true"),AmCharts.vmlStyleSheet=a):document.styleSheets[0].addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true")),this.container=t,this.R=new AmCharts.VMLRenderer(this,n),this.R.disableSelection(t))},createSvgElement:function(t){return document.createElementNS(AmCharts.SVG_NS,t)},circle:function(t,e,i,n){var a=new AmCharts.AmDObject("circle",this);return a.attr({r:i,cx:t,cy:e}),this.addToContainer(a.node,n),a},setSize:function(t,e){t>0&&e>0&&(this.container.style.width=t+"px",this.container.style.height=e+"px")},rect:function(t,e,i,n,a,o,r){var s=new AmCharts.AmDObject("rect",this);return AmCharts.VML&&(a=100*a/Math.min(i,n),i+=2*o,n+=2*o,s.bw=o,s.node.style.marginLeft=-o,s.node.style.marginTop=-o),1>i&&(i=1),1>n&&(n=1),s.attr({x:t,y:e,width:i,height:n,rx:a,ry:a,"stroke-width":o}),this.addToContainer(s.node,r),s},image:function(t,e,i,n,a,o){var r=new AmCharts.AmDObject("image",this);return r.attr({x:e,y:i,width:n,height:a}),this.R.path(r,t),this.addToContainer(r.node,o),r},addToContainer:function(t,e){e||(e=this.container),e.appendChild(t)},text:function(t,e,i){return this.R.text(t,e,i)},path:function(t,e,i,n){var a=new AmCharts.AmDObject("path",this);return n||(n="100,100"),a.attr({cs:n}),a.attr(i?{dd:t}:{d:t}),this.addToContainer(a.node,e),a},set:function(t){return this.R.set(t)},remove:function(t){if(t){var e=this.rBin;e.appendChild(t),e.innerHTML=""}},renderFix:function(){var t,e=this.container,i=e.style;try{t=e.getScreenCTM()||e.createSVGMatrix()}catch(n){t=e.createSVGMatrix()}e=1-t.e%1,t=1-t.f%1,e>.5&&(e-=1),t>.5&&(t-=1),e&&(i.left=e+"px"),t&&(i.top=t+"px")},update:function(){this.R.update()}}),AmCharts.AmDObject=AmCharts.Class({construct:function(t,e){this.D=e,this.R=e.R,this.node=this.R.create(this,t),this.y=this.x=0,this.scale=1},attr:function(t){return this.R.attr(this,t),this},getAttr:function(t){return this.node.getAttribute(t)},setAttr:function(t,e){return this.R.setAttr(this,t,e),this},clipRect:function(t,e,i,n){this.R.clipRect(this,t,e,i,n)},translate:function(t,e,i,n){n||(t=Math.round(t),e=Math.round(e)),this.R.move(this,t,e,i),this.x=t,this.y=e,this.scale=i,this.angle&&this.rotate(this.angle)},rotate:function(t,e){this.R.rotate(this,t,e),this.angle=t},animate:function(t,e,i){for(var n in t)if(t.hasOwnProperty(n)){var a=n,o=t[n];i=AmCharts.getEffect(i),this.R.animate(this,a,o,e,i)}},push:function(t){if(t){var e=this.node;e.appendChild(t.node);var i=t.clipPath;i&&e.appendChild(i),(t=t.grad)&&e.appendChild(t)}},text:function(t){this.R.setText(this,t)},remove:function(){this.R.remove(this)},clear:function(){var t=this.node;if(t.hasChildNodes())for(;1<=t.childNodes.length;)t.removeChild(t.firstChild)},hide:function(){this.setAttr("visibility","hidden")},show:function(){this.setAttr("visibility","visible")},getBBox:function(){return this.R.getBBox(this)},toFront:function(){var t=this.node;if(t){this.prevNextNode=t.nextSibling;var e=t.parentNode;e&&e.appendChild(t)}},toPrevious:function(){var t=this.node;t&&this.prevNextNode&&(t=t.parentNode)&&t.insertBefore(this.prevNextNode,null)},toBack:function(){var t=this.node;if(t){this.prevNextNode=t.nextSibling;var e=t.parentNode;if(e){var i=e.firstChild;i&&e.insertBefore(t,i)}}},mouseover:function(t){return this.R.addListener(this,"mouseover",t),this},mouseout:function(t){return this.R.addListener(this,"mouseout",t),this},click:function(t){return this.R.addListener(this,"click",t),this},dblclick:function(t){return this.R.addListener(this,"dblclick",t),this},mousedown:function(t){return this.R.addListener(this,"mousedown",t),this},mouseup:function(t){return this.R.addListener(this,"mouseup",t),this},touchstart:function(t){return this.R.addListener(this,"touchstart",t),this},touchend:function(t){return this.R.addListener(this,"touchend",t),this},contextmenu:function(t){return this.node.addEventListener?this.node.addEventListener("contextmenu",t,!0):this.R.addListener(this,"contextmenu",t),this},stop:function(t){(t=this.animationX)&&AmCharts.removeFromArray(this.R.animations,t),(t=this.animationY)&&AmCharts.removeFromArray(this.R.animations,t)},length:function(){return this.node.childNodes.length},gradient:function(t,e,i){this.R.gradient(this,t,e,i)},pattern:function(t,e){t&&this.R.pattern(this,t,e)}}),AmCharts.VMLRenderer=AmCharts.Class({construct:function(t,e){this.chart=e,this.D=t,this.cNames={circle:"oval",rect:"roundrect",path:"shape"},this.styleMap={x:"left",y:"top",width:"width",height:"height","font-family":"fontFamily","font-size":"fontSize",visibility:"visibility"}},create:function(t,e){var i;if("group"==e)i=document.createElement("div"),t.type="div";else if("text"==e)i=document.createElement("div"),t.type="text";else if("image"==e)i=document.createElement("img"),t.type="image";else{t.type="shape",t.shapeType=this.cNames[e],i=document.createElement("amvml:"+this.cNames[e]);var n=document.createElement("amvml:stroke");i.appendChild(n),t.stroke=n;var a=document.createElement("amvml:fill");i.appendChild(a),t.fill=a,a.className="amvml",n.className="amvml",i.className="amvml"}return i.style.position="absolute",i.style.top=0,i.style.left=0,i},path:function(t,e){t.node.setAttribute("src",e)},setAttr:function(t,e,i){if(void 0!==i){var n;8===document.documentMode&&(n=!0);var a=t.node,o=t.type,r=a.style;"r"==e&&(r.width=2*i,r.height=2*i),"roundrect"!=t.shapeType||"width"!=e&&"height"!=e||(i-=1),"cursor"==e&&(r.cursor=i),"cx"==e&&(r.left=i-AmCharts.removePx(r.width)/2),"cy"==e&&(r.top=i-AmCharts.removePx(r.height)/2);var s=this.styleMap[e];if(void 0!==s&&(r[s]=i),"text"==o&&("text-anchor"==e&&(t.anchor=i,s=a.clientWidth,"end"==i&&(r.marginLeft=-s+"px"),"middle"==i&&(r.marginLeft=-(s/2)+"px",r.textAlign="center"),"start"==i&&(r.marginLeft="0px")),"fill"==e&&(r.color=i),"font-weight"==e&&(r.fontWeight=i)),r=t.children)for(s=0;s<r.length;s++)r[s].setAttr(e,i);"shape"==o&&("cs"==e&&(a.style.width="100px",a.style.height="100px",a.setAttribute("coordsize",i)),"d"==e&&a.setAttribute("path",this.svgPathToVml(i)),"dd"==e&&a.setAttribute("path",i),o=t.stroke,t=t.fill,"stroke"==e&&(n?o.color=i:o.setAttribute("color",i)),"stroke-width"==e&&(n?o.weight=i:o.setAttribute("weight",i)),"stroke-opacity"==e&&(n?o.opacity=i:o.setAttribute("opacity",i)),"stroke-dasharray"==e&&(r="solid",i>0&&3>i&&(r="dot"),i>=3&&6>=i&&(r="dash"),i>6&&(r="longdash"),n?o.dashstyle=r:o.setAttribute("dashstyle",r)),("fill-opacity"==e||"opacity"==e)&&(0===i?n?t.on=!1:t.setAttribute("on",!1):n?t.opacity=i:t.setAttribute("opacity",i)),"fill"==e&&(n?t.color=i:t.setAttribute("color",i)),"rx"==e&&(n?a.arcSize=i+"%":a.setAttribute("arcsize",i+"%")))}},attr:function(t,e){for(var i in e)e.hasOwnProperty(i)&&this.setAttr(t,i,e[i])},text:function(t,e,i){var n=new AmCharts.AmDObject("text",this.D),a=n.node;return a.style.whiteSpace="pre",a.innerHTML=t,this.D.addToContainer(a,i),this.attr(n,e),n},getBBox:function(t){return this.getBox(t.node)},getBox:function(t){var e,i=t.offsetLeft,n=t.offsetTop,a=t.offsetWidth,o=t.offsetHeight;if(t.hasChildNodes()){var r,s,l;for(l=0;l<t.childNodes.length;l++){e=this.getBox(t.childNodes[l]);var h=e.x;isNaN(h)||(isNaN(r)?r=h:r>h&&(r=h));var c=e.y;isNaN(c)||(isNaN(s)?s=c:s>c&&(s=c)),h=e.width+h,isNaN(h)||(a=Math.max(a,h)),e=e.height+c,isNaN(e)||(o=Math.max(o,e))}0>r&&(i+=r),0>s&&(n+=s)}return{x:i,y:n,width:a,height:o}},setText:function(t,e){var i=t.node;i&&(i.innerHTML=e),this.setAttr(t,"text-anchor",t.anchor)},addListener:function(t,e,i){t.node["on"+e]=i},move:function(t,e,i){var n=t.node,a=n.style;"text"==t.type&&(i-=AmCharts.removePx(a.fontSize)/2-1),"oval"==t.shapeType&&(e-=AmCharts.removePx(a.width)/2,i-=AmCharts.removePx(a.height)/2),t=t.bw,isNaN(t)||(e-=t,i-=t),isNaN(e)||isNaN(i)||(n.style.left=e+"px",n.style.top=i+"px")},svgPathToVml:function(t){var e=t.split(" ");t="";var i,n,a=Math.round;for(n=0;n<e.length;n++){var o=e[n],r=o.substring(0,1),o=o.substring(1),s=o.split(","),l=a(s[0])+","+a(s[1]);if("M"==r&&(t+=" m "+l),"L"==r&&(t+=" l "+l),"Z"==r&&(t+=" x e"),"Q"==r){var h=i.length,c=i[h-1],u=s[0],d=s[1],l=s[2],f=s[3];i=a(i[h-2]/3+2/3*u),c=a(c/3+2/3*d),u=a(2/3*u+l/3),d=a(2/3*d+f/3),t+=" c "+i+","+c+","+u+","+d+","+l+","+f}"A"==r&&(t+=" wa "+o),"B"==r&&(t+=" at "+o),i=s}return t},animate:function(t,e,i,n,a){var o=t.node,r=this.chart;if("translate"==e){e=i.split(","),i=e[1];var s=o.offsetTop;r.animate(t,"left",o.offsetLeft,e[0],n,a,"px"),r.animate(t,"top",s,i,n,a,"px")}},clipRect:function(t,e,i,n,a){t=t.node,0===e&&0===i?(t.style.width=n+"px",t.style.height=a+"px",t.style.overflow="hidden"):t.style.clip="rect("+i+"px "+(e+n)+"px "+(i+a)+"px "+e+"px)"},rotate:function(t,e,i){if(0!==Number(e)){var n=t.node;t=n.style,i||(i=this.getBGColor(n.parentNode)),t.backgroundColor=i,t.paddingLeft=1,i=e*Math.PI/180;var a=Math.cos(i),o=Math.sin(i),r=AmCharts.removePx(t.left),s=AmCharts.removePx(t.top),l=n.offsetWidth,n=n.offsetHeight;e/=Math.abs(e),t.left=r+l/2-l/2*Math.cos(i)-e*n/2*Math.sin(i)+3,t.top=s-e*l/2*Math.sin(i)+e*n/2*Math.sin(i),t.cssText=t.cssText+"; filter:progid:DXImageTransform.Microsoft.Matrix(M11='"+a+"', M12='"+-o+"', M21='"+o+"', M22='"+a+"', sizingmethod='auto expand');"}},getBGColor:function(t){var e="#FFFFFF";if(t.style){var i=t.style.backgroundColor;""!==i?e=i:t.parentNode&&(e=this.getBGColor(t.parentNode))}return e},set:function(t){var e=new AmCharts.AmDObject("group",this.D);if(this.D.container.appendChild(e.node),t){var i;for(i=0;i<t.length;i++)e.push(t[i])}return e},gradient:function(t,e,i,n){var a="";"radialGradient"==e&&(e="gradientradial",i.reverse()),"linearGradient"==e&&(e="gradient");var o;for(o=0;o<i.length;o++){var r=Math.round(100*o/(i.length-1)),a=a+(r+"% "+i[o]);o<i.length-1&&(a+=",")}t=t.fill,90==n?n=0:270==n?n=180:180==n?n=90:0===n&&(n=270),8===document.documentMode?(t.type=e,t.angle=n):(t.setAttribute("type",e),t.setAttribute("angle",n)),a&&(t.colors.value=a)},remove:function(t){t.clipPath&&this.D.remove(t.clipPath),this.D.remove(t.node)},disableSelection:function(t){void 0!==typeof t.onselectstart&&(t.onselectstart=function(){return!1}),t.style.cursor="default"},pattern:function(t,e){var i=t.node,n=t.fill,a="none";e.color&&(a=e.color),i.fillColor=a,8===document.documentMode?(n.type="tile",n.src=e.url):(n.setAttribute("type","tile"),n.setAttribute("src",e.url))},update:function(){}}),AmCharts.SVGRenderer=AmCharts.Class({construct:function(t){this.D=t,this.animations=[]},create:function(t,e){return document.createElementNS(AmCharts.SVG_NS,e)},attr:function(t,e){for(var i in e)e.hasOwnProperty(i)&&this.setAttr(t,i,e[i])},setAttr:function(t,e,i){void 0!==i&&t.node.setAttribute(e,i)},animate:function(t,e,i,n,a){var o=t.node;t["an_"+e]&&AmCharts.removeFromArray(this.animations,t["an_"+e]),"translate"==e?(o=(o=o.getAttribute("transform"))?String(o).substring(10,o.length-1):"0,0",o=o.split(", ").join(" "),o=o.split(" ").join(","),0===o&&(o="0,0")):o=Number(o.getAttribute(e)),i={obj:t,frame:0,attribute:e,from:o,to:i,time:n,effect:a},this.animations.push(i),t["an_"+e]=i},update:function(){var t,e=this.animations;for(t=e.length-1;t>=0;t--){var i,n,a,o=e[t],r=1e3*o.time/AmCharts.updateRate,s=o.frame+1,l=o.obj,h=o.attribute;r>=s?(o.frame++,"translate"==h?(i=o.from.split(","),h=Number(i[0]),i=Number(i[1]),isNaN(i)&&(i=0),n=o.to.split(","),a=Number(n[0]),n=Number(n[1]),a=0===a-h?a:Math.round(AmCharts[o.effect](0,s,h,a-h,r)),o=0===n-i?n:Math.round(AmCharts[o.effect](0,s,i,n-i,r)),h="transform",o="translate("+a+","+o+")"):(n=Number(o.from),i=Number(o.to),a=i-n,o=AmCharts[o.effect](0,s,n,a,r),isNaN(o)&&(o=i),0===a&&this.animations.splice(t,1)),this.setAttr(l,h,o)):("translate"==h?(n=o.to.split(","),a=Number(n[0]),n=Number(n[1]),l.translate(a,n)):(i=Number(o.to),this.setAttr(l,h,i)),this.animations.splice(t,1))}},getBBox:function(t){if(t=t.node)try{return t.getBBox()}catch(e){}return{width:0,height:0,x:0,y:0}},path:function(t,e){t.node.setAttributeNS(AmCharts.SVG_XLINK,"xlink:href",e)},clipRect:function(t,e,i,n,a){var o=t.node,r=t.clipPath;r&&this.D.remove(r);var s=o.parentNode;s&&(o=document.createElementNS(AmCharts.SVG_NS,"clipPath"),r=AmCharts.getUniqueId(),o.setAttribute("id",r),this.D.rect(e,i,n,a,0,0,o),s.appendChild(o),e="#",AmCharts.baseHref&&!AmCharts.isIE&&(e=window.location.href+e),this.setAttr(t,"clip-path","url("+e+r+")"),this.clipPathC++,t.clipPath=o)},text:function(t,e,i){var n=new AmCharts.AmDObject("text",this.D);t=String(t).split("\n");var a,o=e["font-size"];for(a=0;a<t.length;a++){var r=this.create(null,"tspan");r.appendChild(document.createTextNode(t[a])),r.setAttribute("y",(o+2)*a+Math.round(o/2)),r.setAttribute("x",0),n.node.appendChild(r)}return n.node.setAttribute("y",Math.round(o/2)),this.attr(n,e),this.D.addToContainer(n.node,i),n},setText:function(t,e){var i=t.node;i&&(i.removeChild(i.firstChild),i.appendChild(document.createTextNode(e)))},move:function(t,e,i,n){e="translate("+e+","+i+")",n&&(e=e+" scale("+n+")"),this.setAttr(t,"transform",e)},rotate:function(t,e){var i=t.node.getAttribute("transform"),n="rotate("+e+")";i&&(n=i+" "+n),this.setAttr(t,"transform",n)},set:function(t){var e=new AmCharts.AmDObject("g",this.D);if(this.D.container.appendChild(e.node),t){var i;for(i=0;i<t.length;i++)e.push(t[i])}return e},addListener:function(t,e,i){t.node["on"+e]=i},gradient:function(t,e,i,n){var a=t.node,o=t.grad;if(o&&this.D.remove(o),e=document.createElementNS(AmCharts.SVG_NS,e),o=AmCharts.getUniqueId(),e.setAttribute("id",o),!isNaN(n)){var r=0,s=0,l=0,h=0;90==n?l=100:270==n?h=100:180==n?r=100:0===n&&(s=100),e.setAttribute("x1",r+"%"),e.setAttribute("x2",s+"%"),e.setAttribute("y1",l+"%"),e.setAttribute("y2",h+"%")}for(n=0;n<i.length;n++)r=document.createElementNS(AmCharts.SVG_NS,"stop"),s=100*n/(i.length-1),0===n&&(s=0),r.setAttribute("offset",s+"%"),r.setAttribute("stop-color",i[n]),e.appendChild(r);a.parentNode.appendChild(e),i="#",AmCharts.baseHref&&!AmCharts.isIE&&(i=window.location.href+i),a.setAttribute("fill","url("+i+o+")"),t.grad=e},pattern:function(t,e,i){var n=t.node;isNaN(i)&&(i=1);var a=t.patternNode;a&&this.D.remove(a);var a=document.createElementNS(AmCharts.SVG_NS,"pattern"),o=AmCharts.getUniqueId(),r=e;e.url&&(r=e.url);var s=Number(e.width);isNaN(s)&&(s=4);var l=Number(e.height);isNaN(l)&&(l=4),s/=i,l/=i,i=e.x,isNaN(i)&&(i=0);var h=-Math.random()*Number(e.randomX);isNaN(h)||(i=h),h=e.y,isNaN(h)&&(h=0);var c=-Math.random()*Number(e.randomY);isNaN(c)||(h=c),a.setAttribute("id",o),a.setAttribute("width",s),a.setAttribute("height",l),a.setAttribute("patternUnits","userSpaceOnUse"),a.setAttribute("xlink:href",r),e.color&&(c=document.createElementNS(AmCharts.SVG_NS,"rect"),c.setAttributeNS(null,"height",s),c.setAttributeNS(null,"width",l),c.setAttributeNS(null,"fill",e.color),a.appendChild(c)),this.D.image(r,0,0,s,l,a).translate(i,h),r="#",AmCharts.baseHref&&!AmCharts.isIE&&(r=window.location.href+r),n.setAttribute("fill","url("+r+o+")"),t.patternNode=a,n.parentNode.appendChild(a)},remove:function(t){t.clipPath&&this.D.remove(t.clipPath),t.grad&&this.D.remove(t.grad),t.patternNode&&this.D.remove(t.patternNode),this.D.remove(t.node)}}),AmCharts.AmDSet=AmCharts.Class({construct:function(){this.create("g")},attr:function(t){this.R.attr(this.node,t)},move:function(t,e){this.R.move(this.node,t,e)}}),AmCharts.AmLegend=AmCharts.Class({construct:function(t){this.cname="AmLegend",this.createEvents("rollOverMarker","rollOverItem","rollOutMarker","rollOutItem","showItem","hideItem","clickMarker","rollOverItem","rollOutItem","clickLabel"),this.position="bottom",this.borderColor=this.color="#000000",this.borderAlpha=0,this.markerLabelGap=5,this.verticalGap=10,this.align="left",this.horizontalGap=0,this.spacing=10,this.markerDisabledColor="#AAB3B3",this.markerType="square",this.markerSize=16,this.markerBorderThickness=this.markerBorderAlpha=1,this.marginBottom=this.marginTop=0,this.marginLeft=this.marginRight=20,this.autoMargins=!0,this.valueWidth=50,this.switchable=!0,this.switchType="x",this.switchColor="#FFFFFF",this.rollOverColor="#CC0000",this.reversedOrder=!1,this.labelText="[[title]]",this.valueText="[[value]]",this.useMarkerColorForLabels=!1,this.rollOverGraphAlpha=1,this.textClickEnabled=!1,this.equalWidths=!0,this.dateFormat="DD-MM-YYYY",this.backgroundColor="#FFFFFF",this.backgroundAlpha=0,this.useGraphSettings=!1,this.showEntries=!0,AmCharts.applyTheme(this,t,this.cname)},setData:function(t){this.legendData=t,this.invalidateSize()},invalidateSize:function(){this.destroy(),this.entries=[],this.valueLabels=[],(AmCharts.ifArray(this.legendData)||AmCharts.ifArray(this.data))&&this.drawLegend()},drawLegend:function(){var t=this.chart,e=this.position,i=this.width,n=t.divRealWidth,a=t.divRealHeight,o=this.div,r=this.legendData;if(this.data&&(r=this.data),isNaN(this.fontSize)&&(this.fontSize=t.fontSize),"right"==e||"left"==e)this.maxColumns=1,this.autoMargins&&(this.marginLeft=this.marginRight=10);else if(this.autoMargins){this.marginRight=t.marginRight,this.marginLeft=t.marginLeft;var s=t.autoMarginOffset;"bottom"==e?(this.marginBottom=s,this.marginTop=0):(this.marginTop=s,this.marginBottom=0)}var l;if(void 0!==i?l=AmCharts.toCoordinate(i,n):"right"!=e&&"left"!=e&&(l=t.realWidth),"outside"==e?(l=o.offsetWidth,a=o.offsetHeight,o.clientHeight&&(l=o.clientWidth,a=o.clientHeight)):(isNaN(l)||(o.style.width=l+"px"),o.className="amChartsLegend"),this.divWidth=l,(e=this.container)?(e.container.innerHTML="",o.appendChild(e.container),e.setSize(l,a)):e=new AmCharts.AmDraw(o,l,a,t),this.container=e,this.lx=0,this.ly=8,a=this.markerSize,a>this.fontSize&&(this.ly=a/2-1),a>0&&(this.lx+=a+this.markerLabelGap),this.titleWidth=0,(a=this.title)&&(t=AmCharts.text(this.container,a,this.color,t.fontFamily,this.fontSize,"start",!0),t.translate(this.marginLeft,this.marginTop+this.verticalGap+this.ly+1),t=t.getBBox(),this.titleWidth=t.width+15,this.titleHeight=t.height+6),this.index=this.maxLabelWidth=0,this.showEntries){for(t=0;t<r.length;t++)this.createEntry(r[t]);for(t=this.index=0;t<r.length;t++)this.createValue(r[t])}this.arrangeEntries(),this.updateValues()},arrangeEntries:function(){var t=this.position,e=this.marginLeft+this.titleWidth,i=this.marginRight,n=this.marginTop,a=this.marginBottom,o=this.horizontalGap,r=this.div,s=this.divWidth,l=this.maxColumns,h=this.verticalGap,c=this.spacing,u=s-i-e,d=0,f=0,m=this.container;this.set&&this.set.remove();var p=m.set();this.set=p,m=m.set(),p.push(m);var g,v,C=this.entries;for(v=0;v<C.length;v++){g=C[v].getBBox();var E=g.width;E>d&&(d=E),g=g.height,g>f&&(f=g)}var E=f=0,b=o,T=0,y=0;for(v=0;v<C.length;v++){var D=C[v];this.reversedOrder&&(D=C[C.length-v-1]),g=D.getBBox();var O;this.equalWidths?O=o+E*(d+c+this.markerLabelGap):(O=b,b=b+g.width+o+c),g.height>y&&(y=g.height),O+g.width>u&&v>0&&0!==E&&(f++,E=0,O=o,b=O+g.width+o+c,T=T+y+h,y=0),D.translate(O,T),E++,!isNaN(l)&&E>=l&&(E=0,f++,T=T+y+h,y=0),m.push(D)}g=m.getBBox(),l=g.height+2*h-1,"left"==t||"right"==t?(s=g.width+2*o,r.style.width=s+e+i+"px"):s=s-e-i-1,i=AmCharts.polygon(this.container,[0,s,s,0],[0,0,l,l],this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha),p.push(i),p.translate(e,n),i.toBack(),e=o,("top"==t||"bottom"==t||"absolute"==t||"outside"==t)&&("center"==this.align?e=o+(s-g.width)/2:"right"==this.align&&(e=o+s-g.width)),m.translate(e,h+1),this.titleHeight>l&&(l=this.titleHeight),t=l+n+a+1,0>t&&(t=0),r.style.height=Math.round(t)+"px"},createEntry:function(t){if(!1!==t.visibleInLegend){var e=this.chart,i=t.markerType;i||(i=this.markerType);var n=t.color,a=t.alpha;t.legendKeyColor&&(n=t.legendKeyColor()),t.legendKeyAlpha&&(a=t.legendKeyAlpha());var o;!0===t.hidden&&(o=n=this.markerDisabledColor);var r=t.pattern,s=t.customMarker;s||(s=this.customMarker);var l=this.container,h=this.markerSize,c=0,u=0,d=h/2;if(this.useGraphSettings)if(c=t.type,this.switchType=void 0,"line"==c||"step"==c||"smoothedLine"==c||"ohlc"==c)r=l.set(),t.hidden||(n=t.lineColorR,o=t.bulletBorderColorR),u=AmCharts.line(l,[0,2*h],[h/2,h/2],n,t.lineAlpha,t.lineThickness,t.dashLength),r.push(u),t.bullet&&(t.hidden||(n=t.bulletColorR),u=AmCharts.bullet(l,t.bullet,t.bulletSize,n,t.bulletAlpha,t.bulletBorderThickness,o,t.bulletBorderAlpha))&&(u.translate(h+1,h/2),r.push(u)),d=0,c=h,u=h/3;else{var f;t.getGradRotation&&(f=t.getGradRotation()),c=t.fillColorsR,!0===t.hidden&&(c=n),(r=this.createMarker("rectangle",c,t.fillAlphas,t.lineThickness,n,t.lineAlpha,f,r))&&(d=h,r.translate(d,h/2)),c=h}else s?(e.path&&(s=e.path+s),r=l.image(s,0,0,h,h)):(r=this.createMarker(i,n,a,void 0,void 0,void 0,void 0,r))&&r.translate(h/2,h/2);this.addListeners(r,t),l=l.set([r]),this.switchable&&t.switchable&&l.setAttr("cursor","pointer"),(o=this.switchType)&&"none"!=o&&("x"==o?(f=this.createX(),f.translate(h/2,h/2)):f=this.createV(),f.dItem=t,!0!==t.hidden?"x"==o?f.hide():f.show():"x"!=o&&f.hide(),this.switchable||f.hide(),this.addListeners(f,t),t.legendSwitch=f,l.push(f)),o=this.color,t.showBalloon&&this.textClickEnabled&&void 0!==this.selectedColor&&(o=this.selectedColor),this.useMarkerColorForLabels&&(o=n),!0===t.hidden&&(o=this.markerDisabledColor),n=AmCharts.massReplace(this.labelText,{"[[title]]":t.title}),f=this.fontSize,r&&f>=h&&r.translate(d,h/2+this.ly-f/2+(f+2-h)/2-u);
var m;n&&(n=AmCharts.fixBrakes(n),t.legendTextReal=n,m=this.labelWidth,m=isNaN(m)?AmCharts.text(this.container,n,o,e.fontFamily,f,"start"):AmCharts.wrappedText(this.container,n,o,e.fontFamily,f,"start",!1,m,0),m.translate(this.lx+c,this.ly),l.push(m),e=m.getBBox().width,this.maxLabelWidth<e&&(this.maxLabelWidth=e)),this.entries[this.index]=l,t.legendEntry=this.entries[this.index],t.legendLabel=m,this.index++}},addListeners:function(t,e){var i=this;t&&t.mouseover(function(){i.rollOverMarker(e)}).mouseout(function(){i.rollOutMarker(e)}).click(function(){i.clickMarker(e)})},rollOverMarker:function(t){this.switchable&&this.dispatch("rollOverMarker",t),this.dispatch("rollOverItem",t)},rollOutMarker:function(t){this.switchable&&this.dispatch("rollOutMarker",t),this.dispatch("rollOutItem",t)},clickMarker:function(t){this.switchable&&(!0===t.hidden?this.dispatch("showItem",t):this.dispatch("hideItem",t)),this.dispatch("clickMarker",t)},rollOverLabel:function(t){t.hidden||(this.textClickEnabled&&t.legendLabel&&t.legendLabel.attr({fill:this.rollOverColor}),this.dispatch("rollOverItem",t))},rollOutLabel:function(t){if(!t.hidden){if(this.textClickEnabled&&t.legendLabel){var e=this.color;void 0!==this.selectedColor&&t.showBalloon&&(e=this.selectedColor),this.useMarkerColorForLabels&&(e=t.lineColor,void 0===e&&(e=t.color)),t.legendLabel.attr({fill:e})}this.dispatch("rollOutItem",t)}},clickLabel:function(t){this.textClickEnabled?t.hidden||this.dispatch("clickLabel",t):this.switchable&&(!0===t.hidden?this.dispatch("showItem",t):this.dispatch("hideItem",t))},dispatch:function(t,e){this.fire(t,{type:t,dataItem:e,target:this,chart:this.chart})},createValue:function(t){var e=this,i=e.fontSize;if(!1!==t.visibleInLegend){var n=e.maxLabelWidth;e.equalWidths||(e.valueAlign="left"),"left"==e.valueAlign&&(n=t.legendEntry.getBBox().width);var a=n;if(e.valueText&&0<e.valueWidth){var o=e.color;e.useMarkerColorForValues&&(o=t.color,t.legendKeyColor&&(o=t.legendKeyColor())),!0===t.hidden&&(o=e.markerDisabledColor);var r=e.valueText,n=n+e.lx+e.markerLabelGap+e.valueWidth,s="end";"left"==e.valueAlign&&(n-=e.valueWidth,s="start"),o=AmCharts.text(e.container,r,o,e.chart.fontFamily,i,s),o.translate(n,e.ly),e.entries[e.index].push(o),a+=e.valueWidth+2*e.markerLabelGap,o.dItem=t,e.valueLabels.push(o)}e.index++,o=e.markerSize,i+7>o&&(o=i+7,AmCharts.VML&&(o+=3)),i=e.container.rect(e.markerSize,0,a,o,0,0).attr({stroke:"none",fill:"#ffffff","fill-opacity":.005}),i.dItem=t,e.entries[e.index-1].push(i),i.mouseover(function(){e.rollOverLabel(t)}).mouseout(function(){e.rollOutLabel(t)}).click(function(){e.clickLabel(t)})}},createV:function(){var t=this.markerSize;return AmCharts.polygon(this.container,[t/5,t/2,t-t/5,t/2],[t/3,t-t/5,t/5,t/1.7],this.switchColor)},createX:function(){var t=(this.markerSize-4)/2,e={stroke:this.switchColor,"stroke-width":3},i=this.container,n=AmCharts.line(i,[-t,t],[-t,t]).attr(e),t=AmCharts.line(i,[-t,t],[t,-t]).attr(e);return this.container.set([n,t])},createMarker:function(t,e,i,n,a,o,r,s){var l=this.markerSize,h=this.container;return a||(a=this.markerBorderColor),a||(a=e),isNaN(n)&&(n=this.markerBorderThickness),isNaN(o)&&(o=this.markerBorderAlpha),AmCharts.bullet(h,t,l,e,i,n,a,o,l,r,s)},validateNow:function(){this.invalidateSize()},updateValues:function(){var t,e=this.valueLabels,i=this.chart,n=this.data;for(t=0;t<e.length;t++){var a=e[t],o=a.dItem,r=" ";if(n)a.text(o.value?o.value:"");else{if(void 0!==o.type){var s=o.currentDataItem,l=this.periodValueText;o.legendPeriodValueText&&(l=o.legendPeriodValueText),s?(r=this.valueText,o.legendValueText&&(r=o.legendValueText),r=i.formatString(r,s)):l&&(r=i.formatPeriodString(l,o))}else r=i.formatString(this.valueText,o);(l=this.valueFunction)&&(s&&(o=s),r=l(o,r)),a.text(r)}}},renderFix:function(){if(!AmCharts.VML){var t=this.container;t&&t.renderFix()}},destroy:function(){this.div.innerHTML="",AmCharts.remove(this.set)}}),AmCharts.formatMilliseconds=function(t,e){if(-1!=t.indexOf("fff")){var i=e.getMilliseconds(),n=String(i);10>i&&(n="00"+i),i>=10&&100>i&&(n="0"+i),t=t.replace(/fff/g,n)}return t},AmCharts.extractPeriod=function(t){var e=AmCharts.stripNumbers(t),i=1;return e!=t&&(i=Number(t.slice(0,t.indexOf(e)))),{period:e,count:i}},AmCharts.newDate=function(t,e){return date="fff"==e?AmCharts.useUTC?new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()):new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()):new Date(t)},AmCharts.resetDateToMin=function(t,e,i,n){void 0===n&&(n=1);var a,o,r,s,l,h,c;switch(AmCharts.useUTC?(a=t.getUTCFullYear(),o=t.getUTCMonth(),r=t.getUTCDate(),s=t.getUTCHours(),l=t.getUTCMinutes(),h=t.getUTCSeconds(),c=t.getUTCMilliseconds(),t=t.getUTCDay()):(a=t.getFullYear(),o=t.getMonth(),r=t.getDate(),s=t.getHours(),l=t.getMinutes(),h=t.getSeconds(),c=t.getMilliseconds(),t=t.getDay()),e){case"YYYY":a=Math.floor(a/i)*i,o=0,r=1,c=h=l=s=0;break;case"MM":o=Math.floor(o/i)*i,r=1,c=h=l=s=0;break;case"WW":0===t&&n>0&&(t=7),r=r-t+n,c=h=l=s=0;break;case"DD":c=h=l=s=0;break;case"hh":s=Math.floor(s/i)*i,c=h=l=0;break;case"mm":l=Math.floor(l/i)*i,c=h=0;break;case"ss":h=Math.floor(h/i)*i,c=0;break;case"fff":c=Math.floor(c/i)*i}return AmCharts.useUTC?(t=new Date,t.setUTCFullYear(a,o,r),t.setUTCHours(s,l,h,c)):t=new Date(a,o,r,s,l,h,c),t},AmCharts.getPeriodDuration=function(t,e){void 0===e&&(e=1);var i;switch(t){case"YYYY":i=316224e5;break;case"MM":i=26784e5;break;case"WW":i=6048e5;break;case"DD":i=864e5;break;case"hh":i=36e5;break;case"mm":i=6e4;break;case"ss":i=1e3;break;case"fff":i=1}return i*e},AmCharts.intervals={s:{nextInterval:"ss",contains:1e3},ss:{nextInterval:"mm",contains:60,count:0},mm:{nextInterval:"hh",contains:60,count:1},hh:{nextInterval:"DD",contains:24,count:2},DD:{nextInterval:"",contains:1/0,count:3}},AmCharts.getMaxInterval=function(t,e){var i=AmCharts.intervals;return t>=i[e].contains?(t=Math.round(t/i[e].contains),e=i[e].nextInterval,AmCharts.getMaxInterval(t,e)):"ss"==e?i[e].nextInterval:e},AmCharts.dayNames="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),AmCharts.shortDayNames="Sun Mon Tue Wed Thu Fri Sat".split(" "),AmCharts.monthNames="January February March April May June July August September October November December".split(" "),AmCharts.shortMonthNames="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),AmCharts.getWeekNumber=function(t){t=new Date(t),t.setHours(0,0,0),t.setDate(t.getDate()+4-(t.getDay()||7));var e=new Date(t.getFullYear(),0,1);return Math.ceil(((t-e)/864e5+1)/7)},AmCharts.stringToDate=function(t,e){var i={},n=[{pattern:"YYYY",period:"year"},{pattern:"YY",period:"year"},{pattern:"MM",period:"month"},{pattern:"M",period:"month"},{pattern:"DD",period:"date"},{pattern:"D",period:"date"},{pattern:"JJ",period:"hours"},{pattern:"J",period:"hours"},{pattern:"HH",period:"hours"},{pattern:"H",period:"hours"},{pattern:"KK",period:"hours"},{pattern:"K",period:"hours"},{pattern:"LL",period:"hours"},{pattern:"L",period:"hours"},{pattern:"NN",period:"minutes"},{pattern:"N",period:"minutes"},{pattern:"SS",period:"seconds"},{pattern:"S",period:"seconds"},{pattern:"QQQ",period:"milliseconds"},{pattern:"QQ",period:"milliseconds"},{pattern:"Q",period:"milliseconds"}],a=!0,o=e.indexOf("AA");-1!=o&&(t.substr(o,2),"pm"==t.toLowerCase&&(a=!1));var r,s,l,o=e;for(l=0;l<n.length;l++)s=n[l].period,i[s]=0,"date"==s&&(i[s]=1);for(l=0;l<n.length;l++)if(r=n[l].pattern,s=n[l].period,-1!=e.indexOf(r)){var h=AmCharts.getFromDateString(r,t,o);e=e.replace(r,""),("KK"==r||"K"==r||"LL"==r||"L"==r)&&(a||(h+=12)),i[s]=h}return new Date(i.year,i.month,i.date,i.hours,i.minutes,i.seconds,i.milliseconds)},AmCharts.getFromDateString=function(t,e,i){return void 0!==e?(i=i.indexOf(t),e=e.substr(i,t.length),"0"==e.charAt(0)&&(e=e.substr(1,e.length-1)),e=Number(e),isNaN(e)&&(e=0),-1!=t.indexOf("M")&&e--,e):void 0},AmCharts.formatDate=function(t,e){var i,n,a,o,r,s,l,h,c=AmCharts.getWeekNumber(t);AmCharts.useUTC?(i=t.getUTCFullYear(),n=t.getUTCMonth(),a=t.getUTCDate(),o=t.getUTCDay(),r=t.getUTCHours(),s=t.getUTCMinutes(),l=t.getUTCSeconds(),h=t.getUTCMilliseconds()):(i=t.getFullYear(),n=t.getMonth(),a=t.getDate(),o=t.getDay(),r=t.getHours(),s=t.getMinutes(),l=t.getSeconds(),h=t.getMilliseconds());var u=String(i).substr(2,2),d=n+1;9>n&&(d="0"+d);var f="0"+o;e=e.replace(/W/g,c),c=r,24==c&&(c=0);var m=c;10>m&&(m="0"+m),e=e.replace(/JJ/g,m),e=e.replace(/J/g,c),m=r,0===m&&(m=24,-1!=e.indexOf("H")&&a--),c=a,10>a&&(c="0"+a);var p=m;return 10>p&&(p="0"+p),e=e.replace(/HH/g,p),e=e.replace(/H/g,m),m=r,m>11&&(m-=12),p=m,10>p&&(p="0"+p),e=e.replace(/KK/g,p),e=e.replace(/K/g,m),m=r,0===m&&(m=12),m>12&&(m-=12),p=m,10>p&&(p="0"+p),e=e.replace(/LL/g,p),e=e.replace(/L/g,m),m=s,10>m&&(m="0"+m),e=e.replace(/NN/g,m),e=e.replace(/N/g,s),s=l,10>s&&(s="0"+s),e=e.replace(/SS/g,s),e=e.replace(/S/g,l),l=h,10>l&&(l="00"+l),100>l&&(l="0"+l),s=h,10>s&&(s="00"+s),e=e.replace(/QQQ/g,l),e=e.replace(/QQ/g,s),e=e.replace(/Q/g,h),e=12>r?e.replace(/A/g,"am"):e.replace(/A/g,"pm"),e=e.replace(/YYYY/g,"@IIII@"),e=e.replace(/YY/g,"@II@"),e=e.replace(/MMMM/g,"@XXXX@"),e=e.replace(/MMM/g,"@XXX@"),e=e.replace(/MM/g,"@XX@"),e=e.replace(/M/g,"@X@"),e=e.replace(/DD/g,"@RR@"),e=e.replace(/D/g,"@R@"),e=e.replace(/EEEE/g,"@PPPP@"),e=e.replace(/EEE/g,"@PPP@"),e=e.replace(/EE/g,"@PP@"),e=e.replace(/E/g,"@P@"),e=e.replace(/@IIII@/g,i),e=e.replace(/@II@/g,u),e=e.replace(/@XXXX@/g,AmCharts.monthNames[n]),e=e.replace(/@XXX@/g,AmCharts.shortMonthNames[n]),e=e.replace(/@XX@/g,d),e=e.replace(/@X@/g,n+1),e=e.replace(/@RR@/g,c),e=e.replace(/@R@/g,a),e=e.replace(/@PPPP@/g,AmCharts.dayNames[o]),e=e.replace(/@PPP@/g,AmCharts.shortDayNames[o]),e=e.replace(/@PP@/g,f),e=e.replace(/@P@/g,o)},AmCharts.changeDate=function(t,e,i,n,a){var o=-1;switch(void 0===n&&(n=!0),void 0===a&&(a=!1),!0===n&&(o=1),e){case"YYYY":t.setFullYear(t.getFullYear()+i*o),n||a||t.setDate(t.getDate()+1);break;case"MM":e=t.getMonth(),t.setMonth(t.getMonth()+i*o),t.getMonth()>e+i*o&&t.setDate(t.getDate()-1),n||a||t.setDate(t.getDate()+1);break;case"DD":t.setDate(t.getDate()+i*o);break;case"WW":t.setDate(t.getDate()+i*o*7);break;case"hh":t.setHours(t.getHours()+i*o);break;case"mm":t.setMinutes(t.getMinutes()+i*o);break;case"ss":t.setSeconds(t.getSeconds()+i*o);break;case"fff":t.setMilliseconds(t.getMilliseconds()+i*o)}return t},AmCharts.AmExport=AmCharts.Class({construct:function(t,e,i){var n=this;n.DEBUG=!1,n.chart=t,n.canvas=null,n.svgs=[],n.userCFG=e,n.buttonIcon="export.png",n.exportPNG=!0,n.exportPDF=!1,n.exportJPG=!1,n.exportSVG=!1,n.right=0,n.top=0,n.buttonRollOverColor="#EFEFEF",n.textRollOverColor="#CC0000",n.buttonTitle="Save chart as an image",n.buttonAlpha=.75,n.imageFileName="amChart",n.imageBackgroundColor="#FFFFFF",i&&n.init()},toCoordinate:function(t){return void 0===t?"auto":-1!=String(t).indexOf("%")?t:t+"px"},init:function(){var t=this,e=[];t.exportPNG&&e.push("png"),t.exportPDF&&e.push("pdf"),t.exportJPG&&e.push("jpg"),t.exportSVG&&e.push("svg");var i=[];if(1==e.length){var n=e[0];i.push({format:n,iconTitle:t.buttonTitle,icon:t.chart.pathToImages+t.buttonIcon})}else if(e.length>1){for(var a=[],o=0;o<e.length;o++)a.push({format:e[o],title:e[o].toUpperCase()});i.push({onclick:function(){},icon:t.chart.pathToImages+t.buttonIcon,items:a})}var r=t.color;void 0===r&&(r=t.chart.color);var s=t.buttonColor;void 0===s&&(s="transparent"),t.cfg={menuTop:t.toCoordinate(t.top),menuLeft:t.toCoordinate(t.left),menuRight:t.toCoordinate(t.right),menuBottom:t.toCoordinate(t.bottom),menuItems:i,menuItemStyle:{backgroundColor:s,opacity:t.buttonAlpha,rollOverBackgroundColor:t.buttonRollOverColor,color:r,rollOverColor:t.textRollOverColor,paddingTop:"6px",paddingRight:"6px",paddingBottom:"6px",paddingLeft:"6px",marginTop:"0px",marginRight:"0px",marginBottom:"0px",marginLeft:"0px",textAlign:"left",textDecoration:"none",fontFamily:t.chart.fontFamily,fontSize:t.chart.fontSize+"px"},menuItemOutput:{backgroundColor:t.imageBackgroundColor,fileName:t.imageFileName,format:"png",output:"dataurlnewwindow",render:"browser",dpi:90,onclick:function(e,i,n){n.preventDefault(),t.chart.prepareForExport&&t.chart.prepareForExport(),e.output(i)}},removeImagery:!0},t.processing={buffer:[],drawn:0,timer:0},"undefined"!=typeof window.canvg&&"undefined"!=typeof window.RGBColor&&(t.cfg.menuItemOutput.render="canvg"),"undefined"!=typeof window.saveAs&&(t.cfg.menuItemOutput.output="save"),AmCharts.isIE&&AmCharts.IEversion<10&&(t.cfg.menuItemOutput.output="dataurlnewwindow");var l=t.userCFG;l&&(l.menuItemOutput=AmCharts.extend(t.cfg.menuItemOutput,l.menuItemOutput||{}),l.menuItemStyle=AmCharts.extend(t.cfg.menuItemStyle,l.menuItemStyle||{}),t.cfg=AmCharts.extend(t.cfg,l)),t.chart.AmExport=t,t.chart.addListener("rendered",function(){t.setup()}),t.DEBUG&&(window.AmExport=t)},log:function(){console.log("AmExport: ",arguments)},setup:function(){var t=this;10==t.DEBUG&&t.log("SETUP START"),!AmCharts.isIE||AmCharts.isIE&&AmCharts.IEversion>9?(t.generateButtons(),10==t.DEBUG&&t.log("SETUP END")):10==t.DEBUG&&t.log("< IE10 NOT SUPPORTED")},generateBinaryArray:function(t){for(var e,i,n,a=t.length,o=new Uint8Array(a/4*3|0),r=0,s=0,l=[0,0],h=0,c=0,u=new Uint8Array([62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,0,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51]);a--;)i=t.charCodeAt(r++),e=u[i-43],255!==e&&e!==n&&(l[1]=l[0],l[0]=i,c=c<<6|e,h++,4===h&&(o[s++]=c>>>16,61!==l[1]&&(o[s++]=c>>>8),61!==l[0]&&(o[s++]=c),h=0));return o},generateBlob:function(t,e){var i=this,n="image/svg+xml"!=e?t.indexOf(",")+1:0,a=t.substring(0,n),o=t,r=new Blob;return-1!=a.indexOf("base64")&&(o=i.generateBinaryArray(t.substring(n))),AmCharts.isIE&&AmCharts.IEversion<10?(r.data=o,r.size=o.length,r.type=e,r.encoding="base64"):r=new Blob([o],{type:e}),r},generatePDF:function(t){var e=this,i={output:function(){return""}},n=e.canvas.toDataURL("image/jpeg"),a=25.4*e.canvas.width/t.dpi,o=25.4*e.canvas.height/t.dpi;return window.jsPDF?(i=new jsPDF,i.addImage?i.addImage(n,"JPEG",0,0,a,o):alert("Missing jsPDF plugin; Please add the 'addImage' plugin.")):alert("Missing jsPDF lib; Don't forget to add the addImage plugin."),i},output:function(t,e){function i(){var i,a=null;10==n.DEBUG&&n.log("OUTPUT",t.format),"image/svg+xml"==t.format||"svg"==t.format?(a=n.generateSVG(),i=n.generateBlob(a,"image/svg+xml"),"save"==t.output?saveAs(i,t.fileName+".svg"):"datastring"==t.output||"datauristring"==t.output||"dataurlstring"==t.output?i="data:image/svg+xml;base64,"+btoa(a):"dataurlnewwindow"==t.output?window.open("data:image/svg+xml;base64,"+btoa(a)):"datauri"==t.output||"dataurl"==t.output?location.href="data:image/svg+xml;base64,"+btoa(a):"datastream"==t.output&&(location.href="data:image/octet-stream;base64,"+a),e&&e.apply(n,[i])):"application/pdf"==t.format||"pdf"==t.format?(a=n.generatePDF(t).output("dataurlstring"),i=n.generateBlob(a,"application/pdf"),"save"==t.output?saveAs(i,t.fileName+".pdf"):"datastring"==t.output||"datauristring"==t.output||"dataurlstring"==t.output?i=a:"dataurlnewwindow"==t.output?window.open(a):"datauri"==t.output||"dataurl"==t.output?location.href=a:"datastream"==t.output&&(location.href=a.replace("application/pdf","application/octet-stream")),e&&e.apply(n,[i])):"image/png"==t.format||"png"==t.format?(a=n.canvas.toDataURL("image/png"),i=n.generateBlob(a,"image/png"),"save"==t.output?saveAs(i,t.fileName+".png"):"datastring"==t.output||"datauristring"==t.output||"dataurlstring"==t.output?i=a:"dataurlnewwindow"==t.output?window.open(a):"datauri"==t.output||"dataurl"==t.output?location.href=a:"datastream"==t.output&&(location.href=a.replace("image/png","image/octet-stream")),e&&e.apply(n,[i])):("image/jpeg"==t.format||"jpeg"==t.format||"jpg"==t.format)&&(a=n.canvas.toDataURL("image/jpeg"),i=n.generateBlob(a,"image/jpeg"),"save"==t.output?saveAs(i,t.fileName+".jpg"):"datastring"==t.output||"datauristring"==t.output||"dataurlstring"==t.output?i=a:"dataurlnewwindow"==t.output?window.open(a):"datauri"==t.output||"dataurl"==t.output?location.href=a:"datastream"==t.output&&(location.href=a.replace("image/jpeg","image/octet-stream")),e&&e.apply(n,[i]))}var n=this;return t=AmCharts.extend(AmCharts.extend({},n.cfg.menuItemOutput),t||{}),n.generateOutput(t,i)},polifySVG:function(t){function e(t,e){for(var n=t.getElementsByTagName(e),a=n.length;a--;){if(i.cfg.removeImagery)n[a].parentNode.removeChild(n[a]);else{var o=document.createElement("img"),r=document.createElement("canvas"),s=r.getContext("2d");r.width=n[a].getAttribute("width"),r.height=n[a].getAttribute("height"),o.src=n[a].getAttribute("xlink:href"),o.width=n[a].getAttribute("width"),o.height=n[a].getAttribute("height");try{s.drawImage(o,0,0,o.width,o.height),datastring=r.toDataURL()}catch(l){throw datastring=o.src,i.log("Tainted canvas, reached browser CORS security; origin from imagery must be equal to the server!"),new Error(l)}n[a].setAttribute("xlink:href",datastring)}10==i.DEBUG&&i.log("POLIFIED",n[a])}}var i=this;return 0==AmCharts.IEversion&&(t.setAttribute("xmlns","http://www.w3.org/2000/svg"),i.cfg.removeImagery||t.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink")),10==i.DEBUG&&i.log("POLIFIED",t),e(t,"pattern"),e(t,"image"),i.svgs.push(t),t},generateSVG:function(){var t=this,e=document.createElement("svg");e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink");for(var i=0;i<t.processing.buffer.length;i++){var n=document.createElement("g"),a=t.processing.buffer[i];a[0].setAttribute("xmlns","http://www.w3.org/2000/svg"),a[0].setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),n.setAttribute("transform","translate("+a[1].x+","+a[1].y+")"),n.appendChild(a[0]),e.appendChild(n)}return(new XMLSerializer).serializeToString(e)},generateOutput:function(t,e){function i(){var a,s,l,h;return n.processing.buffer.length==n.processing.drawn||"svg"==t.format?(10==n.DEBUG&&n.log("END DRAWING"),e()):(10==n.DEBUG&&n.log("DRAW",n.processing.drawn+1,"OF",n.processing.buffer.length),s=n.processing.buffer[n.processing.drawn],h=(new XMLSerializer).serializeToString(s[0]),l=s[1],10==n.DEBUG&&n.log("SOURCE",h),"browser"==t.render?(a=new Image,a.id=AmCharts.getUniqueId(),h="data:image/svg+xml;base64,"+btoa(h),a.onload=function(){r.drawImage(this,s[1].x,s[1].y),n.processing.drawn++,10==n.DEBUG&&n.log("ONLOAD",this),i()},a.onerror=function(){10==n.DEBUG&&n.log("ONERROR",this),r.drawImage(this,s[1].x,s[1].y),n.processing.drawn++,i()},a.src=h,10==n.DEBUG&&n.log("ADD",a),(a.complete||"undefined"==typeof a.complete||void 0===a.complete)&&(10==n.DEBUG&&n.log("FORCE ONLOAD",a),a.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",a.src=h)):"canvg"==t.render&&canvg(o,h,{offsetX:l.x,offsetY:l.y,ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,renderCallback:function(){n.processing.drawn++,i()}}),void 0)}var n=this,a=n.chart.div.getElementsByTagName("svg"),o=document.createElement("canvas"),r=o.getContext("2d"),s={y:0,x:0},l={};n.processing.buffer=[],n.processing.drawn=0,n.canvas=o,n.svgs=[],10==n.DEBUG&&n.log("START EXPORT"),10==n.DEBUG&&n.log("START BUFFERING");for(var h=0;h<a.length;h++){var c=a[h].parentNode,u=Number(c.style.left.slice(0,-2)),d=Number(c.style.top.slice(0,-2)),f=n.polifySVG(a[h].cloneNode(!0)),l=AmCharts.extend({},s);"relative"==c.style.position?(s.x=u?u:s.x,s.y=d?d:s.y):(s.x=u,s.y=d),n.processing.buffer.push([f,AmCharts.extend({},s)]),d&&u?s=l:s.y+=d?0:c.offsetHeight,10==n.DEBUG&&n.log("BUFFERED",a[h],s)}10==n.DEBUG&&n.log("END BUFFERING"),10==n.DEBUG&&n.log("START DRAWING",t.render),10==n.DEBUG&&n.log("FILL BACKGROUND"),o.id=AmCharts.getUniqueId(),o.width=n.chart.divRealWidth,o.height=n.chart.divRealHeight;var m={width:!1,height:!1};return n.chart.periodSelector&&(-1!=["left","right"].indexOf(n.chart.periodSelector.position)?(o.width-=n.chart.periodSelector.div.offsetWidth+16,m.width=!0):(o.height-=n.chart.periodSelector.div.offsetHeight,m.height=!0)),n.chart.dataSetSelector&&(-1!=["left","right"].indexOf(n.chart.dataSetSelector.position)?m.width||(o.width-=n.chart.dataSetSelector.div.offsetWidth+16):o.height-=n.chart.dataSetSelector.div.offsetHeight),(t.backgroundColor||"image/jpeg"==t.format)&&(r.fillStyle=t.backgroundColor||"#FFFFFF",r.fillRect(0,0,o.width,o.height)),i()},generateButtons:function(){function t(i){var a=document.createElement("ul");a.setAttribute("style","list-style: none; margin: 0; padding: 0;");for(var o=0;o<i.length;o++){var r=document.createElement("li"),s=document.createElement("img"),l=document.createElement("a"),h=i[o],c=null,u=AmCharts.extend(AmCharts.extend({},e.cfg.menuItemStyle),i[o]);h=AmCharts.extend(AmCharts.extend({},e.cfg.menuItemOutput),h),h.icon&&(s.alt="",s.src=h.icon,s.setAttribute("style","margin: 0 auto;border: none;outline: none"),h.iconTitle&&(s.title=h.iconTitle),l.appendChild(s)),l.href="#",h.title&&(s.setAttribute("style","margin-right: 5px;"),l.innerHTML+=h.title),l.setAttribute("style","display: block;"),AmCharts.extend(l.style,u),l.onclick=h.onclick.bind(l,e,h),r.appendChild(l),h.items&&(c=t(h.items),r.appendChild(c),r.onmouseover=function(){c.style.display="block"},r.onmouseout=function(){c.style.display="none"},c.style.display="none"),a.appendChild(r),l.onmouseover=function(){this.style.backgroundColor=u.rollOverBackgroundColor,this.style.color=u.rollOverColor,this.style.borderColor=u.rollOverBorderColor},l.onmouseout=function(){this.style.backgroundColor=u.backgroundColor,this.style.color=u.color,this.style.borderColor=u.borderColor}}return n++,10==e.DEBUG&&e.log("MENU",a),a}var e=this,i=document.createElement("div"),n=0;i.setAttribute("style","width:39px; height:28px; position: absolute;top:"+e.cfg.menuTop+";right:"+e.cfg.menuRight+";bottom:"+e.cfg.menuBottom+";left:"+e.cfg.menuLeft+";box-shadow:0px 0px 1px 0px rgba(0,0,0,0);"),i.setAttribute("class","amExportButton"),i.appendChild(t(e.cfg.menuItems)),e.chart.containerDiv.appendChild(i)}}),function(){function t(){var t={};return t.FRAMERATE=30,t.MAX_VIRTUAL_PIXELS=3e4,t.init=function(e){var i=0;t.UniqueId=function(){return i++,"canvg"+i},t.Definitions={},t.Styles={},t.Animations=[],t.Images=[],t.ctx=e,t.ViewPort=new function(){this.viewPorts=[],this.Clear=function(){this.viewPorts=[]},this.SetCurrent=function(t,e){this.viewPorts.push({width:t,height:e})},this.RemoveCurrent=function(){this.viewPorts.pop()},this.Current=function(){return this.viewPorts[this.viewPorts.length-1]},this.width=function(){return this.Current().width},this.height=function(){return this.Current().height},this.ComputeSize=function(t){return null!=t&&"number"==typeof t?t:"x"==t?this.width():"y"==t?this.height():Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}}},t.init(),t.ImagesLoaded=function(){for(var e=0;e<t.Images.length;e++)if(!t.Images[e].loaded)return!1;return!0},t.trim=function(t){return t.replace(/^\s+|\s+$/g,"")},t.compressSpaces=function(t){return t.replace(/[\s\r\t\n]+/gm," ")},t.ajax=function(t){var e;return e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),e?(e.open("GET",t,!1),e.send(null),e.responseText):null},t.parseXml=function(t){if(window.DOMParser){var e=new DOMParser;return e.parseFromString(t,"text/xml")}t=t.replace(/<!DOCTYPE svg[^>]*>/,"");var i=new ActiveXObject("Microsoft.XMLDOM");return i.async="false",i.loadXML(t),i},t.Property=function(t,e){this.name=t,this.value=e},t.Property.prototype.getValue=function(){return this.value},t.Property.prototype.hasValue=function(){return null!=this.value&&""!==this.value},t.Property.prototype.numValue=function(){if(!this.hasValue())return 0;var t=parseFloat(this.value);return(this.value+"").match(/%$/)&&(t/=100),t},t.Property.prototype.valueOrDefault=function(t){return this.hasValue()?this.value:t},t.Property.prototype.numValueOrDefault=function(t){return this.hasValue()?this.numValue():t},t.Property.prototype.addOpacity=function(e){var i=this.value;if(null!=e&&""!=e&&"string"==typeof this.value){var n=new RGBColor(this.value);n.ok&&(i="rgba("+n.r+", "+n.g+", "+n.b+", "+e+")")}return new t.Property(this.name,i)},t.Property.prototype.getDefinition=function(){var e=this.value.match(/#([^\)'"]+)/);return e&&(e=e[1]),e||(e=this.value),t.Definitions[e]},t.Property.prototype.isUrlDefinition=function(){return 0==this.value.indexOf("url(")},t.Property.prototype.getFillStyleDefinition=function(e,i){var n=this.getDefinition();if(null!=n&&n.createGradient)return n.createGradient(t.ctx,e,i);if(null!=n&&n.createPattern){if(n.getHrefAttribute().hasValue()){var a=n.attribute("patternTransform");n=n.getHrefAttribute().getDefinition(),a.hasValue()&&(n.attribute("patternTransform",!0).value=a.value)}return n.createPattern(t.ctx,e)}return null},t.Property.prototype.getDPI=function(){return 96},t.Property.prototype.getEM=function(e){var i=12,n=new t.Property("fontSize",t.Font.Parse(t.ctx.font).fontSize);return n.hasValue()&&(i=n.toPixels(e)),i},t.Property.prototype.getUnits=function(){var t=this.value+"";return t.replace(/[0-9\.\-]/g,"")},t.Property.prototype.toPixels=function(e,i){if(!this.hasValue())return 0;var n=this.value+"";if(n.match(/em$/))return this.numValue()*this.getEM(e);if(n.match(/ex$/))return this.numValue()*this.getEM(e)/2;if(n.match(/px$/))return this.numValue();if(n.match(/pt$/))return this.numValue()*this.getDPI(e)*(1/72);if(n.match(/pc$/))return 15*this.numValue();if(n.match(/cm$/))return this.numValue()*this.getDPI(e)/2.54;if(n.match(/mm$/))return this.numValue()*this.getDPI(e)/25.4;if(n.match(/in$/))return this.numValue()*this.getDPI(e);if(n.match(/%$/))return this.numValue()*t.ViewPort.ComputeSize(e);var a=this.numValue();return i&&1>a?a*t.ViewPort.ComputeSize(e):a},t.Property.prototype.toMilliseconds=function(){if(!this.hasValue())return 0;var t=this.value+"";return t.match(/s$/)?1e3*this.numValue():(t.match(/ms$/),this.numValue())},t.Property.prototype.toRadians=function(){if(!this.hasValue())return 0;var t=this.value+"";return t.match(/deg$/)?this.numValue()*(Math.PI/180):t.match(/grad$/)?this.numValue()*(Math.PI/200):t.match(/rad$/)?this.numValue():this.numValue()*(Math.PI/180)},t.Font=new function(){this.Styles="normal|italic|oblique|inherit",this.Variants="normal|small-caps|inherit",this.Weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit",this.CreateFont=function(e,i,n,a,o,r){var s=null!=r?this.Parse(r):this.CreateFont("","","","","",t.ctx.font);return{fontFamily:o||s.fontFamily,fontSize:a||s.fontSize,fontStyle:e||s.fontStyle,fontWeight:n||s.fontWeight,fontVariant:i||s.fontVariant,toString:function(){return[this.fontStyle,this.fontVariant,this.fontWeight,this.fontSize,this.fontFamily].join(" ")}}};var e=this;this.Parse=function(i){for(var n={},a=t.trim(t.compressSpaces(i||"")).split(" "),o={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1},r="",s=0;s<a.length;s++)o.fontStyle||-1==e.Styles.indexOf(a[s])?o.fontVariant||-1==e.Variants.indexOf(a[s])?o.fontWeight||-1==e.Weights.indexOf(a[s])?o.fontSize?"inherit"!=a[s]&&(r+=a[s]):("inherit"!=a[s]&&(n.fontSize=a[s].split("/")[0]),o.fontStyle=o.fontVariant=o.fontWeight=o.fontSize=!0):("inherit"!=a[s]&&(n.fontWeight=a[s]),o.fontStyle=o.fontVariant=o.fontWeight=!0):("inherit"!=a[s]&&(n.fontVariant=a[s]),o.fontStyle=o.fontVariant=!0):("inherit"!=a[s]&&(n.fontStyle=a[s]),o.fontStyle=!0);return""!=r&&(n.fontFamily=r),n}},t.ToNumberArray=function(e){for(var i=t.trim(t.compressSpaces((e||"").replace(/,/g," "))).split(" "),n=0;n<i.length;n++)i[n]=parseFloat(i[n]);return i},t.Point=function(t,e){this.x=t,this.y=e},t.Point.prototype.angleTo=function(t){return Math.atan2(t.y-this.y,t.x-this.x)},t.Point.prototype.applyTransform=function(t){var e=this.x*t[0]+this.y*t[2]+t[4],i=this.x*t[1]+this.y*t[3]+t[5];this.x=e,this.y=i},t.CreatePoint=function(e){var i=t.ToNumberArray(e);return new t.Point(i[0],i[1])},t.CreatePath=function(e){for(var i=t.ToNumberArray(e),n=[],a=0;a<i.length;a+=2)n.push(new t.Point(i[a],i[a+1]));return n},t.BoundingBox=function(t,e,n,a){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN,this.x=function(){return this.x1},this.y=function(){return this.y1},this.width=function(){return this.x2-this.x1},this.height=function(){return this.y2-this.y1},this.addPoint=function(t,e){null!=t&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),null!=e&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))},this.addX=function(t){this.addPoint(t,null)},this.addY=function(t){this.addPoint(null,t)},this.addBoundingBox=function(t){this.addPoint(t.x1,t.y1),this.addPoint(t.x2,t.y2)},this.addQuadraticCurve=function(t,e,i,n,a,o){var r=t+2/3*(i-t),s=e+2/3*(n-e),l=r+1/3*(a-t),h=s+1/3*(o-e);this.addBezierCurve(t,e,r,l,s,h,a,o)},this.addBezierCurve=function(t,e,n,a,o,r,s,l){var h=[t,e],c=[n,a],u=[o,r],d=[s,l];for(this.addPoint(h[0],h[1]),this.addPoint(d[0],d[1]),i=0;i<=1;i++){var f=function(t){return Math.pow(1-t,3)*h[i]+3*Math.pow(1-t,2)*t*c[i]+3*(1-t)*Math.pow(t,2)*u[i]+Math.pow(t,3)*d[i]},m=6*h[i]-12*c[i]+6*u[i],p=-3*h[i]+9*c[i]-9*u[i]+3*d[i],g=3*c[i]-3*h[i];if(0!=p){var v=Math.pow(m,2)-4*g*p;if(!(0>v)){var C=(-m+Math.sqrt(v))/(2*p);C>0&&1>C&&(0==i&&this.addX(f(C)),1==i&&this.addY(f(C)));var E=(-m-Math.sqrt(v))/(2*p);E>0&&1>E&&(0==i&&this.addX(f(E)),1==i&&this.addY(f(E)))}}else{if(0==m)continue;var b=-g/m;b>0&&1>b&&(0==i&&this.addX(f(b)),1==i&&this.addY(f(b)))}}},this.isPointInBox=function(t,e){return this.x1<=t&&t<=this.x2&&this.y1<=e&&e<=this.y2},this.addPoint(t,e),this.addPoint(n,a)},t.Transform=function(e){var i=this;this.Type={},this.Type.translate=function(e){this.p=t.CreatePoint(e),this.apply=function(t){t.translate(this.p.x||0,this.p.y||0)},this.unapply=function(t){t.translate(-1*this.p.x||0,-1*this.p.y||0)},this.applyToPoint=function(t){t.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}},this.Type.rotate=function(e){var i=t.ToNumberArray(e);this.angle=new t.Property("angle",i[0]),this.cx=i[1]||0,this.cy=i[2]||0,this.apply=function(t){t.translate(this.cx,this.cy),t.rotate(this.angle.toRadians()),t.translate(-this.cx,-this.cy)},this.unapply=function(t){t.translate(this.cx,this.cy),t.rotate(-1*this.angle.toRadians()),t.translate(-this.cx,-this.cy)},this.applyToPoint=function(t){var e=this.angle.toRadians();t.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]),t.applyTransform([Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0]),t.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}},this.Type.scale=function(e){this.p=t.CreatePoint(e),this.apply=function(t){t.scale(this.p.x||1,this.p.y||this.p.x||1)},this.unapply=function(t){t.scale(1/this.p.x||1,1/this.p.y||this.p.x||1)},this.applyToPoint=function(t){t.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}},this.Type.matrix=function(e){this.m=t.ToNumberArray(e),this.apply=function(t){t.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])},this.applyToPoint=function(t){t.applyTransform(this.m)}},this.Type.SkewBase=function(e){this.base=i.Type.matrix,this.base(e),this.angle=new t.Property("angle",e)},this.Type.SkewBase.prototype=new this.Type.matrix,this.Type.skewX=function(t){this.base=i.Type.SkewBase,this.base(t),this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]},this.Type.skewX.prototype=new this.Type.SkewBase,this.Type.skewY=function(t){this.base=i.Type.SkewBase,this.base(t),this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]},this.Type.skewY.prototype=new this.Type.SkewBase,this.transforms=[],this.apply=function(t){for(var e=0;e<this.transforms.length;e++)this.transforms[e].apply(t)},this.unapply=function(t){for(var e=this.transforms.length-1;e>=0;e--)this.transforms[e].unapply(t)},this.applyToPoint=function(t){for(var e=0;e<this.transforms.length;e++)this.transforms[e].applyToPoint(t)};for(var n=t.trim(t.compressSpaces(e)).replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/),a=0;a<n.length;a++){var o=t.trim(n[a].split("(")[0]),r=n[a].split("(")[1].replace(")",""),s=new this.Type[o](r);s.type=o,this.transforms.push(s)}},t.AspectRatio=function(e,i,n,a,o,r,s,l,h,c){i=t.compressSpaces(i),i=i.replace(/^defer\s/,"");var u=i.split(" ")[0]||"xMidYMid",d=i.split(" ")[1]||"meet",f=n/a,m=o/r,p=Math.min(f,m),g=Math.max(f,m);"meet"==d&&(a*=p,r*=p),"slice"==d&&(a*=g,r*=g),h=new t.Property("refX",h),c=new t.Property("refY",c),h.hasValue()&&c.hasValue()?e.translate(-p*h.toPixels("x"),-p*c.toPixels("y")):(u.match(/^xMid/)&&("meet"==d&&p==m||"slice"==d&&g==m)&&e.translate(n/2-a/2,0),u.match(/YMid$/)&&("meet"==d&&p==f||"slice"==d&&g==f)&&e.translate(0,o/2-r/2),u.match(/^xMax/)&&("meet"==d&&p==m||"slice"==d&&g==m)&&e.translate(n-a,0),u.match(/YMax$/)&&("meet"==d&&p==f||"slice"==d&&g==f)&&e.translate(0,o-r)),"none"==u?e.scale(f,m):"meet"==d?e.scale(p,p):"slice"==d&&e.scale(g,g),e.translate(null==s?0:-s,null==l?0:-l)
},t.Element={},t.EmptyProperty=new t.Property("EMPTY",""),t.Element.ElementBase=function(e){if(this.attributes={},this.styles={},this.children=[],this.attribute=function(e,i){var n=this.attributes[e];return null!=n?n:(1==i&&(n=new t.Property(e,""),this.attributes[e]=n),n||t.EmptyProperty)},this.getHrefAttribute=function(){for(var e in this.attributes)if(e.match(/:href$/))return this.attributes[e];return t.EmptyProperty},this.style=function(e,i){var n=this.styles[e];if(null!=n)return n;var a=this.attribute(e);if(null!=a&&a.hasValue())return this.styles[e]=a,a;var o=this.parent;if(null!=o){var r=o.style(e);if(null!=r&&r.hasValue())return r}return 1==i&&(n=new t.Property(e,""),this.styles[e]=n),n||t.EmptyProperty},this.render=function(t){if("none"!=this.style("display").value&&"hidden"!=this.attribute("visibility").value){if(t.save(),this.attribute("mask").hasValue()){var e=this.attribute("mask").getDefinition();null!=e&&e.apply(t,this)}else if(this.style("filter").hasValue()){var i=this.style("filter").getDefinition();null!=i&&i.apply(t,this)}else this.setContext(t),this.renderChildren(t),this.clearContext(t);t.restore()}},this.setContext=function(){},this.clearContext=function(){},this.renderChildren=function(t){for(var e=0;e<this.children.length;e++)this.children[e].render(t)},this.addChild=function(e,i){var n=e;i&&(n=t.CreateElement(e)),n.parent=this,this.children.push(n)},null!=e&&1==e.nodeType){for(var i=0;i<e.childNodes.length;i++){var n=e.childNodes[i];if(1==n.nodeType&&this.addChild(n,!0),this.captureTextNodes&&3==n.nodeType){var a=n.nodeValue||n.text||"";""!=t.trim(t.compressSpaces(a))&&this.addChild(new t.Element.tspan(n),!1)}}for(var i=0;i<e.attributes.length;i++){var o=e.attributes[i];this.attributes[o.nodeName]=new t.Property(o.nodeName,o.nodeValue)}var r=t.Styles[e.nodeName];if(null!=r)for(var s in r)this.styles[s]=r[s];if(this.attribute("class").hasValue())for(var l=t.compressSpaces(this.attribute("class").value).split(" "),h=0;h<l.length;h++){if(r=t.Styles["."+l[h]],null!=r)for(var s in r)this.styles[s]=r[s];if(r=t.Styles[e.nodeName+"."+l[h]],null!=r)for(var s in r)this.styles[s]=r[s]}if(this.attribute("id").hasValue()){var r=t.Styles["#"+this.attribute("id").value];if(null!=r)for(var s in r)this.styles[s]=r[s]}if(this.attribute("style").hasValue())for(var r=this.attribute("style").value.split(";"),i=0;i<r.length;i++)if(""!=t.trim(r[i])){var c=r[i].split(":"),s=t.trim(c[0]),u=t.trim(c[1]);this.styles[s]=new t.Property(s,u)}this.attribute("id").hasValue()&&null==t.Definitions[this.attribute("id").value]&&(t.Definitions[this.attribute("id").value]=this)}},t.Element.RenderedElementBase=function(e){this.base=t.Element.ElementBase,this.base(e),this.setContext=function(e){if(this.style("fill").isUrlDefinition()){var i=this.style("fill").getFillStyleDefinition(this,this.style("fill-opacity"));null!=i&&(e.fillStyle=i)}else if(this.style("fill").hasValue()){var n=this.style("fill");"currentColor"==n.value&&(n.value=this.style("color").value),e.fillStyle="none"==n.value?"rgba(0,0,0,0)":n.value}if(this.style("fill-opacity").hasValue()){var n=new t.Property("fill",e.fillStyle);n=n.addOpacity(this.style("fill-opacity").value),e.fillStyle=n.value}if(this.style("stroke").isUrlDefinition()){var i=this.style("stroke").getFillStyleDefinition(this,this.style("stroke-opacity"));null!=i&&(e.strokeStyle=i)}else if(this.style("stroke").hasValue()){var a=this.style("stroke");"currentColor"==a.value&&(a.value=this.style("color").value),e.strokeStyle="none"==a.value?"rgba(0,0,0,0)":a.value}if(this.style("stroke-opacity").hasValue()){var a=new t.Property("stroke",e.strokeStyle);a=a.addOpacity(this.style("stroke-opacity").value),e.strokeStyle=a.value}if(this.style("stroke-width").hasValue()){var o=this.style("stroke-width").toPixels();e.lineWidth=0==o?.001:o}if(this.style("stroke-linecap").hasValue()&&(e.lineCap=this.style("stroke-linecap").value),this.style("stroke-linejoin").hasValue()&&(e.lineJoin=this.style("stroke-linejoin").value),this.style("stroke-miterlimit").hasValue()&&(e.miterLimit=this.style("stroke-miterlimit").value),this.style("stroke-dasharray").hasValue()){var r=t.ToNumberArray(this.style("stroke-dasharray").value);"undefined"!=typeof e.setLineDash?e.setLineDash(r):"undefined"!=typeof e.webkitLineDash?e.webkitLineDash=r:"undefined"!=typeof e.mozDash&&(e.mozDash=r);var s=this.style("stroke-dashoffset").numValueOrDefault(1);"undefined"!=typeof e.lineDashOffset?e.lineDashOffset=s:"undefined"!=typeof e.webkitLineDashOffset?e.webkitLineDashOffset=s:"undefined"!=typeof e.mozDashOffset&&(e.mozDashOffset=s)}if("undefined"!=typeof e.font&&(e.font=t.Font.CreateFont(this.style("font-style").value,this.style("font-variant").value,this.style("font-weight").value,this.style("font-size").hasValue()?this.style("font-size").toPixels()+"px":"",this.style("font-family").value).toString()),this.attribute("transform").hasValue()){var l=new t.Transform(this.attribute("transform").value);l.apply(e)}if(this.style("clip-path").hasValue()){var h=this.style("clip-path").getDefinition();null!=h&&h.apply(e)}this.style("opacity").hasValue()&&(e.globalAlpha=this.style("opacity").numValue())}},t.Element.RenderedElementBase.prototype=new t.Element.ElementBase,t.Element.PathElementBase=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.path=function(e){return null!=e&&e.beginPath(),new t.BoundingBox},this.renderChildren=function(e){this.path(e),t.Mouse.checkPath(this,e),""!=e.fillStyle&&(this.attribute("fill-rule").hasValue()?e.fill(this.attribute("fill-rule").value):e.fill()),""!=e.strokeStyle&&e.stroke();var i=this.getMarkers();if(null!=i){if(this.style("marker-start").isUrlDefinition()){var n=this.style("marker-start").getDefinition();n.render(e,i[0][0],i[0][1])}if(this.style("marker-mid").isUrlDefinition())for(var n=this.style("marker-mid").getDefinition(),a=1;a<i.length-1;a++)n.render(e,i[a][0],i[a][1]);if(this.style("marker-end").isUrlDefinition()){var n=this.style("marker-end").getDefinition();n.render(e,i[i.length-1][0],i[i.length-1][1])}}},this.getBoundingBox=function(){return this.path()},this.getMarkers=function(){return null}},t.Element.PathElementBase.prototype=new t.Element.RenderedElementBase,t.Element.svg=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.baseClearContext=this.clearContext,this.clearContext=function(e){this.baseClearContext(e),t.ViewPort.RemoveCurrent()},this.baseSetContext=this.setContext,this.setContext=function(e){e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,this.baseSetContext(e),this.attribute("x").hasValue()||(this.attribute("x",!0).value=0),this.attribute("y").hasValue()||(this.attribute("y",!0).value=0),e.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var i=t.ViewPort.width(),n=t.ViewPort.height();if(this.attribute("width").hasValue()||(this.attribute("width",!0).value="100%"),this.attribute("height").hasValue()||(this.attribute("height",!0).value="100%"),"undefined"==typeof this.root){i=this.attribute("width").toPixels("x"),n=this.attribute("height").toPixels("y");var a=0,o=0;this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()&&(a=-this.attribute("refX").toPixels("x"),o=-this.attribute("refY").toPixels("y")),e.beginPath(),e.moveTo(a,o),e.lineTo(i,o),e.lineTo(i,n),e.lineTo(a,n),e.closePath(),e.clip()}if(t.ViewPort.SetCurrent(i,n),this.attribute("viewBox").hasValue()){var r=t.ToNumberArray(this.attribute("viewBox").value),s=r[0],l=r[1];i=r[2],n=r[3],t.AspectRatio(e,this.attribute("preserveAspectRatio").value,t.ViewPort.width(),i,t.ViewPort.height(),n,s,l,this.attribute("refX").value,this.attribute("refY").value),t.ViewPort.RemoveCurrent(),t.ViewPort.SetCurrent(r[2],r[3])}}},t.Element.svg.prototype=new t.Element.RenderedElementBase,t.Element.rect=function(e){this.base=t.Element.PathElementBase,this.base(e),this.path=function(e){var i=this.attribute("x").toPixels("x"),n=this.attribute("y").toPixels("y"),a=this.attribute("width").toPixels("x"),o=this.attribute("height").toPixels("y"),r=this.attribute("rx").toPixels("x"),s=this.attribute("ry").toPixels("y");return this.attribute("rx").hasValue()&&!this.attribute("ry").hasValue()&&(s=r),this.attribute("ry").hasValue()&&!this.attribute("rx").hasValue()&&(r=s),r=Math.min(r,a/2),s=Math.min(s,o/2),null!=e&&(e.beginPath(),e.moveTo(i+r,n),e.lineTo(i+a-r,n),e.quadraticCurveTo(i+a,n,i+a,n+s),e.lineTo(i+a,n+o-s),e.quadraticCurveTo(i+a,n+o,i+a-r,n+o),e.lineTo(i+r,n+o),e.quadraticCurveTo(i,n+o,i,n+o-s),e.lineTo(i,n+s),e.quadraticCurveTo(i,n,i+r,n),e.closePath()),new t.BoundingBox(i,n,i+a,n+o)}},t.Element.rect.prototype=new t.Element.PathElementBase,t.Element.circle=function(e){this.base=t.Element.PathElementBase,this.base(e),this.path=function(e){var i=this.attribute("cx").toPixels("x"),n=this.attribute("cy").toPixels("y"),a=this.attribute("r").toPixels();return null!=e&&(e.beginPath(),e.arc(i,n,a,0,2*Math.PI,!0),e.closePath()),new t.BoundingBox(i-a,n-a,i+a,n+a)}},t.Element.circle.prototype=new t.Element.PathElementBase,t.Element.ellipse=function(e){this.base=t.Element.PathElementBase,this.base(e),this.path=function(e){var i=4*((Math.sqrt(2)-1)/3),n=this.attribute("rx").toPixels("x"),a=this.attribute("ry").toPixels("y"),o=this.attribute("cx").toPixels("x"),r=this.attribute("cy").toPixels("y");return null!=e&&(e.beginPath(),e.moveTo(o,r-a),e.bezierCurveTo(o+i*n,r-a,o+n,r-i*a,o+n,r),e.bezierCurveTo(o+n,r+i*a,o+i*n,r+a,o,r+a),e.bezierCurveTo(o-i*n,r+a,o-n,r+i*a,o-n,r),e.bezierCurveTo(o-n,r-i*a,o-i*n,r-a,o,r-a),e.closePath()),new t.BoundingBox(o-n,r-a,o+n,r+a)}},t.Element.ellipse.prototype=new t.Element.PathElementBase,t.Element.line=function(e){this.base=t.Element.PathElementBase,this.base(e),this.getPoints=function(){return[new t.Point(this.attribute("x1").toPixels("x"),this.attribute("y1").toPixels("y")),new t.Point(this.attribute("x2").toPixels("x"),this.attribute("y2").toPixels("y"))]},this.path=function(e){var i=this.getPoints();return null!=e&&(e.beginPath(),e.moveTo(i[0].x,i[0].y),e.lineTo(i[1].x,i[1].y)),new t.BoundingBox(i[0].x,i[0].y,i[1].x,i[1].y)},this.getMarkers=function(){var t=this.getPoints(),e=t[0].angleTo(t[1]);return[[t[0],e],[t[1],e]]}},t.Element.line.prototype=new t.Element.PathElementBase,t.Element.polyline=function(e){this.base=t.Element.PathElementBase,this.base(e),this.points=t.CreatePath(this.attribute("points").value),this.path=function(e){var i=new t.BoundingBox(this.points[0].x,this.points[0].y);null!=e&&(e.beginPath(),e.moveTo(this.points[0].x,this.points[0].y));for(var n=1;n<this.points.length;n++)i.addPoint(this.points[n].x,this.points[n].y),null!=e&&e.lineTo(this.points[n].x,this.points[n].y);return i},this.getMarkers=function(){for(var t=[],e=0;e<this.points.length-1;e++)t.push([this.points[e],this.points[e].angleTo(this.points[e+1])]);return t.push([this.points[this.points.length-1],t[t.length-1][1]]),t}},t.Element.polyline.prototype=new t.Element.PathElementBase,t.Element.polygon=function(e){this.base=t.Element.polyline,this.base(e),this.basePath=this.path,this.path=function(t){var e=this.basePath(t);return null!=t&&(t.lineTo(this.points[0].x,this.points[0].y),t.closePath()),e}},t.Element.polygon.prototype=new t.Element.polyline,t.Element.path=function(e){this.base=t.Element.PathElementBase,this.base(e);var i=this.attribute("d").value;i=i.replace(/,/gm," "),i=i.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),i=i.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),i=i.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2"),i=i.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),i=i.replace(/([0-9])([+\-])/gm,"$1 $2"),i=i.replace(/(\.[0-9]*)(\.)/gm,"$1 $2"),i=i.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),i=t.compressSpaces(i),i=t.trim(i),this.PathParser=new function(e){this.tokens=e.split(" "),this.reset=function(){this.i=-1,this.command="",this.previousCommand="",this.start=new t.Point(0,0),this.control=new t.Point(0,0),this.current=new t.Point(0,0),this.points=[],this.angles=[]},this.isEnd=function(){return this.i>=this.tokens.length-1},this.isCommandOrEnd=function(){return this.isEnd()?!0:null!=this.tokens[this.i+1].match(/^[A-Za-z]$/)},this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0}return!1},this.getToken=function(){return this.i++,this.tokens[this.i]},this.getScalar=function(){return parseFloat(this.getToken())},this.nextCommand=function(){this.previousCommand=this.command,this.command=this.getToken()},this.getPoint=function(){var e=new t.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(e)},this.getAsControlPoint=function(){var t=this.getPoint();return this.control=t,t},this.getAsCurrentPoint=function(){var t=this.getPoint();return this.current=t,t},this.getReflectedControlPoint=function(){if("c"!=this.previousCommand.toLowerCase()&&"s"!=this.previousCommand.toLowerCase()&&"q"!=this.previousCommand.toLowerCase()&&"t"!=this.previousCommand.toLowerCase())return this.current;var e=new t.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y);return e},this.makeAbsolute=function(t){return this.isRelativeCommand()&&(t.x+=this.current.x,t.y+=this.current.y),t},this.addMarker=function(t,e,i){null!=i&&this.angles.length>0&&null==this.angles[this.angles.length-1]&&(this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(i)),this.addMarkerAngle(t,null==e?null:e.angleTo(t))},this.addMarkerAngle=function(t,e){this.points.push(t),this.angles.push(e)},this.getMarkerPoints=function(){return this.points},this.getMarkerAngles=function(){for(var t=0;t<this.angles.length;t++)if(null==this.angles[t])for(var e=t+1;e<this.angles.length;e++)if(null!=this.angles[e]){this.angles[t]=this.angles[e];break}return this.angles}}(i),this.path=function(e){var i=this.PathParser;i.reset();var n=new t.BoundingBox;for(null!=e&&e.beginPath();!i.isEnd();)switch(i.nextCommand(),i.command){case"M":case"m":var a=i.getAsCurrentPoint();for(i.addMarker(a),n.addPoint(a.x,a.y),null!=e&&e.moveTo(a.x,a.y),i.start=i.current;!i.isCommandOrEnd();){var a=i.getAsCurrentPoint();i.addMarker(a,i.start),n.addPoint(a.x,a.y),null!=e&&e.lineTo(a.x,a.y)}break;case"L":case"l":for(;!i.isCommandOrEnd();){var o=i.current,a=i.getAsCurrentPoint();i.addMarker(a,o),n.addPoint(a.x,a.y),null!=e&&e.lineTo(a.x,a.y)}break;case"H":case"h":for(;!i.isCommandOrEnd();){var r=new t.Point((i.isRelativeCommand()?i.current.x:0)+i.getScalar(),i.current.y);i.addMarker(r,i.current),i.current=r,n.addPoint(i.current.x,i.current.y),null!=e&&e.lineTo(i.current.x,i.current.y)}break;case"V":case"v":for(;!i.isCommandOrEnd();){var r=new t.Point(i.current.x,(i.isRelativeCommand()?i.current.y:0)+i.getScalar());i.addMarker(r,i.current),i.current=r,n.addPoint(i.current.x,i.current.y),null!=e&&e.lineTo(i.current.x,i.current.y)}break;case"C":case"c":for(;!i.isCommandOrEnd();){var s=i.current,l=i.getPoint(),h=i.getAsControlPoint(),c=i.getAsCurrentPoint();i.addMarker(c,h,l),n.addBezierCurve(s.x,s.y,l.x,l.y,h.x,h.y,c.x,c.y),null!=e&&e.bezierCurveTo(l.x,l.y,h.x,h.y,c.x,c.y)}break;case"S":case"s":for(;!i.isCommandOrEnd();){var s=i.current,l=i.getReflectedControlPoint(),h=i.getAsControlPoint(),c=i.getAsCurrentPoint();i.addMarker(c,h,l),n.addBezierCurve(s.x,s.y,l.x,l.y,h.x,h.y,c.x,c.y),null!=e&&e.bezierCurveTo(l.x,l.y,h.x,h.y,c.x,c.y)}break;case"Q":case"q":for(;!i.isCommandOrEnd();){var s=i.current,h=i.getAsControlPoint(),c=i.getAsCurrentPoint();i.addMarker(c,h,h),n.addQuadraticCurve(s.x,s.y,h.x,h.y,c.x,c.y),null!=e&&e.quadraticCurveTo(h.x,h.y,c.x,c.y)}break;case"T":case"t":for(;!i.isCommandOrEnd();){var s=i.current,h=i.getReflectedControlPoint();i.control=h;var c=i.getAsCurrentPoint();i.addMarker(c,h,h),n.addQuadraticCurve(s.x,s.y,h.x,h.y,c.x,c.y),null!=e&&e.quadraticCurveTo(h.x,h.y,c.x,c.y)}break;case"A":case"a":for(;!i.isCommandOrEnd();){var s=i.current,u=i.getScalar(),d=i.getScalar(),f=i.getScalar()*(Math.PI/180),m=i.getScalar(),p=i.getScalar(),c=i.getAsCurrentPoint(),g=new t.Point(Math.cos(f)*(s.x-c.x)/2+Math.sin(f)*(s.y-c.y)/2,-Math.sin(f)*(s.x-c.x)/2+Math.cos(f)*(s.y-c.y)/2),v=Math.pow(g.x,2)/Math.pow(u,2)+Math.pow(g.y,2)/Math.pow(d,2);v>1&&(u*=Math.sqrt(v),d*=Math.sqrt(v));var C=(m==p?-1:1)*Math.sqrt((Math.pow(u,2)*Math.pow(d,2)-Math.pow(u,2)*Math.pow(g.y,2)-Math.pow(d,2)*Math.pow(g.x,2))/(Math.pow(u,2)*Math.pow(g.y,2)+Math.pow(d,2)*Math.pow(g.x,2)));isNaN(C)&&(C=0);var E=new t.Point(C*u*g.y/d,C*-d*g.x/u),b=new t.Point((s.x+c.x)/2+Math.cos(f)*E.x-Math.sin(f)*E.y,(s.y+c.y)/2+Math.sin(f)*E.x+Math.cos(f)*E.y),T=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))},y=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(T(t)*T(e))},D=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(y(t,e))},O=D([1,0],[(g.x-E.x)/u,(g.y-E.y)/d]),I=[(g.x-E.x)/u,(g.y-E.y)/d],R=[(-g.x-E.x)/u,(-g.y-E.y)/d],x=D(I,R);y(I,R)<=-1&&(x=Math.PI),y(I,R)>=1&&(x=0);var k=1-p?1:-1,A=O+k*(x/2),w=new t.Point(b.x+u*Math.cos(A),b.y+d*Math.sin(A));if(i.addMarkerAngle(w,A-k*Math.PI/2),i.addMarkerAngle(c,A-k*Math.PI),n.addPoint(c.x,c.y),null!=e){var y=u>d?u:d,S=u>d?1:u/d,K=u>d?d/u:1;e.translate(b.x,b.y),e.rotate(f),e.scale(S,K),e.arc(0,0,y,O,O+x,1-p),e.scale(1/S,1/K),e.rotate(-f),e.translate(-b.x,-b.y)}}break;case"Z":case"z":null!=e&&e.closePath(),i.current=i.start}return n},this.getMarkers=function(){for(var t=this.PathParser.getMarkerPoints(),e=this.PathParser.getMarkerAngles(),i=[],n=0;n<t.length;n++)i.push([t[n],e[n]]);return i}},t.Element.path.prototype=new t.Element.PathElementBase,t.Element.pattern=function(e){this.base=t.Element.ElementBase,this.base(e),this.createPattern=function(e){var i=this.attribute("width").toPixels("x",!0),n=this.attribute("height").toPixels("y",!0),a=new t.Element.svg;a.attributes.viewBox=new t.Property("viewBox",this.attribute("viewBox").value),a.attributes.width=new t.Property("width",i+"px"),a.attributes.height=new t.Property("height",n+"px"),a.attributes.transform=new t.Property("transform",this.attribute("patternTransform").value),a.children=this.children;var o=document.createElement("canvas");o.width=i,o.height=n;var r=o.getContext("2d");this.attribute("x").hasValue()&&this.attribute("y").hasValue()&&r.translate(this.attribute("x").toPixels("x",!0),this.attribute("y").toPixels("y",!0));for(var s=-1;1>=s;s++)for(var l=-1;1>=l;l++)r.save(),r.translate(s*o.width,l*o.height),a.render(r),r.restore();var h=e.createPattern(o,"repeat");return h}},t.Element.pattern.prototype=new t.Element.ElementBase,t.Element.marker=function(e){this.base=t.Element.ElementBase,this.base(e),this.baseRender=this.render,this.render=function(e,i,n){e.translate(i.x,i.y),"auto"==this.attribute("orient").valueOrDefault("auto")&&e.rotate(n),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&e.scale(e.lineWidth,e.lineWidth),e.save();var a=new t.Element.svg;a.attributes.viewBox=new t.Property("viewBox",this.attribute("viewBox").value),a.attributes.refX=new t.Property("refX",this.attribute("refX").value),a.attributes.refY=new t.Property("refY",this.attribute("refY").value),a.attributes.width=new t.Property("width",this.attribute("markerWidth").value),a.attributes.height=new t.Property("height",this.attribute("markerHeight").value),a.attributes.fill=new t.Property("fill",this.attribute("fill").valueOrDefault("black")),a.attributes.stroke=new t.Property("stroke",this.attribute("stroke").valueOrDefault("none")),a.children=this.children,a.render(e),e.restore(),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&e.scale(1/e.lineWidth,1/e.lineWidth),"auto"==this.attribute("orient").valueOrDefault("auto")&&e.rotate(-n),e.translate(-i.x,-i.y)}},t.Element.marker.prototype=new t.Element.ElementBase,t.Element.defs=function(e){this.base=t.Element.ElementBase,this.base(e),this.render=function(){}},t.Element.defs.prototype=new t.Element.ElementBase,t.Element.GradientBase=function(e){this.base=t.Element.ElementBase,this.base(e),this.gradientUnits=this.attribute("gradientUnits").valueOrDefault("objectBoundingBox"),this.stops=[];for(var i=0;i<this.children.length;i++){var n=this.children[i];"stop"==n.type&&this.stops.push(n)}this.getGradient=function(){},this.createGradient=function(e,i,n){var a=this;this.getHrefAttribute().hasValue()&&(a=this.getHrefAttribute().getDefinition());var o=function(e){if(n.hasValue()){var i=new t.Property("color",e);return i.addOpacity(n.value).value}return e},r=this.getGradient(e,i);if(null==r)return o(a.stops[a.stops.length-1].color);for(var s=0;s<a.stops.length;s++)r.addColorStop(a.stops[s].offset,o(a.stops[s].color));if(this.attribute("gradientTransform").hasValue()){var l=t.ViewPort.viewPorts[0],h=new t.Element.rect;h.attributes.x=new t.Property("x",-t.MAX_VIRTUAL_PIXELS/3),h.attributes.y=new t.Property("y",-t.MAX_VIRTUAL_PIXELS/3),h.attributes.width=new t.Property("width",t.MAX_VIRTUAL_PIXELS),h.attributes.height=new t.Property("height",t.MAX_VIRTUAL_PIXELS);var c=new t.Element.g;c.attributes.transform=new t.Property("transform",this.attribute("gradientTransform").value),c.children=[h];var u=new t.Element.svg;u.attributes.x=new t.Property("x",0),u.attributes.y=new t.Property("y",0),u.attributes.width=new t.Property("width",l.width),u.attributes.height=new t.Property("height",l.height),u.children=[c];var d=document.createElement("canvas");d.width=l.width,d.height=l.height;var f=d.getContext("2d");return f.fillStyle=r,u.render(f),f.createPattern(d,"no-repeat")}return r}},t.Element.GradientBase.prototype=new t.Element.ElementBase,t.Element.linearGradient=function(e){this.base=t.Element.GradientBase,this.base(e),this.getGradient=function(t,e){var i=e.getBoundingBox();this.attribute("x1").hasValue()||this.attribute("y1").hasValue()||this.attribute("x2").hasValue()||this.attribute("y2").hasValue()||(this.attribute("x1",!0).value=0,this.attribute("y1",!0).value=0,this.attribute("x2",!0).value=1,this.attribute("y2",!0).value=0);var n="objectBoundingBox"==this.gradientUnits?i.x()+i.width()*this.attribute("x1").numValue():this.attribute("x1").toPixels("x"),a="objectBoundingBox"==this.gradientUnits?i.y()+i.height()*this.attribute("y1").numValue():this.attribute("y1").toPixels("y"),o="objectBoundingBox"==this.gradientUnits?i.x()+i.width()*this.attribute("x2").numValue():this.attribute("x2").toPixels("x"),r="objectBoundingBox"==this.gradientUnits?i.y()+i.height()*this.attribute("y2").numValue():this.attribute("y2").toPixels("y");return n==o&&a==r?null:t.createLinearGradient(n,a,o,r)}},t.Element.linearGradient.prototype=new t.Element.GradientBase,t.Element.radialGradient=function(e){this.base=t.Element.GradientBase,this.base(e),this.getGradient=function(t,e){var i=e.getBoundingBox();this.attribute("cx").hasValue()||(this.attribute("cx",!0).value="50%"),this.attribute("cy").hasValue()||(this.attribute("cy",!0).value="50%"),this.attribute("r").hasValue()||(this.attribute("r",!0).value="50%");var n="objectBoundingBox"==this.gradientUnits?i.x()+i.width()*this.attribute("cx").numValue():this.attribute("cx").toPixels("x"),a="objectBoundingBox"==this.gradientUnits?i.y()+i.height()*this.attribute("cy").numValue():this.attribute("cy").toPixels("y"),o=n,r=a;this.attribute("fx").hasValue()&&(o="objectBoundingBox"==this.gradientUnits?i.x()+i.width()*this.attribute("fx").numValue():this.attribute("fx").toPixels("x")),this.attribute("fy").hasValue()&&(r="objectBoundingBox"==this.gradientUnits?i.y()+i.height()*this.attribute("fy").numValue():this.attribute("fy").toPixels("y"));var s="objectBoundingBox"==this.gradientUnits?(i.width()+i.height())/2*this.attribute("r").numValue():this.attribute("r").toPixels();return t.createRadialGradient(o,r,0,n,a,s)}},t.Element.radialGradient.prototype=new t.Element.GradientBase,t.Element.stop=function(e){this.base=t.Element.ElementBase,this.base(e),this.offset=this.attribute("offset").numValue(),this.offset<0&&(this.offset=0),this.offset>1&&(this.offset=1);var i=this.style("stop-color");this.style("stop-opacity").hasValue()&&(i=i.addOpacity(this.style("stop-opacity").value)),this.color=i.value},t.Element.stop.prototype=new t.Element.ElementBase,t.Element.AnimateBase=function(e){this.base=t.Element.ElementBase,this.base(e),t.Animations.push(this),this.duration=0,this.begin=this.attribute("begin").toMilliseconds(),this.maxDuration=this.begin+this.attribute("dur").toMilliseconds(),this.getProperty=function(){var t=this.attribute("attributeType").value,e=this.attribute("attributeName").value;return"CSS"==t?this.parent.style(e,!0):this.parent.attribute(e,!0)},this.initialValue=null,this.initialUnits="",this.removed=!1,this.calcValue=function(){return""},this.update=function(t){if(null==this.initialValue&&(this.initialValue=this.getProperty().value,this.initialUnits=this.getProperty().getUnits()),this.duration>this.maxDuration){if("indefinite"!=this.attribute("repeatCount").value&&"indefinite"!=this.attribute("repeatDur").value)return"remove"!=this.attribute("fill").valueOrDefault("remove")||this.removed?!1:(this.removed=!0,this.getProperty().value=this.initialValue,!0);this.duration=0}this.duration=this.duration+t;var e=!1;if(this.begin<this.duration){var i=this.calcValue();if(this.attribute("type").hasValue()){var n=this.attribute("type").value;i=n+"("+i+")"}this.getProperty().value=i,e=!0}return e},this.from=this.attribute("from"),this.to=this.attribute("to"),this.values=this.attribute("values"),this.values.hasValue()&&(this.values.value=this.values.value.split(";")),this.progress=function(){var e={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(this.values.hasValue()){var i=e.progress*(this.values.value.length-1),n=Math.floor(i),a=Math.ceil(i);e.from=new t.Property("from",parseFloat(this.values.value[n])),e.to=new t.Property("to",parseFloat(this.values.value[a])),e.progress=(i-n)/(a-n)}else e.from=this.from,e.to=this.to;return e}},t.Element.AnimateBase.prototype=new t.Element.ElementBase,t.Element.animate=function(e){this.base=t.Element.AnimateBase,this.base(e),this.calcValue=function(){var t=this.progress(),e=t.from.numValue()+(t.to.numValue()-t.from.numValue())*t.progress;return e+this.initialUnits}},t.Element.animate.prototype=new t.Element.AnimateBase,t.Element.animateColor=function(e){this.base=t.Element.AnimateBase,this.base(e),this.calcValue=function(){var t=this.progress(),e=new RGBColor(t.from.value),i=new RGBColor(t.to.value);if(e.ok&&i.ok){var n=e.r+(i.r-e.r)*t.progress,a=e.g+(i.g-e.g)*t.progress,o=e.b+(i.b-e.b)*t.progress;return"rgb("+parseInt(n,10)+","+parseInt(a,10)+","+parseInt(o,10)+")"}return this.attribute("from").value}},t.Element.animateColor.prototype=new t.Element.AnimateBase,t.Element.animateTransform=function(e){this.base=t.Element.AnimateBase,this.base(e),this.calcValue=function(){for(var e=this.progress(),i=t.ToNumberArray(e.from.value),n=t.ToNumberArray(e.to.value),a="",o=0;o<i.length;o++)a+=i[o]+(n[o]-i[o])*e.progress+" ";return a}},t.Element.animateTransform.prototype=new t.Element.animate,t.Element.font=function(e){this.base=t.Element.ElementBase,this.base(e),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.isRTL=!1,this.isArabic=!1,this.fontFace=null,this.missingGlyph=null,this.glyphs=[];for(var i=0;i<this.children.length;i++){var n=this.children[i];"font-face"==n.type?(this.fontFace=n,n.style("font-family").hasValue()&&(t.Definitions[n.style("font-family").value]=this)):"missing-glyph"==n.type?this.missingGlyph=n:"glyph"==n.type&&(""!=n.arabicForm?(this.isRTL=!0,this.isArabic=!0,"undefined"==typeof this.glyphs[n.unicode]&&(this.glyphs[n.unicode]=[]),this.glyphs[n.unicode][n.arabicForm]=n):this.glyphs[n.unicode]=n)}},t.Element.font.prototype=new t.Element.ElementBase,t.Element.fontface=function(e){this.base=t.Element.ElementBase,this.base(e),this.ascent=this.attribute("ascent").value,this.descent=this.attribute("descent").value,this.unitsPerEm=this.attribute("units-per-em").numValue()},t.Element.fontface.prototype=new t.Element.ElementBase,t.Element.missingglyph=function(e){this.base=t.Element.path,this.base(e),this.horizAdvX=0},t.Element.missingglyph.prototype=new t.Element.path,t.Element.glyph=function(e){this.base=t.Element.path,this.base(e),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.unicode=this.attribute("unicode").value,this.arabicForm=this.attribute("arabic-form").value},t.Element.glyph.prototype=new t.Element.path,t.Element.text=function(e){this.captureTextNodes=!0,this.base=t.Element.RenderedElementBase,this.base(e),this.baseSetContext=this.setContext,this.setContext=function(t){this.baseSetContext(t),this.style("dominant-baseline").hasValue()&&(t.textBaseline=this.style("dominant-baseline").value),this.style("alignment-baseline").hasValue()&&(t.textBaseline=this.style("alignment-baseline").value)},this.getBoundingBox=function(){return new t.BoundingBox(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"),0,0)},this.renderChildren=function(t){this.x=this.attribute("x").toPixels("x"),this.y=this.attribute("y").toPixels("y"),this.x+=this.getAnchorDelta(t,this,0);for(var e=0;e<this.children.length;e++)this.renderChild(t,this,e)},this.getAnchorDelta=function(t,e,i){var n=this.style("text-anchor").valueOrDefault("start");if("start"!=n){for(var a=0,o=i;o<e.children.length;o++){var r=e.children[o];if(o>i&&r.attribute("x").hasValue())break;a+=r.measureTextRecursive(t)}return-1*("end"==n?a:a/2)}return 0},this.renderChild=function(t,e,i){var n=e.children[i];n.attribute("x").hasValue()?n.x=n.attribute("x").toPixels("x")+this.getAnchorDelta(t,e,i):(this.attribute("dx").hasValue()&&(this.x+=this.attribute("dx").toPixels("x")),n.attribute("dx").hasValue()&&(this.x+=n.attribute("dx").toPixels("x")),n.x=this.x),this.x=n.x+n.measureText(t),n.attribute("y").hasValue()?n.y=n.attribute("y").toPixels("y"):(this.attribute("dy").hasValue()&&(this.y+=this.attribute("dy").toPixels("y")),n.attribute("dy").hasValue()&&(this.y+=n.attribute("dy").toPixels("y")),n.y=this.y),this.y=n.y,n.render(t);for(var i=0;i<n.children.length;i++)this.renderChild(t,n,i)}},t.Element.text.prototype=new t.Element.RenderedElementBase,t.Element.TextElementBase=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.getGlyph=function(t,e,i){var n=e[i],a=null;if(t.isArabic){var o="isolated";(0==i||" "==e[i-1])&&i<e.length-2&&" "!=e[i+1]&&(o="terminal"),i>0&&" "!=e[i-1]&&i<e.length-2&&" "!=e[i+1]&&(o="medial"),i>0&&" "!=e[i-1]&&(i==e.length-1||" "==e[i+1])&&(o="initial"),"undefined"!=typeof t.glyphs[n]&&(a=t.glyphs[n][o],null==a&&"glyph"==t.glyphs[n].type&&(a=t.glyphs[n]))}else a=t.glyphs[n];return null==a&&(a=t.missingGlyph),a},this.renderChildren=function(e){var i=this.parent.style("font-family").getDefinition();if(null==i)""!=e.fillStyle&&e.fillText(t.compressSpaces(this.getText()),this.x,this.y),""!=e.strokeStyle&&e.strokeText(t.compressSpaces(this.getText()),this.x,this.y);else{var n=this.parent.style("font-size").numValueOrDefault(t.Font.Parse(t.ctx.font).fontSize),a=this.parent.style("font-style").valueOrDefault(t.Font.Parse(t.ctx.font).fontStyle),o=this.getText();i.isRTL&&(o=o.split("").reverse().join(""));for(var r=t.ToNumberArray(this.parent.attribute("dx").value),s=0;s<o.length;s++){var l=this.getGlyph(i,o,s),h=n/i.fontFace.unitsPerEm;e.translate(this.x,this.y),e.scale(h,-h);var c=e.lineWidth;e.lineWidth=e.lineWidth*i.fontFace.unitsPerEm/n,"italic"==a&&e.transform(1,0,.4,1,0,0),l.render(e),"italic"==a&&e.transform(1,0,-.4,1,0,0),e.lineWidth=c,e.scale(1/h,-1/h),e.translate(-this.x,-this.y),this.x+=n*(l.horizAdvX||i.horizAdvX)/i.fontFace.unitsPerEm,"undefined"==typeof r[s]||isNaN(r[s])||(this.x+=r[s])}}},this.getText=function(){},this.measureTextRecursive=function(t){for(var e=this.measureText(t),i=0;i<this.children.length;i++)e+=this.children[i].measureTextRecursive(t);return e},this.measureText=function(e){var i=this.parent.style("font-family").getDefinition();if(null!=i){var n=this.parent.style("font-size").numValueOrDefault(t.Font.Parse(t.ctx.font).fontSize),a=0,o=this.getText();i.isRTL&&(o=o.split("").reverse().join(""));for(var r=t.ToNumberArray(this.parent.attribute("dx").value),s=0;s<o.length;s++){var l=this.getGlyph(i,o,s);a+=(l.horizAdvX||i.horizAdvX)*n/i.fontFace.unitsPerEm,"undefined"==typeof r[s]||isNaN(r[s])||(a+=r[s])}return a}var h=t.compressSpaces(this.getText());if(!e.measureText)return 10*h.length;e.save(),this.setContext(e);var c=e.measureText(h).width;return e.restore(),c}},t.Element.TextElementBase.prototype=new t.Element.RenderedElementBase,t.Element.tspan=function(e){this.captureTextNodes=!0,this.base=t.Element.TextElementBase,this.base(e),this.text=e.nodeValue||e.text||"",this.getText=function(){return this.text}},t.Element.tspan.prototype=new t.Element.TextElementBase,t.Element.tref=function(e){this.base=t.Element.TextElementBase,this.base(e),this.getText=function(){var t=this.getHrefAttribute().getDefinition();
return null!=t?t.children[0].getText():void 0}},t.Element.tref.prototype=new t.Element.TextElementBase,t.Element.a=function(e){this.base=t.Element.TextElementBase,this.base(e),this.hasText=!0;for(var i=0;i<e.childNodes.length;i++)3!=e.childNodes[i].nodeType&&(this.hasText=!1);this.text=this.hasText?e.childNodes[0].nodeValue:"",this.getText=function(){return this.text},this.baseRenderChildren=this.renderChildren,this.renderChildren=function(e){if(this.hasText){this.baseRenderChildren(e);var i=new t.Property("fontSize",t.Font.Parse(t.ctx.font).fontSize);t.Mouse.checkBoundingBox(this,new t.BoundingBox(this.x,this.y-i.toPixels("y"),this.x+this.measureText(e),this.y))}else{var n=new t.Element.g;n.children=this.children,n.parent=this,n.render(e)}},this.onclick=function(){window.open(this.getHrefAttribute().value)},this.onmousemove=function(){t.ctx.canvas.style.cursor="pointer"}},t.Element.a.prototype=new t.Element.TextElementBase,t.Element.image=function(e){this.base=t.Element.RenderedElementBase,this.base(e);var i=this.getHrefAttribute().value,n=i.match(/\.svg$/);if(t.Images.push(this),this.loaded=!1,n)this.img=t.ajax(i),this.loaded=!0;else{this.img=document.createElement("img");var a=this;this.img.onload=function(){a.loaded=!0},this.img.onerror=function(){"undefined"!=typeof console&&(console.log('ERROR: image "'+i+'" not found'),a.loaded=!0)},this.img.src=i}this.renderChildren=function(e){var i=this.attribute("x").toPixels("x"),a=this.attribute("y").toPixels("y"),o=this.attribute("width").toPixels("x"),r=this.attribute("height").toPixels("y");0!=o&&0!=r&&(e.save(),n?e.drawSvg(this.img,i,a,o,r):(e.translate(i,a),t.AspectRatio(e,this.attribute("preserveAspectRatio").value,o,this.img.width,r,this.img.height,0,0),e.drawImage(this.img,0,0)),e.restore())},this.getBoundingBox=function(){var e=this.attribute("x").toPixels("x"),i=this.attribute("y").toPixels("y"),n=this.attribute("width").toPixels("x"),a=this.attribute("height").toPixels("y");return new t.BoundingBox(e,i,e+n,i+a)}},t.Element.image.prototype=new t.Element.RenderedElementBase,t.Element.g=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.getBoundingBox=function(){for(var e=new t.BoundingBox,i=0;i<this.children.length;i++)e.addBoundingBox(this.children[i].getBoundingBox());return e}},t.Element.g.prototype=new t.Element.RenderedElementBase,t.Element.symbol=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.baseSetContext=this.setContext,this.setContext=function(e){if(this.baseSetContext(e),this.attribute("viewBox").hasValue()){var i=t.ToNumberArray(this.attribute("viewBox").value),n=i[0],a=i[1];width=i[2],height=i[3],t.AspectRatio(e,this.attribute("preserveAspectRatio").value,this.attribute("width").toPixels("x"),width,this.attribute("height").toPixels("y"),height,n,a),t.ViewPort.SetCurrent(i[2],i[3])}}},t.Element.symbol.prototype=new t.Element.RenderedElementBase,t.Element.style=function(e){this.base=t.Element.ElementBase,this.base(e);for(var i="",n=0;n<e.childNodes.length;n++)i+=e.childNodes[n].nodeValue;i=i.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,""),i=t.compressSpaces(i);for(var a=i.split("}"),n=0;n<a.length;n++)if(""!=t.trim(a[n]))for(var o=a[n].split("{"),r=o[0].split(","),s=o[1].split(";"),l=0;l<r.length;l++){var h=t.trim(r[l]);if(""!=h){for(var c={},u=0;u<s.length;u++){var d=s[u].indexOf(":"),f=s[u].substr(0,d),m=s[u].substr(d+1,s[u].length-d);null!=f&&null!=m&&(c[t.trim(f)]=new t.Property(t.trim(f),t.trim(m)))}if(t.Styles[h]=c,"@font-face"==h)for(var p=c["font-family"].value.replace(/"/g,""),g=c.src.value.split(","),v=0;v<g.length;v++)if(g[v].indexOf('format("svg")')>0)for(var C=g[v].indexOf("url"),E=g[v].indexOf(")",C),b=g[v].substr(C+5,E-C-6),T=t.parseXml(t.ajax(b)),y=T.getElementsByTagName("font"),D=0;D<y.length;D++){var O=t.CreateElement(y[D]);t.Definitions[p]=O}}}},t.Element.style.prototype=new t.Element.ElementBase,t.Element.use=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.baseSetContext=this.setContext,this.setContext=function(t){this.baseSetContext(t),this.attribute("x").hasValue()&&t.translate(this.attribute("x").toPixels("x"),0),this.attribute("y").hasValue()&&t.translate(0,this.attribute("y").toPixels("y"))},this.getDefinition=function(){var t=this.getHrefAttribute().getDefinition();return this.attribute("width").hasValue()&&(t.attribute("width",!0).value=this.attribute("width").value),this.attribute("height").hasValue()&&(t.attribute("height",!0).value=this.attribute("height").value),t},this.path=function(t){var e=this.getDefinition();null!=e&&e.path(t)},this.getBoundingBox=function(){var t=this.getDefinition();return null!=t?t.getBoundingBox():void 0},this.renderChildren=function(t){var e=this.getDefinition();if(null!=e){var i=e.parent;e.parent=null,e.render(t),e.parent=i}}},t.Element.use.prototype=new t.Element.RenderedElementBase,t.Element.mask=function(e){this.base=t.Element.ElementBase,this.base(e),this.apply=function(e,i){var n=this.attribute("x").toPixels("x"),a=this.attribute("y").toPixels("y"),o=this.attribute("width").toPixels("x"),r=this.attribute("height").toPixels("y");if(0==o&&0==r){for(var s=new t.BoundingBox,l=0;l<this.children.length;l++)s.addBoundingBox(this.children[l].getBoundingBox());var n=Math.floor(s.x1),a=Math.floor(s.y1),o=Math.floor(s.width()),r=Math.floor(s.height())}var h=i.attribute("mask").value;i.attribute("mask").value="";var c=document.createElement("canvas");c.width=n+o,c.height=a+r;var u=c.getContext("2d");this.renderChildren(u);var d=document.createElement("canvas");d.width=n+o,d.height=a+r;var f=d.getContext("2d");i.render(f),f.globalCompositeOperation="destination-in",f.fillStyle=u.createPattern(c,"no-repeat"),f.fillRect(0,0,n+o,a+r),e.fillStyle=f.createPattern(d,"no-repeat"),e.fillRect(0,0,n+o,a+r),i.attribute("mask").value=h},this.render=function(){}},t.Element.mask.prototype=new t.Element.ElementBase,t.Element.clipPath=function(e){this.base=t.Element.ElementBase,this.base(e),this.apply=function(e){for(var i=0;i<this.children.length;i++){var n=this.children[i];if("undefined"!=typeof n.path){var a=null;n.attribute("transform").hasValue()&&(a=new t.Transform(n.attribute("transform").value),a.apply(e)),n.path(e),e.clip(),a&&a.unapply(e)}}},this.render=function(){}},t.Element.clipPath.prototype=new t.Element.ElementBase,t.Element.filter=function(e){this.base=t.Element.ElementBase,this.base(e),this.apply=function(t,e){var i=e.getBoundingBox(),n=Math.floor(i.x1),a=Math.floor(i.y1),o=Math.floor(i.width()),r=Math.floor(i.height()),s=e.style("filter").value;e.style("filter").value="";for(var l=0,h=0,c=0;c<this.children.length;c++){var u=this.children[c].extraFilterDistance||0;l=Math.max(l,u),h=Math.max(h,u)}var d=document.createElement("canvas");d.width=o+2*l,d.height=r+2*h;var f=d.getContext("2d");f.translate(-n+l,-a+h),e.render(f);for(var c=0;c<this.children.length;c++)this.children[c].apply(f,0,0,o+2*l,r+2*h);t.drawImage(d,0,0,o+2*l,r+2*h,n-l,a-h,o+2*l,r+2*h),e.style("filter",!0).value=s},this.render=function(){}},t.Element.filter.prototype=new t.Element.ElementBase,t.Element.feMorphology=function(e){this.base=t.Element.ElementBase,this.base(e),this.apply=function(){}},t.Element.feMorphology.prototype=new t.Element.ElementBase,t.Element.feColorMatrix=function(e){function i(t,e,i,n,a,o){return t[i*n*4+4*e+o]}function n(t,e,i,n,a,o,r){t[i*n*4+4*e+o]=r}this.base=t.Element.ElementBase,this.base(e),this.apply=function(t,e,a,o,r){for(var s=t.getImageData(0,0,o,r),a=0;r>a;a++)for(var e=0;o>e;e++){var l=i(s.data,e,a,o,r,0),h=i(s.data,e,a,o,r,1),c=i(s.data,e,a,o,r,2),u=(l+h+c)/3;n(s.data,e,a,o,r,0,u),n(s.data,e,a,o,r,1,u),n(s.data,e,a,o,r,2,u)}t.clearRect(0,0,o,r),t.putImageData(s,0,0)}},t.Element.feColorMatrix.prototype=new t.Element.ElementBase,t.Element.feGaussianBlur=function(e){this.base=t.Element.ElementBase,this.base(e),this.blurRadius=Math.floor(this.attribute("stdDeviation").numValue()),this.extraFilterDistance=this.blurRadius,this.apply=function(e,i,n,a,o){return"undefined"==typeof stackBlurCanvasRGBA?void("undefined"!=typeof console&&console.log("ERROR: StackBlur.js must be included for blur to work")):(e.canvas.id=t.UniqueId(),e.canvas.style.display="none",document.body.appendChild(e.canvas),stackBlurCanvasRGBA(e.canvas.id,i,n,a,o,this.blurRadius),void document.body.removeChild(e.canvas))}},t.Element.feGaussianBlur.prototype=new t.Element.ElementBase,t.Element.title=function(){},t.Element.title.prototype=new t.Element.ElementBase,t.Element.desc=function(){},t.Element.desc.prototype=new t.Element.ElementBase,t.Element.MISSING=function(t){"undefined"!=typeof console&&console.log("ERROR: Element '"+t.nodeName+"' not yet implemented.")},t.Element.MISSING.prototype=new t.Element.ElementBase,t.CreateElement=function(e){var i=e.nodeName.replace(/^[^:]+:/,"");i=i.replace(/\-/g,"");var n=null;return n="undefined"!=typeof t.Element[i]?new t.Element[i](e):new t.Element.MISSING(e),n.type=e.nodeName,n},t.load=function(e,i){t.loadXml(e,t.ajax(i))},t.loadXml=function(e,i){t.loadXmlDoc(e,t.parseXml(i))},t.loadXmlDoc=function(e,i){t.init(e);var n=function(t){for(var i=e.canvas;i;)t.x-=i.offsetLeft,t.y-=i.offsetTop,i=i.offsetParent;return window.scrollX&&(t.x+=window.scrollX),window.scrollY&&(t.y+=window.scrollY),t};1!=t.opts.ignoreMouse&&(e.canvas.onclick=function(e){var i=n(new t.Point(null!=e?e.clientX:event.clientX,null!=e?e.clientY:event.clientY));t.Mouse.onclick(i.x,i.y)},e.canvas.onmousemove=function(e){var i=n(new t.Point(null!=e?e.clientX:event.clientX,null!=e?e.clientY:event.clientY));t.Mouse.onmousemove(i.x,i.y)});var a=t.CreateElement(i.documentElement);a.root=!0;var o=!0,r=function(){t.ViewPort.Clear(),e.canvas.parentNode&&t.ViewPort.SetCurrent(e.canvas.parentNode.clientWidth,e.canvas.parentNode.clientHeight),1!=t.opts.ignoreDimensions&&(a.style("width").hasValue()&&(e.canvas.width=a.style("width").toPixels("x"),e.canvas.style.width=e.canvas.width+"px"),a.style("height").hasValue()&&(e.canvas.height=a.style("height").toPixels("y"),e.canvas.style.height=e.canvas.height+"px"));var n=e.canvas.clientWidth||e.canvas.width,r=e.canvas.clientHeight||e.canvas.height;if(1==t.opts.ignoreDimensions&&a.style("width").hasValue()&&a.style("height").hasValue()&&(n=a.style("width").toPixels("x"),r=a.style("height").toPixels("y")),t.ViewPort.SetCurrent(n,r),null!=t.opts.offsetX&&(a.attribute("x",!0).value=t.opts.offsetX),null!=t.opts.offsetY&&(a.attribute("y",!0).value=t.opts.offsetY),null!=t.opts.scaleWidth&&null!=t.opts.scaleHeight){var s=1,l=1,h=t.ToNumberArray(a.attribute("viewBox").value);a.attribute("width").hasValue()?s=a.attribute("width").toPixels("x")/t.opts.scaleWidth:isNaN(h[2])||(s=h[2]/t.opts.scaleWidth),a.attribute("height").hasValue()?l=a.attribute("height").toPixels("y")/t.opts.scaleHeight:isNaN(h[3])||(l=h[3]/t.opts.scaleHeight),a.attribute("width",!0).value=t.opts.scaleWidth,a.attribute("height",!0).value=t.opts.scaleHeight,a.attribute("viewBox",!0).value="0 0 "+n*s+" "+r*l,a.attribute("preserveAspectRatio",!0).value="none"}1!=t.opts.ignoreClear&&e.clearRect(0,0,n,r),a.render(e),o&&(o=!1,"function"==typeof t.opts.renderCallback&&t.opts.renderCallback(i))},s=!0;t.ImagesLoaded()&&(s=!1,r()),t.intervalID=setInterval(function(){var e=!1;if(s&&t.ImagesLoaded()&&(s=!1,e=!0),1!=t.opts.ignoreMouse&&(e|=t.Mouse.hasEvents()),1!=t.opts.ignoreAnimation)for(var i=0;i<t.Animations.length;i++)e|=t.Animations[i].update(1e3/t.FRAMERATE);"function"==typeof t.opts.forceRedraw&&1==t.opts.forceRedraw()&&(e=!0),e&&(r(),t.Mouse.runEvents())},1e3/t.FRAMERATE)},t.stop=function(){t.intervalID&&clearInterval(t.intervalID)},t.Mouse=new function(){this.events=[],this.hasEvents=function(){return 0!=this.events.length},this.onclick=function(t,e){this.events.push({type:"onclick",x:t,y:e,run:function(t){t.onclick&&t.onclick()}})},this.onmousemove=function(t,e){this.events.push({type:"onmousemove",x:t,y:e,run:function(t){t.onmousemove&&t.onmousemove()}})},this.eventElements=[],this.checkPath=function(t,e){for(var i=0;i<this.events.length;i++){var n=this.events[i];e.isPointInPath&&e.isPointInPath(n.x,n.y)&&(this.eventElements[i]=t)}},this.checkBoundingBox=function(t,e){for(var i=0;i<this.events.length;i++){var n=this.events[i];e.isPointInBox(n.x,n.y)&&(this.eventElements[i]=t)}},this.runEvents=function(){t.ctx.canvas.style.cursor="";for(var e=0;e<this.events.length;e++)for(var i=this.events[e],n=this.eventElements[e];n;)i.run(n),n=n.parent;this.events=[],this.eventElements=[]}},t}this.canvg=function(e,i,n){if(null!=e||null!=i||null!=n){n=n||{},"string"==typeof e&&(e=document.getElementById(e)),null!=e.svg&&e.svg.stop();var a=t();(1!=e.childNodes.length||"OBJECT"!=e.childNodes[0].nodeName)&&(e.svg=a),a.opts=n;var o=e.getContext("2d");"undefined"!=typeof i.documentElement?a.loadXmlDoc(o,i):"<"==i.substr(0,1)?a.loadXml(o,i):a.load(o,i)}else for(var r=document.getElementsByTagName("svg"),s=0;s<r.length;s++){var l=r[s],h=document.createElement("canvas");h.width=l.clientWidth,h.height=l.clientHeight,l.parentNode.insertBefore(h,l),l.parentNode.removeChild(l);var c=document.createElement("div");c.appendChild(l),canvg(h,c.innerHTML)}}}(),"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.drawSvg=function(t,e,i,n,a){canvg(this.canvas,t,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:e,offsetY:i,scaleWidth:n,scaleHeight:a})}),AmCharts.isModern){var saveAs=saveAs||"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(t){"use strict";var e=t.document,i=function(){return t.URL||t.webkitURL||t},n=t.URL||t.webkitURL||t,a=e.createElementNS("http://www.w3.org/1999/xhtml","a"),o=!t.externalHost&&"download"in a,r=t.webkitRequestFileSystem,s=t.requestFileSystem||r||t.mozRequestFileSystem,l=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},h="application/octet-stream",c=0,u=[],d=function(){for(var t=u.length;t--;){var e=u[t];"string"==typeof e?n.revokeObjectURL(e):e.remove()}u.length=0},f=function(t,e,i){e=[].concat(e);for(var n=e.length;n--;){var a=t["on"+e[n]];if("function"==typeof a)try{a.call(t,i||t)}catch(o){l(o)}}},m=function(n,l){var d,m,p,g=this,v=n.type,C=!1,E=function(){var t=i().createObjectURL(n);return u.push(t),t},b=function(){f(g,"writestart progress write writeend".split(" "))},T=function(){(C||!d)&&(d=E(n)),m?m.location.href=d:window.open(d,"_blank"),g.readyState=g.DONE,b()},y=function(t){return function(){return g.readyState!==g.DONE?t.apply(this,arguments):void 0}},D={create:!0,exclusive:!1};if(g.readyState=g.INIT,l||(l="download"),o){d=E(n),e=t.document,a=e.createElementNS("http://www.w3.org/1999/xhtml","a"),a.href=d,a.download=l;var O=e.createEvent("MouseEvents");return O.initMouseEvent("click",!0,!1,t,0,0,0,0,0,!1,!1,!1,!1,0,null),a.dispatchEvent(O),g.readyState=g.DONE,void b()}return t.chrome&&v&&v!==h&&(p=n.slice||n.webkitSlice,n=p.call(n,0,n.size,h),C=!0),r&&"download"!==l&&(l+=".download"),(v===h||r)&&(m=t),s?(c+=n.size,void s(t.TEMPORARY,c,y(function(t){t.root.getDirectory("saved",D,y(function(t){var e=function(){t.getFile(l,D,y(function(t){t.createWriter(y(function(e){e.onwriteend=function(e){m.location.href=t.toURL(),u.push(t),g.readyState=g.DONE,f(g,"writeend",e)},e.onerror=function(){var t=e.error;t.code!==t.ABORT_ERR&&T()},"writestart progress write abort".split(" ").forEach(function(t){e["on"+t]=g["on"+t]}),e.write(n),g.abort=function(){e.abort(),g.readyState=g.DONE},g.readyState=g.WRITING}),T)}),T)};t.getFile(l,{create:!1},y(function(t){t.remove(),e()}),y(function(t){t.code===t.NOT_FOUND_ERR?e():T()}))}),T)}),T)):void T()},p=m.prototype,g=function(t,e){return new m(t,e)};return p.abort=function(){var t=this;t.readyState=t.DONE,f(t,"abort")},p.readyState=p.INIT=0,p.WRITING=1,p.DONE=2,p.error=p.onwritestart=p.onprogress=p.onwrite=p.onabort=p.onerror=p.onwriteend=null,t.addEventListener("unload",d,!1),g}(this.self||this.window||this.content);"undefined"!=typeof module&&(module.exports=saveAs)}var jsPDF=function(){"use strict";function t(n,a,o,r){n="undefined"==typeof n?"p":n.toString().toLowerCase(),"undefined"==typeof a&&(a="mm"),"undefined"==typeof o&&(o="a4"),"undefined"==typeof r&&"undefined"==typeof zpipe&&(r=!1);var s,l,h,c,u,d,f,m,p,g=o.toString().toLowerCase(),v="0.9.0rc2",C=[],E=0,b=r,T="1.3",y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224]},D="0 g",O="0 G",I=0,R=[],x=2,k=!1,A=[],w={},S={},K=16,_=.200025,N=1.15,F={title:"",subject:"",author:"",keywords:"",creator:""},M=0,L=0,B={},P=new i(B),$=function(t){return t.toFixed(2)},z=function(t){return t.toFixed(3)},H=function(t){var e=t.toFixed(0);return 10>t?"0"+e:e},j=function(t){var e=t.toFixed(0);return e.length<10?new Array(11-e.length).join("0")+e:e},V=function(t){k?R[I].push(t):(C.push(t),E+=t.length+1)},q=function(){return x++,A[x]=E,V(x+" 0 obj"),x},G=function(t){V("stream"),V(t),V("endstream")},W=function(){f=h*c,m=l*c;var t,e,i,n,a,o;for(t=1;I>=t;t++){if(q(),V("<</Type /Page"),V("/Parent 1 0 R"),V("/Resources 2 0 R"),V("/Contents "+(x+1)+" 0 R>>"),V("endobj"),e=R[t].join("\n"),q(),b){for(i=[],n=0;n<e.length;++n)i[n]=e.charCodeAt(n);o=adler32cs.from(e),a=new Deflater(6),a.append(new Uint8Array(i)),e=a.flush(),i=[new Uint8Array([120,156]),new Uint8Array(e),new Uint8Array([255&o,o>>8&255,o>>16&255,o>>24&255])],e="";for(n in i)i.hasOwnProperty(n)&&(e+=String.fromCharCode.apply(null,i[n]));V("<</Length "+e.length+" /Filter [/FlateDecode]>>")}else V("<</Length "+e.length+">>");G(e),V("endobj")}for(A[1]=E,V("1 0 obj"),V("<</Type /Pages"),p="/Kids [",n=0;I>n;n++)p+=3+2*n+" 0 R ";V(p+"]"),V("/Count "+I),V("/MediaBox [0 0 "+$(f)+" "+$(m)+"]"),V(">>"),V("endobj")},U=function(t){t.objectNumber=q(),V("<</BaseFont/"+t.PostScriptName+"/Type/Font"),"string"==typeof t.encoding&&V("/Encoding/"+t.encoding),V("/Subtype/Type1>>"),V("endobj")},X=function(){var t;for(t in w)w.hasOwnProperty(t)&&U(w[t])},Y=function(){P.publish("putXobjectDict")},J=function(){V("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),V("/Font <<");var t;for(t in w)w.hasOwnProperty(t)&&V("/"+t+" "+w[t].objectNumber+" 0 R");V(">>"),V("/XObject <<"),Y(),V(">>")},Z=function(){X(),P.publish("putResources"),A[2]=E,V("2 0 obj"),V("<<"),J(),V(">>"),V("endobj"),P.publish("postPutResources")},Q=function(t,e,i){var n;S[e]===n&&(S[e]={}),S[e][i]=t},te=function(t,i,n,a){var o="F"+(e(w)+1).toString(10),r=w[o]={id:o,PostScriptName:t,fontName:i,fontStyle:n,encoding:a,metadata:{}};return Q(o,i,n),P.publish("addFont",r),o},ee=function(){var t,e,i,n,a="helvetica",o="times",r="courier",s="normal",l="bold",h="italic",c="bolditalic",u="StandardEncoding",d=[["Helvetica",a,s],["Helvetica-Bold",a,l],["Helvetica-Oblique",a,h],["Helvetica-BoldOblique",a,c],["Courier",r,s],["Courier-Bold",r,l],["Courier-Oblique",r,h],["Courier-BoldOblique",r,c],["Times-Roman",o,s],["Times-Bold",o,l],["Times-Italic",o,h],["Times-BoldItalic",o,c]];for(t=0,e=d.length;e>t;t++)i=te(d[t][0],d[t][1],d[t][2],u),n=d[t][0].split("-"),Q(i,n[0],n[1]||"");P.publish("addFonts",{fonts:w,dictionary:S})},ie=function(t,e){var i,n,a,o,r,l,h,c,u,d;if(e===a&&(e={}),o=e.sourceEncoding?o:"Unicode",l=e.outputEncoding,(e.autoencode||l)&&w[s].metadata&&w[s].metadata[o]&&w[s].metadata[o].encoding&&(r=w[s].metadata[o].encoding,!l&&w[s].encoding&&(l=w[s].encoding),!l&&r.codePages&&(l=r.codePages[0]),"string"==typeof l&&(l=r[l]),l)){for(c=!1,h=[],i=0,n=t.length;n>i;i++)u=l[t.charCodeAt(i)],h.push(u?String.fromCharCode(u):t[i]),h[i].charCodeAt(0)>>8&&(c=!0);t=h.join("")}for(i=t.length;c===a&&0!==i;)t.charCodeAt(i-1)>>8&&(c=!0),i--;if(c){for(h=e.noBOM?[]:[254,255],i=0,n=t.length;n>i;i++){if(u=t.charCodeAt(i),d=u>>8,d>>8)throw new Error("Character at position "+i.toString(10)+" of string '"+t+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");h.push(d),h.push(u-(d<<8))}return String.fromCharCode.apply(a,h)}return t},ne=function(t,e){return ie(t,e).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ae=function(){V("/Producer (jsPDF "+v+")"),F.title&&V("/Title ("+ne(F.title)+")"),F.subject&&V("/Subject ("+ne(F.subject)+")"),F.author&&V("/Author ("+ne(F.author)+")"),F.keywords&&V("/Keywords ("+ne(F.keywords)+")"),F.creator&&V("/Creator ("+ne(F.creator)+")");var t=new Date;V("/CreationDate (D:"+[t.getFullYear(),H(t.getMonth()+1),H(t.getDate()),H(t.getHours()),H(t.getMinutes()),H(t.getSeconds())].join("")+")")},oe=function(){V("/Type /Catalog"),V("/Pages 1 0 R"),V("/OpenAction [3 0 R /FitH null]"),V("/PageLayout /OneColumn"),P.publish("putCatalog")},re=function(){V("/Size "+(x+1)),V("/Root "+x+" 0 R"),V("/Info "+(x-1)+" 0 R")},se=function(){I++,k=!0,R[I]=[]},le=function(){se(),V($(_*c)+" w"),V(O),0!==M&&V(M.toString(10)+" J"),0!==L&&V(L.toString(10)+" j"),P.publish("addPage",{pageNumber:I})},he=function(t,e){var i,n;t===n&&(t=w[s].fontName),e===n&&(e=w[s].fontStyle);try{i=S[t][e]}catch(a){i=n}if(!i)throw new Error("Unable to look up font label for font '"+t+"', '"+e+"'. Refer to getFontList() for available fonts.");return i},ce=function(){k=!1,C=[],A=[],V("%PDF-"+T),W(),Z(),q(),V("<<"),ae(),V(">>"),V("endobj"),q(),V("<<"),oe(),V(">>"),V("endobj");var t,e=E;for(V("xref"),V("0 "+(x+1)),V("0000000000 65535 f "),t=1;x>=t;t++)V(j(A[t])+" 00000 n ");return V("trailer"),V("<<"),re(),V(">>"),V("startxref"),V(e),V("%%EOF"),k=!0,C.join("\n")},ue=function(t){var e="S";return"F"===t?e="f":("FD"===t||"DF"===t)&&(e="B"),e},de=function(t,e){var i,n,a,o,r,s;switch(t){case i:return ce();case"save":if(navigator.getUserMedia){if(void 0===window.URL)return B.output("dataurlnewwindow");if(void 0===window.URL.createObjectURL)return B.output("dataurlnewwindow")}for(n=ce(),a=n.length,o=new Uint8Array(new ArrayBuffer(a)),r=0;a>r;r++)o[r]=n.charCodeAt(r);s=new Blob([o],{type:"application/pdf"}),saveAs(s,e);break;case"datauristring":case"dataurlstring":return"data:application/pdf;base64,"+btoa(ce());case"datauri":case"dataurl":document.location.href="data:application/pdf;base64,"+btoa(ce());break;case"dataurlnewwindow":window.open("data:application/pdf;base64,"+btoa(ce()));break;default:throw new Error('Output type "'+t+'" is not supported.')}};if("pt"===a)c=1;else if("mm"===a)c=72/25.4;else if("cm"===a)c=72/2.54;else{if("in"!==a)throw"Invalid unit: "+a;c=72}if(y.hasOwnProperty(g))l=y[g][1]/c,h=y[g][0]/c;else try{l=o[1],h=o[0]}catch(fe){throw"Invalid format: "+o}if("p"===n||"portrait"===n)n="p",h>l&&(u=h,h=l,l=u);else{if("l"!==n&&"landscape"!==n)throw"Invalid orientation: "+n;n="l",l>h&&(u=h,h=l,l=u)}B.internal={pdfEscape:ne,getStyle:ue,getFont:function(){return w[he.apply(B,arguments)]},getFontSize:function(){return K},getLineHeight:function(){return K*N},btoa:btoa,write:function(t){V(1===arguments.length?t:Array.prototype.join.call(arguments," "))},getCoordinateString:function(t){return $(t*c)},getVerticalCoordinateString:function(t){return $((l-t)*c)},collections:{},newObject:q,putStream:G,events:P,scaleFactor:c,pageSize:{width:h,height:l},output:function(t,e){return de(t,e)},getNumberOfPages:function(){return R.length-1},pages:R},B.addPage=function(){return le(),this},B.text=function(t,e,i,n){var a,o,r,h,u,d,f;if("number"==typeof t&&(o=i,r=t,h=e,t=o,e=r,i=h),"string"==typeof t&&t.match(/[\n\r]/)&&(t=t.split(/\r\n|\r|\n/g)),"undefined"==typeof n?n={noBOM:!0,autoencode:!0}:(n.noBOM===a&&(n.noBOM=!0),n.autoencode===a&&(n.autoencode=!0)),"string"==typeof t)d=ne(t,n);else{if(!(t instanceof Array))throw new Error('Type of text must be string or Array. "'+t+'" is not recognized.');for(u=t.concat(),f=u.length-1;-1!==f;f--)u[f]=ne(u[f],n);d=u.join(") Tj\nT* (")}return V("BT\n/"+s+" "+K+" Tf\n"+K*N+" TL\n"+D+"\n"+$(e*c)+" "+$((l-i)*c)+" Td\n("+d+") Tj\nET"),this},B.line=function(t,e,i,n){return V($(t*c)+" "+$((l-e)*c)+" m "+$(i*c)+" "+$((l-n)*c)+" l S"),this},B.lines=function(t,e,i,n,a,o){var r,s,h,u,d,f,m,p,g,v,C,E,b,T,y;for("number"==typeof t&&(s=i,h=t,u=e,t=s,e=h,i=u),a=ue(a),n=n===r?[1,1]:n,V(z(e*c)+" "+z((l-i)*c)+" m "),d=n[0],f=n[1],p=t.length,T=e,y=i,m=0;p>m;m++)g=t[m],2===g.length?(T=g[0]*d+T,y=g[1]*f+y,V(z(T*c)+" "+z((l-y)*c)+" l")):(v=g[0]*d+T,C=g[1]*f+y,E=g[2]*d+T,b=g[3]*f+y,T=g[4]*d+T,y=g[5]*f+y,V(z(v*c)+" "+z((l-C)*c)+" "+z(E*c)+" "+z((l-b)*c)+" "+z(T*c)+" "+z((l-y)*c)+" c"));return 1==o&&V(" h"),V(a),this},B.rect=function(t,e,i,n,a){var o=ue(a);return V([$(t*c),$((l-e)*c),$(i*c),$(-n*c),"re",o].join(" ")),this},B.triangle=function(t,e,i,n,a,o,r){return this.lines([[i-t,n-e],[a-i,o-n],[t-a,e-o]],t,e,[1,1],r,!0),this},B.roundedRect=function(t,e,i,n,a,o,r){var s=4/3*(Math.SQRT2-1);return this.lines([[i-2*a,0],[a*s,0,a,o-o*s,a,o],[0,n-2*o],[0,o*s,-(a*s),o,-a,o],[-i+2*a,0],[-(a*s),0,-a,-(o*s),-a,-o],[0,-n+2*o],[0,-(o*s),a*s,-o,a,-o]],t+a,e,[1,1],r),this},B.ellipse=function(t,e,i,n,a){var o=ue(a),r=4/3*(Math.SQRT2-1)*i,s=4/3*(Math.SQRT2-1)*n;return V([$((t+i)*c),$((l-e)*c),"m",$((t+i)*c),$((l-(e-s))*c),$((t+r)*c),$((l-(e-n))*c),$(t*c),$((l-(e-n))*c),"c"].join(" ")),V([$((t-r)*c),$((l-(e-n))*c),$((t-i)*c),$((l-(e-s))*c),$((t-i)*c),$((l-e)*c),"c"].join(" ")),V([$((t-i)*c),$((l-(e+s))*c),$((t-r)*c),$((l-(e+n))*c),$(t*c),$((l-(e+n))*c),"c"].join(" ")),V([$((t+r)*c),$((l-(e+n))*c),$((t+i)*c),$((l-(e+s))*c),$((t+i)*c),$((l-e)*c),"c",o].join(" ")),this},B.circle=function(t,e,i,n){return this.ellipse(t,e,i,i,n)},B.setProperties=function(t){var e;for(e in F)F.hasOwnProperty(e)&&t[e]&&(F[e]=t[e]);return this},B.setFontSize=function(t){return K=t,this},B.setFont=function(t,e){return s=he(t,e),this},B.setFontStyle=B.setFontType=function(t){var e;return s=he(e,t),this},B.getFontList=function(){var t,e,i,n={};for(t in S)if(S.hasOwnProperty(t)){n[t]=i=[];for(e in S[t])S[t].hasOwnProperty(e)&&i.push(e)}return n},B.setLineWidth=function(t){return V((t*c).toFixed(2)+" w"),this},B.setDrawColor=function(t,e,i,n){var a;return a=void 0===e||void 0===n&&t===e===i?"string"==typeof t?t+" G":$(t/255)+" G":void 0===n?"string"==typeof t?[t,e,i,"RG"].join(" "):[$(t/255),$(e/255),$(i/255),"RG"].join(" "):"string"==typeof t?[t,e,i,n,"K"].join(" "):[$(t),$(e),$(i),$(n),"K"].join(" "),V(a),this},B.setFillColor=function(t,e,i,n){var a;return a=void 0===e||void 0===n&&t===e===i?"string"==typeof t?t+" g":$(t/255)+" g":void 0===n?"string"==typeof t?[t,e,i,"rg"].join(" "):[$(t/255),$(e/255),$(i/255),"rg"].join(" "):"string"==typeof t?[t,e,i,n,"k"].join(" "):[$(t),$(e),$(i),$(n),"k"].join(" "),V(a),this},B.setTextColor=function(t,e,i){var n=/#[0-9A-Fa-f]{6}/;if("string"==typeof t&&n.test(t)){var a=t.replace("#",""),o=parseInt(a,16);t=o>>16&255,e=o>>8&255,i=255&o}return D=0===t&&0===e&&0===i||"undefined"==typeof e?z(t/255)+" g":[z(t/255),z(e/255),z(i/255),"rg"].join(" "),this},B.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},B.setLineCap=function(t){var e=this.CapJoinStyles[t];if(void 0===e)throw new Error("Line cap style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return M=e,V(e.toString(10)+" J"),this},B.setLineJoin=function(t){var e=this.CapJoinStyles[t];if(void 0===e)throw new Error("Line join style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return L=e,V(e.toString(10)+" j"),this},B.output=de,B.save=function(t){B.output("save",t)};for(d in t.API)t.API.hasOwnProperty(d)&&("events"===d&&t.API.events.length?!function(t,e){var i,n,a;for(a=e.length-1;-1!==a;a--)i=e[a][0],n=e[a][1],t.subscribe.apply(t,[i].concat("function"==typeof n?[n]:n))}(P,t.API.events):B[d]=t.API[d]);return ee(),s="F1",le(),P.publish("initialized"),B}"undefined"==typeof btoa&&(window.btoa=function(t){var e,i,n,a,o,r,s,l,h,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u=c.split(""),d=0,f=0,m="",p=[];do e=t.charCodeAt(d++),i=t.charCodeAt(d++),n=t.charCodeAt(d++),l=e<<16|i<<8|n,a=l>>18&63,o=l>>12&63,r=l>>6&63,s=63&l,p[f++]=u[a]+u[o]+u[r]+u[s];while(d<t.length);return m=p.join(""),h=t.length%3,(h?m.slice(0,h-3):m)+"===".slice(h||3)}),"undefined"==typeof atob&&(window.atob=function(t){var e,i,n,a,o,r,s,l,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=0,u=0,d="",f=[];if(!t)return t;t+="";do a=h.indexOf(t.charAt(c++)),o=h.indexOf(t.charAt(c++)),r=h.indexOf(t.charAt(c++)),s=h.indexOf(t.charAt(c++)),l=a<<18|o<<12|r<<6|s,e=l>>16&255,i=l>>8&255,n=255&l,f[u++]=64===r?String.fromCharCode(e):64===s?String.fromCharCode(e,i):String.fromCharCode(e,i,n);while(c<t.length);return d=f.join("")});var e="function"==typeof Object.keys?function(t){return Object.keys(t).length}:function(t){var e,i=0;for(e in t)t.hasOwnProperty(e)&&i++;return i},i=function(t){this.topics={},this.context=t,this.publish=function(t,e){if(this.topics[t]){var i,n,a,o,r=this.topics[t],s=[],l=function(){};for(e=Array.prototype.slice.call(arguments,1),n=0,a=r.length;a>n;n++)o=r[n],i=o[0],o[1]&&(o[0]=l,s.push(n)),i.apply(this.context,e);for(n=0,a=s.length;a>n;n++)r.splice(s[n],1)}},this.subscribe=function(t,e,i){return this.topics[t]?this.topics[t].push([e,i]):this.topics[t]=[[e,i]],{topic:t,callback:e}},this.unsubscribe=function(t){if(this.topics[t.topic]){var e,i,n=this.topics[t.topic];for(e=0,i=n.length;i>e;e++)n[e][0]===t.callback&&n.splice(e,1)}}};return t.API={events:[]},t}();!function(t){"use strict";var e="addImage_",i=function(t){var e,i;if(255===!t.charCodeAt(0)||216===!t.charCodeAt(1)||255===!t.charCodeAt(2)||224===!t.charCodeAt(3)||!t.charCodeAt(6)==="J".charCodeAt(0)||!t.charCodeAt(7)==="F".charCodeAt(0)||!t.charCodeAt(8)==="I".charCodeAt(0)||!t.charCodeAt(9)==="F".charCodeAt(0)||0===!t.charCodeAt(10))throw new Error("getJpegSize requires a binary jpeg file");for(var n=256*t.charCodeAt(4)+t.charCodeAt(5),a=4,o=t.length;o>a;){if(a+=n,255!==t.charCodeAt(a))throw new Error("getJpegSize could not find the size of the image");if(192===t.charCodeAt(a+1)||193===t.charCodeAt(a+1)||194===t.charCodeAt(a+1)||195===t.charCodeAt(a+1)||196===t.charCodeAt(a+1)||197===t.charCodeAt(a+1)||198===t.charCodeAt(a+1)||199===t.charCodeAt(a+1))return i=256*t.charCodeAt(a+5)+t.charCodeAt(a+6),e=256*t.charCodeAt(a+7)+t.charCodeAt(a+8),[e,i];a+=2,n=256*t.charCodeAt(a)+t.charCodeAt(a+1)}},n=function(t){var e=this.internal.newObject(),i=this.internal.write,n=this.internal.putStream;if(t.n=e,i("<</Type /XObject"),i("/Subtype /Image"),i("/Width "+t.w),i("/Height "+t.h),"Indexed"===t.cs?i("/ColorSpace [/Indexed /DeviceRGB "+(t.pal.length/3-1)+" "+(e+1)+" 0 R]"):(i("/ColorSpace /"+t.cs),"DeviceCMYK"===t.cs&&i("/Decode [1 0 1 0 1 0 1 0]")),i("/BitsPerComponent "+t.bpc),"f"in t&&i("/Filter /"+t.f),"dp"in t&&i("/DecodeParms <<"+t.dp+">>"),"trns"in t&&t.trns.constructor==Array)for(var a="",o=0;o<t.trns.length;o++)a+=t[a][o]+" "+t.trns[o]+" ",i("/Mask ["+a+"]");"smask"in t&&i("/SMask "+(e+1)+" 0 R"),i("/Length "+t.data.length+">>"),n(t.data),i("endobj")},a=function(){var t=this.internal.collections[e+"images"];for(var i in t)n.call(this,t[i])},o=function(){var t,i=this.internal.collections[e+"images"],n=this.internal.write;for(var a in i)t=i[a],n("/I"+t.i,t.n,"0","R")};t.addImage=function(t,n,r,s,l,h){if("object"==typeof t&&1===t.nodeType){var c=document.createElement("canvas");c.width=t.clientWidth,c.height=t.clientHeight;var u=c.getContext("2d");if(!u)throw"addImage requires canvas to be supported by browser.";u.drawImage(t,0,0,c.width,c.height),t=c.toDataURL("image/jpeg"),n="JPEG"}if("JPEG"!==n.toUpperCase())throw new Error("addImage currently only supports format 'JPEG', not '"+n+"'");var d,f=this.internal.collections[e+"images"],m=this.internal.getCoordinateString,p=this.internal.getVerticalCoordinateString;"data:image/jpeg;base64,"===t.substring(0,23)&&(t=atob(t.replace("data:image/jpeg;base64,",""))),f?d=Object.keys?Object.keys(f).length:function(t){var e=0;for(var i in t)t.hasOwnProperty(i)&&e++;return e}(f):(d=0,this.internal.collections[e+"images"]=f={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o));var g=i(t),v={w:g[0],h:g[1],cs:"DeviceRGB",bpc:8,f:"DCTDecode",i:d,data:t};return f[d]=v,l||h||(l=-96,h=-96),0>l&&(l=-1*v.w*72/l/this.internal.scaleFactor),0>h&&(h=-1*v.h*72/h/this.internal.scaleFactor),0===l&&(l=h*v.w/v.h),0===h&&(h=l*v.h/v.w),this.internal.write("q",m(l),"0 0",m(h),m(r),p(s+h),"cm /I"+v.i,"Do Q"),this
}}(jsPDF.API),AmCharts.AmFunnelChart=AmCharts.Class({inherits:AmCharts.AmSlicedChart,construct:function(t){this.type="funnel",AmCharts.AmFunnelChart.base.construct.call(this,t),this.cname="AmFunnelChart",this.startX=this.startY=0,this.baseWidth="100%",this.neckHeight=this.neckWidth=0,this.rotate=!1,this.valueRepresents="height",this.pullDistance=30,this.labelPosition="center",this.labelText="[[title]]: [[value]]",this.balloonText="[[title]]: [[value]]\n[[description]]",AmCharts.applyTheme(this,t,this.cname)},drawChart:function(){AmCharts.AmFunnelChart.base.drawChart.call(this);var t=this.chartData;if(AmCharts.ifArray(t))if(0<this.realWidth&&0<this.realHeight){var e=this.container,i=this.startDuration,n=this.rotate,a=this.updateWidth();this.realWidth=a;var o=this.updateHeight();this.realHeight=o;var r=AmCharts.toCoordinate,s=r(this.marginLeft,a),l=r(this.marginRight,a),h=r(this.marginTop,o)+this.getTitleHeight(),r=r(this.marginBottom,o),l=a-s-l,c=AmCharts.toCoordinate(this.baseWidth,l),u=AmCharts.toCoordinate(this.neckWidth,l),d=o-r-h,f=AmCharts.toCoordinate(this.neckHeight,d),m=h+d-f;n&&(h=o-r,m=h-d+f),this.firstSliceY=h,AmCharts.VML&&(this.startAlpha=1);for(var p=l/2+s,g=(d-f)/((c-u)/2),v=c/2,c=(d-f)*(c+u)/2+u*f,C=h,E=0,f=0;f<t.length;f++){var b,T=t[f];if(!0!==T.hidden){var y,D=[],O=[];if("height"==this.valueRepresents)y=d*T.percents/100;else{var I=-c*T.percents/100/2,R=v;b=-1/(2*g),y=Math.pow(R,2)-4*b*I,0>y&&(y=0),y=(Math.sqrt(y)-R)/(2*b),!n&&h>=m||n&&m>=h?y=2*-I/u:(!n&&h+y>m||n&&m>h-y)&&(b=Math.round(n?y+(h-y-m):y-(h+y-m)),y=b/g,y=b+2*(-I-(R-y/2)*b)/u)}if(I=v-y/g,R=!1,!n&&h+y>m||n&&m>h-y?(I=u/2,D.push(p-v,p+v,p+I,p+I,p-I,p-I),n?(b=y+(h-y-m),m>h&&(b=0),O.push(h,h,h-b,h-y,h-y,h-b,h)):(b=y-(h+y-m),h>m&&(b=0),O.push(h,h,h+b,h+y,h+y,h+b,h)),R=!0):(D.push(p-v,p+v,p+I,p-I),n?O.push(h,h,h-y,h-y):O.push(h,h,h+y,h+y)),e.set(),b=e.set(),D=AmCharts.polygon(e,D,O,T.color,T.alpha,this.outlineThickness,this.outlineColor,this.outlineAlpha),b.push(D),this.graphsSet.push(b),T.wedge=b,T.index=f,O=this.gradientRatio){var x,k=[];for(x=0;x<O.length;x++)k.push(AmCharts.adjustLuminosity(T.color,O[x]));0<k.length&&D.gradient("linearGradient",k),T.pattern&&D.pattern(T.pattern)}i>0&&(this.chartCreated||b.setAttr("opacity",this.startAlpha)),this.addEventListeners(b,T),T.ty0=h-y/2,this.labelsEnabled&&this.labelText&&T.percents>=this.hideLabelsPercent&&(O=this.formatString(this.labelText,T),(D=this.labelFunction)&&(O=D(T,O)),k=T.labelColor,k||(k=this.color),D=this.labelPosition,x="left","center"==D&&(x="middle"),"left"==D&&(x="right"),O=AmCharts.wrappedText(e,O,k,this.fontFamily,this.fontSize,x,!1,this.maxLabelWidth),O.node.style.pointerEvents="none",b.push(O),k=p,n?(x=h-y/2,T.ty0=x):(x=h+y/2,T.ty0=x,C+E+5>x&&(x=C+E+5),x>o-r&&(x=o-r)),"right"==D&&(k=l+10+s,T.tx0=p+(v-y/2/g),R&&(T.tx0=p+I)),"left"==D&&(T.tx0=p-(v-y/2/g),R&&(T.tx0=p-I),k=s),T.label=O,T.labelX=k,T.labelY=x,T.labelHeight=O.getBBox().height,O.translate(k,x),v=O.getBBox(),C=AmCharts.rect(e,v.width+5,v.height+5,"#ffffff",.005),C.translate(k+v.x,x+v.y),b.push(C),T.hitRect=C,E=O.getBBox().height,C=x),(0===T.alpha||i>0&&!this.chartCreated)&&b.hide(),h=n?h-y:h+y,v=I,T.startX=AmCharts.toCoordinate(this.startX,a),T.startY=AmCharts.toCoordinate(this.startY,o),T.pullX=AmCharts.toCoordinate(this.pullDistance,a),T.pullY=0,T.balloonX=p,T.balloonY=T.ty0}}this.arrangeLabels(),this.initialStart(),(t=this.legend)&&t.invalidateSize()}else this.cleanChart();this.dispDUpd(),this.chartCreated=!0},arrangeLabels:function(){var t,e=this.rotate;t=e?0:this.realHeight;for(var i,n=0,a=this.chartData,o=a.length,r=0;o>r;r++){i=a[o-r-1];var s=i.label,l=i.labelY,h=i.labelX,c=i.labelHeight,u=l;if(e?t+n+5>l&&(u=t+n+5):l+c+5>t&&(u=t-5-c),t=u,n=c,s){s.translate(h,u);var d=s.getBBox()}i.hitRect.translate(h+d.x,u+d.y),i.labelY=u,i.tx=h,i.ty=u,i.tx2=h}"center"!=this.labelPosition&&this.drawTicks()}}),AmCharts.GaugeAxis=AmCharts.Class({construct:function(t){this.cname="GaugeAxis",this.radius="95%",this.startAngle=-120,this.endAngle=120,this.startValue=0,this.endValue=200,this.gridCount=5,this.tickLength=10,this.minorTickLength=5,this.tickColor="#555555",this.labelFrequency=this.tickThickness=this.tickAlpha=1,this.inside=!0,this.labelOffset=10,this.showLastLabel=this.showFirstLabel=!0,this.axisThickness=1,this.axisColor="#000000",this.axisAlpha=1,this.gridInside=!0,this.topTextYOffset=0,this.topTextBold=!0,this.bottomTextYOffset=0,this.bottomTextBold=!0,this.centerY=this.centerX="0%",this.bandOutlineAlpha=this.bandOutlineThickness=0,this.bandOutlineColor="#000000",this.bandAlpha=1,AmCharts.applyTheme(this,t,"GaugeAxis")},value2angle:function(t){return(t-this.startValue)/(this.endValue-this.startValue)*(this.endAngle-this.startAngle)+this.startAngle},setTopText:function(t){if(void 0!==t){this.topText=t;var e=this.chart;if(this.axisCreated){this.topTF&&this.topTF.remove();var i=this.topTextFontSize;i||(i=e.fontSize);var n=this.topTextColor;n||(n=e.color),t=AmCharts.text(e.container,t,n,e.fontFamily,i,void 0,this.topTextBold),t.translate(this.centerXReal,this.centerYReal-this.radiusReal/2+this.topTextYOffset),this.chart.graphsSet.push(t),this.topTF=t}}},setBottomText:function(t){if(void 0!==t){this.bottomText=t;var e=this.chart;if(this.axisCreated){this.bottomTF&&this.bottomTF.remove();var i=this.bottomTextFontSize;i||(i=e.fontSize);var n=this.bottomTextColor;n||(n=e.color),t=AmCharts.text(e.container,t,n,e.fontFamily,i,void 0,this.bottomTextBold),t.translate(this.centerXReal,this.centerYReal+this.radiusReal/2+this.bottomTextYOffset),this.bottomTF=t,this.chart.graphsSet.push(t)}}},draw:function(){var t=this.chart,e=t.graphsSet,i=this.startValue,n=this.endValue,a=this.valueInterval;isNaN(a)&&(a=(n-i)/this.gridCount);var o=this.minorTickInterval;isNaN(o)&&(o=a/5);var r=this.startAngle,s=this.endAngle,l=this.tickLength,h=(n-i)/a+1,c=(s-r)/(h-1);this.singleValueAngle=n=c/a;var u=t.container,d=this.tickColor,f=this.tickAlpha,m=this.tickThickness,p=a/o,g=c/p,o=this.minorTickLength,v=this.labelFrequency,C=this.radiusReal;this.inside||(C-=15);var E=t.centerX+AmCharts.toCoordinate(this.centerX,t.realWidth),b=t.centerY+AmCharts.toCoordinate(this.centerY,t.realHeight);this.centerXReal=E,this.centerYReal=b;var T,y,D={fill:this.axisColor,"fill-opacity":this.axisAlpha,"stroke-width":0,"stroke-opacity":0};this.gridInside?y=T=C:(T=C-l,y=T+o);var O=this.axisThickness/2,s=AmCharts.wedge(u,E,b,r,s-r,T+O,T+O,T-O,0,D);for(e.push(s),s=AmCharts.doNothing,AmCharts.isModern||(s=Math.round),D=AmCharts.getDecimals(a),T=0;h>T;T++){var I=i+T*a,O=r+T*c,R=s(E+C*Math.sin(O/180*Math.PI)),x=s(b-C*Math.cos(O/180*Math.PI)),k=s(E+(C-l)*Math.sin(O/180*Math.PI)),A=s(b-(C-l)*Math.cos(O/180*Math.PI)),R=AmCharts.line(u,[R,k],[x,A],d,f,m,0,!1,!1,!0);e.push(R),R=-1,k=this.labelOffset,this.inside||(k=-k-l,R=1);var x=Math.sin(O/180*Math.PI),A=Math.cos(O/180*Math.PI),x=E+(C-l-k)*x,k=b-(C-l-k)*A,w=this.fontSize;isNaN(w)&&(w=t.fontSize);var A=Math.sin((O-90)/180*Math.PI),S=Math.cos((O-90)/180*Math.PI);if(v>0&&T/v==Math.round(T/v)&&(this.showLastLabel||T!=h-1)&&(this.showFirstLabel||0!==T)){var K=AmCharts.formatNumber(I,t.nf,D),_=this.unit;_&&(K="left"==this.unitPosition?_+K:K+_),(_=this.labelFunction)&&(K=_(I)),I=AmCharts.text(u,K,t.color,t.fontFamily,w),w=I.getBBox(),I.translate(x+R*w.width/2*S,k+R*w.height/2*A),e.push(I)}if(h-1>T)for(I=1;p>I;I++)A=O+g*I,R=s(E+y*Math.sin(A/180*Math.PI)),x=s(b-y*Math.cos(A/180*Math.PI)),k=s(E+(y-o)*Math.sin(A/180*Math.PI)),A=s(b-(y-o)*Math.cos(A/180*Math.PI)),R=AmCharts.line(u,[R,k],[x,A],d,f,m,0,!1,!1,!0),e.push(R)}if(e=this.bands)for(i=0;i<e.length;i++)(a=e[i])&&(d=a.startValue,f=a.endValue,l=AmCharts.toCoordinate(a.radius,C),isNaN(l)&&(l=y),h=AmCharts.toCoordinate(a.innerRadius,C),isNaN(h)&&(h=l-o),c=r+n*(d-this.startValue),f=n*(f-d),m=a.outlineColor,void 0==m&&(m=this.bandOutlineColor),p=a.outlineThickness,isNaN(p)&&(p=this.bandOutlineThickness),g=a.outlineAlpha,isNaN(g)&&(g=this.bandOutlineAlpha),d=a.alpha,isNaN(d)&&(d=this.bandAlpha),l=AmCharts.wedge(u,E,b,c,f,l,l,h,0,{fill:a.color,stroke:m,"stroke-width":p,"stroke-opacity":g}),l.setAttr("opacity",d),t.gridSet.push(l),this.addEventListeners(l,a));this.axisCreated=!0,this.setTopText(this.topText),this.setBottomText(this.bottomText),t=t.graphsSet.getBBox(),this.width=t.width,this.height=t.height},addEventListeners:function(t,e){var i=this.chart;t.mouseover(function(){i.showBalloon(e.balloonText,e.color,!0)}).mouseout(function(){i.hideBalloon()})}}),AmCharts.GaugeArrow=AmCharts.Class({construct:function(t){this.cname="GaugeArrow",this.color="#000000",this.nailAlpha=this.alpha=1,this.startWidth=this.nailRadius=8,this.endWidth=0,this.borderAlpha=1,this.radius="90%",this.nailBorderAlpha=this.innerRadius=0,this.nailBorderThickness=1,this.frame=0,AmCharts.applyTheme(this,t,"GaugeArrow")},setValue:function(t){var e=this.chart;e&&e.setValue?e.setValue(this,t):this.previousValue=this.value=t}}),AmCharts.GaugeBand=AmCharts.Class({construct:function(){this.cname="GaugeBand"}}),AmCharts.AmAngularGauge=AmCharts.Class({inherits:AmCharts.AmChart,construct:function(t){this.cname="AmAngularGauge",AmCharts.AmAngularGauge.base.construct.call(this,t),this.theme=t,this.type="gauge",this.minRadius=this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=10,this.faceColor="#FAFAFA",this.faceAlpha=0,this.faceBorderWidth=1,this.faceBorderColor="#555555",this.faceBorderAlpha=0,this.arrows=[],this.axes=[],this.startDuration=1,this.startEffect="easeOutSine",this.adjustSize=!0,this.extraHeight=this.extraWidth=0,AmCharts.applyTheme(this,t,this.cname)},addAxis:function(t){this.axes.push(t)},formatString:function(t,e){return t=AmCharts.formatValue(t,e,["value"],this.nf,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers)},initChart:function(){AmCharts.AmAngularGauge.base.initChart.call(this);var t;0===this.axes.length&&(t=new AmCharts.GaugeAxis(this.theme),this.addAxis(t));var e;for(e=0;e<this.axes.length;e++)t=this.axes[e],t=AmCharts.processObject(t,AmCharts.GaugeAxis,this.theme),t.chart=this,this.axes[e]=t;var i=this.arrows;for(e=0;e<i.length;e++){t=i[e],t=AmCharts.processObject(t,AmCharts.GaugeArrow,this.theme),t.chart=this,i[e]=t;var n=t.axis;AmCharts.isString(n)&&(t.axis=AmCharts.getObjById(this.axes,n)),t.axis||(t.axis=this.axes[0]),isNaN(t.value)&&t.setValue(t.axis.startValue),isNaN(t.previousValue)&&(t.previousValue=t.axis.startValue)}this.setLegendData(i),this.drawChart(),this.totalFrames=1e3*this.startDuration/AmCharts.updateRate},drawChart:function(){AmCharts.AmAngularGauge.base.drawChart.call(this);var t=this.container,e=this.updateWidth();this.realWidth=e;var i=this.updateHeight();this.realHeight=i;var n=AmCharts.toCoordinate,a=n(this.marginLeft,e),o=n(this.marginRight,e),r=n(this.marginTop,i)+this.getTitleHeight(),s=n(this.marginBottom,i),l=n(this.radius,e,i),n=e-a-o,h=i-r-s+this.extraHeight;l||(l=Math.min(n,h)/2),l<this.minRadius&&(l=this.minRadius),this.radiusReal=l,this.centerX=(e-a-o)/2+a,this.centerY=(i-r-s)/2+r+this.extraHeight/2,isNaN(this.gaugeX)||(this.centerX=this.gaugeX),isNaN(this.gaugeY)||(this.centerY=this.gaugeY);var c,e=this.faceAlpha,i=this.faceBorderAlpha;for((e>0||i>0)&&(c=AmCharts.circle(t,l,this.faceColor,e,this.faceBorderWidth,this.faceBorderColor,i,!1),c.translate(this.centerX,this.centerY),c.toBack(),(t=this.facePattern)&&c.pattern(t)),e=l=t=0;e<this.axes.length;e++){if(i=this.axes[e],a=i.radius,i.radiusReal=AmCharts.toCoordinate(a,this.radiusReal),i.draw(),-1!==a.indexOf("%"))var u=1+(100-Number(a.substr(0,a.length-1)))/100;i.width*u>t&&(t=i.width*u),i.height*u>l&&(l=i.height*u)}(u=this.legend)&&u.invalidateSize(),this.adjustSize&&!this.chartCreated&&(c&&(c=c.getBBox(),c.width>t&&(t=c.width),c.height>l&&(l=c.height)),c=0,(h>l||n>t)&&(c=Math.min(h-l,n-t)),c>0&&(this.extraHeight=h-l,this.chartCreated=!0,this.validateNow())),this.dispDUpd(),this.chartCreated=!0},validateSize:function(){this.extraHeight=this.extraWidth=0,this.chartCreated=!1,AmCharts.AmAngularGauge.base.validateSize.call(this)},addArrow:function(t){this.arrows.push(t)},removeArrow:function(t){AmCharts.removeFromArray(this.arrows,t),this.validateNow()},removeAxis:function(t){AmCharts.removeFromArray(this.axes,t),this.validateNow()},drawArrow:function(t,e){t.set&&t.set.remove();var i=this.container;if(t.set=i.set(),!t.hidden){var n=t.axis,a=n.radiusReal,o=n.centerXReal,r=n.centerYReal,s=t.startWidth,l=t.endWidth,h=AmCharts.toCoordinate(t.innerRadius,n.radiusReal),c=AmCharts.toCoordinate(t.radius,n.radiusReal);n.inside||(c-=15);var u=t.nailColor;u||(u=t.color);var d=t.nailColor;d||(d=t.color),u=AmCharts.circle(i,t.nailRadius,u,t.nailAlpha,t.nailBorderThickness,u,t.nailBorderAlpha),t.set.push(u),u.translate(o,r),isNaN(c)&&(c=a-n.tickLength);var n=Math.sin(e/180*Math.PI),a=Math.cos(e/180*Math.PI),u=Math.sin((e+90)/180*Math.PI),f=Math.cos((e+90)/180*Math.PI),i=AmCharts.polygon(i,[o-s/2*u+h*n,o+c*n-l/2*u,o+c*n+l/2*u,o+s/2*u+h*n],[r+s/2*f-h*a,r-c*a+l/2*f,r-c*a-l/2*f,r-s/2*f-h*a],t.color,t.alpha,1,d,t.borderAlpha,void 0,!0);t.set.push(i),this.graphsSet.push(t.set)}},setValue:function(t,e){t.axis&&t.axis.value2angle&&(t.axis.value2angle(e),t.frame=0,t.previousValue=t.value),t.value=e;var i=this.legend;i&&i.updateValues()},handleLegendEvent:function(t){var e=t.type;if(t=t.dataItem,!this.legend.data&&t)switch(e){case"hideItem":this.hideArrow(t);break;case"showItem":this.showArrow(t)}},hideArrow:function(t){t.set.hide(),t.hidden=!0},showArrow:function(t){t.set.show(),t.hidden=!1},updateAnimations:function(){AmCharts.AmAngularGauge.base.updateAnimations.call(this);for(var t,e=this.arrows.length,i=0;e>i;i++){t=this.arrows[i];var n;t.frame>=this.totalFrames?n=t.value:(t.frame++,t.clockWiseOnly&&t.value<t.previousValue&&(n=t.axis,t.previousValue-=n.endValue-n.startValue),n=AmCharts.getEffect(this.startEffect),n=AmCharts[n](0,t.frame,t.previousValue,t.value-t.previousValue,this.totalFrames),isNaN(n)&&(n=t.value)),n=t.axis.value2angle(n),this.drawArrow(t,n)}}}),AmCharts.translations.az={monthNames:["Yanvar","Fevral","Mart","Aprel","May","Iyun","Iyul","Avqust","Sentyabr","Oktyabr","Noyabr","Dekabr"],shortMonthNames:["Yan","Fev","Mar","Apr","May","Iyn","Iyl","Avq","Sen","Okt","Noy","Dek"],dayNames:["Bazar ert\u0259si","\xc7\u0259r\u015f\u0259nb\u0259 ax\u015fam\u0131","\xc7\u0259r\u015f\u0259nb\u0259","C\xfcm\u0259 ax\u015fam\u0131","C\xfcm\u0259","\u015e\u0259nb\u0259","Bazar g\xfcn\xfc"],shortDayNames:["Ber","\xc7ax","\xc7\u0259r","Cax","C\xfcm","\u015enb","Baz"],zoomOutText:"B\xfct\xfcn g\xf6st\u0259r"},AmCharts.translations.bg={monthNames:["\u042f\u043d\u0443\u0430\u0440\u0438","\u0424\u0435\u0432\u0440\u0443\u0430\u0440\u0438","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0438\u043b","\u041c\u0430\u0439","\u042e\u043d\u0438","\u042e\u043b\u0438","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438","\u041e\u043a\u0442\u043e\u043c\u0432\u0440\u0438","\u041d\u043e\u0435\u043c\u0432\u0440\u0438","\u0414\u0435\u043a\u0435\u043c\u0432\u0440\u0438"],shortMonthNames:["\u042f\u043d\u0443","\u0424\u0435\u0432","\u041c\u0430\u0440","\u0410\u043f\u0440","\u041c\u0430\u0439","\u042e\u043d\u0438","\u042e\u043b\u0438","\u0410\u0432\u0433","\u0421\u0435\u043f","\u041e\u043a\u0442","\u041d\u043e\u0435","\u0414\u0435\u043a"],dayNames:["\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a","\u0412\u0442\u043e\u0440\u043d\u0438\u043a","\u0421\u0440\u044f\u0434\u0430","\u0427\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a","\u041f\u0435\u0442\u044a\u043a","\u0421\u044a\u0431\u043e\u0442\u0430","\u041d\u0435\u0434\u0435\u043b\u044f"],shortDayNames:["\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431","\u041d\u0434"],zoomOutText:"\u041f\u043e\u043a\u0430\u0436\u0438 \u0432\u0441\u0438\u0447\u043a\u0438"},AmCharts.translations.de={monthNames:["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],shortMonthNames:["Jan","Feb","M\xe4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],dayNames:["Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sonntag"],shortDayNames:["Mo","Di","Mi","Do","Fr","Sa","So"],zoomOutText:"Alle anzeigen",fromText:"Von:",toText:"Bis:",periodsText:"Ansicht:",selectText:"Auswahl:",comboBoxSelectText:"Auswahl...",compareText:"Vergleichen mit:"},AmCharts.translations.es={monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],shortMonthNames:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],dayNames:["Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado","Domingo"],shortDayNames:["Lun","Mar","Mi\xe9","Jue","Vie","S\xe1b","Dom"],zoomOutText:"Mostrar todos"},AmCharts.translations.fi={monthNames:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kes\xe4kuu","Hein\xe4kuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],shortMonthNames:["Tammi\xa0","Helmi\xa0","Maalis","Huhti\xa0","Touko\xa0","Kes\xe4\xa0\xa0","Hein\xe4\xa0","Elo\xa0\xa0\xa0","Syys\xa0\xa0","Loka\xa0\xa0","Marras","Joulu\xa0"],dayNames:["Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai","Sunnuntai"],shortDayNames:["Ma","Ti","Ke","To","Pe","La","Su"],zoomOutText:"N\xe4yt\xe4 kaikki"},AmCharts.translations.fo={monthNames:["Januar","Februar","Mars","Apr\xedl","Mai","Juni","Juli","August","September","Oktober","November","Desember"],shortMonthNames:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],dayNames:["M\xe1nadagur","T\xfdsdagur","Mikudagur","H\xf3sdagur","Fr\xedggjadagur","Leygardagur","Sunnudagur"],shortDayNames:["M\xe1n","T\xfds","Mik","H\xf3s","Fr\xed","Ley","Sun"],zoomOutText:"Show all"},AmCharts.translations.fr={monthNames:["Janvier","F\xe9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xfbt","Septembre","Octobre","Novembre","D\xe9cembre"],shortMonthNames:["Janv.","F\xe9vr.","Mars","Avril","Mai","Juin","Juil.","Ao\xfbt","Sept.","Oct.","Nov.","D\xe9c."],dayNames:["Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Dimanche"],shortDayNames:["Lun.","Mar.","Mer.","Jeu.","Ven.","Sam.","Dim."],zoomOutText:"Voir tous"},AmCharts.translations.hr={monthNames:["Sije\u010danj","Velja\u010da","O\u017eujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],shortMonthNames:["Sij","Vel","O\u017eu","Tra","Svi","Lip","Srp","Kol","Ruj","Lis","Stu","Pro"],dayNames:["Ponedjeljak","Utorak","Srijeda","\u010cetvrtak","Petak","Subota","Nedjelja"],shortDayNames:["Pon","Uto","Sri","\u010cet","Pet","Sub","Ned"],zoomOutText:"Prika\u017ei sve"},AmCharts.translations.hu={monthNames:["Janu\xe1r","Febru\xe1r","M\xe1rcius","\xc1prilis","M\xe1jus","J\xfanius","J\xfalius","Augusztus","Szeptember","Okt\xf3ber","November","December"],shortMonthNames:["Jan","Febr","M\xe1rc","\xc1pr","M\xe1j","J\xfan","J\xfal","Aug","Szept","Okt","Nov","Dec"],dayNames:["H\xe9tf\u0151","Kedd","Szerda","Cs\xfct\xf6rt\xf6k","P\xe9ntek","Szombat","Vas\xe1rnap"],shortDayNames:["H","K","Sze","Cs","P","Szo","V"],zoomOutText:"\xd6sszes"},AmCharts.translations.id={monthNames:["Januari","Pebruari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],shortMonthNames:["Jan","Peb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"],dayNames:["Senin","Selasa","Rabu","Kamis","Jumat","Sabtu","Minggu"],shortDayNames:["Sen","Sel","Rab","Kam","Jum","Sab","Min"],zoomOutText:"Tampilkan semua"},AmCharts.translations.is={monthNames:["Jan\xfaar","Febr\xfaar","Mars","Apr\xedl","Ma\xed","J\xfan\xed","J\xfal\xed","\xc1g\xfast","September","Okt\xf3ber","N\xf3vember","Desember"],shortMonthNames:["Jan","Feb","Mar","Apr","Ma\xed","J\xfan","J\xfal","\xc1g\xfa","Sep","Okt","N\xf3v","Des"],dayNames:["M\xe1nudagur","\xderi\xf0judagur","Mi\xf0vikudagur","Fimmtudagur","F\xf6studagur","Laugardagur","Sunnudagur"],shortDayNames:["M\xe1n","\xderi","Mi\xf0","Fim","F\xf6s","Lau","Sun"],zoomOutText:"S\xfdna allt"},AmCharts.translations.it={monthNames:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],shortMonthNames:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],dayNames:["Luned\xec","Marted\xec","Mercoled\xec","Gioved\xec","Venerd\xec","Sabato","Domenica"],shortDayNames:["Lun","Mar","Mer","Gio","Ven","Sab","Dom"],zoomOutText:"Mostra tutti"},AmCharts.translations.lt={monthNames:["Sausio","Vasario","Kovo","Baland\u017eio","Gegu\u017e\u0117s","Bir\u017eelio","Liepos","Rugpj\u016b\u010dio","Rugs\u0117jo","Spalio","Lapkri\u010dio","Gruod\u017eio"],shortMonthNames:["Sau","Vas","Kov","Bal","Geg","Bir","Lie","Rgp","Rgs","Spa","Lap","Grd"],dayNames:["Pirmadienis","Antradienis","Tre\u010diadienis","Ketvirtadienis","Penktadienis","\u0160e\u0161tadienis","Sekmadienis"],shortDayNames:["Pr","An","Tr","Kt","Pn","\u0160t","Sk"],zoomOutText:"Rodyti visk\u0105"},AmCharts.translations.lv={monthNames:["Janv\u0101ris","Febru\u0101ris","Marts","Apr\u012blis","Maijs","J\u016bnijs","J\u016blijs","Augusts","Septembris","Oktobris","Novembris","Decembris"],shortMonthNames:["Jan","Feb","Mar","Apr","Mai","J\u016bn","J\u016bl","Aug","Sep","Okt","Nov","Dec"],dayNames:["Pirmdiena","Otrdiena","Tre\u0161diena","Ceturtdiena","Piektdiena","Sestdiena","Sv\u0113tdiena"],shortDayNames:["P\xa0","O\xa0","T\xa0","C\xa0","Pk","S\xa0","Sv"],zoomOutText:"Par\u0101d\u012bt visu"},AmCharts.translations.mk={monthNames:["\u0408\u0430\u043d\u0443\u0430\u0440\u0438","\u0424\u0435\u0432\u0440\u0443\u0430\u0440\u0438","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0438\u043b","\u041c\u0430\u0458","\u0408\u0443\u043d\u0438","\u0408\u0443\u043b\u0438","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438","\u041e\u043a\u0442\u043e\u043c\u0432\u0440\u0438","\u041d\u043e\u0435\u043c\u0432\u0440\u0438","\u0414\u0435\u043a\u0435\u043c\u0432\u0440\u0438"],shortMonthNames:["\u0408\u0430\u043d","\u0424\u0435\u0432","\u041c\u0430\u0440","\u0410\u043f\u0440","\u041c\u0430\u0458","\u0408\u0443\u043d","\u0408\u0443\u043b","\u0410\u0432\u0433","\u0421\u0435\u043f","\u041e\u043a\u0442","\u041d\u043e\u0435","\u0414\u0435\u043a"],dayNames:["\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a","\u0412\u0442\u043e\u0440\u043d\u0438\u043a","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0440\u0442\u043e\u043a","\u041f\u0435\u0442\u043e\u043a","\u0421\u0430\u0431\u043e\u0442\u0430","\u041d\u0435\u0434\u0435\u043b\u0430"],shortDayNames:["\u041f\u043e\u043d","\u0412\u0442\u043e","\u0421\u0440\u0435","\u0427\u0435\u0442","\u041f\u0435\u0442","\u0421\u0430\u0431","\u041d\u0435\u0434"],zoomOutText:"\u041f\u0440\u0438\u043a\u0430\u0436\u0438 \u0433\u0438 \u0441\u0438\u0442\u0435"},AmCharts.translations.mn={monthNames:["\u0425\u0443\u043b\u0433\u0430\u043d\u0430 \u0441\u0430\u0440\u044b\u043d","\u04ae\u0445\u044d\u0440 \u0441\u0430\u0440\u044b\u043d","\u0411\u0430\u0440 \u0441\u0430\u0440\u044b\u043d","\u0422\u0443\u0443\u043b\u0430\u0439 \u0441\u0430\u0440\u044b\u043d","\u041b\u0443\u0443 \u0441\u0430\u0440\u044b\u043d","\u041c\u043e\u0433\u043e\u0439 \u0441\u0430\u0440\u044b\u043d","\u041c\u043e\u0440\u044c \u0441\u0430\u0440\u044b\u043d","\u0425\u043e\u043d\u044c \u0441\u0430\u0440\u044b\u043d","\u0411\u0438\u0447 \u0441\u0430\u0440\u044b\u043d","\u0422\u0430\u0445\u0438\u0430 \u0441\u0430\u0440\u044b\u043d","\u041d\u043e\u0445\u043e\u0439 \u0441\u0430\u0440\u044b\u043d","\u0413\u0430\u0445\u0430\u0439 \u0441\u0430\u0440\u044b\u043d"],shortMonthNames:["\u0425\u0443\u043b","\u04ae\u0445\u044d","\u0411\u0430\u0440","\u0422\u0443\u0443","\u041b\u0443\u0443","\u041c\u043e\u0433","\u041c\u043e\u0440","\u0425\u043e\u043d","\u0411\u0438\u0447","\u0422\u0430\u0445","\u041d\u043e\u0445","\u0413\u0430\u0445"],dayNames:["\u0414\u0430\u0432\u0430\u0430","\u041c\u044f\u0433\u043c\u0430\u0440","\u041b\u0445\u0430\u0433\u0432\u0430","\u041f\u04af\u0440\u044d\u0432","\u0411\u0430\u0430\u0441\u0430\u043d","\u0411\u044f\u043c\u0431\u0430","\u041d\u044f\u043c"],shortDayNames:["\u0414\u0430","\u041c\u044f","\u041b\u0445","\u041f\u04af","\u0411\u0430","\u0411\u044f","\u041d\u044f"],zoomOutText:"\u0411\u04af\u0445 \u0445\u0430\u0440\u0443\u0443\u043b\u0430\u0445"},AmCharts.translations.mt={monthNames:["Jannar","Frar","Marzu","April","Mejju","\u0120unju","Lulju","Awwissu","Settembru","Ottubru","Novembru","Di\u010bembru "],shortMonthNames:["Jan","Fra","Mar","Apr","Mej","\u0120un","Lul","Aww","Set","Ott","Nov","Di\u010b"],dayNames:["It-tnejn","It-tlieta","L-erbg\u0127a","Il-\u0127amis","Il-\u0121img\u0127a","Is-sibt","Il-\u0127add"],shortDayNames:["Tne","Tli","Erb","\u0126am","\u0120im","Sib","\u0126ad"],zoomOutText:"Turi kollha"},AmCharts.translations.nl={monthNames:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],shortMonthNames:["Jan","Feb","Mrt","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],dayNames:["Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag","Zondag"],shortDayNames:["Ma","Di","Wo","Do","Vr","Za","Zo"],zoomOutText:"Alles weergeven"},AmCharts.translations.no={monthNames:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],shortMonthNames:["Jan.","Feb.","Mars","April","Mai","Juni","Juli","Aug.","Sep.","Okt.","Nov.","Des."],dayNames:["Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xf8rdag","S\xf8ndag"],shortDayNames:["Ma.","Ti.","On.","To.","Fr.","L\xf8.","S\xf8."],zoomOutText:"Vis alle"},AmCharts.translations.pl={monthNames:["Stycze\u0144","Luty","Marzec","Kwiecie\u0144","Maj","Czerwiec","Lipiec","Sierpie\u0144","Wrzesie\u0144","Pa\u017adziernik","Listopad","Grudzie\u0144"],shortMonthNames:["Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Pa\u017a","Lis","Gru"],dayNames:["Poniedzia\u0142ek","Wtorek","\u015aroda","Czwartek","Pi\u0105tek","Sobota","Niedziela"],shortDayNames:["Pon","Wto","\u015aro","Czw","Pi\u0105","Sob","Nie"],zoomOutText:"Poka\u017c wszystko"},AmCharts.translations.pt={monthNames:["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],shortMonthNames:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Segunda","Ter\xe7a","Quarta","Quinta","Sexta","S\xe1bado","Domingo"],shortDayNames:["Seg","Ter","Qua","Qui","Sex","S\xe1b","Dom"],zoomOutText:"Mostrar todos"},AmCharts.translations.ro={monthNames:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],shortMonthNames:["Ian","Feb","Mar","Apr","Mai","Iun","Iul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Luni","Mar\u0163i","Miercuri","Joi","Vineri","S\xe2mb\u0103t\u0103","Duminic\u0103"],shortDayNames:["Lu","Ma","Mi","Jo","Vi","Sb","Du"],zoomOutText:"Arat\u0103 tot"},AmCharts.translations.ru={monthNames:["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"],shortMonthNames:["\u042f\u043d\u0432","\u0424\u0435\u0432","\u041c\u0430\u0440","\u0410\u043f\u0440","\u041c\u0430\u0439","\u0418\u044e\u043d","\u0418\u044e\u043b","\u0410\u0432\u0433","\u0421\u0435\u043d","\u041e\u043a\u0442","\u041d\u043e\u044f","\u0414\u0435\u043a"],dayNames:["\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0412\u0442\u043e\u0440\u043d\u0438\u043a","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041f\u044f\u0442\u043d\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043e\u0442\u0430","\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435"],shortDayNames:["\u041f\u043d\u0434","\u0412\u0442\u0440","\u0421\u0440\u0434","\u0427\u0442\u0432","\u041f\u0442\u043d","\u0421\u0431\u0442","\u0412\u0441\u043a"],zoomOutText:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435"},AmCharts.translations.rw={monthNames:["Mutarama","Gashyantare","Werurwe","Mata","Gicuransi","Kamena","Nyakanga","Kanama","Nzeli","Ukwakira","Ugushyingo","Ukuboza"],shortMonthNames:["Mut","Gas","Wer","Mat","Gic","Kam","Nya","Kan","Nze","Ukw","Ugu","Uku"],dayNames:["Kuwa mbere","Kuwa kabiri","Kuwa gatatu","Kuwa kane","Kuwa gatanu","Kuwa gatandatu","Ku cyumweru"],shortDayNames:["Mbe","Kab","Gtu","Kan","Gnu","Gnd","Mwe"],zoomOutText:"Show all"},AmCharts.translations.sk={monthNames:["Janu\xe1r","Febru\xe1r","Marec","Apr\xedl","M\xe1j","J\xfan","J\xfal","August","September","Okt\xf3ber","November","December"],shortMonthNames:["Jan","Feb","Mar","Apr","M\xe1j","J\xfan","J\xfal","Aug","Sep","Okt","Nov","Dec"],dayNames:["Pondelok","Utorok","Streda","\u0160tvrtok","Piatok","Sobota","Nede\u013ea"],shortDayNames:["Po","Ut","St","\u0160t","Pi","So","Ne"],zoomOutText:"Zobrazi\u0165 v\u0161etky"},AmCharts.translations.so={monthNames:["Bisha koobaad","Bisha labaad","Bisha saddexaad","Bisha afraad","Bisha shanaad","Bisha lixaad","Bisha todobaad","Bisha sideedaad","Bisha sagaalaad","Bisha tobnaad","Bisha kow iyo tobnaad","Bisha laba iyo tobnaad"],shortMonthNames:["Kob","Lab","Sad","Afr","Sha","Lix","Tod","Sid","Sag","Tob","Kit","Lit"],dayNames:["Isniin","Salaaso","Arbaco","Khamiis","Jimco","Sabti","Axad"],shortDayNames:["Isn","Sal","Arb","Kha","Jim","Sab","Axa"],zoomOutText:"Tus dhammaan"},AmCharts.translations.th={monthNames:["\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21","\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c","\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21","\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19","\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21","\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19","\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21","\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21","\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19","\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21","\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19","\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21"],shortMonthNames:["\u0e21.\u0e04.","\u0e01.\u0e1e.","\u0e21\u0e35.\u0e04.","\u0e40\u0e21.\u0e22.","\u0e1e.\u0e04.","\u0e21\u0e34.\u0e22.","\u0e01.\u0e04.","\u0e2a.\u0e04.","\u0e01.\u0e22.","\u0e15.\u0e04.","\u0e1e.\u0e22.","\u0e18.\u0e04."],dayNames:["\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c","\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23","\u0e1e\u0e38\u0e18","\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35","\u0e28\u0e38\u0e01\u0e23\u0e4c","\u0e40\u0e2a\u0e32\u0e23\u0e4c","\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c"],shortDayNames:["\u0e08.","\u0e2d.","\u0e1e.","\u0e1e\u0e24.","\u0e28.","\u0e2a.","\u0e2d\u0e32."],zoomOutText:"\u0e41\u0e2a\u0e14\u0e07\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"},AmCharts.translations.tr={monthNames:["Ocak","\u015eubat","Mart","Nisan","May\u0131s","Haziran","Temmuz","A\u011fustos","Eyl\xfcl","Ekim","Kas\u0131m","Aral\u0131k"],shortMonthNames:["Oca","\u015eub","Mar","Nis","May","Haz","Tem","A\u011fu","Eyl","Eki","Kas","Ara"],dayNames:["Pazartesi","Sal\u0131","\xc7ar\u015famba","Per\u015fembe","Cuma","Cumartesi","Pazar"],shortDayNames:["Pzt","Sal","\xc7r\u015f","Pr\u015f","Cum","Cts","Paz"],zoomOutText:"T\xfcm\xfcn\xfc g\xf6ster"},AmCharts.AmPieChart=AmCharts.Class({inherits:AmCharts.AmSlicedChart,construct:function(t){this.type="pie",AmCharts.AmPieChart.base.construct.call(this,t),this.cname="AmPieChart",this.pieBrightnessStep=30,this.minRadius=10,this.depth3D=0,this.startAngle=90,this.angle=this.innerRadius=0,this.startRadius="500%",this.pullOutRadius="20%",this.labelRadius=20,this.labelText="[[title]]: [[percents]]%",this.balloonText="[[title]]: [[percents]]% ([[value]])\n[[description]]",this.previousScale=1,AmCharts.applyTheme(this,t,this.cname)},drawChart:function(){AmCharts.AmPieChart.base.drawChart.call(this);var t=this.chartData;if(AmCharts.ifArray(t)){if(0<this.realWidth&&0<this.realHeight){AmCharts.VML&&(this.startAlpha=1);var e=this.startDuration,i=this.container,n=this.updateWidth();this.realWidth=n;var a=this.updateHeight();this.realHeight=a;var o,r,s,l=AmCharts.toCoordinate,h=l(this.marginLeft,n),c=l(this.marginRight,n),u=l(this.marginTop,a)+this.getTitleHeight(),d=l(this.marginBottom,a),f=AmCharts.toNumber(this.labelRadius),m=this.measureMaxLabel();for(m>this.maxLabelWidth&&(m=this.maxLabelWidth),this.labelText&&this.labelsEnabled||(f=m=0),o=void 0===this.pieX?(n-h-c)/2+h:l(this.pieX,this.realWidth),r=void 0===this.pieY?(a-u-d)/2+u:l(this.pieY,a),s=l(this.radius,n,a),s||(n=f>=0?n-h-c-2*m:n-h-c,a=a-u-d,s=Math.min(n,a),n>a&&(s/=1-this.angle/90,s>n&&(s=n)),a=AmCharts.toCoordinate(this.pullOutRadius,s),s=(f>=0?s-1.8*(f+a):s-1.8*a)/2),s<this.minRadius&&(s=this.minRadius),a=l(this.pullOutRadius,s),u=AmCharts.toCoordinate(this.startRadius,s),l=l(this.innerRadius,s),l>=s&&(l=s-1),d=AmCharts.fitToBounds(this.startAngle,0,360),0<this.depth3D&&(d=d>=270?270:90),d-=90,n=s-s*this.angle/90,h=0;h<t.length;h++)if(c=t[h],!0!==c.hidden&&0<c.percents){var p=360*c.percents/100,m=Math.sin((d+p/2)/180*Math.PI),g=-Math.cos((d+p/2)/180*Math.PI)*(n/s),v=this.outlineColor;
v||(v=c.color);var C=this.alpha;if(isNaN(c.alpha)||(C=c.alpha),v={fill:c.color,stroke:v,"stroke-width":this.outlineThickness,"stroke-opacity":this.outlineAlpha,"fill-opacity":C},c.url&&(v.cursor="pointer"),v=AmCharts.wedge(i,o,r,d,p,s,n,l,this.depth3D,v,this.gradientRatio,c.pattern),this.addEventListeners(v,c),c.startAngle=d,t[h].wedge=v,e>0&&(this.chartCreated||v.setAttr("opacity",this.startAlpha)),c.ix=m,c.iy=g,c.wedge=v,c.index=h,this.labelsEnabled&&this.labelText&&c.percents>=this.hideLabelsPercent){var E=d+p/2;E>360&&(E-=360);var b=f;isNaN(c.labelRadius)||(b=c.labelRadius);var T,p=o+m*(s+b),C=r+g*(s+b),y=0;if(b>=0){var D;90>=E&&E>=0?(D=0,T="start",y=8):E>=90&&180>E?(D=1,T="start",y=8):E>=180&&270>E?(D=2,T="end",y=-8):E>=270&&360>E&&(D=3,T="end",y=-8),c.labelQuarter=D}else T="middle";var E=this.formatString(this.labelText,c),O=this.labelFunction;O&&(E=O(c,E)),O=c.labelColor,O||(O=this.color),E=AmCharts.wrappedText(i,E,O,this.fontFamily,this.fontSize,T,!1,this.maxLabelWidth),E.translate(p+1.5*y,C),E.node.style.pointerEvents="none",c.tx=p+1.5*y,c.ty=C,b>=0?(b=E.getBBox(),O=AmCharts.rect(i,b.width+5,b.height+5,"#FFFFFF",.005),O.translate(p+1.5*y+b.x,C+b.y),c.hitRect=O,v.push(E),v.push(O)):this.freeLabelsSet.push(E),c.label=E,c.tx=p,c.tx2=p+y,c.tx0=o+m*s,c.ty0=r+g*s}p=l+(s-l)/2,c.pulled&&(p+=this.pullOutRadiusReal),c.balloonX=m*p+o,c.balloonY=g*p+r,c.startX=Math.round(m*u),c.startY=Math.round(g*u),c.pullX=Math.round(m*a),c.pullY=Math.round(g*a),this.graphsSet.push(v),(0===c.alpha||e>0&&!this.chartCreated)&&v.hide(),d+=360*c.percents/100}f>0&&!this.labelRadiusField&&this.arrangeLabels(),this.pieXReal=o,this.pieYReal=r,this.radiusReal=s,this.innerRadiusReal=l,f>0&&this.drawTicks(),this.initialStart(),this.setDepths()}(t=this.legend)&&t.invalidateSize()}else this.cleanChart();this.dispDUpd(),this.chartCreated=!0},setDepths:function(){var t,e=this.chartData;for(t=0;t<e.length;t++){var i=e[t],n=i.wedge,i=i.startAngle;i>=0&&180>i?n.toFront():i>=180&&n.toBack()}},arrangeLabels:function(){var t,e,i=this.chartData,n=i.length;for(e=n-1;e>=0;e--)t=i[e],0!==t.labelQuarter||t.hidden||this.checkOverlapping(e,t,0,!0,0);for(e=0;n>e;e++)t=i[e],1!=t.labelQuarter||t.hidden||this.checkOverlapping(e,t,1,!1,0);for(e=n-1;e>=0;e--)t=i[e],2!=t.labelQuarter||t.hidden||this.checkOverlapping(e,t,2,!0,0);for(e=0;n>e;e++)t=i[e],3!=t.labelQuarter||t.hidden||this.checkOverlapping(e,t,3,!1,0)},checkOverlapping:function(t,e,i,n,a){var o,r,s=this.chartData,l=s.length,h=e.label;if(h){if(!0===n)for(r=t+1;l>r;r++)s[r].labelQuarter==i&&(o=this.checkOverlappingReal(e,s[r],i))&&(r=l);else for(r=t-1;r>=0;r--)s[r].labelQuarter==i&&(o=this.checkOverlappingReal(e,s[r],i))&&(r=0);!0===o&&100>a&&(o=e.ty+3*e.iy,e.ty=o,h.translate(e.tx2,o),e.hitRect&&(h=h.getBBox(),e.hitRect.translate(e.tx2+h.x,o+h.y)),this.checkOverlapping(t,e,i,n,a+1))}},checkOverlappingReal:function(t,e,i){var n=!1,a=t.label,o=e.label;return t.labelQuarter!=i||t.hidden||e.hidden||!o||(a=a.getBBox(),i={},i.width=a.width,i.height=a.height,i.y=t.ty,i.x=t.tx,t=o.getBBox(),o={},o.width=t.width,o.height=t.height,o.y=e.ty,o.x=e.tx,AmCharts.hitTest(i,o)&&(n=!0)),n}}),AmCharts.AmRadarChart=AmCharts.Class({inherits:AmCharts.AmCoordinateChart,construct:function(t){this.type="radar",AmCharts.AmRadarChart.base.construct.call(this,t),this.cname="AmRadarChart",this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=0,this.radius="35%",AmCharts.applyTheme(this,t,this.cname)},initChart:function(){AmCharts.AmRadarChart.base.initChart.call(this),this.dataChanged&&(this.updateData(),this.dataChanged=!1,this.dispatchDataUpdated=!0),this.drawChart()},updateData:function(){this.parseData();var t,e=this.graphs;for(t=0;t<e.length;t++)e[t].data=this.chartData},updateGraphs:function(){var t,e=this.graphs;for(t=0;t<e.length;t++){var i=e[t];i.index=t,i.width=this.realRadius,i.height=this.realRadius,i.x=this.marginLeftReal,i.y=this.marginTopReal}},parseData:function(){AmCharts.AmRadarChart.base.parseData.call(this),this.parseSerialData()},updateValueAxes:function(){var t,e=this.valueAxes;for(t=0;t<e.length;t++){var i=e[t];i.axisRenderer=AmCharts.RadAxis,i.guideFillRenderer=AmCharts.RadarFill,i.axisItemRenderer=AmCharts.RadItem,i.autoGridCount=!1,i.x=this.marginLeftReal,i.y=this.marginTopReal,i.width=this.realRadius,i.height=this.realRadius}},drawChart:function(){AmCharts.AmRadarChart.base.drawChart.call(this);var t=this.updateWidth(),e=this.updateHeight(),i=this.marginTop+this.getTitleHeight(),n=this.marginLeft,e=e-i-this.marginBottom;if(this.marginLeftReal=n+(t-n-this.marginRight)/2,this.marginTopReal=i+e/2,this.realRadius=AmCharts.toCoordinate(this.radius,t,e),this.updateValueAxes(),this.updateGraphs(),t=this.chartData,AmCharts.ifArray(t)){if(0<this.realWidth&&0<this.realHeight){for(t=t.length-1,n=this.valueAxes,i=0;i<n.length;i++)n[i].zoom(0,t);for(n=this.graphs,i=0;i<n.length;i++)n[i].zoom(0,t);(t=this.legend)&&t.invalidateSize()}}else this.cleanChart();this.dispDUpd(),this.chartCreated=!0},formatString:function(t,e,i){var n=e.graph;return-1!=t.indexOf("[[category]]")&&(t=t.replace(/\[\[category\]\]/g,String(e.serialDataItem.category))),n=n.numberFormatter,n||(n=this.nf),t=AmCharts.formatValue(t,e.values,["value"],n,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),-1!=t.indexOf("[[")&&(t=AmCharts.formatDataContextValue(t,e.dataContext)),t=AmCharts.AmRadarChart.base.formatString.call(this,t,e,i)},cleanChart:function(){AmCharts.callMethod("destroy",[this.valueAxes,this.graphs])}}),AmCharts.RadAxis=AmCharts.Class({construct:function(t){var e=t.chart,i=t.axisThickness,n=t.axisColor,a=t.axisAlpha,o=t.x,r=t.y;this.set=e.container.set(),e.axesSet.push(this.set);var s=t.axisTitleOffset,l=t.radarCategoriesEnabled,h=t.chart.fontFamily,c=t.fontSize;void 0===c&&(c=t.chart.fontSize);var u=t.color;if(void 0===u&&(u=t.chart.color),e){this.axisWidth=t.height,t=e.chartData;var d,f=t.length;for(d=0;f>d;d++){var m=180-360/f*d,p=o+this.axisWidth*Math.sin(m/180*Math.PI),g=r+this.axisWidth*Math.cos(m/180*Math.PI);if(a>0&&(p=AmCharts.line(e.container,[o,p],[r,g],n,a,i),this.set.push(p)),l){var v="start",p=o+(this.axisWidth+s)*Math.sin(m/180*Math.PI),g=r+(this.axisWidth+s)*Math.cos(m/180*Math.PI);(180==m||0===m)&&(v="middle",p-=5),0>m&&(v="end",p-=10),180==m&&(g-=5),0===m&&(g+=5),m=AmCharts.text(e.container,t[d].category,u,h,c,v),m.translate(p+5,g),this.set.push(m),m.getBBox()}}}}}),AmCharts.RadItem=AmCharts.Class({construct:function(t,e,i,n,a,o,r,s){void 0===i&&(i="");var l=t.chart.fontFamily,h=t.fontSize;void 0===h&&(h=t.chart.fontSize);var c=t.color;void 0===c&&(c=t.chart.color);var u=t.chart.container;this.set=n=u.set();var d=t.axisColor,f=t.axisAlpha,m=t.tickLength,p=t.gridAlpha,g=t.gridThickness,v=t.gridColor,C=t.dashLength,E=t.fillColor,b=t.fillAlpha,T=t.labelsEnabled;a=t.counter;var y,D=t.inside,O=t.gridType,I=t.labelOffset;e-=t.height;var R;o=t.x;var x=t.y;r?(T=!0,isNaN(r.tickLength)||(m=r.tickLength),void 0!=r.lineColor&&(v=r.lineColor),isNaN(r.lineAlpha)||(p=r.lineAlpha),isNaN(r.dashLength)||(C=r.dashLength),isNaN(r.lineThickness)||(g=r.lineThickness),!0===r.inside&&(D=!0),void 0!==r.boldLabel&&(s=r.boldLabel)):i||(p/=3,m/=2);var k="end",A=-1;D&&(k="start",A=1);var w;if(T&&(w=AmCharts.text(u,i,c,l,h,k,s),w.translate(o+(m+3+I)*A,e),n.push(w),this.label=w,R=AmCharts.line(u,[o,o+m*A],[e,e],d,f,g),n.push(R)),e=Math.round(t.y-e),s=[],l=[],p>0){if("polygons"==O){for(y=t.data.length,h=0;y>h;h++)c=180-360/y*h,s.push(e*Math.sin(c/180*Math.PI)),l.push(e*Math.cos(c/180*Math.PI));s.push(s[0]),l.push(l[0]),p=AmCharts.line(u,s,l,v,p,g,C)}else p=AmCharts.circle(u,e,"#FFFFFF",0,g,v,p);p.translate(o,x),n.push(p)}if(1==a&&b>0&&!r&&""!==i){if(r=t.previousCoord,"polygons"==O){for(h=y;h>=0;h--)c=180-360/y*h,s.push(r*Math.sin(c/180*Math.PI)),l.push(r*Math.cos(c/180*Math.PI));y=AmCharts.polygon(u,s,l,E,b)}else y=AmCharts.wedge(u,0,0,0,360,e,e,r,0,{fill:E,"fill-opacity":b,stroke:"#000","stroke-opacity":0,"stroke-width":1});n.push(y),y.translate(o,x)}!1===t.visible&&(R&&R.hide(),w&&w.hide()),""!==i&&(t.counter=0===a?1:0,t.previousCoord=e)},graphics:function(){return this.set},getLabel:function(){return this.label}}),AmCharts.RadarFill=AmCharts.Class({construct:function(t,e,i,n){e-=t.axisWidth,i-=t.axisWidth;var a=Math.max(e,i);e=i=Math.min(e,i),i=t.chart.container;var o=n.fillAlpha,r=n.fillColor,a=Math.abs(a-t.y);e=Math.abs(e-t.y);var s=Math.max(a,e);if(e=Math.min(a,e),a=s,s=n.angle+90,n=n.toAngle+90,isNaN(s)&&(s=0),isNaN(n)&&(n=360),this.set=i.set(),void 0===r&&(r="#000000"),isNaN(o)&&(o=0),"polygons"==t.gridType){n=[];var l,h=[],c=t.data.length;for(l=0;c>l;l++)s=180-360/c*l,n.push(a*Math.sin(s/180*Math.PI)),h.push(a*Math.cos(s/180*Math.PI));for(n.push(n[0]),h.push(h[0]),l=c;l>=0;l--)s=180-360/c*l,n.push(e*Math.sin(s/180*Math.PI)),h.push(e*Math.cos(s/180*Math.PI));this.fill=AmCharts.polygon(i,n,h,r,o)}else this.fill=AmCharts.wedge(i,0,0,s,n-s,a,a,e,0,{fill:r,"fill-opacity":o,stroke:"#000","stroke-opacity":0,"stroke-width":1});this.set.push(this.fill),this.fill.translate(t.x,t.y)},graphics:function(){return this.set},getLabel:function(){}}),AmCharts.AmSerialChart=AmCharts.Class({inherits:AmCharts.AmRectangularChart,construct:function(t){this.type="serial",AmCharts.AmSerialChart.base.construct.call(this,t),this.cname="AmSerialChart",this.theme=t,this.createEvents("changed"),this.columnSpacing=5,this.columnSpacing3D=0,this.columnWidth=.8,this.updateScrollbar=!0;var e=new AmCharts.CategoryAxis(t);e.chart=this,this.categoryAxis=e,this.zoomOutOnDataUpdate=!0,this.mouseWheelZoomEnabled=this.mouseWheelScrollEnabled=this.rotate=this.skipZoom=!1,this.minSelectedTime=0,AmCharts.applyTheme(this,t,this.cname)},initChart:function(){AmCharts.AmSerialChart.base.initChart.call(this),this.updateCategoryAxis(this.categoryAxis,this.rotate,"categoryAxis"),this.dataChanged&&(this.updateData(),this.dataChanged=!1,this.dispatchDataUpdated=!0);var t=this.chartCursor;t&&(t.updateData(),t.fullWidth&&(t.fullRectSet=this.cursorLineSet));var e,t=this.countColumns(),i=this.graphs;for(e=0;e<i.length;e++)i[e].columnCount=t;this.updateScrollbar=!0,this.drawChart(),this.autoMargins&&!this.marginsUpdated&&(this.marginsUpdated=!0,this.measureMargins()),(this.mouseWheelScrollEnabled||this.mouseWheelZoomEnabled)&&this.addMouseWheel()},handleWheelReal:function(t,e){if(!this.wheelBusy){var i=this.categoryAxis,n=i.parseDates,i=i.minDuration(),a=1;this.mouseWheelZoomEnabled?e||(a=-1):e&&(a=-1),0>t?n?(n=this.startTime+a*i,i=this.endTime+1*i,this.zoomToDates(new Date(n),new Date(i))):(n=this.start+a,i=this.end+1,this.zoomToIndexes(n,i)):n?(n=this.startTime-a*i,i=this.endTime-1*i,this.zoomToDates(new Date(n),new Date(i))):(n=this.start-a,i=this.end-1,this.zoomToIndexes(n,i))}},validateData:function(t){this.marginsUpdated=!1,this.zoomOutOnDataUpdate&&!t&&(this.endTime=this.end=this.startTime=this.start=0/0),AmCharts.AmSerialChart.base.validateData.call(this)},drawChart:function(){AmCharts.AmSerialChart.base.drawChart.call(this);var t=this.chartData;if(AmCharts.ifArray(t)){var e=this.chartScrollbar;if(e&&e.draw(),0<this.realWidth&&0<this.realHeight){var i,t=t.length-1,e=this.categoryAxis;e.parseDates&&!e.equalSpacing?(e=this.startTime,i=this.endTime,(isNaN(e)||isNaN(i))&&(e=this.firstTime,i=this.lastTime)):(e=this.start,i=this.end,(isNaN(e)||isNaN(i))&&(e=0,i=t)),this.endTime=this.startTime=this.end=this.start=void 0,this.zoom(e,i)}}else this.cleanChart();this.dispDUpd(),this.chartCreated=!0},cleanChart:function(){AmCharts.callMethod("destroy",[this.valueAxes,this.graphs,this.categoryAxis,this.chartScrollbar,this.chartCursor])},updateCategoryAxis:function(t,e,i){t.chart=this,t.id=i,t.rotate=e,t.axisRenderer=AmCharts.RecAxis,t.guideFillRenderer=AmCharts.RecFill,t.axisItemRenderer=AmCharts.RecItem,t.setOrientation(!this.rotate),t.x=this.marginLeftReal,t.y=this.marginTopReal,t.dx=this.dx,t.dy=this.dy,t.width=this.plotAreaWidth-1,t.height=this.plotAreaHeight-1,t.viW=this.plotAreaWidth-1,t.viH=this.plotAreaHeight-1,t.viX=this.marginLeftReal,t.viY=this.marginTopReal,t.marginsChanged=!0},updateValueAxes:function(){AmCharts.AmSerialChart.base.updateValueAxes.call(this);var t,e=this.valueAxes;for(t=0;t<e.length;t++){var i=e[t],n=this.rotate;i.rotate=n,i.setOrientation(n),n=this.categoryAxis,(!n.startOnAxis||n.parseDates)&&(i.expandMinMax=!0)}},updateData:function(){this.parseData();var t,e=this.graphs,i=this.chartData;for(t=0;t<e.length;t++)e[t].data=i;0<i.length&&(this.firstTime=this.getStartTime(i[0].time),this.lastTime=this.getEndTime(i[i.length-1].time))},getStartTime:function(t){var e=this.categoryAxis;return AmCharts.resetDateToMin(new Date(t),e.minPeriod,1,e.firstDayOfWeek).getTime()},getEndTime:function(t){var e=AmCharts.extractPeriod(this.categoryAxis.minPeriod);return AmCharts.changeDate(new Date(t),e.period,e.count,!0).getTime()-1},updateMargins:function(){AmCharts.AmSerialChart.base.updateMargins.call(this);var t=this.chartScrollbar;t&&(this.getScrollbarPosition(t,this.rotate,this.categoryAxis.position),this.adjustMargins(t,this.rotate))},updateScrollbars:function(){AmCharts.AmSerialChart.base.updateScrollbars.call(this),this.updateChartScrollbar(this.chartScrollbar,this.rotate)},zoom:function(t,e){var i=this.categoryAxis;i.parseDates&&!i.equalSpacing?this.timeZoom(t,e):this.indexZoom(t,e),this.updateLegendValues()},timeZoom:function(t,e){var i=this.maxSelectedTime;isNaN(i)||(e!=this.endTime&&e-t>i&&(t=e-i,this.updateScrollbar=!0),t!=this.startTime&&e-t>i&&(e=t+i,this.updateScrollbar=!0));var n=this.minSelectedTime;if(n>0&&n>e-t){var a=Math.round(t+(e-t)/2),n=Math.round(n/2);t=a-n,e=a+n}var o=this.chartData,a=this.categoryAxis;if(AmCharts.ifArray(o)&&(t!=this.startTime||e!=this.endTime)){var r=a.minDuration(),n=this.firstTime,s=this.lastTime;t||(t=n,isNaN(i)||(t=s-i)),e||(e=s),t>s&&(t=s),n>e&&(e=n),n>t&&(t=n),e>s&&(e=s),t>e&&(e=t+r),r/5>e-t&&(s>e?e=t+r/5:t=e-r/5),this.startTime=t,this.endTime=e,i=o.length-1,r=this.getClosestIndex(o,"time",t,!0,0,i),o=this.getClosestIndex(o,"time",e,!1,r,i),a.timeZoom(t,e),a.zoom(r,o),this.start=AmCharts.fitToBounds(r,0,i),this.end=AmCharts.fitToBounds(o,0,i),this.zoomAxesAndGraphs(),this.zoomScrollbar(),this.showZB(t!=n||e!=s?!0:!1),this.updateColumnsDepth(),this.dispatchTimeZoomEvent()}},indexZoom:function(t,e){var i=this.maxSelectedSeries;if(isNaN(i)||(e!=this.end&&e-t>i&&(t=e-i,this.updateScrollbar=!0),t!=this.start&&e-t>i&&(e=t+i,this.updateScrollbar=!0)),t!=this.start||e!=this.end){var n=this.chartData.length-1;isNaN(t)&&(t=0,isNaN(i)||(t=n-i)),isNaN(e)&&(e=n),t>e&&(e=t),e>n&&(e=n),t>n&&(t=n-1),0>t&&(t=0),this.start=t,this.end=e,this.categoryAxis.zoom(t,e),this.zoomAxesAndGraphs(),this.zoomScrollbar(),this.showZB(0!==t||e!=this.chartData.length-1?!0:!1),this.updateColumnsDepth(),this.dispatchIndexZoomEvent()}},updateGraphs:function(){AmCharts.AmSerialChart.base.updateGraphs.call(this);var t,e=this.graphs;for(t=0;t<e.length;t++){var i=e[t];i.columnWidthReal=this.columnWidth,i.categoryAxis=this.categoryAxis,AmCharts.isString(i.fillToGraph)&&(i.fillToGraph=this.getGraphById(i.fillToGraph))}},updateColumnsDepth:function(){var t,e,i=this.graphs;for(AmCharts.remove(this.columnsSet),this.columnsArray=[],t=0;t<i.length;t++){e=i[t];var n=e.columnsArray;if(n){var a;for(a=0;a<n.length;a++)this.columnsArray.push(n[a])}}if(this.columnsArray.sort(this.compareDepth),0<this.columnsArray.length){for(i=this.container.set(),this.columnSet.push(i),t=0;t<this.columnsArray.length;t++)i.push(this.columnsArray[t].column.set);e&&i.translate(e.x,e.y),this.columnsSet=i}},compareDepth:function(t,e){return t.depth>e.depth?1:-1},zoomScrollbar:function(){var t=this.chartScrollbar,e=this.categoryAxis;t&&this.updateScrollbar&&(e.parseDates&&!e.equalSpacing?t.timeZoom(this.startTime,this.endTime):t.zoom(this.start,this.end),this.updateScrollbar=!0)},updateTrendLines:function(){var t,e=this.trendLines;for(t=0;t<e.length;t++){var i=e[t],i=AmCharts.processObject(i,AmCharts.TrendLine,this.theme);e[t]=i,i.chart=this,AmCharts.isString(i.valueAxis)&&(i.valueAxis=this.getValueAxisById(i.valueAxis)),i.valueAxis||(i.valueAxis=this.valueAxes[0]),i.categoryAxis=this.categoryAxis}},zoomAxesAndGraphs:function(){if(!this.scrollbarOnly){var t,e=this.valueAxes;for(t=0;t<e.length;t++)e[t].zoom(this.start,this.end);for(e=this.graphs,t=0;t<e.length;t++)e[t].zoom(this.start,this.end);this.zoomTrendLines(),(t=this.chartCursor)&&t.zoom(this.start,this.end,this.startTime,this.endTime)}},countColumns:function(){var t,e,i,n,a=0,o=this.valueAxes.length,r=this.graphs.length,s=!1;for(n=0;o>n;n++){e=this.valueAxes[n];var l=e.stackType;if("100%"==l||"regular"==l)for(s=!1,i=0;r>i;i++)t=this.graphs[i],t.tcc=1,t.valueAxis==e&&"column"==t.type&&(!s&&t.stackable&&(a++,s=!0),(!t.stackable&&t.clustered||t.newStack)&&a++,t.columnIndex=a-1,t.clustered||(t.columnIndex=0));if("none"==l||"3d"==l)for(i=0;r>i;i++)t=this.graphs[i],t.valueAxis==e&&"column"==t.type&&t.clustered&&(t.tcc=1,t.newStack&&(a=0),t.hidden||(t.columnIndex=a,a++));if("3d"==l){for(e=1,n=0;r>n;n++)t=this.graphs[n],t.newStack&&e++,t.depthCount=e,t.tcc=a;a=e}}return a},parseData:function(){AmCharts.AmSerialChart.base.parseData.call(this),this.parseSerialData()},getCategoryIndexByValue:function(t){var e,i,n=this.chartData;for(i=0;i<n.length;i++)n[i].category==t&&(e=i);return e},handleCursorChange:function(t){this.updateLegendValues(t.index)},handleCursorZoom:function(t){this.updateScrollbar=!0,this.zoom(t.start,t.end)},handleScrollbarZoom:function(t){this.updateScrollbar=!1,this.zoom(t.start,t.end)},dispatchTimeZoomEvent:function(){if(this.prevStartTime!=this.startTime||this.prevEndTime!=this.endTime){var t={type:"zoomed"};t.startDate=new Date(this.startTime),t.endDate=new Date(this.endTime),t.startIndex=this.start,t.endIndex=this.end,this.startIndex=this.start,this.endIndex=this.end,this.startDate=t.startDate,this.endDate=t.endDate,this.prevStartTime=this.startTime,this.prevEndTime=this.endTime;var e=this.categoryAxis,i=AmCharts.extractPeriod(e.minPeriod).period,e=e.dateFormatsObject[i];t.startValue=AmCharts.formatDate(t.startDate,e),t.endValue=AmCharts.formatDate(t.endDate,e),t.chart=this,t.target=this,this.fire(t.type,t)}},dispatchIndexZoomEvent:function(){if(this.prevStartIndex!=this.start||this.prevEndIndex!=this.end){this.startIndex=this.start,this.endIndex=this.end;var t=this.chartData;if(AmCharts.ifArray(t)&&!isNaN(this.start)&&!isNaN(this.end)){var e={chart:this,target:this,type:"zoomed"};e.startIndex=this.start,e.endIndex=this.end,e.startValue=t[this.start].category,e.endValue=t[this.end].category,this.categoryAxis.parseDates&&(this.startTime=t[this.start].time,this.endTime=t[this.end].time,e.startDate=new Date(this.startTime),e.endDate=new Date(this.endTime)),this.prevStartIndex=this.start,this.prevEndIndex=this.end,this.fire(e.type,e)}}},updateLegendValues:function(t){var e,i=this.graphs;for(e=0;e<i.length;e++){var n=i[e];n.currentDataItem=isNaN(t)?void 0:this.chartData[t].axes[n.valueAxis.id].graphs[n.id]}this.legend&&this.legend.updateValues()},getClosestIndex:function(t,e,i,n,a,o){0>a&&(a=0),o>t.length-1&&(o=t.length-1);var r=a+Math.round((o-a)/2),s=t[r][e];return 1>=o-a?n?a:(n=t[o][e],Math.abs(t[a][e]-i)<Math.abs(n-i)?a:o):i==s?r:s>i?this.getClosestIndex(t,e,i,n,a,r):this.getClosestIndex(t,e,i,n,r,o)},zoomToIndexes:function(t,e){this.updateScrollbar=!0;var i=this.chartData;if(i){var n=i.length;n>0&&(0>t&&(t=0),e>n-1&&(e=n-1),n=this.categoryAxis,n.parseDates&&!n.equalSpacing?this.zoom(i[t].time,this.getEndTime(i[e].time)):this.zoom(t,e))}},zoomToDates:function(t,e){this.updateScrollbar=!0;var i=this.chartData;if(this.categoryAxis.equalSpacing){var n=this.getClosestIndex(i,"time",t.getTime(),!0,0,i.length);e=AmCharts.resetDateToMin(e,this.categoryAxis.minPeriod,1),i=this.getClosestIndex(i,"time",e.getTime(),!1,0,i.length),this.zoom(n,i)}else this.zoom(t.getTime(),e.getTime())},zoomToCategoryValues:function(t,e){this.updateScrollbar=!0,this.zoom(this.getCategoryIndexByValue(t),this.getCategoryIndexByValue(e))},formatPeriodString:function(t,e){if(e){var i=["value","open","low","high","close"],n="value open low high close average sum count".split(" "),a=e.valueAxis,o=this.chartData,r=e.numberFormatter;r||(r=this.nf);for(var s=0;s<i.length;s++){for(var l,h,c,u,d,f,m,p,g,v,C=i[s],E=0,b=0,T=0,y=0,D=this.start;D<=this.end;D++){var O=o[D];if(O&&(O=O.axes[a.id].graphs[e.id])){if(O.values){var I=O.values[C];if(!isNaN(I)){isNaN(l)&&(l=I),h=I,(isNaN(c)||c>I)&&(c=I),(isNaN(u)||I>u)&&(u=I),d=AmCharts.getDecimals(E);var R=AmCharts.getDecimals(I),E=E+I,E=AmCharts.roundTo(E,Math.max(d,R));b++,d=E/b}}O.percents&&(O=O.percents[C],!isNaN(O))&&(isNaN(f)&&(f=O),m=O,(isNaN(p)||p>O)&&(p=O),(isNaN(g)||O>g)&&(g=O),v=AmCharts.getDecimals(T),I=AmCharts.getDecimals(O),T+=O,T=AmCharts.roundTo(T,Math.max(v,I)),y++,v=T/y)}}T={open:f,close:m,high:g,low:p,average:v,sum:T,count:y},t=AmCharts.formatValue(t,{open:l,close:h,high:u,low:c,average:d,sum:E,count:b},n,r,C+"\\.",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),t=AmCharts.formatValue(t,T,n,this.pf,"percents\\."+C+"\\.")}}return t},formatString:function(t,e,i){var n=e.graph;if(-1!=t.indexOf("[[category]]")){var a=e.serialDataItem.category;if(this.categoryAxis.parseDates){var o=this.balloonDateFormat,r=this.chartCursor;r&&(o=r.categoryBalloonDateFormat),-1!=t.indexOf("[[category]]")&&(o=AmCharts.formatDate(a,o),-1!=o.indexOf("fff")&&(o=AmCharts.formatMilliseconds(o,a)),a=o)}t=t.replace(/\[\[category\]\]/g,String(a))}return n=n.numberFormatter,n||(n=this.nf),a=e.graph.valueAxis,(o=a.duration)&&!isNaN(e.values.value)&&(a=AmCharts.formatDuration(e.values.value,o,"",a.durationUnits,a.maxInterval,n),t=t.replace(RegExp("\\[\\[value\\]\\]","g"),a)),a="value open low high close total".split(" "),o=this.pf,t=AmCharts.formatValue(t,e.percents,a,o,"percents\\."),t=AmCharts.formatValue(t,e.values,a,n,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),t=AmCharts.formatValue(t,e.values,["percents"],o),-1!=t.indexOf("[[")&&(t=AmCharts.formatDataContextValue(t,e.dataContext)),t=AmCharts.AmSerialChart.base.formatString.call(this,t,e,i)},addChartScrollbar:function(t){AmCharts.callMethod("destroy",[this.chartScrollbar]),t&&(t.chart=this,this.listenTo(t,"zoomed",this.handleScrollbarZoom)),this.rotate?void 0===t.width&&(t.width=t.scrollbarHeight):void 0===t.height&&(t.height=t.scrollbarHeight),this.chartScrollbar=t},removeChartScrollbar:function(){AmCharts.callMethod("destroy",[this.chartScrollbar]),this.chartScrollbar=null},handleReleaseOutside:function(t){AmCharts.AmSerialChart.base.handleReleaseOutside.call(this,t),AmCharts.callMethod("handleReleaseOutside",[this.chartScrollbar])}}),AmCharts.Cuboid=AmCharts.Class({construct:function(t,e,i,n,a,o,r,s,l,h,c,u,d,f,m){this.set=t.set(),this.container=t,this.h=Math.round(i),this.w=Math.round(e),this.dx=n,this.dy=a,this.colors=o,this.alpha=r,this.bwidth=s,this.bcolor=l,this.balpha=h,this.colors=o,this.dashLength=f,this.pattern=m,d?0>e&&0===c&&(c=180):0>i&&270==c&&(c=90),this.gradientRotation=c,0===n&&0===a&&(this.cornerRadius=u),this.draw()},draw:function(){var t=this.set;t.clear();var e=this.container,i=this.w,n=this.h,a=this.dx,o=this.dy,r=this.colors,s=this.alpha,l=this.bwidth,h=this.bcolor,c=this.balpha,u=this.gradientRotation,d=this.cornerRadius,f=this.dashLength,m=this.pattern,p=r,g=r;"object"==typeof r&&(p=r[0],g=r[r.length-1]);var v,C,E,b,T,y,D,O,I,R=s;for(m&&(s=0),(a>0||o>0)&&(D=g,g=AmCharts.adjustLuminosity(p,-.2),g=AmCharts.adjustLuminosity(p,-.2),v=AmCharts.polygon(e,[0,a,i+a,i,0],[0,o,o,0,0],g,s,1,h,0,u),c>0&&(I=AmCharts.line(e,[0,a,i+a],[0,o,o],h,c,l,f)),C=AmCharts.polygon(e,[0,0,i,i,0],[0,n,n,0,0],g,s,1,h,0,u),C.translate(a,o),c>0&&(E=AmCharts.line(e,[a,a],[o,o+n],h,c,l,f)),b=AmCharts.polygon(e,[0,0,a,a,0],[0,n,n+o,o,0],g,s,1,h,0,u),T=AmCharts.polygon(e,[i,i,i+a,i+a,i],[0,n,n+o,o,0],g,s,1,h,0,u),c>0&&(y=AmCharts.line(e,[i,i+a,i+a,i],[0,o,n+o,n],h,c,l,f)),g=AmCharts.adjustLuminosity(D,.2),D=AmCharts.polygon(e,[0,a,i+a,i,0],[n,n+o,n+o,n,n],g,s,1,h,0,u),c>0&&(O=AmCharts.line(e,[0,a,i+a],[n,n+o,n+o],h,c,l,f))),s=R,1>Math.abs(n)&&(n=0),1>Math.abs(i)&&(i=0),e=0===n?AmCharts.line(e,[0,i],[0,0],h,c,l,f):0===i?AmCharts.line(e,[0,0],[0,n],h,c,l,f):d>0?AmCharts.rect(e,i,n,r,s,l,h,c,d,u,f):AmCharts.polygon(e,[0,0,i,i,0],[0,n,n,0,0],r,s,l,h,c,u,!1,f),n=0>n?[v,I,C,E,b,T,y,D,O,e]:[D,O,C,E,b,T,v,I,y,e],v=0;v<n.length;v++)(C=n[v])&&t.push(C);m&&e.pattern(m)},width:function(t){this.w=t,this.draw()},height:function(t){this.h=t,this.draw()},animateHeight:function(t,e){var i=this;i.easing=e,i.totalFrames=Math.round(1e3*t/AmCharts.updateRate),i.rh=i.h,i.frame=0,i.height(1),setTimeout(function(){i.updateHeight.call(i)},AmCharts.updateRate)},updateHeight:function(){var t=this;t.frame++;var e=t.totalFrames;t.frame<=e&&(e=t.easing(0,t.frame,1,t.rh-1,e),t.height(e),setTimeout(function(){t.updateHeight.call(t)},AmCharts.updateRate))},animateWidth:function(t,e){var i=this;i.easing=e,i.totalFrames=Math.round(1e3*t/AmCharts.updateRate),i.rw=i.w,i.frame=0,i.width(1),setTimeout(function(){i.updateWidth.call(i)},AmCharts.updateRate)},updateWidth:function(){var t=this;t.frame++;var e=t.totalFrames;t.frame<=e&&(e=t.easing(0,t.frame,1,t.rw-1,e),t.width(e),setTimeout(function(){t.updateWidth.call(t)},AmCharts.updateRate))}}),AmCharts.CategoryAxis=AmCharts.Class({inherits:AmCharts.AxisBase,construct:function(t){this.cname="CategoryAxis",AmCharts.CategoryAxis.base.construct.call(this,t),this.minPeriod="DD",this.equalSpacing=this.parseDates=!1,this.position="bottom",this.startOnAxis=!1,this.firstDayOfWeek=1,this.gridPosition="middle",this.markPeriodChange=this.boldPeriodBeginning=!0,this.safeDistance=30,this.centerLabelOnFullPeriod=!0,this.periods=[{period:"ss",count:1},{period:"ss",count:5},{period:"ss",count:10},{period:"ss",count:30},{period:"mm",count:1},{period:"mm",count:5},{period:"mm",count:10},{period:"mm",count:30},{period:"hh",count:1},{period:"hh",count:3},{period:"hh",count:6},{period:"hh",count:12},{period:"DD",count:1},{period:"DD",count:2},{period:"DD",count:3},{period:"DD",count:4},{period:"DD",count:5},{period:"WW",count:1},{period:"MM",count:1},{period:"MM",count:2},{period:"MM",count:3},{period:"MM",count:6},{period:"YYYY",count:1},{period:"YYYY",count:2},{period:"YYYY",count:5},{period:"YYYY",count:10},{period:"YYYY",count:50},{period:"YYYY",count:100}],this.dateFormats=[{period:"fff",format:"JJ:NN:SS"},{period:"ss",format:"JJ:NN:SS"},{period:"mm",format:"JJ:NN"},{period:"hh",format:"JJ:NN"},{period:"DD",format:"MMM DD"},{period:"WW",format:"MMM DD"},{period:"MM",format:"MMM"},{period:"YYYY",format:"YYYY"}],this.nextPeriod={},this.nextPeriod.fff="ss",this.nextPeriod.ss="mm",this.nextPeriod.mm="hh",this.nextPeriod.hh="DD",this.nextPeriod.DD="MM",this.nextPeriod.MM="YYYY",AmCharts.applyTheme(this,t,this.cname)},draw:function(){AmCharts.CategoryAxis.base.draw.call(this),this.generateDFObject();var t=this.chart.chartData;if(this.data=t,AmCharts.ifArray(t)){var e,i=this.chart,n=this.start,a=this.labelFrequency,o=0;e=this.end-n+1;var r,s=this.gridCountR,l=this.showFirstLabel,h=this.showLastLabel,c="",u=AmCharts.extractPeriod(this.minPeriod);r=AmCharts.getPeriodDuration(u.period,u.count);var d,f,m,p,g,v;d=this.rotate;var C,E=this.firstDayOfWeek,b=this.boldPeriodBeginning,t=AmCharts.resetDateToMin(new Date(t[t.length-1].time+1.05*r),this.minPeriod,1,E).getTime();this.endTime>t&&(this.endTime=t),v=this.minorGridEnabled;var T,y,t=this.gridAlpha;if(this.parseDates&&!this.equalSpacing){this.timeDifference=this.endTime-this.startTime,n=this.choosePeriod(0),a=n.period,d=n.count,f=AmCharts.getPeriodDuration(a,d),r>f&&(a=u.period,d=u.count,f=r),m=a,"WW"==m&&(m="DD"),this.stepWidth=this.getStepWidth(this.timeDifference);var s=Math.ceil(this.timeDifference/f)+5,D=c=AmCharts.resetDateToMin(new Date(this.startTime-f),a,d,E).getTime();m==a&&1==d&&this.centerLabelOnFullPeriod&&(g=f*this.stepWidth),this.cellWidth=r*this.stepWidth,e=Math.round(c/f),n=-1,e/2==Math.round(e/2)&&(n=-2,c-=f);var O=i.firstTime,I=0;if(v&&d>1&&(T=this.chooseMinorFrequency(d),y=AmCharts.getPeriodDuration(a,T)),0<this.gridCountR)for(e=n;s>=e;e++){if(u=O+f*(e+Math.floor((D-O)/f))-I,"DD"==a&&(u+=36e5),u=AmCharts.resetDateToMin(new Date(u),a,d,E).getTime(),"MM"==a&&(v=(u-c)/f,(u-c)/f>=1.5&&(u=u-(v-1)*f+AmCharts.getPeriodDuration("DD",3),u=AmCharts.resetDateToMin(new Date(u),a,1).getTime(),I+=f)),r=(u-this.startTime)*this.stepWidth,v=!1,this.nextPeriod[m]&&(v=this.checkPeriodChange(this.nextPeriod[m],1,u,c,m)),C=!1,v&&this.markPeriodChange?(v=this.dateFormatsObject[this.nextPeriod[m]],this.twoLineMode&&(v=this.dateFormatsObject[m]+"\n"+v,v=AmCharts.fixBrakes(v)),C=!0):v=this.dateFormatsObject[m],b||(C=!1),c=AmCharts.formatDate(new Date(u),v),(e==n&&!l||e==s&&!h)&&(c=" "),this.labelFunction&&(c=this.labelFunction(c,new Date(u),this,a,d,p).toString()),this.boldLabels&&(C=!0),p=new this.axisItemRenderer(this,r,c,!1,g,0,!1,C),this.pushAxisItem(p),p=c=u,!isNaN(T))for(r=1;d>r;r+=T)this.gridAlpha=this.minorGridAlpha,v=u+y*r,v=AmCharts.resetDateToMin(new Date(v),a,T,E).getTime(),v=new this.axisItemRenderer(this,(v-this.startTime)*this.stepWidth),this.pushAxisItem(v);this.gridAlpha=t}}else if(this.parseDates){if(this.parseDates&&this.equalSpacing){if(o=this.start,this.startTime=this.data[this.start].time,this.endTime=this.data[this.end].time,this.timeDifference=this.endTime-this.startTime,n=this.choosePeriod(0),a=n.period,d=n.count,f=AmCharts.getPeriodDuration(a,d),r>f&&(a=u.period,d=u.count,f=r),m=a,"WW"==m&&(m="DD"),this.stepWidth=this.getStepWidth(e),s=Math.ceil(this.timeDifference/f)+1,c=AmCharts.resetDateToMin(new Date(this.startTime-f),a,d,E).getTime(),this.cellWidth=this.getStepWidth(e),e=Math.round(c/f),n=-1,e/2==Math.round(e/2)&&(n=-2,c-=f),r=this.start,r/2==Math.round(r/2)&&r--,0>r&&(r=0),g=this.end+2,g>=this.data.length&&(g=this.data.length),y=!1,y=!l,this.previousPos=-1e3,20<this.labelRotation&&(this.safeDistance=5),f=r,this.data[r].time!=AmCharts.resetDateToMin(new Date(this.data[r].time),a,d,E).getTime())for(E=0,C=c,e=r;g>e;e++)u=this.data[e].time,this.checkPeriodChange(a,d,u,C)&&(E++,E>=2&&(f=e,e=g),C=u);if(v&&d>1&&(T=this.chooseMinorFrequency(d),AmCharts.getPeriodDuration(a,T)),0<this.gridCountR)for(e=r;g>e;e++)u=this.data[e].time,this.checkPeriodChange(a,d,u,c)&&e>=f?(r=this.getCoordinate(e-this.start),v=!1,this.nextPeriod[m]&&(v=this.checkPeriodChange(this.nextPeriod[m],1,u,c,m)),C=!1,v&&this.markPeriodChange?(v=this.dateFormatsObject[this.nextPeriod[m]],C=!0):v=this.dateFormatsObject[m],c=AmCharts.formatDate(new Date(u),v),(e==n&&!l||e==s&&!h)&&(c=" "),y?y=!1:(b||(C=!1),r-this.previousPos>this.safeDistance*Math.cos(this.labelRotation*Math.PI/180)&&(this.labelFunction&&(c=this.labelFunction(c,new Date(u),this,a,d,p)),this.boldLabels&&(C=!0),p=new this.axisItemRenderer(this,r,c,void 0,void 0,void 0,void 0,C),E=p.graphics(),this.pushAxisItem(p),p=E.getBBox().width,AmCharts.isModern||(p-=r),this.previousPos=r+p)),p=c=u):isNaN(T)||(this.checkPeriodChange(a,T,u,D)&&(this.gridAlpha=this.minorGridAlpha,r=this.getCoordinate(e-this.start),v=new this.axisItemRenderer(this,r),this.pushAxisItem(v),D=u),this.gridAlpha=t)}}else if(this.cellWidth=this.getStepWidth(e),s>e&&(s=e),o+=this.start,this.stepWidth=this.getStepWidth(e),s>0)for(b=Math.floor(e/s),T=this.chooseMinorFrequency(b),r=o,r/2==Math.round(r/2)&&r--,0>r&&(r=0),s=0,this.end-r+1>=this.autoRotateCount&&(this.labelRotation=this.autoRotateAngle),e=r;e<=this.end+2;e++){if(p=!1,e>=0&&e<this.data.length?(m=this.data[e],c=m.category,p=m.forceShow):c="",v&&!isNaN(T)){if(e/T!=Math.round(e/T)&&!p)continue;e/b==Math.round(e/b)||p||(this.gridAlpha=this.minorGridAlpha,c=void 0)}else if(e/b!=Math.round(e/b)&&!p)continue;r=this.getCoordinate(e-o),p=0,"start"==this.gridPosition&&(r-=this.cellWidth/2,p=this.cellWidth/2),E=!0,tickShift=p,"start"==this.tickPosition&&(tickShift=0,E=!1,p=0),(e==n&&!l||e==this.end&&!h)&&(c=void 0),Math.round(s/a)!=s/a&&(c=void 0),s++,D=this.cellWidth,d&&(D=0/0),this.labelFunction&&m&&(c=this.labelFunction(c,m,this)),c=AmCharts.fixBrakes(c),C=!1,this.boldLabels&&(C=!0),e>this.end&&"start"==this.tickPosition&&(c=" "),p=new this.axisItemRenderer(this,r,c,E,D,p,void 0,C,tickShift,!1,m.labelColor),p.serialDataItem=m,this.pushAxisItem(p),this.gridAlpha=t}for(e=0;e<this.data.length;e++)(l=this.data[e])&&(h=this.parseDates&&!this.equalSpacing?Math.round((l.time-this.startTime)*this.stepWidth+this.cellWidth/2):this.getCoordinate(e-o),l.x[this.id]=h);for(l=this.guides.length,e=0;l>e;e++)h=this.guides[e],b=b=b=t=n=0/0,T=h.above,h.toCategory&&(b=i.getCategoryIndexByValue(h.toCategory),isNaN(b)||(n=this.getCoordinate(b-o),h.expand&&(n+=this.cellWidth/2),p=new this.axisItemRenderer(this,n,"",!0,0/0,0/0,h),this.pushAxisItem(p,T))),h.category&&(b=i.getCategoryIndexByValue(h.category),isNaN(b)||(t=this.getCoordinate(b-o),h.expand&&(t-=this.cellWidth/2),b=(n-t)/2,p=new this.axisItemRenderer(this,t,h.label,!0,0/0,b,h),this.pushAxisItem(p,T))),h.toDate&&(h.toDate instanceof Date||(h.toDate=AmCharts.stringToDate(h.toDate,i.dataDateFormat)),this.equalSpacing?(b=i.getClosestIndex(this.data,"time",h.toDate.getTime(),!1,0,this.data.length-1),isNaN(b)||(n=this.getCoordinate(b-o))):n=(h.toDate.getTime()-this.startTime)*this.stepWidth,p=new this.axisItemRenderer(this,n,"",!0,0/0,0/0,h),this.pushAxisItem(p,T)),h.date&&(h.date instanceof Date||(h.date=AmCharts.stringToDate(h.date,i.dataDateFormat)),this.equalSpacing?(b=i.getClosestIndex(this.data,"time",h.date.getTime(),!1,0,this.data.length-1),isNaN(b)||(t=this.getCoordinate(b-o))):t=(h.date.getTime()-this.startTime)*this.stepWidth,b=(n-t)/2,p="H"==this.orientation?new this.axisItemRenderer(this,t,h.label,!1,2*b,0/0,h):new this.axisItemRenderer(this,t,h.label,!1,0/0,b,h),this.pushAxisItem(p,T)),(n>0||t>0)&&(n<this.width||t<this.width)&&(n=new this.guideFillRenderer(this,t,n,h),t=n.graphics(),this.pushAxisItem(n,T),h.graphics=t,t.index=e,h.balloonText&&this.addEventListeners(t,h))
}this.axisCreated=!0,i=this.x,o=this.y,this.set.translate(i,o),this.labelsSet.translate(i,o),this.positionTitle(),(i=this.axisLine.set)&&i.toFront(),i=this.getBBox().height,2<i-this.previousHeight&&this.autoWrap&&!this.parseDates&&(this.axisCreated=this.chart.marginsUpdated=!1),this.previousHeight=i},chooseMinorFrequency:function(t){for(var e=10;e>0;e--)if(t/e==Math.round(t/e))return t/e},choosePeriod:function(t){var e=AmCharts.getPeriodDuration(this.periods[t].period,this.periods[t].count),i=Math.ceil(this.timeDifference/e),n=this.periods;return this.timeDifference<e&&t>0?n[t-1]:i<=this.gridCountR?n[t]:t+1<n.length?this.choosePeriod(t+1):n[t]},getStepWidth:function(t){var e;return this.startOnAxis?(e=this.axisWidth/(t-1),1==t&&(e=this.axisWidth)):e=this.axisWidth/t,e},getCoordinate:function(t){return t*=this.stepWidth,this.startOnAxis||(t+=this.stepWidth/2),Math.round(t)},timeZoom:function(t,e){this.startTime=t,this.endTime=e},minDuration:function(){var t=AmCharts.extractPeriod(this.minPeriod);return AmCharts.getPeriodDuration(t.period,t.count)},checkPeriodChange:function(t,e,i,n,a){i=new Date(i);var o=new Date(n),r=this.firstDayOfWeek;return n=e,"DD"==t&&(e=1),i=AmCharts.resetDateToMin(i,t,e,r).getTime(),e=AmCharts.resetDateToMin(o,t,e,r).getTime(),"DD"==t&&"hh"!=a&&i-e<=AmCharts.getPeriodDuration(t,n)?!1:i!=e?!0:!1},generateDFObject:function(){this.dateFormatsObject={};var t;for(t=0;t<this.dateFormats.length;t++){var e=this.dateFormats[t];this.dateFormatsObject[e.period]=e.format}},xToIndex:function(t){var e=this.data,i=this.chart,n=i.rotate,a=this.stepWidth;this.parseDates&&!this.equalSpacing?(t=this.startTime+Math.round(t/a)-this.minDuration()/2,i=i.getClosestIndex(e,"time",t,!1,this.start,this.end+1)):(this.startOnAxis||(t-=a/2),i=this.start+Math.round(t/a));var o,i=AmCharts.fitToBounds(i,0,e.length-1);return e[i]&&(o=e[i].x[this.id]),n?o>this.height+1&&i--:o>this.width+1&&i--,0>o&&i++,i=AmCharts.fitToBounds(i,0,e.length-1)},dateToCoordinate:function(t){return this.parseDates&&!this.equalSpacing?(t.getTime()-this.startTime)*this.stepWidth:this.parseDates&&this.equalSpacing?(t=this.chart.getClosestIndex(this.data,"time",t.getTime(),!1,0,this.data.length-1),this.getCoordinate(t-this.start)):0/0},categoryToCoordinate:function(t){return this.chart?(t=this.chart.getCategoryIndexByValue(t),this.getCoordinate(t-this.start)):0/0},coordinateToDate:function(t){return this.equalSpacing?(t=this.xToIndex(t),new Date(this.data[t].time)):new Date(this.startTime+t/this.stepWidth)}}),AmCharts.themes.black={themeName:"black",AmChart:{color:"#e7e7e7",backgroundColor:"#222222"},AmCoordinateChart:{colors:["#de4c4f","#d8854f","#eea638","#a7a737","#86a965","#8aabb0","#69c8ff","#cfd27e","#9d9888","#916b8a","#724887","#7256bc"]},AmStockChart:{colors:["#de4c4f","#d8854f","#eea638","#a7a737","#86a965","#8aabb0","#69c8ff","#cfd27e","#9d9888","#916b8a","#724887","#7256bc"]},AmSlicedChart:{outlineAlpha:1,outlineThickness:2,labelTickColor:"#FFFFFF",labelTickAlpha:.3,colors:["#de4c4f","#d8854f","#eea638","#a7a737","#86a965","#8aabb0","#69c8ff","#cfd27e","#9d9888","#916b8a","#724887","#7256bc"]},AmRectangularChart:{zoomOutButtonColor:"#FFFFFF",zoomOutButtonRollOverAlpha:.15,zoomOutButtonImage:"lensWhite.png"},AxisBase:{axisColor:"#FFFFFF",axisAlpha:.3,gridAlpha:.1,gridColor:"#FFFFFF",dashLength:3},ChartScrollbar:{backgroundColor:"#000000",backgroundAlpha:.2,graphFillAlpha:.2,graphLineAlpha:0,graphFillColor:"#FFFFFF",selectedGraphFillColor:"#FFFFFF",selectedGraphFillAlpha:.4,selectedGraphLineColor:"#FFFFFF",selectedBackgroundColor:"#FFFFFF",selectedBackgroundAlpha:.09,gridAlpha:.15},ChartCursor:{cursorColor:"#FFFFFF",color:"#000000",cursorAlpha:.5},AmLegend:{color:"#e7e7e7"},AmGraph:{lineAlpha:.9},GaugeArrow:{color:"#FFFFFF",alpha:.8,nailAlpha:0,innerRadius:"40%",nailRadius:15,startWidth:15,borderAlpha:.8,nailBorderAlpha:0},GaugeAxis:{tickColor:"#FFFFFF",tickAlpha:1,tickLength:15,minorTickLength:8,axisThickness:3,axisColor:"#FFFFFF",axisAlpha:1,bandAlpha:.8},TrendLine:{lineColor:"#c03246",lineAlpha:.8},AreasSettings:{alpha:.8,color:"#FFFFFF",colorSolid:"#000000",unlistedAreasAlpha:.4,unlistedAreasColor:"#FFFFFF",outlineColor:"#000000",outlineAlpha:.5,outlineThickness:.5,rollOverColor:"#3c5bdc",rollOverOutlineColor:"#000000",selectedOutlineColor:"#000000",selectedColor:"#f15135",unlistedAreasOutlineColor:"#000000",unlistedAreasOutlineAlpha:.5},LinesSettings:{color:"#FFFFFF",alpha:.8},ImagesSettings:{alpha:.8,labelColor:"#FFFFFF",color:"#FFFFFF",labelRollOverColor:"#3c5bdc"},ZoomControl:{buttonRollOverColor:"#3c5bdc",buttonFillColor:"#738f58",buttonBorderColor:"#738f58",buttonFillAlpha:.8,gridBackgroundColor:"#FFFFFF",buttonBorderAlpha:0,buttonCornerRadius:2,gridAlpha:.5,gridBackgroundColor:"#FFFFFF",homeIconFile:"homeIconWhite.gif",buttonIconAlpha:.6,gridAlpha:.2,buttonSize:20},SmallMap:{mapColor:"#FFFFFF",rectangleColor:"#FFFFFF",backgroundColor:"#000000",backgroundAlpha:.7,borderThickness:1,borderAlpha:.8},PeriodSelector:{color:"#e7e7e7"},PeriodButton:{color:"#e7e7e7",background:"transparent",opacity:.7,border:"1px solid rgba(255, 255, 255, .15)",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none",boxSizing:"border-box"},PeriodButtonSelected:{color:"#e7e7e7",backgroundColor:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, .3)",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none",opacity:1,boxSizing:"border-box"},PeriodInputField:{color:"#e7e7e7",background:"transparent",border:"1px solid rgba(255, 255, 255, .15)",outline:"none"},DataSetSelector:{color:"#e7e7e7",selectedBackgroundColor:"rgba(255, 255, 255, .25)",rollOverBackgroundColor:"rgba(255, 255, 255, .15)"},DataSetCompareList:{color:"#e7e7e7",lineHeight:"100%",boxSizing:"initial",webkitBoxSizing:"initial",border:"1px solid rgba(255, 255, 255, .15)"},DataSetSelect:{border:"1px solid rgba(255, 255, 255, .15)",outline:"none"}},AmCharts.themes.chalk={themeName:"chalk",AmChart:{color:"#e7e7e7",fontFamily:"Covered By Your Grace",fontSize:18,handDrawn:!0,backgroundColor:"#282828"},AmCoordinateChart:{colors:["#FFFFFF","#e384a6","#f4d499","#4d90d6","#c7e38c","#9986c8","#edf28c","#ffd1d4","#5ee1dc","#b0eead","#fef85a","#8badd2"]},AmSlicedChart:{outlineAlpha:1,labelTickColor:"#FFFFFF",labelTickAlpha:.3,colors:["#FFFFFF","#e384a6","#f4d499","#4d90d6","#c7e38c","#9986c8","#edf28c","#ffd1d4","#5ee1dc","#b0eead","#fef85a","#8badd2"]},AmStockChart:{colors:["#FFFFFF","#e384a6","#f4d499","#4d90d6","#c7e38c","#9986c8","#edf28c","#ffd1d4","#5ee1dc","#b0eead","#fef85a","#8badd2"]},AmRectangularChart:{zoomOutButtonColor:"#FFFFFF",zoomOutButtonRollOverAlpha:.15,zoomOutButtonImage:"lensWhite.png"},AxisBase:{axisColor:"#FFFFFF",gridColor:"#FFFFFF"},ChartScrollbar:{backgroundColor:"#FFFFFF",backgroundAlpha:.2,graphFillAlpha:.5,graphLineAlpha:0,selectedBackgroundColor:"#000000",selectedBackgroundAlpha:.25,fontSize:15,gridAlpha:.15},ChartCursor:{cursorColor:"#FFFFFF",color:"#000000"},AmLegend:{color:"#e7e7e7",markerSize:20},AmGraph:{lineAlpha:.8},GaugeArrow:{color:"#FFFFFF",alpha:.1,nailAlpha:0,innerRadius:"40%",nailRadius:15,startWidth:15,borderAlpha:.8,nailBorderAlpha:0},GaugeAxis:{tickColor:"#FFFFFF",tickAlpha:.8,tickLength:15,minorTickLength:8,axisThickness:3,axisColor:"#FFFFFF",axisAlpha:.8,bandAlpha:.4},TrendLine:{lineColor:"#c03246",lineAlpha:.8},AmMap:{handDrawn:!1},AreasSettings:{alpha:.8,color:"#FFFFFF",colorSolid:"#000000",unlistedAreasAlpha:.4,unlistedAreasColor:"#FFFFFF",outlineColor:"#000000",outlineAlpha:.5,outlineThickness:.5,rollOverColor:"#4d90d6",rollOverOutlineColor:"#000000",selectedOutlineColor:"#000000",selectedColor:"#e384a6",unlistedAreasOutlineColor:"#000000",unlistedAreasOutlineAlpha:.5},LinesSettings:{color:"#FFFFFF",alpha:.8},ImagesSettings:{alpha:.8,labelFontSize:16,labelColor:"#FFFFFF",color:"#FFFFFF",labelRollOverColor:"#4d90d6"},ZoomControl:{buttonRollOverColor:"#4d90d6",buttonFillColor:"#e384a6",buttonFillAlpha:.8,buttonBorderColor:"#FFFFFF",gridBackgroundColor:"#FFFFFF",gridAlpha:.8},SmallMap:{mapColor:"#FFFFFF",rectangleColor:"#FFFFFF",backgroundColor:"#000000",backgroundAlpha:.7,borderThickness:1,borderAlpha:.8},PeriodSelector:{fontFamily:"Covered By Your Grace",fontSize:"16px",color:"#e7e7e7"},PeriodButton:{fontFamily:"Covered By Your Grace",fontSize:"16px",color:"#e7e7e7",background:"transparent",opacity:.7,border:"1px solid rgba(255, 255, 255, .15)",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none",boxSizing:"border-box"},PeriodButtonSelected:{fontFamily:"Covered By Your Grace",fontSize:"16px",color:"#e7e7e7",backgroundColor:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, .3)",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none",opacity:1,boxSizing:"border-box"},PeriodInputField:{fontFamily:"Covered By Your Grace",fontSize:"16px",color:"#e7e7e7",background:"transparent",border:"1px solid rgba(255, 255, 255, .15)",outline:"none"},DataSetSelector:{fontFamily:"Covered By Your Grace",fontSize:"16px",color:"#e7e7e7",selectedBackgroundColor:"rgba(255, 255, 255, .25)",rollOverBackgroundColor:"rgba(255, 255, 255, .15)"},DataSetCompareList:{fontFamily:"Covered By Your Grace",fontSize:"16px",color:"#e7e7e7",lineHeight:"100%",boxSizing:"initial",webkitBoxSizing:"initial",border:"1px solid rgba(255, 255, 255, .15)"},DataSetSelect:{fontFamily:"Covered By Your Grace",fontSize:"16px",border:"1px solid rgba(255, 255, 255, .15)",outline:"none"}},AmCharts.themes.dark={themeName:"dark",AmChart:{color:"#e7e7e7",backgroundColor:"#282828"},AmCoordinateChart:{colors:["#ae85c9","#aab9f7","#b6d2ff","#c9e6f2","#c9f0e1","#e8d685","#e0ad63","#d48652","#d27362","#495fba","#7a629b","#8881cc"]},AmStockChart:{colors:["#639dbd","#e8d685","#ae85c9","#c9f0e1","#d48652","#629b6d","#719dc3","#719dc3"]},AmSlicedChart:{outlineAlpha:1,outlineThickness:2,labelTickColor:"#FFFFFF",labelTickAlpha:.3,colors:["#495fba","#e8d685","#ae85c9","#c9f0e1","#d48652","#629b6d","#719dc3","#719dc3"]},AmRectangularChart:{zoomOutButtonColor:"#FFFFFF",zoomOutButtonRollOverAlpha:.15,zoomOutButtonImage:"lensWhite.png"},AxisBase:{axisColor:"#FFFFFF",axisAlpha:.3,gridAlpha:.1,gridColor:"#FFFFFF",dashLength:3},ChartScrollbar:{backgroundColor:"#000000",backgroundAlpha:.2,graphFillAlpha:.2,graphLineAlpha:0,graphFillColor:"#FFFFFF",selectedGraphFillColor:"#FFFFFF",selectedGraphFillAlpha:.4,selectedGraphLineColor:"#FFFFFF",selectedBackgroundColor:"#FFFFFF",selectedBackgroundAlpha:.09,gridAlpha:.15},ChartCursor:{cursorColor:"#FFFFFF",color:"#000000",cursorAlpha:.5},AmLegend:{color:"#e7e7e7"},AmGraph:{lineAlpha:.9},GaugeArrow:{color:"#FFFFFF",alpha:.8,nailAlpha:0,innerRadius:"40%",nailRadius:15,startWidth:15,borderAlpha:.8,nailBorderAlpha:0},GaugeAxis:{tickColor:"#FFFFFF",tickAlpha:1,tickLength:15,minorTickLength:8,axisThickness:3,axisColor:"#FFFFFF",axisAlpha:1,bandAlpha:.8},TrendLine:{lineColor:"#c03246",lineAlpha:.8},AreasSettings:{alpha:.8,color:"#FFFFFF",colorSolid:"#000000",unlistedAreasAlpha:.4,unlistedAreasColor:"#FFFFFF",outlineColor:"#000000",outlineAlpha:.5,outlineThickness:.5,rollOverColor:"#3c5bdc",rollOverOutlineColor:"#000000",selectedOutlineColor:"#000000",selectedColor:"#f15135",unlistedAreasOutlineColor:"#000000",unlistedAreasOutlineAlpha:.5},LinesSettings:{color:"#FFFFFF",alpha:.8},ImagesSettings:{alpha:.8,labelColor:"#FFFFFF",color:"#FFFFFF",labelRollOverColor:"#3c5bdc"},ZoomControl:{buttonRollOverColor:"#3c5bdc",buttonFillColor:"#f15135",buttonFillAlpha:.8,gridBackgroundColor:"#FFFFFF",buttonBorderAlpha:0,buttonCornerRadius:2,gridAlpha:.5,gridBackgroundColor:"#FFFFFF",homeIconFile:"homeIconWhite.gif",buttonIconAlpha:.6,gridAlpha:.2,buttonSize:20},SmallMap:{mapColor:"#FFFFFF",rectangleColor:"#FFFFFF",backgroundColor:"#000000",backgroundAlpha:.7,borderThickness:1,borderAlpha:.8},PeriodSelector:{color:"#e7e7e7"},PeriodButton:{color:"#e7e7e7",background:"transparent",opacity:.7,border:"1px solid rgba(255, 255, 255, .15)",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none",boxSizing:"border-box"},PeriodButtonSelected:{color:"#e7e7e7",backgroundColor:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, .3)",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none",opacity:1,boxSizing:"border-box"},PeriodInputField:{color:"#e7e7e7",background:"transparent",border:"1px solid rgba(255, 255, 255, .15)",outline:"none"},DataSetSelector:{color:"#e7e7e7",selectedBackgroundColor:"rgba(255, 255, 255, .25)",rollOverBackgroundColor:"rgba(255, 255, 255, .15)"},DataSetCompareList:{color:"#e7e7e7",lineHeight:"100%",boxSizing:"initial",webkitBoxSizing:"initial",border:"1px solid rgba(255, 255, 255, .15)"},DataSetSelect:{border:"1px solid rgba(255, 255, 255, .15)",outline:"none"}},AmCharts.themes.light={themeName:"light",AmChart:{color:"#000000",backgroundColor:"#FFFFFF"},AmCoordinateChart:{colors:["#67b7dc","#fdd400","#84b761","#cc4748","#cd82ad","#2f4074","#448e4d","#b7b83f","#b9783f","#b93e3d","#913167"]},AmStockChart:{colors:["#67b7dc","#fdd400","#84b761","#cc4748","#cd82ad","#2f4074","#448e4d","#b7b83f","#b9783f","#b93e3d","#913167"]},AmSlicedChart:{colors:["#67b7dc","#fdd400","#84b761","#cc4748","#cd82ad","#2f4074","#448e4d","#b7b83f","#b9783f","#b93e3d","#913167"],outlineAlpha:1,outlineThickness:2,labelTickColor:"#000000",labelTickAlpha:.3},AmRectangularChart:{zoomOutButtonColor:"#000000",zoomOutButtonRollOverAlpha:.15,zoomOutButtonImage:"lens.png"},AxisBase:{axisColor:"#000000",axisAlpha:.3,gridAlpha:.1,gridColor:"#000000"},ChartScrollbar:{backgroundColor:"#000000",backgroundAlpha:.12,graphFillAlpha:.5,graphLineAlpha:0,selectedBackgroundColor:"#FFFFFF",selectedBackgroundAlpha:.4,gridAlpha:.15},ChartCursor:{cursorColor:"#000000",color:"#FFFFFF",cursorAlpha:.5},AmLegend:{color:"#000000"},AmGraph:{lineAlpha:.9},GaugeArrow:{color:"#000000",alpha:.8,nailAlpha:0,innerRadius:"40%",nailRadius:15,startWidth:15,borderAlpha:.8,nailBorderAlpha:0},GaugeAxis:{tickColor:"#000000",tickAlpha:1,tickLength:15,minorTickLength:8,axisThickness:3,axisColor:"#000000",axisAlpha:1,bandAlpha:.8},TrendLine:{lineColor:"#c03246",lineAlpha:.8},AreasSettings:{alpha:.8,color:"#67b7dc",colorSolid:"#003767",unlistedAreasAlpha:.4,unlistedAreasColor:"#000000",outlineColor:"#FFFFFF",outlineAlpha:.5,outlineThickness:.5,rollOverColor:"#3c5bdc",rollOverOutlineColor:"#FFFFFF",selectedOutlineColor:"#FFFFFF",selectedColor:"#f15135",unlistedAreasOutlineColor:"#FFFFFF",unlistedAreasOutlineAlpha:.5},LinesSettings:{color:"#000000",alpha:.8},ImagesSettings:{alpha:.8,labelColor:"#000000",color:"#000000",labelRollOverColor:"#3c5bdc"},ZoomControl:{buttonRollOverColor:"#3c5bdc",buttonFillColor:"#3994e2",buttonBorderColor:"#3994e2",buttonFillAlpha:.8,gridBackgroundColor:"#FFFFFF",buttonBorderAlpha:0,buttonCornerRadius:2,gridColor:"#FFFFFF",gridBackgroundColor:"#000000",buttonIconAlpha:.6,gridAlpha:.6,buttonSize:20},SmallMap:{mapColor:"#000000",rectangleColor:"#f15135",backgroundColor:"#FFFFFF",backgroundAlpha:.7,borderThickness:1,borderAlpha:.8},PeriodSelector:{color:"#000000"},PeriodButton:{color:"#000000",background:"transparent",opacity:.7,border:"1px solid rgba(0, 0, 0, .3)",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none",boxSizing:"border-box"},PeriodButtonSelected:{color:"#000000",backgroundColor:"#b9cdf5",border:"1px solid rgba(0, 0, 0, .3)",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none",opacity:1,boxSizing:"border-box"},PeriodInputField:{color:"#000000",background:"transparent",border:"1px solid rgba(0, 0, 0, .3)",outline:"none"},DataSetSelector:{color:"#000000",selectedBackgroundColor:"#b9cdf5",rollOverBackgroundColor:"#a8b0e4"},DataSetCompareList:{color:"#000000",lineHeight:"100%",boxSizing:"initial",webkitBoxSizing:"initial",border:"1px solid rgba(0, 0, 0, .3)"},DataSetSelect:{border:"1px solid rgba(0, 0, 0, .3)",outline:"none"}},AmCharts.themes.patterns={themeName:"patterns",AmChart:{color:"#000000",backgroundColor:"#FFFFFF"},AmCoordinateChart:{colors:["#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000"],patterns:[{url:"../amcharts/patterns/black/pattern1.png",width:4,height:4},{url:"../amcharts/patterns/black/pattern2.png",width:4,height:4},{url:"../amcharts/patterns/black/pattern3.png",width:4,height:4},{url:"../amcharts/patterns/black/pattern4.png",width:4,height:4},{url:"../amcharts/patterns/black/pattern5.png",width:4,height:4},{url:"../amcharts/patterns/black/pattern6.png",width:4,height:4},{url:"../amcharts/patterns/black/pattern7.png",width:4,height:4},{url:"../amcharts/patterns/black/pattern8.png",width:4,height:4},{url:"../amcharts/patterns/black/pattern9.png",width:4,height:4},{url:"../amcharts/patterns/black/pattern10.png",width:4,height:4},{url:"../amcharts/patterns/black/pattern11.png",width:4,height:4},{url:"../amcharts/patterns/black/pattern12.png",width:4,height:4},{url:"../amcharts/patterns/black/pattern13.png",width:4,height:4},{url:"../amcharts/patterns/black/pattern14.png",width:4,height:4},{url:"../amcharts/patterns/black/pattern15.png",width:4,height:4},{url:"../amcharts/patterns/black/pattern16.png",width:4,height:4},{url:"../amcharts/patterns/black/pattern17.png",width:4,height:4},{url:"../amcharts/patterns/black/pattern18.png",width:4,height:4},{url:"../amcharts/patterns/black/pattern19.png",width:4,height:4},{url:"../amcharts/patterns/black/pattern20.png",width:4,height:4},{url:"../amcharts/patterns/black/pattern21.png",width:4,height:4}]},AmStockChart:{colors:["#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000"]},AmPieChart:{depth3D:0,angle:0,labelRadius:10},AmSlicedChart:{outlineAlpha:.3,colors:["#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000"],outlineThickness:1,outlineColor:"#000000",labelTickColor:"#000000",labelTickAlpha:.3,patterns:[{url:"../amcharts/patterns/black/pattern1.png",width:4,height:4},{url:"../amcharts/patterns/black/pattern2.png",width:4,height:4},{url:"../amcharts/patterns/black/pattern3.png",width:4,height:4},{url:"../amcharts/patterns/black/pattern4.png",width:4,height:4},{url:"../amcharts/patterns/black/pattern5.png",width:4,height:4},{url:"../amcharts/patterns/black/pattern6.png",width:4,height:4},{url:"../amcharts/patterns/black/pattern7.png",width:4,height:4},{url:"../amcharts/patterns/black/pattern8.png",width:4,height:4},{url:"../amcharts/patterns/black/pattern9.png",width:4,height:4},{url:"../amcharts/patterns/black/pattern10.png",width:4,height:4},{url:"../amcharts/patterns/black/pattern11.png",width:4,height:4},{url:"../amcharts/patterns/black/pattern12.png",width:4,height:4},{url:"../amcharts/patterns/black/pattern13.png",width:4,height:4},{url:"../amcharts/patterns/black/pattern14.png",width:4,height:4},{url:"../amcharts/patterns/black/pattern15.png",width:4,height:4},{url:"../amcharts/patterns/black/pattern16.png",width:4,height:4},{url:"../amcharts/patterns/black/pattern17.png",width:4,height:4},{url:"../amcharts/patterns/black/pattern18.png",width:4,height:4},{url:"../amcharts/patterns/black/pattern19.png",width:4,height:4},{url:"../amcharts/patterns/black/pattern20.png",width:4,height:4},{url:"../amcharts/patterns/black/pattern21.png",width:4,height:4}]},AmRectangularChart:{zoomOutButtonColor:"#000000",zoomOutButtonRollOverAlpha:.15,zoomOutButtonImage:"lens.png"},AxisBase:{axisColor:"#000000",axisAlpha:.3,gridAlpha:.05,gridColor:"#000000"},ChartScrollbar:{backgroundColor:"#000000",backgroundAlpha:.13,graphFillAlpha:.4,selectedGraphFillAlpha:.7,graphLineAlpha:0,selectedBackgroundColor:"#FFFFFF",selectedBackgroundAlpha:.9,gridAlpha:.15},ChartCursor:{cursorColor:"#000000",color:"#FFFFFF",cursorAlpha:.5},AmLegend:{color:"#000000",markerBorderAlpha:.1,markerSize:20,switchColor:"#000000"},AmGraph:{lineAlpha:.4,fillAlphas:.5},AmAngularGauge:{faceAlpha:.5,facePattern:{url:"../amcharts/patterns/black/pattern1.png",width:4,height:4}},GaugeArrow:{color:"#000000",alpha:1,nailAlpha:1,innerRadius:"0%",nailRadius:15,startWidth:15,borderAlpha:1,radius:"70%",nailBorderAlpha:1},GaugeAxis:{tickColor:"#000000",tickAlpha:1,tickLength:15,minorTickLength:8,axisThickness:1,axisColor:"#000000",axisAlpha:1,bandAlpha:1},TrendLine:{lineColor:"#c03246",lineAlpha:.8},AreasSettings:{alpha:.8,color:"#000000",colorSolid:"#000000",unlistedAreasAlpha:.4,unlistedAreasColor:"#000000",outlineColor:"#FFFFFF",outlineAlpha:.5,outlineThickness:.5,rollOverColor:"#3c5bdc",rollOverOutlineColor:"#FFFFFF",selectedOutlineColor:"#FFFFFF",selectedColor:"#f15135",unlistedAreasOutlineColor:"#FFFFFF",unlistedAreasOutlineAlpha:.5},LinesSettings:{color:"#000000",alpha:.8},ImagesSettings:{alpha:.8,labelColor:"#000000",color:"#000000",labelRollOverColor:"#3c5bdc"},ZoomControl:{buttonRollOverColor:"#3c5bdc",buttonFillColor:"#f15135",buttonFillAlpha:.8,buttonBorderColor:"#000000",gridBackgroundColor:"#000000",gridAlpha:.8},SmallMap:{mapColor:"#000000",rectangleColor:"#FFFFFF",backgroundColor:"#FFFFFF",backgroundAlpha:.7,borderThickness:1,borderAlpha:.8},PeriodSelector:{color:"#000000"},PeriodButton:{color:"#000000",background:"transparent",opacity:.7,border:"1px solid rgba(0, 0, 0, .3)",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none",boxSizing:"border-box"},PeriodButtonSelected:{color:"#000000",backgroundColor:"rgba(0, 0, 0, 0.1)",border:"1px solid rgba(0, 0, 0, .3)",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none",opacity:1,boxSizing:"border-box"},PeriodInputField:{color:"#000000",background:"transparent",border:"1px solid rgba(0, 0, 0, .3)",outline:"none"},DataSetSelector:{color:"#000000",selectedBackgroundColor:"rgba(0, 0, 0, .25)",rollOverBackgroundColor:"rgba(0, 0, 0, .15)"},DataSetCompareList:{color:"#000000",lineHeight:"100%",boxSizing:"initial",webkitBoxSizing:"initial",border:"1px solid rgba(0, 0, 0, .3)"},DataSetSelect:{border:"1px solid rgba(0, 0, 0, .3)",outline:"none"}},AmCharts.AmXYChart=AmCharts.Class({inherits:AmCharts.AmRectangularChart,construct:function(t){this.type="xy",AmCharts.AmXYChart.base.construct.call(this,t),this.cname="AmXYChart",this.theme=t,this.createEvents("zoomed"),this.maxZoomFactor=20,AmCharts.applyTheme(this,t,this.cname)},initChart:function(){AmCharts.AmXYChart.base.initChart.call(this),this.dataChanged&&(this.updateData(),this.dataChanged=!1,this.dispatchDataUpdated=!0),this.updateScrollbar=!0,this.drawChart(),this.autoMargins&&!this.marginsUpdated&&(this.marginsUpdated=!0,this.measureMargins());var t=this.marginLeftReal,e=this.marginTopReal,i=this.plotAreaWidth,n=this.plotAreaHeight;this.graphsSet.clipRect(t,e,i,n),this.bulletSet.clipRect(t,e,i,n),this.trendLinesSet.clipRect(t,e,i,n)},prepareForExport:function(){var t=this.bulletSet;t.clipPath&&this.container.remove(t.clipPath)},createValueAxes:function(){var t=[],e=[];this.xAxes=t,this.yAxes=e;var i,n,a=this.valueAxes;for(n=0;n<a.length;n++){i=a[n];var o=i.position;("top"==o||"bottom"==o)&&(i.rotate=!0),i.setOrientation(i.rotate),o=i.orientation,"V"==o&&e.push(i),"H"==o&&t.push(i)}for(0===e.length&&(i=new AmCharts.ValueAxis(this.theme),i.rotate=!1,i.setOrientation(!1),a.push(i),e.push(i)),0===t.length&&(i=new AmCharts.ValueAxis(this.theme),i.rotate=!0,i.setOrientation(!0),a.push(i),t.push(i)),n=0;n<a.length;n++)this.processValueAxis(a[n],n);for(t=this.graphs,n=0;n<t.length;n++)this.processGraph(t[n],n)},drawChart:function(){if(AmCharts.AmXYChart.base.drawChart.call(this),AmCharts.ifArray(this.chartData)?(this.chartScrollbar&&this.updateScrollbars(),this.zoomChart()):this.cleanChart(),this.hideXScrollbar){var t=this.scrollbarH;t&&(this.removeListener(t,"zoomed",this.handleHSBZoom),t.destroy()),this.scrollbarH=null}this.hideYScrollbar&&((t=this.scrollbarV)&&(this.removeListener(t,"zoomed",this.handleVSBZoom),t.destroy()),this.scrollbarV=null),(!this.autoMargins||this.marginsUpdated)&&(this.dispDUpd(),this.chartCreated=!0,this.zoomScrollbars())},cleanChart:function(){AmCharts.callMethod("destroy",[this.valueAxes,this.graphs,this.scrollbarV,this.scrollbarH,this.chartCursor])},zoomChart:function(){this.toggleZoomOutButton(),this.zoomObjects(this.valueAxes),this.zoomObjects(this.graphs),this.zoomTrendLines(),this.dispatchAxisZoom()},toggleZoomOutButton:function(){this.showZB(1==this.heightMultiplier&&1==this.widthMultiplier?!1:!0)},dispatchAxisZoom:function(){var t,e=this.valueAxes;for(t=0;t<e.length;t++){var i=e[t];if(!isNaN(i.min)&&!isNaN(i.max)){var n,a;if("V"==i.orientation?(n=i.coordinateToValue(-this.verticalPosition),a=i.coordinateToValue(-this.verticalPosition+this.plotAreaHeight)):(n=i.coordinateToValue(-this.horizontalPosition),a=i.coordinateToValue(-this.horizontalPosition+this.plotAreaWidth)),!isNaN(n)&&!isNaN(a)){if(n>a){var o=a;a=n,n=o}i.dispatchZoomEvent(n,a)}}}},zoomObjects:function(t){var e,i=t.length;for(e=0;i>e;e++){var n=t[e];this.updateObjectSize(n),n.zoom(0,this.chartData.length-1)}},updateData:function(){this.parseData();var t,e,i=this.chartData,n=i.length-1,a=this.graphs,o=this.dataProvider,r=-1/0,s=1/0;for(t=0;t<a.length;t++)if(e=a[t],e.data=i,e.zoom(0,n),e=e.valueField){var l;for(l=0;l<o.length;l++){var h=Number(o[l][e]);h>r&&(r=h),s>h&&(s=h)}}for(t=0;t<a.length;t++)e=a[t],e.maxValue=r,e.minValue=s;(i=this.chartCursor)&&(i.updateData(),i.type="crosshair",i.valueBalloonsEnabled=!1)},zoomOut:function(){this.verticalPosition=this.horizontalPosition=0,this.heightMultiplier=this.widthMultiplier=1,this.zoomChart(),this.zoomScrollbars()},processValueAxis:function(t){t.chart=this,t.minMaxField="H"==t.orientation?"x":"y",t.minTemp=0/0,t.maxTemp=0/0,this.listenTo(t,"axisSelfZoomed",this.handleAxisSelfZoom)},processGraph:function(t){AmCharts.isString(t.xAxis)&&(t.xAxis=this.getValueAxisById(t.xAxis)),AmCharts.isString(t.yAxis)&&(t.yAxis=this.getValueAxisById(t.yAxis)),t.xAxis||(t.xAxis=this.xAxes[0]),t.yAxis||(t.yAxis=this.yAxes[0]),t.valueAxis=t.yAxis},parseData:function(){AmCharts.AmXYChart.base.parseData.call(this),this.chartData=[];var t,e=this.dataProvider,i=this.valueAxes,n=this.graphs;if(e)for(t=0;t<e.length;t++){var a,o={axes:{},x:{},y:{}},r=e[t];for(a=0;a<i.length;a++){var s=i[a].id;o.axes[s]={},o.axes[s].graphs={};var l;for(l=0;l<n.length;l++){var h=n[l],c=h.id;if(h.xAxis.id==s||h.yAxis.id==s){var u={};u.serialDataItem=o,u.index=t;var d={},f=Number(r[h.valueField]);isNaN(f)||(d.value=f),f=Number(r[h.xField]),isNaN(f)||(d.x=f),f=Number(r[h.yField]),isNaN(f)||(d.y=f),f=Number(r[h.errorField]),isNaN(f)||(d.error=f),u.values=d,this.processFields(h,u,r),u.serialDataItem=o,u.graph=h,o.axes[s].graphs[c]=u}}}this.chartData[t]=o}},formatString:function(t,e,i){var n=e.graph.numberFormatter;return n||(n=this.nf),t=AmCharts.formatValue(t,e.values,["value","x","y"],n),-1!=t.indexOf("[[")&&(t=AmCharts.formatDataContextValue(t,e.dataContext)),t=AmCharts.AmXYChart.base.formatString.call(this,t,e,i)},addChartScrollbar:function(t){if(AmCharts.callMethod("destroy",[this.chartScrollbar,this.scrollbarH,this.scrollbarV]),t){this.chartScrollbar=t,this.scrollbarHeight=t.scrollbarHeight;var e="backgroundColor backgroundAlpha selectedBackgroundColor selectedBackgroundAlpha scrollDuration resizeEnabled hideResizeGrips scrollbarHeight updateOnReleaseOnly".split(" ");if(!this.hideYScrollbar){var i=new AmCharts.SimpleChartScrollbar(this.theme);i.skipEvent=!0,i.chart=this,this.listenTo(i,"zoomed",this.handleVSBZoom),AmCharts.copyProperties(t,i,e),i.rotate=!0,this.scrollbarV=i}this.hideXScrollbar||(i=new AmCharts.SimpleChartScrollbar(this.theme),i.skipEvent=!0,i.chart=this,this.listenTo(i,"zoomed",this.handleHSBZoom),AmCharts.copyProperties(t,i,e),i.rotate=!1,this.scrollbarH=i)}},updateTrendLines:function(){var t,e=this.trendLines;for(t=0;t<e.length;t++){var i=e[t],i=AmCharts.processObject(i,AmCharts.TrendLine,this.theme);e[t]=i,i.chart=this;var n=i.valueAxis;AmCharts.isString(n)&&(i.valueAxis=this.getValueAxisById(n)),n=i.valueAxisX,AmCharts.isString(n)&&(i.valueAxisX=this.getValueAxisById(n)),i.valueAxis||(i.valueAxis=this.yAxes[0]),i.valueAxisX||(i.valueAxisX=this.xAxes[0])}},updateMargins:function(){AmCharts.AmXYChart.base.updateMargins.call(this);var t=this.scrollbarV;t&&(this.getScrollbarPosition(t,!0,this.yAxes[0].position),this.adjustMargins(t,!0)),(t=this.scrollbarH)&&(this.getScrollbarPosition(t,!1,this.xAxes[0].position),this.adjustMargins(t,!1))},updateScrollbars:function(){AmCharts.AmXYChart.base.updateScrollbars.call(this);var t=this.scrollbarV;t&&(this.updateChartScrollbar(t,!0),t.draw()),(t=this.scrollbarH)&&(this.updateChartScrollbar(t,!1),t.draw())},zoomScrollbars:function(){var t=this.scrollbarH;t&&t.relativeZoom(this.widthMultiplier,-this.horizontalPosition/this.widthMultiplier),(t=this.scrollbarV)&&t.relativeZoom(this.heightMultiplier,-this.verticalPosition/this.heightMultiplier)},fitMultiplier:function(t){return t>this.maxZoomFactor&&(t=this.maxZoomFactor),t},handleHSBZoom:function(t){var e=this.fitMultiplier(t.multiplier);t=-t.position*e;var i=-(this.plotAreaWidth*e-this.plotAreaWidth);i>t&&(t=i),this.widthMultiplier=e,this.horizontalPosition=t,this.zoomChart()},handleVSBZoom:function(t){var e=this.fitMultiplier(t.multiplier);t=-t.position*e;var i=-(this.plotAreaHeight*e-this.plotAreaHeight);i>t&&(t=i),this.heightMultiplier=e,this.verticalPosition=t,this.zoomChart()},handleAxisSelfZoom:function(t){if("H"==t.valueAxis.orientation){var e=this.fitMultiplier(t.multiplier);t=-t.position*e;var i=-(this.plotAreaWidth*e-this.plotAreaWidth);i>t&&(t=i),this.horizontalPosition=t,this.widthMultiplier=e}else e=this.fitMultiplier(t.multiplier),t=-t.position*e,i=-(this.plotAreaHeight*e-this.plotAreaHeight),i>t&&(t=i),this.verticalPosition=t,this.heightMultiplier=e;for(this.zoomChart(),e=this.graphs,t=0;t<e.length;t++)e[t].setAnimationPlayed();this.zoomScrollbars()},handleCursorZoom:function(t){var e=this.widthMultiplier*this.plotAreaWidth/t.selectionWidth,i=this.heightMultiplier*this.plotAreaHeight/t.selectionHeight,e=this.fitMultiplier(e),i=this.fitMultiplier(i);this.horizontalPosition=(this.horizontalPosition-t.selectionX)*e/this.widthMultiplier,this.verticalPosition=(this.verticalPosition-t.selectionY)*i/this.heightMultiplier,this.widthMultiplier=e,this.heightMultiplier=i,this.zoomChart(),this.zoomScrollbars()},removeChartScrollbar:function(){AmCharts.callMethod("destroy",[this.scrollbarH,this.scrollbarV]),this.scrollbarV=this.scrollbarH=null},handleReleaseOutside:function(t){AmCharts.AmXYChart.base.handleReleaseOutside.call(this,t),AmCharts.callMethod("handleReleaseOutside",[this.scrollbarH,this.scrollbarV])}}),function(){jQuery(function(){return $("a[rel~=popover], .has-popover").popover(),$("a[rel~=tooltip], .has-tooltip").tooltip()})}.call(this),function(){}.call(this),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):window.jQuery||window.Zepto)}(function(t){var e,i,n,a,o,r,s="Close",l="BeforeClose",h="AfterClose",c="BeforeAppend",u="MarkupParse",d="Open",f="Change",m="mfp",p="."+m,g="mfp-ready",v="mfp-removing",C="mfp-prevent-close",E=function(){},b=!!window.jQuery,T=t(window),y=function(t,i){e.ev.on(m+t+p,i)},D=function(e,i,n,a){var o=document.createElement("div");return o.className="mfp-"+e,n&&(o.innerHTML=n),a?i&&i.appendChild(o):(o=t(o),i&&o.appendTo(i)),o},O=function(i,n){e.ev.triggerHandler(m+i,n),e.st.callbacks&&(i=i.charAt(0).toLowerCase()+i.slice(1),e.st.callbacks[i]&&e.st.callbacks[i].apply(e,t.isArray(n)?n:[n]))},I=function(i){return i===r&&e.currTemplate.closeBtn||(e.currTemplate.closeBtn=t(e.st.closeMarkup.replace("%title%",e.st.tClose)),r=i),e.currTemplate.closeBtn},R=function(){t.magnificPopup.instance||(e=new E,e.init(),t.magnificPopup.instance=e)},x=function(){var t=document.createElement("p").style,e=["ms","O","Moz","Webkit"];if(void 0!==t.transition)return!0;for(;e.length;)if(e.pop()+"Transition"in t)return!0;return!1};E.prototype={constructor:E,init:function(){var i=navigator.appVersion;e.isIE7=-1!==i.indexOf("MSIE 7."),e.isIE8=-1!==i.indexOf("MSIE 8."),e.isLowIE=e.isIE7||e.isIE8,e.isAndroid=/android/gi.test(i),e.isIOS=/iphone|ipad|ipod/gi.test(i),e.supportsTransition=x(),e.probablyMobile=e.isAndroid||e.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),n=t(document),e.popupsCache={}},open:function(i){var a;if(i.isObj===!1){e.items=i.items.toArray(),e.index=0;var r,s=i.items;for(a=0;a<s.length;a++)if(r=s[a],r.parsed&&(r=r.el[0]),r===i.el[0]){e.index=a;break}}else e.items=t.isArray(i.items)?i.items:[i.items],e.index=i.index||0;
if(e.isOpen)return void e.updateItemHTML();e.types=[],o="",e.ev=i.mainEl&&i.mainEl.length?i.mainEl.eq(0):n,i.key?(e.popupsCache[i.key]||(e.popupsCache[i.key]={}),e.currTemplate=e.popupsCache[i.key]):e.currTemplate={},e.st=t.extend(!0,{},t.magnificPopup.defaults,i),e.fixedContentPos="auto"===e.st.fixedContentPos?!e.probablyMobile:e.st.fixedContentPos,e.st.modal&&(e.st.closeOnContentClick=!1,e.st.closeOnBgClick=!1,e.st.showCloseBtn=!1,e.st.enableEscapeKey=!1),e.bgOverlay||(e.bgOverlay=D("bg").on("click"+p,function(){e.close()}),e.wrap=D("wrap").attr("tabindex",-1).on("click"+p,function(t){e._checkIfClose(t.target)&&e.close()}),e.container=D("container",e.wrap)),e.contentContainer=D("content"),e.st.preloader&&(e.preloader=D("preloader",e.container,e.st.tLoading));var l=t.magnificPopup.modules;for(a=0;a<l.length;a++){var h=l[a];h=h.charAt(0).toUpperCase()+h.slice(1),e["init"+h].call(e)}O("BeforeOpen"),e.st.showCloseBtn&&(e.st.closeBtnInside?(y(u,function(t,e,i,n){i.close_replaceWith=I(n.type)}),o+=" mfp-close-btn-in"):e.wrap.append(I())),e.st.alignTop&&(o+=" mfp-align-top"),e.wrap.css(e.fixedContentPos?{overflow:e.st.overflowY,overflowX:"hidden",overflowY:e.st.overflowY}:{top:T.scrollTop(),position:"absolute"}),(e.st.fixedBgPos===!1||"auto"===e.st.fixedBgPos&&!e.fixedContentPos)&&e.bgOverlay.css({height:n.height(),position:"absolute"}),e.st.enableEscapeKey&&n.on("keyup"+p,function(t){27===t.keyCode&&e.close()}),T.on("resize"+p,function(){e.updateSize()}),e.st.closeOnContentClick||(o+=" mfp-auto-cursor"),o&&e.wrap.addClass(o);var c=e.wH=T.height(),f={};if(e.fixedContentPos&&e._hasScrollBar(c)){var m=e._getScrollbarSize();m&&(f.marginRight=m)}e.fixedContentPos&&(e.isIE7?t("body, html").css("overflow","hidden"):f.overflow="hidden");var v=e.st.mainClass;return e.isIE7&&(v+=" mfp-ie7"),v&&e._addClassToMFP(v),e.updateItemHTML(),O("BuildControls"),t("html").css(f),e.bgOverlay.add(e.wrap).prependTo(e.st.prependTo||t(document.body)),e._lastFocusedEl=document.activeElement,setTimeout(function(){e.content?(e._addClassToMFP(g),e._setFocus()):e.bgOverlay.addClass(g),n.on("focusin"+p,e._onFocusIn)},16),e.isOpen=!0,e.updateSize(c),O(d),i},close:function(){e.isOpen&&(O(l),e.isOpen=!1,e.st.removalDelay&&!e.isLowIE&&e.supportsTransition?(e._addClassToMFP(v),setTimeout(function(){e._close()},e.st.removalDelay)):e._close())},_close:function(){O(s);var i=v+" "+g+" ";if(e.bgOverlay.detach(),e.wrap.detach(),e.container.empty(),e.st.mainClass&&(i+=e.st.mainClass+" "),e._removeClassFromMFP(i),e.fixedContentPos){var a={marginRight:""};e.isIE7?t("body, html").css("overflow",""):a.overflow="",t("html").css(a)}n.off("keyup"+p+" focusin"+p),e.ev.off(p),e.wrap.attr("class","mfp-wrap").removeAttr("style"),e.bgOverlay.attr("class","mfp-bg"),e.container.attr("class","mfp-container"),!e.st.showCloseBtn||e.st.closeBtnInside&&e.currTemplate[e.currItem.type]!==!0||e.currTemplate.closeBtn&&e.currTemplate.closeBtn.detach(),e._lastFocusedEl&&t(e._lastFocusedEl).focus(),e.currItem=null,e.content=null,e.currTemplate=null,e.prevHeight=0,O(h)},updateSize:function(t){if(e.isIOS){var i=document.documentElement.clientWidth/window.innerWidth,n=window.innerHeight*i;e.wrap.css("height",n),e.wH=n}else e.wH=t||T.height();e.fixedContentPos||e.wrap.css("height",e.wH),O("Resize")},updateItemHTML:function(){var i=e.items[e.index];e.contentContainer.detach(),e.content&&e.content.detach(),i.parsed||(i=e.parseEl(e.index));var n=i.type;if(O("BeforeChange",[e.currItem?e.currItem.type:"",n]),e.currItem=i,!e.currTemplate[n]){var o=e.st[n]?e.st[n].markup:!1;O("FirstMarkupParse",o),e.currTemplate[n]=o?t(o):!0}a&&a!==i.type&&e.container.removeClass("mfp-"+a+"-holder");var r=e["get"+n.charAt(0).toUpperCase()+n.slice(1)](i,e.currTemplate[n]);e.appendContent(r,n),i.preloaded=!0,O(f,i),a=i.type,e.container.prepend(e.contentContainer),O("AfterChange")},appendContent:function(t,i){e.content=t,t?e.st.showCloseBtn&&e.st.closeBtnInside&&e.currTemplate[i]===!0?e.content.find(".mfp-close").length||e.content.append(I()):e.content=t:e.content="",O(c),e.container.addClass("mfp-"+i+"-holder"),e.contentContainer.append(e.content)},parseEl:function(i){var n,a=e.items[i];if(a.tagName?a={el:t(a)}:(n=a.type,a={data:a,src:a.src}),a.el){for(var o=e.types,r=0;r<o.length;r++)if(a.el.hasClass("mfp-"+o[r])){n=o[r];break}a.src=a.el.attr("data-mfp-src"),a.src||(a.src=a.el.attr("href"))}return a.type=n||e.st.type||"inline",a.index=i,a.parsed=!0,e.items[i]=a,O("ElementParse",a),e.items[i]},addGroup:function(t,i){var n=function(n){n.mfpEl=this,e._openClick(n,t,i)};i||(i={});var a="click.magnificPopup";i.mainEl=t,i.items?(i.isObj=!0,t.off(a).on(a,n)):(i.isObj=!1,i.delegate?t.off(a).on(a,i.delegate,n):(i.items=t,t.off(a).on(a,n)))},_openClick:function(i,n,a){var o=void 0!==a.midClick?a.midClick:t.magnificPopup.defaults.midClick;if(o||2!==i.which&&!i.ctrlKey&&!i.metaKey){var r=void 0!==a.disableOn?a.disableOn:t.magnificPopup.defaults.disableOn;if(r)if(t.isFunction(r)){if(!r.call(e))return!0}else if(T.width()<r)return!0;i.type&&(i.preventDefault(),e.isOpen&&i.stopPropagation()),a.el=t(i.mfpEl),a.delegate&&(a.items=n.find(a.delegate)),e.open(a)}},updateStatus:function(t,n){if(e.preloader){i!==t&&e.container.removeClass("mfp-s-"+i),n||"loading"!==t||(n=e.st.tLoading);var a={status:t,text:n};O("UpdateStatus",a),t=a.status,n=a.text,e.preloader.html(n),e.preloader.find("a").on("click",function(t){t.stopImmediatePropagation()}),e.container.addClass("mfp-s-"+t),i=t}},_checkIfClose:function(i){if(!t(i).hasClass(C)){var n=e.st.closeOnContentClick,a=e.st.closeOnBgClick;if(n&&a)return!0;if(!e.content||t(i).hasClass("mfp-close")||e.preloader&&i===e.preloader[0])return!0;if(i===e.content[0]||t.contains(e.content[0],i)){if(n)return!0}else if(a&&t.contains(document,i))return!0;return!1}},_addClassToMFP:function(t){e.bgOverlay.addClass(t),e.wrap.addClass(t)},_removeClassFromMFP:function(t){this.bgOverlay.removeClass(t),e.wrap.removeClass(t)},_hasScrollBar:function(t){return(e.isIE7?n.height():document.body.scrollHeight)>(t||T.height())},_setFocus:function(){(e.st.focus?e.content.find(e.st.focus).eq(0):e.wrap).focus()},_onFocusIn:function(i){return i.target===e.wrap[0]||t.contains(e.wrap[0],i.target)?void 0:(e._setFocus(),!1)},_parseMarkup:function(e,i,n){var a;n.data&&(i=t.extend(n.data,i)),O(u,[e,i,n]),t.each(i,function(t,i){if(void 0===i||i===!1)return!0;if(a=t.split("_"),a.length>1){var n=e.find(p+"-"+a[0]);if(n.length>0){var o=a[1];"replaceWith"===o?n[0]!==i[0]&&n.replaceWith(i):"img"===o?n.is("img")?n.attr("src",i):n.replaceWith('<img src="'+i+'" class="'+n.attr("class")+'" />'):n.attr(a[1],i)}}else e.find(p+"-"+t).html(i)})},_getScrollbarSize:function(){if(void 0===e.scrollbarSize){var t=document.createElement("div");t.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(t),e.scrollbarSize=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return e.scrollbarSize}},t.magnificPopup={instance:null,proto:E.prototype,modules:[],open:function(e,i){return R(),e=e?t.extend(!0,{},e):{},e.isObj=!0,e.index=i||0,this.instance.open(e)},close:function(){return t.magnificPopup.instance&&t.magnificPopup.instance.close()},registerModule:function(e,i){i.options&&(t.magnificPopup.defaults[e]=i.options),t.extend(this.proto,i.proto),this.modules.push(e)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}},t.fn.magnificPopup=function(i){R();var n=t(this);if("string"==typeof i)if("open"===i){var a,o=b?n.data("magnificPopup"):n[0].magnificPopup,r=parseInt(arguments[1],10)||0;o.items?a=o.items[r]:(a=n,o.delegate&&(a=a.find(o.delegate)),a=a.eq(r)),e._openClick({mfpEl:a},n,o)}else e.isOpen&&e[i].apply(e,Array.prototype.slice.call(arguments,1));else i=t.extend(!0,{},i),b?n.data("magnificPopup",i):n[0].magnificPopup=i,e.addGroup(n,i);return n};var k,A,w,S="inline",K=function(){w&&(A.after(w.addClass(k)).detach(),w=null)};t.magnificPopup.registerModule(S,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){e.types.push(S),y(s+"."+S,function(){K()})},getInline:function(i,n){if(K(),i.src){var a=e.st.inline,o=t(i.src);if(o.length){var r=o[0].parentNode;r&&r.tagName&&(A||(k=a.hiddenClass,A=D(k),k="mfp-"+k),w=o.after(A).detach().removeClass(k)),e.updateStatus("ready")}else e.updateStatus("error",a.tNotFound),o=t("<div>");return i.inlineElement=o,o}return e.updateStatus("ready"),e._parseMarkup(n,{},i),n}}});var _,N="ajax",F=function(){_&&t(document.body).removeClass(_)},M=function(){F(),e.req&&e.req.abort()};t.magnificPopup.registerModule(N,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){e.types.push(N),_=e.st.ajax.cursor,y(s+"."+N,M),y("BeforeChange."+N,M)},getAjax:function(i){_&&t(document.body).addClass(_),e.updateStatus("loading");var n=t.extend({url:i.src,success:function(n,a,o){var r={data:n,xhr:o};O("ParseAjax",r),e.appendContent(t(r.data),N),i.finished=!0,F(),e._setFocus(),setTimeout(function(){e.wrap.addClass(g)},16),e.updateStatus("ready"),O("AjaxContentAdded")},error:function(){F(),i.finished=i.loadError=!0,e.updateStatus("error",e.st.ajax.tError.replace("%url%",i.src))}},e.st.ajax.settings);return e.req=t.ajax(n),""}}});var L,B=function(i){if(i.data&&void 0!==i.data.title)return i.data.title;var n=e.st.image.titleSrc;if(n){if(t.isFunction(n))return n.call(e,i);if(i.el)return i.el.attr(n)||""}return""};t.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var i=e.st.image,n=".image";e.types.push("image"),y(d+n,function(){"image"===e.currItem.type&&i.cursor&&t(document.body).addClass(i.cursor)}),y(s+n,function(){i.cursor&&t(document.body).removeClass(i.cursor),T.off("resize"+p)}),y("Resize"+n,e.resizeImage),e.isLowIE&&y("AfterChange",e.resizeImage)},resizeImage:function(){var t=e.currItem;if(t&&t.img&&e.st.image.verticalFit){var i=0;e.isLowIE&&(i=parseInt(t.img.css("padding-top"),10)+parseInt(t.img.css("padding-bottom"),10)),t.img.css("max-height",e.wH-i)}},_onImageHasSize:function(t){t.img&&(t.hasSize=!0,L&&clearInterval(L),t.isCheckingImgSize=!1,O("ImageHasSize",t),t.imgHidden&&(e.content&&e.content.removeClass("mfp-loading"),t.imgHidden=!1))},findImageSize:function(t){var i=0,n=t.img[0],a=function(o){L&&clearInterval(L),L=setInterval(function(){return n.naturalWidth>0?void e._onImageHasSize(t):(i>200&&clearInterval(L),i++,void(3===i?a(10):40===i?a(50):100===i&&a(500)))},o)};a(1)},getImage:function(i,n){var a=0,o=function(){i&&(i.img[0].complete?(i.img.off(".mfploader"),i===e.currItem&&(e._onImageHasSize(i),e.updateStatus("ready")),i.hasSize=!0,i.loaded=!0,O("ImageLoadComplete")):(a++,200>a?setTimeout(o,100):r()))},r=function(){i&&(i.img.off(".mfploader"),i===e.currItem&&(e._onImageHasSize(i),e.updateStatus("error",s.tError.replace("%url%",i.src))),i.hasSize=!0,i.loaded=!0,i.loadError=!0)},s=e.st.image,l=n.find(".mfp-img");if(l.length){var h=document.createElement("img");h.className="mfp-img",i.el&&i.el.find("img").length&&(h.alt=i.el.find("img").attr("alt")),i.img=t(h).on("load.mfploader",o).on("error.mfploader",r),h.src=i.src,l.is("img")&&(i.img=i.img.clone()),h=i.img[0],h.naturalWidth>0?i.hasSize=!0:h.width||(i.hasSize=!1)}return e._parseMarkup(n,{title:B(i),img_replaceWith:i.img},i),e.resizeImage(),i.hasSize?(L&&clearInterval(L),i.loadError?(n.addClass("mfp-loading"),e.updateStatus("error",s.tError.replace("%url%",i.src))):(n.removeClass("mfp-loading"),e.updateStatus("ready")),n):(e.updateStatus("loading"),i.loading=!0,i.hasSize||(i.imgHidden=!0,n.addClass("mfp-loading"),e.findImageSize(i)),n)}}});var P,$=function(){return void 0===P&&(P=void 0!==document.createElement("p").style.MozTransform),P};t.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(t){return t.is("img")?t:t.find("img")}},proto:{initZoom:function(){var t,i=e.st.zoom,n=".zoom";if(i.enabled&&e.supportsTransition){var a,o,r=i.duration,h=function(t){var e=t.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),n="all "+i.duration/1e3+"s "+i.easing,a={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},o="transition";return a["-webkit-"+o]=a["-moz-"+o]=a["-o-"+o]=a[o]=n,e.css(a),e},c=function(){e.content.css("visibility","visible")};y("BuildControls"+n,function(){if(e._allowZoom()){if(clearTimeout(a),e.content.css("visibility","hidden"),t=e._getItemToZoom(),!t)return void c();o=h(t),o.css(e._getOffset()),e.wrap.append(o),a=setTimeout(function(){o.css(e._getOffset(!0)),a=setTimeout(function(){c(),setTimeout(function(){o.remove(),t=o=null,O("ZoomAnimationEnded")},16)},r)},16)}}),y(l+n,function(){if(e._allowZoom()){if(clearTimeout(a),e.st.removalDelay=r,!t){if(t=e._getItemToZoom(),!t)return;o=h(t)}o.css(e._getOffset(!0)),e.wrap.append(o),e.content.css("visibility","hidden"),setTimeout(function(){o.css(e._getOffset())},16)}}),y(s+n,function(){e._allowZoom()&&(c(),o&&o.remove(),t=null)})}},_allowZoom:function(){return"image"===e.currItem.type},_getItemToZoom:function(){return e.currItem.hasSize?e.currItem.img:!1},_getOffset:function(i){var n;n=i?e.currItem.img:e.st.zoom.opener(e.currItem.el||e.currItem);var a=n.offset(),o=parseInt(n.css("padding-top"),10),r=parseInt(n.css("padding-bottom"),10);a.top-=t(window).scrollTop()-o;var s={width:n.width(),height:(b?n.innerHeight():n[0].offsetHeight)-r-o};return $()?s["-moz-transform"]=s.transform="translate("+a.left+"px,"+a.top+"px)":(s.left=a.left,s.top=a.top),s}}});var z="iframe",H="//about:blank",j=function(t){if(e.currTemplate[z]){var i=e.currTemplate[z].find("iframe");i.length&&(t||(i[0].src=H),e.isIE8&&i.css("display",t?"block":"none"))}};t.magnificPopup.registerModule(z,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){e.types.push(z),y("BeforeChange",function(t,e,i){e!==i&&(e===z?j():i===z&&j(!0))}),y(s+"."+z,function(){j()})},getIframe:function(i,n){var a=i.src,o=e.st.iframe;t.each(o.patterns,function(){return a.indexOf(this.index)>-1?(this.id&&(a="string"==typeof this.id?a.substr(a.lastIndexOf(this.id)+this.id.length,a.length):this.id.call(this,a)),a=this.src.replace("%id%",a),!1):void 0});var r={};return o.srcAction&&(r[o.srcAction]=a),e._parseMarkup(n,r,i),e.updateStatus("ready"),n}}});var V=function(t){var i=e.items.length;return t>i-1?t-i:0>t?i+t:t},q=function(t,e,i){return t.replace(/%curr%/gi,e+1).replace(/%total%/gi,i)};t.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var i=e.st.gallery,a=".mfp-gallery",r=Boolean(t.fn.mfpFastClick);return e.direction=!0,i&&i.enabled?(o+=" mfp-gallery",y(d+a,function(){i.navigateByImgClick&&e.wrap.on("click"+a,".mfp-img",function(){return e.items.length>1?(e.next(),!1):void 0}),n.on("keydown"+a,function(t){37===t.keyCode?e.prev():39===t.keyCode&&e.next()})}),y("UpdateStatus"+a,function(t,i){i.text&&(i.text=q(i.text,e.currItem.index,e.items.length))}),y(u+a,function(t,n,a,o){var r=e.items.length;a.counter=r>1?q(i.tCounter,o.index,r):""}),y("BuildControls"+a,function(){if(e.items.length>1&&i.arrows&&!e.arrowLeft){var n=i.arrowMarkup,a=e.arrowLeft=t(n.replace(/%title%/gi,i.tPrev).replace(/%dir%/gi,"left")).addClass(C),o=e.arrowRight=t(n.replace(/%title%/gi,i.tNext).replace(/%dir%/gi,"right")).addClass(C),s=r?"mfpFastClick":"click";a[s](function(){e.prev()}),o[s](function(){e.next()}),e.isIE7&&(D("b",a[0],!1,!0),D("a",a[0],!1,!0),D("b",o[0],!1,!0),D("a",o[0],!1,!0)),e.container.append(a.add(o))}}),y(f+a,function(){e._preloadTimeout&&clearTimeout(e._preloadTimeout),e._preloadTimeout=setTimeout(function(){e.preloadNearbyImages(),e._preloadTimeout=null},16)}),void y(s+a,function(){n.off(a),e.wrap.off("click"+a),e.arrowLeft&&r&&e.arrowLeft.add(e.arrowRight).destroyMfpFastClick(),e.arrowRight=e.arrowLeft=null})):!1},next:function(){e.direction=!0,e.index=V(e.index+1),e.updateItemHTML()},prev:function(){e.direction=!1,e.index=V(e.index-1),e.updateItemHTML()},goTo:function(t){e.direction=t>=e.index,e.index=t,e.updateItemHTML()},preloadNearbyImages:function(){var t,i=e.st.gallery.preload,n=Math.min(i[0],e.items.length),a=Math.min(i[1],e.items.length);for(t=1;t<=(e.direction?a:n);t++)e._preloadItem(e.index+t);for(t=1;t<=(e.direction?n:a);t++)e._preloadItem(e.index-t)},_preloadItem:function(i){if(i=V(i),!e.items[i].preloaded){var n=e.items[i];n.parsed||(n=e.parseEl(i)),O("LazyLoad",n),"image"===n.type&&(n.img=t('<img class="mfp-img" />').on("load.mfploader",function(){n.hasSize=!0}).on("error.mfploader",function(){n.hasSize=!0,n.loadError=!0,O("LazyLoadError",n)}).attr("src",n.src)),n.preloaded=!0}}}});var G="retina";t.magnificPopup.registerModule(G,{options:{replaceSrc:function(t){return t.src.replace(/\.\w+$/,function(t){return"@2x"+t})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var t=e.st.retina,i=t.ratio;i=isNaN(i)?i():i,i>1&&(y("ImageHasSize."+G,function(t,e){e.img.css({"max-width":e.img[0].naturalWidth/i,width:"100%"})}),y("ElementParse."+G,function(e,n){n.src=t.replaceSrc(n,i)}))}}}}),function(){var e=1e3,i="ontouchstart"in window,n=function(){T.off("touchmove"+o+" touchend"+o)},a="mfpFastClick",o="."+a;t.fn.mfpFastClick=function(a){return t(this).each(function(){var r,s=t(this);if(i){var l,h,c,u,d,f;s.on("touchstart"+o,function(t){u=!1,f=1,d=t.originalEvent?t.originalEvent.touches[0]:t.touches[0],h=d.clientX,c=d.clientY,T.on("touchmove"+o,function(t){d=t.originalEvent?t.originalEvent.touches:t.touches,f=d.length,d=d[0],(Math.abs(d.clientX-h)>10||Math.abs(d.clientY-c)>10)&&(u=!0,n())}).on("touchend"+o,function(t){n(),u||f>1||(r=!0,t.preventDefault(),clearTimeout(l),l=setTimeout(function(){r=!1},e),a())})})}s.on("click"+o,function(){r||a()})})},t.fn.destroyMfpFastClick=function(){t(this).off("touchstart"+o+" click"+o),i&&T.off("touchmove"+o+" touchend"+o)}}(),R()}),$("#nav ul li a[href^='#']").on("click",function(t){t.preventDefault();var e=this.hash;$("html, body").animate({scrollTop:$(e).offset().top},300,function(){window.location.hash=e})}),function(){}.call(this),$(document).on("click",".searchbychar",function(t){t.preventDefault();var e="#"+this.getAttribute("data-target");$("html, body").animate({scrollTop:$(e).offset().top+-90},1250)}),jQuery(document).ready(function(){var t=220,e=500;jQuery(window).scroll(function(){jQuery(this).scrollTop()>t?jQuery(".back-to-top").fadeIn(e):jQuery(".back-to-top").fadeOut(e)}),jQuery(".back-to-top").click(function(t){return t.preventDefault(),jQuery("html, body").animate({scrollTop:0},e),!1})});var sse1=function(){var t,e,i=20;return{buildMenu:function(){var i=document.getElementById("sses1");if(i){var n=i.getElementsByTagName("ul")[0];i.style.width=n.offsetWidth+1+"px";var a=i.getElementsByTagName("li"),o=i.getElementsByTagName("a");t=document.createElement("li"),t.className="highlight",n.appendChild(t);var r=document.location.href.toLowerCase();e=-1;for(var s=-1,l=0;l<o.length;l++)-1!=r.indexOf(o[l].href.toLowerCase())&&o[l].href.length>s&&(e=l,s=o[l].href.length);if(-1==e&&/:\/\/(?:www\.)?[^.\/]+?\.[^.\/]+\/?$/.test){for(var l=0;l<o.length;l++)if("true"==o[l].getAttribute("maptopuredomain")){e=l;break}-1==e&&"false"!=o[0].getAttribute("maptopuredomain")&&(e=0)}e>-1?(t.style.width=a[e].offsetWidth+"px",sse1.move(a[e])):t.style.visibility="hidden";for(var l=0;l<a.length-1;l++)a[l].onmouseover=function(){-1==e&&(t.style.visibility="visible"),this.offsetLeft!=t.offsetLeft&&sse1.move(this)};i.onmouseover=function(){t.t2&&(t.t2=clearTimeout(t.t2))},i.onmouseout=function(){e>-1&&a[e].offsetLeft!=t.offsetLeft&&(t.t2=setTimeout(function(){sse1.move(a[e])},50)),-1==e&&(t.t2=setTimeout(function(){t.style.visibility="hidden"},50))}}},move:function(e){clearInterval(t.timer);var i=t.offsetLeft<e.offsetLeft?1:-1;t.timer=setInterval(function(){sse1.mv(e,i)},15)},mv:function(e,n){1==n?t.offsetLeft-i<e.offsetLeft?this.changePosition(e,1):(clearInterval(t.timer),t.timer=setInterval(function(){sse1.recoil(e,1)},15)):t.offsetLeft+i>e.offsetLeft?this.changePosition(e,-1):(clearInterval(t.timer),t.timer=setInterval(function(){sse1.recoil(e,-1)},15)),this.changeWidth(e)},recoil:function(e,i){-1==i?t.offsetLeft>e.offsetLeft?(t.style.left=e.offsetLeft+"px",clearInterval(t.timer)):t.style.left=t.offsetLeft+2+"px":t.offsetLeft<e.offsetLeft?(t.style.left=e.offsetLeft+"px",clearInterval(t.timer)):t.style.left=t.offsetLeft-2+"px"},changePosition:function(e,n){t.style.left=1==n?t.offsetLeft+Math.ceil(Math.abs(e.offsetLeft-t.offsetLeft+i)/10)+1+"px":t.offsetLeft-Math.ceil(Math.abs(t.offsetLeft-e.offsetLeft+i)/10)-1+"px"},changeWidth:function(e){if(t.offsetWidth!=e.offsetWidth){var i=t.offsetWidth-e.offsetWidth;t.style.width=Math.abs(i)<4?e.offsetWidth+"px":t.offsetWidth-Math.round(i/3)+"px"}}}}();window.addEventListener?window.addEventListener("load",sse1.buildMenu,!1):window.attachEvent?window.attachEvent("onload",sse1.buildMenu):window.onload=sse1.buildMenu,function(){}.call(this);